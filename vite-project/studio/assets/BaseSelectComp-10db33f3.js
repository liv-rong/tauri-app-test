var gy=Object.defineProperty;var Ay=(i,t,e)=>t in i?gy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var Te=(i,t,e)=>(Ay(i,typeof t!="symbol"?t+"":t,e),e);import{bH as Pm,r as we,bF as tl,bI as my,D as Ye,h as e0,bJ as Un,bG as yh,i as vy,j as ti}from"./index-626914f7.js";import{r as If}from"./index.esm-0b9baea5.js";import{C as Bn,v as Id}from"./canvas-0ce26167.js";import{P as Pi}from"./index-383ddd63.js";var yy=function i(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,o;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!i(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){var d=o[n];if(!i(t[d],e[d]))return!1}return!0}return t!==t&&e!==e};const by=Pm(yy),gc=typeof window<"u"?we.useLayoutEffect:we.useEffect;function wy(i,t,e){const[r,n]=we.useState(()=>t(i)),o=we.useCallback(()=>{const d=t(i);by(r,d)||(n(d),e&&e())},[r,i,e]);return gc(o),[r,o]}function _y(i,t,e){const[r,n]=wy(i,t,e);return gc(function(){const d=i.getHandlerId();if(d!=null)return i.subscribeToStateChange(n,{handlerIds:[d]})},[i,n]),r}function xy(i,t,e){return _y(t,i||(()=>({})),()=>e.reconnect())}function Cy(i,t){const e=[...t||[]];return t==null&&typeof i!="function"&&e.push(i),we.useMemo(()=>typeof i=="function"?i():i,e)}function Sy(i){return we.useMemo(()=>i.hooks.dragSource(),[i])}function Ty(i){return we.useMemo(()=>i.hooks.dragPreview(),[i])}let Rf=!1,jf=!1;class ky{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){tl(!Rf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Rf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Rf=!1}}isDragging(){if(!this.sourceId)return!1;tl(!jf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return jf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{jf=!1}}subscribeToStateChange(t,e){return this.internalMonitor.subscribeToStateChange(t,e)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,e){return this.internalMonitor.isOverTarget(t,e)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}function i4(i,t,e){const r=e.getRegistry(),n=r.addTarget(i,t);return[n,()=>r.removeTarget(n)]}function Ly(i,t,e){const r=e.getRegistry(),n=r.addSource(i,t);return[n,()=>r.removeSource(n)]}function i0(i,t,e,r){let n=e?e.call(r,i,t):void 0;if(n!==void 0)return!!n;if(i===t)return!0;if(typeof i!="object"||!i||typeof t!="object"||!t)return!1;const o=Object.keys(i),d=Object.keys(t);if(o.length!==d.length)return!1;const l=Object.prototype.hasOwnProperty.bind(t);for(let s=0;s<o.length;s++){const a=o[s];if(!l(a))return!1;const c=i[a],u=t[a];if(n=e?e.call(r,c,u,a):void 0,n===!1||n===void 0&&c!==u)return!1}return!0}function r0(i){return i!==null&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function Py(i){if(typeof i.type=="string")return;const t=i.type.displayName||i.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Oy(i){return(t=null,e=null)=>{if(!we.isValidElement(t)){const o=t;return i(o,e),o}const r=t;return Py(r),Ey(r,e?o=>i(o,e):i)}}function Dy(i){const t={};return Object.keys(i).forEach(e=>{const r=i[e];if(e.endsWith("Ref"))t[e]=i[e];else{const n=Oy(r);t[e]=()=>n}}),t}function n0(i,t){typeof i=="function"?i(t):i.current=t}function Ey(i,t){const e=i.ref;return tl(typeof e!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),e?we.cloneElement(i,{ref:r=>{n0(e,r),n0(t,r)}}):we.cloneElement(i,{ref:t})}class My{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,e=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return e&&this.disconnectDragSource(),this.handlerId?t?(e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),e):(this.lastConnectedDragSource=t,e):e}reconnectDragPreview(t=!1){const e=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!i0(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!i0(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Dy({dragSource:(e,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,r0(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,r0(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}function kp(){const{dragDropManager:i}=we.useContext(my);return tl(i!=null,"Expected drag drop context"),i}function Fy(i,t){const e=kp(),r=we.useMemo(()=>new My(e.getBackend()),[e]);return gc(()=>(r.dragSourceOptions=i||null,r.reconnect(),()=>r.disconnectDragSource()),[r,i]),gc(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function Ny(){const i=kp();return we.useMemo(()=>new ky(i),[i])}class By{beginDrag(){const t=this.spec,e=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(e):r={},r??null}canDrag(){const t=this.spec,e=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(e):!0}isDragging(t,e){const r=this.spec,n=this.monitor,{isDragging:o}=r;return o?o(n):e===t.getSourceId()}endDrag(){const t=this.spec,e=this.monitor,r=this.connector,{end:n}=t;n&&n(e.getItem(),e),r.reconnect()}constructor(t,e,r){this.spec=t,this.monitor=e,this.connector=r}}function Iy(i,t,e){const r=we.useMemo(()=>new By(i,t,e),[t,e]);return we.useEffect(()=>{r.spec=i},[i]),r}function Ry(i){return we.useMemo(()=>{const t=i.type;return tl(t!=null,"spec.type must be defined"),t},[i])}function jy(i,t,e){const r=kp(),n=Iy(i,t,e),o=Ry(i);gc(function(){if(o!=null){const[l,s]=Ly(o,n,r);return t.receiveHandlerId(l),e.receiveHandlerId(l),s}},[r,t,e,n,o])}function zy(i,t){const e=Cy(i,t);tl(!e.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Ny(),n=Fy(e.options,e.previewOptions);return jy(e,r,n),[xy(e.collect,r,n),Sy(n),Ty(n)]}function wt(i,t,e){return(t=function(r){var n=function(o,d){if(typeof o!="object"||!o)return o;var l=o[Symbol.toPrimitive];if(l!==void 0){var s=l.call(o,d||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(o)}(r,"string");return typeof n=="symbol"?n:n+""}(t))in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function s0(i,t){var e=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),e.push.apply(e,r)}return e}function vt(i){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?s0(Object(e),!0).forEach(function(r){wt(i,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):s0(Object(e)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(e,r))})}return i}function ri(i,t){if(i==null)return{};var e,r,n=function(d,l){if(d==null)return{};var s={};for(var a in d)if({}.hasOwnProperty.call(d,a)){if(l.indexOf(a)>=0)continue;s[a]=d[a]}return s}(i,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||{}.propertyIsEnumerable.call(i,e)&&(n[e]=i[e])}return n}function qn(i,t){return t||(t=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(t)}}))}class a0{constructor(){wt(this,"browserShadowBlurConstant",1),wt(this,"DPI",96),wt(this,"devicePixelRatio",typeof window<"u"?window.devicePixelRatio:1),wt(this,"perfLimitSizeTotal",2097152),wt(this,"maxCacheSideLimit",4096),wt(this,"minCacheSideLimit",256),wt(this,"disableStyleCopyPaste",!1),wt(this,"enableGLFiltering",!0),wt(this,"textureSize",4096),wt(this,"forceGLPutImageData",!1),wt(this,"cachesBoundsOfCurve",!1),wt(this,"fontPaths",{}),wt(this,"NUM_FRACTION_DIGITS",4)}}const Ne=new class extends a0{constructor(i){super(),this.configure(i)}configure(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,i)}addFonts(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=vt(vt({},this.fontPaths),i)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(i=>{delete this.fontPaths[i]})}clearFonts(){this.fontPaths={}}restoreDefaults(i){const t=new a0,e=(i==null?void 0:i.reduce((r,n)=>(r[n]=t[n],r),{}))||t;this.configure(e)}},xs=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r]};let jn=class extends Error{constructor(t,e){super("fabric: ".concat(t),e)}},Lp=class extends jn{constructor(t){super("".concat(t," 'options.signal' is in 'aborted' state"))}},Uy=class{},Wy=class extends Uy{testPrecision(t,e){const r="precision ".concat(e,` float;
void main(){}`),n=t.createShader(t.FRAGMENT_SHADER);return!!n&&(t.shaderSource(n,r),t.compileShader(n),!!t.getShaderParameter(n,t.COMPILE_STATUS))}queryWebGL(t){const e=t.getContext("webgl");e&&(this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find(r=>this.testPrecision(e,r)),e.getExtension("WEBGL_lose_context").loseContext(),xs("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(t){return!!this.maxTextureSize&&this.maxTextureSize>=t}};const Xy={};let o0;const Hn=()=>o0||(o0={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new Wy,dispose(){},copyPasteData:Xy}),ll=()=>Hn().document,cl=()=>Hn().window,Om=()=>{var i;return Math.max((i=Ne.devicePixelRatio)!==null&&i!==void 0?i:cl().devicePixelRatio,1)},sc=new class{constructor(){wt(this,"charWidthsCache",{}),wt(this,"boundsOfCurveCache",{})}getFontCache(i){let{fontFamily:t,fontStyle:e,fontWeight:r}=i;t=t.toLowerCase(),this.charWidthsCache[t]||(this.charWidthsCache[t]={});const n=this.charWidthsCache[t],o="".concat(e.toLowerCase(),"_").concat((r+"").toLowerCase());return n[o]||(n[o]={}),n[o]}clearFontCache(i){(i=(i||"").toLowerCase())?this.charWidthsCache[i]&&delete this.charWidthsCache[i]:this.charWidthsCache={}}limitDimsByArea(i){const{perfLimitSizeTotal:t}=Ne,e=Math.sqrt(t*i);return[Math.floor(e),Math.floor(t/e)]}},Rd="6.7.1";function Ja(){}const na=Math.PI/2,Cs=2*Math.PI,Pp=Math.PI/180,gr=Object.freeze([1,0,0,1,0,0]),Op=16,Gs=.4477152502,_e="center",Ue="left",Cr="top",jd="bottom",_i="right",dr="none",Dp=/\r?\n/,Dm="moving",Ru="scaling",Em="rotating",Ep="rotate",Mm="skewing",Ac="resizing",Fm="modifyPoly",Gy="modifyPath",gu="changed",ju="scale",Ar="scaleX",Hr="scaleY",hl="skewX",ul="skewY",Di="fill",pr="stroke",Au="modified",To="json",zf="svg",Vt=new class{constructor(){this[To]=new Map,this[zf]=new Map}has(i){return this[To].has(i)}getClass(i){const t=this[To].get(i);if(!t)throw new jn("No class registered for ".concat(i));return t}setClass(i,t){t?this[To].set(t,i):(this[To].set(i.type,i),this[To].set(i.type.toLowerCase(),i))}getSVGClass(i){return this[zf].get(i)}setSVGClass(i,t){this[zf].set(t??i.type.toLowerCase(),i)}},mu=new class extends Array{remove(i){const t=this.indexOf(i);t>-1&&this.splice(t,1)}cancelAll(){const i=this.splice(0);return i.forEach(t=>t.abort()),i}cancelByCanvas(i){if(!i)return[];const t=this.filter(e=>{var r;return e.target===i||typeof e.target=="object"&&((r=e.target)===null||r===void 0?void 0:r.canvas)===i});return t.forEach(e=>e.abort()),t}cancelByTarget(i){if(!i)return[];const t=this.filter(e=>e.target===i);return t.forEach(e=>e.abort()),t}};let Hy=class{constructor(){wt(this,"__eventListeners",{})}on(t,e){if(this.__eventListeners||(this.__eventListeners={}),typeof t=="object")return Object.entries(t).forEach(r=>{let[n,o]=r;this.on(n,o)}),()=>this.off(t);if(e){const r=t;return this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(e),()=>this.off(r,e)}return()=>!1}once(t,e){if(typeof t=="object"){const r=[];return Object.entries(t).forEach(n=>{let[o,d]=n;r.push(this.once(o,d))}),()=>r.forEach(n=>n())}if(e){const r=this.on(t,function(){for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];e.call(this,...o),r()});return r}return()=>!1}_removeEventListener(t,e){if(this.__eventListeners[t])if(e){const r=this.__eventListeners[t],n=r.indexOf(e);n>-1&&r.splice(n,1)}else this.__eventListeners[t]=[]}off(t,e){if(this.__eventListeners)if(t===void 0)for(const r in this.__eventListeners)this._removeEventListener(r);else typeof t=="object"?Object.entries(t).forEach(r=>{let[n,o]=r;this._removeEventListener(n,o)}):this._removeEventListener(t,e)}fire(t,e){var r;if(!this.__eventListeners)return;const n=(r=this.__eventListeners[t])===null||r===void 0?void 0:r.concat();if(n)for(let o=0;o<n.length;o++)n[o].call(this,e||{})}};const ja=(i,t)=>{const e=i.indexOf(t);return e!==-1&&i.splice(e,1),i},_n=i=>{if(i===0)return 1;switch(Math.abs(i)/na){case 1:case 3:return 0;case 2:return-1}return Math.cos(i)},xn=i=>{if(i===0)return 0;const t=i/na,e=Math.sign(i);switch(t){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(i)};let Ot=class lr{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof t=="object"?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e)}add(t){return new lr(this.x+t.x,this.y+t.y)}addEquals(t){return this.x+=t.x,this.y+=t.y,this}scalarAdd(t){return new lr(this.x+t,this.y+t)}scalarAddEquals(t){return this.x+=t,this.y+=t,this}subtract(t){return new lr(this.x-t.x,this.y-t.y)}subtractEquals(t){return this.x-=t.x,this.y-=t.y,this}scalarSubtract(t){return new lr(this.x-t,this.y-t)}scalarSubtractEquals(t){return this.x-=t,this.y-=t,this}multiply(t){return new lr(this.x*t.x,this.y*t.y)}scalarMultiply(t){return new lr(this.x*t,this.y*t)}scalarMultiplyEquals(t){return this.x*=t,this.y*=t,this}divide(t){return new lr(this.x/t.x,this.y/t.y)}scalarDivide(t){return new lr(this.x/t,this.y/t)}scalarDivideEquals(t){return this.x/=t,this.y/=t,this}eq(t){return this.x===t.x&&this.y===t.y}lt(t){return this.x<t.x&&this.y<t.y}lte(t){return this.x<=t.x&&this.y<=t.y}gt(t){return this.x>t.x&&this.y>t.y}gte(t){return this.x>=t.x&&this.y>=t.y}lerp(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.5;return e=Math.max(Math.min(1,e),0),new lr(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)}distanceFrom(t){const e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)}midPointFrom(t){return this.lerp(t)}min(t){return new lr(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new lr(Math.max(this.x,t.x),Math.max(this.y,t.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(t,e){return this.x=t,this.y=e,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setFromPoint(t){return this.x=t.x,this.y=t.y,this}swap(t){const e=this.x,r=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=r}clone(){return new lr(this.x,this.y)}rotate(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mp;const r=xn(t),n=_n(t),o=this.subtract(e);return new lr(o.x*n-o.y*r,o.x*r+o.y*n).add(e)}transform(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new lr(t[0]*this.x+t[2]*this.y+(e?0:t[4]),t[1]*this.x+t[3]*this.y+(e?0:t[5]))}};const Mp=new Ot(0,0),iu=i=>!!i&&Array.isArray(i._objects);function Nm(i){class t extends i{constructor(){super(...arguments),wt(this,"_objects",[])}_onObjectAdded(r){}_onObjectRemoved(r){}_onStackOrderChanged(r){}add(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];const d=this._objects.push(...n);return n.forEach(l=>this._onObjectAdded(l)),d}insertAt(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),d=1;d<n;d++)o[d-1]=arguments[d];return this._objects.splice(r,0,...o),o.forEach(l=>this._onObjectAdded(l)),this._objects.length}remove(){const r=this._objects,n=[];for(var o=arguments.length,d=new Array(o),l=0;l<o;l++)d[l]=arguments[l];return d.forEach(s=>{const a=r.indexOf(s);a!==-1&&(r.splice(a,1),n.push(s),this._onObjectRemoved(s))}),n}forEachObject(r){this.getObjects().forEach((n,o,d)=>r(n,o,d))}getObjects(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return n.length===0?[...this._objects]:this._objects.filter(d=>d.isType(...n))}item(r){return this._objects[r]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(r,n){return!!this._objects.includes(r)||!!n&&this._objects.some(o=>o instanceof t&&o.contains(r,!0))}complexity(){return this._objects.reduce((r,n)=>r+=n.complexity?n.complexity():0,0)}sendObjectToBack(r){return!(!r||r===this._objects[0])&&(ja(this._objects,r),this._objects.unshift(r),this._onStackOrderChanged(r),!0)}bringObjectToFront(r){return!(!r||r===this._objects[this._objects.length-1])&&(ja(this._objects,r),this._objects.push(r),this._onStackOrderChanged(r),!0)}sendObjectBackwards(r,n){if(!r)return!1;const o=this._objects.indexOf(r);if(o!==0){const d=this.findNewLowerIndex(r,o,n);return ja(this._objects,r),this._objects.splice(d,0,r),this._onStackOrderChanged(r),!0}return!1}bringObjectForward(r,n){if(!r)return!1;const o=this._objects.indexOf(r);if(o!==this._objects.length-1){const d=this.findNewUpperIndex(r,o,n);return ja(this._objects,r),this._objects.splice(d,0,r),this._onStackOrderChanged(r),!0}return!1}moveObjectTo(r,n){return r!==this._objects[n]&&(ja(this._objects,r),this._objects.splice(n,0,r),this._onStackOrderChanged(r),!0)}findNewLowerIndex(r,n,o){let d;if(o){d=n;for(let l=n-1;l>=0;--l)if(r.isOverlapping(this._objects[l])){d=l;break}}else d=n-1;return d}findNewUpperIndex(r,n,o){let d;if(o){d=n;for(let l=n+1;l<this._objects.length;++l)if(r.isOverlapping(this._objects[l])){d=l;break}}else d=n+1;return d}collectObjects(r){let{left:n,top:o,width:d,height:l}=r,{includeIntersecting:s=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=[],c=new Ot(n,o),u=c.add(new Ot(d,l));for(let f=this._objects.length-1;f>=0;f--){const h=this._objects[f];h.selectable&&h.visible&&(s&&h.intersectsWithRect(c,u)||h.isContainedWithinRect(c,u)||s&&h.containsPoint(c)||s&&h.containsPoint(u))&&a.push(h)}return a}}return t}let Bm=class extends Hy{_setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(const e in t)this.set(e,t[e])}_setObject(t){for(const e in t)this._set(e,t[e])}set(t,e){return typeof t=="object"?this._setObject(t):this._set(t,e),this}_set(t,e){this[t]=e}toggle(t){const e=this.get(t);return typeof e=="boolean"&&this.set(t,!e),this}get(t){return this[t]}};function ac(i){return cl().requestAnimationFrame(i)}function Im(i){return cl().cancelAnimationFrame(i)}let Vy=0;const sa=()=>Vy++,Vn=()=>{const i=ll().createElement("canvas");if(!i||i.getContext===void 0)throw new jn("Failed to create `canvas` element");return i},Rm=()=>ll().createElement("img"),Vr=i=>{const t=Vn();return t.width=i.width,t.height=i.height,t},Fp=(i,t,e)=>i.toDataURL("image/".concat(t),e),Np=(i,t,e)=>new Promise((r,n)=>{i.toBlob(r,"image/".concat(t),e)}),gi=i=>i*Pp,Yn=i=>i/Pp,jm=i=>i.every((t,e)=>t===gr[e]),rr=(i,t,e)=>new Ot(i).transform(t,e),_r=i=>{const t=1/(i[0]*i[3]-i[1]*i[2]),e=[t*i[3],-t*i[1],-t*i[2],t*i[0],0,0],{x:r,y:n}=new Ot(i[4],i[5]).transform(e,!0);return e[4]=-r,e[5]=-n,e},oi=(i,t,e)=>[i[0]*t[0]+i[2]*t[1],i[1]*t[0]+i[3]*t[1],i[0]*t[2]+i[2]*t[3],i[1]*t[2]+i[3]*t[3],e?0:i[0]*t[4]+i[2]*t[5]+i[4],e?0:i[1]*t[4]+i[3]*t[5]+i[5]],zu=(i,t)=>i.reduceRight((e,r)=>r&&e?oi(r,e,t):r||e,void 0)||gr.concat(),zm=i=>{let[t,e]=i;return Math.atan2(e,t)},to=i=>{const t=zm(i),e=Math.pow(i[0],2)+Math.pow(i[1],2),r=Math.sqrt(e),n=(i[0]*i[3]-i[2]*i[1])/r,o=Math.atan2(i[0]*i[2]+i[1]*i[3],e);return{angle:Yn(t),scaleX:r,scaleY:n,skewX:Yn(o),skewY:0,translateX:i[4]||0,translateY:i[5]||0}},fl=function(i){return[1,0,0,1,i,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function ao(){let{angle:i=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:t=0,y:e=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=gi(i),n=_n(r),o=xn(r);return[n,o,-o,n,t?t-(n*t-o*e):0,e?e-(o*t+n*e):0]}const Uu=function(i){return[i,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:i,0,0]},Um=i=>Math.tan(gi(i)),Bp=i=>[1,0,Um(i),1,0,0],Ip=i=>[1,Um(i),0,1,0,0],Oc=i=>{let{scaleX:t=1,scaleY:e=1,flipX:r=!1,flipY:n=!1,skewX:o=0,skewY:d=0}=i,l=Uu(r?-t:t,n?-e:e);return o&&(l=oi(l,Bp(o),!0)),d&&(l=oi(l,Ip(d),!0)),l},Wm=i=>{const{translateX:t=0,translateY:e=0,angle:r=0}=i;let n=fl(t,e);r&&(n=oi(n,ao({angle:r})));const o=Oc(i);return jm(o)||(n=oi(n,o)),n},oc=function(i){let{signal:t,crossOrigin:e=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(r,n){if(t&&t.aborted)return n(new Lp("loadImage"));const o=Rm();let d;t&&(d=function(s){o.src="",n(s)},t.addEventListener("abort",d,{once:!0}));const l=function(){o.onload=o.onerror=null,d&&(t==null||t.removeEventListener("abort",d)),r(o)};i?(o.onload=l,o.onerror=function(){d&&(t==null||t.removeEventListener("abort",d)),n(new jn("Error loading ".concat(o.src)))},e&&(o.crossOrigin=e),o.src=i):l()})},el=function(i){let{signal:t,reviver:e=Ja}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((r,n)=>{const o=[];t&&t.addEventListener("abort",n,{once:!0}),Promise.all(i.map(d=>Vt.getClass(d.type).fromObject(d,{signal:t}).then(l=>(e(d,l),o.push(l),l)))).then(r).catch(d=>{o.forEach(l=>{l.dispose&&l.dispose()}),n(d)}).finally(()=>{t&&t.removeEventListener("abort",n)})})},Dc=function(i){let{signal:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((e,r)=>{const n=[];t&&t.addEventListener("abort",r,{once:!0});const o=Object.values(i).map(l=>l&&l.type&&Vt.has(l.type)?el([l],{signal:t}).then(s=>{let[a]=s;return n.push(a),a}):l),d=Object.keys(i);Promise.all(o).then(l=>l.reduce((s,a,c)=>(s[d[c]]=a,s),{})).then(e).catch(l=>{n.forEach(s=>{s.dispose&&s.dispose()}),r(l)}).finally(()=>{t&&t.removeEventListener("abort",r)})})},oo=function(i){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((t,e)=>(e in i&&(t[e]=i[e]),t),{})},Rp=(i,t)=>Object.keys(i).reduce((e,r)=>(t(i[r],r,i)&&(e[r]=i[r]),e),{}),qe=(i,t)=>parseFloat(Number(i).toFixed(t)),il=i=>"matrix("+i.map(t=>qe(t,Ne.NUM_FRACTION_DIGITS)).join(" ")+")",sn=i=>!!i&&i.toLive!==void 0,l0=i=>!!i&&typeof i.toObject=="function",c0=i=>!!i&&i.offsetX!==void 0&&"source"in i,za=i=>!!i&&"multiSelectionStacking"in i;function Xm(i){const t=i&&yn(i);let e=0,r=0;if(!i||!t)return{left:e,top:r};let n=i;const o=t.documentElement,d=t.body||{scrollLeft:0,scrollTop:0};for(;n&&(n.parentNode||n.host)&&(n=n.parentNode||n.host,n===t?(e=d.scrollLeft||o.scrollLeft||0,r=d.scrollTop||o.scrollTop||0):(e+=n.scrollLeft||0,r+=n.scrollTop||0),n.nodeType!==1||n.style.position!=="fixed"););return{left:e,top:r}}const yn=i=>i.ownerDocument||null,Gm=i=>{var t;return((t=i.ownerDocument)===null||t===void 0?void 0:t.defaultView)||null},Hm=function(i,t,e){let{width:r,height:n}=e,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;i.width=r,i.height=n,o>1&&(i.setAttribute("width",(r*o).toString()),i.setAttribute("height",(n*o).toString()),t.scale(o,o))},zd=(i,t)=>{let{width:e,height:r}=t;e&&(i.style.width=typeof e=="number"?"".concat(e,"px"):e),r&&(i.style.height=typeof r=="number"?"".concat(r,"px"):r)};function h0(i){return i.onselectstart!==void 0&&(i.onselectstart=()=>!1),i.style.userSelect=dr,i}let Vm=class{constructor(t){wt(this,"_originalCanvasStyle",void 0),wt(this,"lower",void 0);const e=this.createLowerCanvas(t);this.lower={el:e,ctx:e.getContext("2d")}}createLowerCanvas(t){const e=(r=t)&&r.getContext!==void 0?t:t&&ll().getElementById(t)||Vn();var r;if(e.hasAttribute("data-fabric"))throw new jn("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=e.style.cssText,e.setAttribute("data-fabric","main"),e.classList.add("lower-canvas"),e}cleanupDOM(t){let{width:e,height:r}=t;const{el:n}=this.lower;n.classList.remove("lower-canvas"),n.removeAttribute("data-fabric"),n.setAttribute("width","".concat(e)),n.setAttribute("height","".concat(r)),n.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(t,e){const{el:r,ctx:n}=this.lower;Hm(r,n,t,e)}setCSSDimensions(t){zd(this.lower.el,t)}calcOffset(){return function(t){var e;const r=t&&yn(t),n={left:0,top:0};if(!r)return n;const o=((e=Gm(t))===null||e===void 0?void 0:e.getComputedStyle(t,null))||{};n.left+=parseInt(o.borderLeftWidth,10)||0,n.top+=parseInt(o.borderTopWidth,10)||0,n.left+=parseInt(o.paddingLeft,10)||0,n.top+=parseInt(o.paddingTop,10)||0;let d={left:0,top:0};const l=r.documentElement;t.getBoundingClientRect!==void 0&&(d=t.getBoundingClientRect());const s=Xm(t);return{left:d.left+s.left-(l.clientLeft||0)+n.left,top:d.top+s.top-(l.clientTop||0)+n.top}}(this.lower.el)}dispose(){Hn().dispose(this.lower.el),delete this.lower}};const Yy={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...gr]};let jp=class Ym extends Nm(Bm){get lowerCanvasEl(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.el}get contextContainer(){var t;return(t=this.elements.lower)===null||t===void 0?void 0:t.ctx}static getDefaults(){return Ym.ownDefaults}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(e),this.initElements(t),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(t){this.elements=new Vm(t)}add(){const t=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}insertAt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];const o=super.insertAt(t,...r);return r.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),o}remove(){const t=super.remove(...arguments);return t.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),t}_onObjectAdded(t){t.canvas&&t.canvas!==this&&(xs("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),t.canvas.remove(t)),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t){t._set("canvas",void 0),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?Om():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(t,e){return this.setDimensions({width:t},e)}setHeight(t,e){return this.setDimensions({height:t},e)}_setDimensionsImpl(t){let{cssOnly:e=!1,backstoreOnly:r=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e){const n=vt({width:this.width,height:this.height},t);this.elements.setDimensions(n,this.getRetinaScaling()),this.hasLostContext=!0,this.width=n.width,this.height=n.height}r||this.elements.setCSSDimensions(t),this.calcOffset()}setDimensions(t,e){this._setDimensionsImpl(t,e),e&&e.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(t){this.viewportTransform=t,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(t,e){const r=t,n=[...this.viewportTransform],o=rr(t,_r(n));n[0]=e,n[3]=e;const d=rr(o,n);n[4]+=r.x-d.x,n[5]+=r.y-d.y,this.setViewportTransform(n)}setZoom(t){this.zoomToPoint(new Ot(0,0),t)}absolutePan(t){const e=[...this.viewportTransform];return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)}relativePan(t){return this.absolutePan(new Ot(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(t){t.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=ac(()=>this.renderAndReset()))}calcViewportBoundaries(){const t=this.width,e=this.height,r=_r(this.viewportTransform),n=rr({x:0,y:0},r),o=rr({x:t,y:e},r),d=n.min(o),l=n.max(o);return this.vptCoords={tl:d,tr:new Ot(l.x,d.y),bl:new Ot(d.x,l.y),br:l}}cancelRequestedRender(){this.nextRenderHandle&&(Im(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(t){}renderCanvas(t,e){if(this.destroyed)return;const r=this.viewportTransform,n=this.clipPath;this.calcViewportBoundaries(),this.clearContext(t),t.imageSmoothingEnabled=this.imageSmoothingEnabled,t.patternQuality="best",this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this._renderObjects(t,e),t.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(t),n&&(n._set("canvas",this),n.shouldCache(),n._transformDone=!0,n.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t,n)),this._renderOverlay(t),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(t),this.fire("after:render",{ctx:t}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(t,e){const r=this.viewportTransform;t.save(),t.transform(...r),t.globalCompositeOperation="destination-in",e.transform(t),t.scale(1/e.zoomX,1/e.zoomY),t.drawImage(e._cacheCanvas,-e.cacheTranslationX,-e.cacheTranslationY),t.restore()}_renderObjects(t,e){for(let r=0,n=e.length;r<n;++r)e[r]&&e[r].render(t)}_renderBackgroundOrOverlay(t,e){const r=this["".concat(e,"Color")],n=this["".concat(e,"Image")],o=this.viewportTransform,d=this["".concat(e,"Vpt")];if(!r&&!n)return;const l=sn(r);if(r){if(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=l?r.toLive(t):r,d&&t.transform(...o),l){t.transform(1,0,0,1,r.offsetX||0,r.offsetY||0);const s=r.gradientTransform||r.patternTransform;s&&t.transform(...s)}t.fill(),t.restore()}if(n){t.save();const{skipOffscreen:s}=this;this.skipOffscreen=d,d&&t.transform(...o),n.render(t),this.skipOffscreen=s,t.restore()}}_renderBackground(t){this._renderBackgroundOrOverlay(t,"background")}_renderOverlay(t){this._renderBackgroundOrOverlay(t,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new Ot(this.width/2,this.height/2)}centerObjectH(t){return this._centerObject(t,new Ot(this.getCenterPoint().x,t.getCenterPoint().y))}centerObjectV(t){return this._centerObject(t,new Ot(t.getCenterPoint().x,this.getCenterPoint().y))}centerObject(t){return this._centerObject(t,this.getCenterPoint())}viewportCenterObject(t){return this._centerObject(t,this.getVpCenter())}viewportCenterObjectH(t){return this._centerObject(t,new Ot(this.getVpCenter().x,t.getCenterPoint().y))}viewportCenterObjectV(t){return this._centerObject(t,new Ot(t.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return rr(this.getCenterPoint(),_r(this.viewportTransform))}_centerObject(t,e){t.setXY(e,_e,_e),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(t){return this.toDatalessObject(t)}toObject(t){return this._toObjectMethod("toObject",t)}toJSON(){return this.toObject()}toDatalessObject(t){return this._toObjectMethod("toDatalessObject",t)}_toObjectMethod(t,e){const r=this.clipPath,n=r&&!r.excludeFromExport?this._toObject(r,t,e):null;return vt(vt(vt({version:Rd},oo(this,e)),{},{objects:this._objects.filter(o=>!o.excludeFromExport).map(o=>this._toObject(o,t,e))},this.__serializeBgOverlay(t,e)),n?{clipPath:n}:null)}_toObject(t,e,r){let n;this.includeDefaultValues||(n=t.includeDefaultValues,t.includeDefaultValues=!1);const o=t[e](r);return this.includeDefaultValues||(t.includeDefaultValues=!!n),o}__serializeBgOverlay(t,e){const r={},n=this.backgroundImage,o=this.overlayImage,d=this.backgroundColor,l=this.overlayColor;return sn(d)?d.excludeFromExport||(r.background=d.toObject(e)):d&&(r.background=d),sn(l)?l.excludeFromExport||(r.overlay=l.toObject(e)):l&&(r.overlay=l),n&&!n.excludeFromExport&&(r.backgroundImage=this._toObject(n,t,e)),o&&!o.excludeFromExport&&(r.overlayImage=this._toObject(o,t,e)),r}toSVG(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;t.reviver=e;const r=[];return this._setSVGPreamble(r,t),this._setSVGHeader(r,t),this.clipPath&&r.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(r,"background"),this._setSVGBgOverlayImage(r,"backgroundImage",e),this._setSVGObjects(r,e),this.clipPath&&r.push(`</g>
`),this._setSVGBgOverlayColor(r,"overlay"),this._setSVGBgOverlayImage(r,"overlayImage",e),r.push("</svg>"),r.join("")}_setSVGPreamble(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(t,e){const r=e.width||"".concat(this.width),n=e.height||"".concat(this.height),o=Ne.NUM_FRACTION_DIGITS,d=e.viewBox;let l;if(d)l='viewBox="'.concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height,'" ');else if(this.svgViewportTransformation){const s=this.viewportTransform;l='viewBox="'.concat(qe(-s[4]/s[0],o)," ").concat(qe(-s[5]/s[3],o)," ").concat(qe(this.width/s[0],o)," ").concat(qe(this.height/s[3],o),'" ')}else l='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',r,'" ','height="',n,'" ',l,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Rd,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),`</defs>
`)}createSVGClipPathMarkup(t){const e=this.clipPath;return e?(e.clipPathId="CLIPPATH_".concat(sa()),'<clipPath id="'.concat(e.clipPathId,`" >
`).concat(e.toClipPathSVG(t.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map(t=>{const e=this["".concat(t,"Color")];if(sn(e)){const r=this["".concat(t,"Vpt")],n=this.viewportTransform,o={isType:()=>!1,width:this.width/(r?n[0]:1),height:this.height/(r?n[3]:1)};return e.toSVG(o,{additionalTransform:r?il(n):""})}}).join("")}createSVGFontFacesMarkup(){const t=[],e={},r=Ne.fontPaths;this._objects.forEach(function o(d){t.push(d),iu(d)&&d._objects.forEach(o)}),t.forEach(o=>{if(!(d=o)||typeof d._renderText!="function")return;var d;const{styles:l,fontFamily:s}=o;!e[s]&&r[s]&&(e[s]=!0,l&&Object.values(l).forEach(a=>{Object.values(a).forEach(c=>{let{fontFamily:u=""}=c;!e[u]&&r[u]&&(e[u]=!0)})}))});const n=Object.keys(e).map(o=>`		@font-face {
			font-family: '`.concat(o,`';
			src: url('`).concat(r[o],`');
		}
`)).join("");return n?`	<style type="text/css"><![CDATA[
`.concat(n,`]]></style>
`):""}_setSVGObjects(t,e){this.forEachObject(r=>{r.excludeFromExport||this._setSVGObject(t,r,e)})}_setSVGObject(t,e,r){t.push(e.toSVG(r))}_setSVGBgOverlayImage(t,e,r){const n=this[e];n&&!n.excludeFromExport&&n.toSVG&&t.push(n.toSVG(r))}_setSVGBgOverlayColor(t,e){const r=this["".concat(e,"Color")];if(r)if(sn(r)){const n=r.repeat||"",o=this.width,d=this.height,l=this["".concat(e,"Vpt")]?il(_r(this.viewportTransform)):"";t.push('<rect transform="'.concat(l," translate(").concat(o/2,",").concat(d/2,')" x="').concat(r.offsetX-o/2,'" y="').concat(r.offsetY-d/2,'" width="').concat(n!=="repeat-y"&&n!=="no-repeat"||!c0(r)?o:r.source.width,'" height="').concat(n!=="repeat-x"&&n!=="no-repeat"||!c0(r)?d:r.source.height,'" fill="url(#SVGID_').concat(r.id,`)"></rect>
`))}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',r,'"',`></rect>
`)}loadFromJSON(t,e){let{signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!t)return Promise.reject(new jn("`json` is undefined"));const n=typeof t=="string"?JSON.parse(t):t,{objects:o=[],backgroundImage:d,background:l,overlayImage:s,overlay:a,clipPath:c}=n,u=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([el(o,{reviver:e,signal:r}),Dc({backgroundImage:d,backgroundColor:l,overlayImage:s,overlayColor:a,clipPath:c},{signal:r})]).then(f=>{let[h,p]=f;return this.clear(),this.add(...h),this.set(n),this.set(p),this.renderOnAddRemove=u,this})}clone(t){const e=this.toObject(t);return this.cloneWithoutData().loadFromJSON(e)}cloneWithoutData(){const t=Vr(this);return new this.constructor(t)}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:r=1,multiplier:n=1,enableRetinaScaling:o=!1}=t,d=n*(o?this.getRetinaScaling():1);return Fp(this.toCanvasElement(d,t),e,r)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{format:e="png",quality:r=1,multiplier:n=1,enableRetinaScaling:o=!1}=t,d=n*(o?this.getRetinaScaling():1);return Np(this.toCanvasElement(d,t),e,r)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:e,height:r,left:n,top:o,filter:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=(e||this.width)*t,s=(r||this.height)*t,a=this.getZoom(),c=this.width,u=this.height,f=this.skipControlsDrawing,h=a*t,p=this.viewportTransform,A=[h,0,0,h,(p[4]-(n||0))*t,(p[5]-(o||0))*t],g=this.enableRetinaScaling,m=Vr({width:l,height:s}),v=d?this._objects.filter(y=>d(y)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=A,this.width=l,this.height=s,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),v),this.viewportTransform=p,this.width=c,this.height=u,this.calcViewportBoundaries(),this.enableRetinaScaling=g,this.skipControlsDrawing=f,m}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),mu.cancelByCanvas(this),this.disposed=!0,new Promise((t,e)=>{const r=()=>{this.destroy(),t(!0)};r.kill=e,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?t(!1):this.nextRenderHandle?this.__cleanupTask=r:r()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject(t=>t.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}};wt(jp,"ownDefaults",Yy);const qy=["touchstart","touchmove","touchend"],qm=i=>{const t=Xm(i.target),e=function(r){const n=r.changedTouches;return n&&n[0]?n[0]:r}(i);return new Ot(e.clientX+t.left,e.clientY+t.top)},vu=i=>qy.includes(i.type)||i.pointerType==="touch",u0=i=>{i.preventDefault(),i.stopPropagation()},Wn=i=>{let t=0,e=0,r=0,n=0;for(let o=0,d=i.length;o<d;o++){const{x:l,y:s}=i[o];(l>r||!o)&&(r=l),(l<t||!o)&&(t=l),(s>n||!o)&&(n=s),(s<e||!o)&&(e=s)}return{left:t,top:e,width:r-t,height:n-e}},Qy=["translateX","translateY","scaleX","scaleY"],Qm=(i,t)=>rl(i,oi(t,i.calcOwnMatrix())),rl=(i,t)=>{const e=to(t),{translateX:r,translateY:n,scaleX:o,scaleY:d}=e,l=ri(e,Qy),s=new Ot(r,n);i.flipX=!1,i.flipY=!1,Object.assign(i,l),i.set({scaleX:o,scaleY:d}),i.setPositionByOrigin(s,_e,_e)},Km=i=>{i.scaleX=1,i.scaleY=1,i.skewX=0,i.skewY=0,i.flipX=!1,i.flipY=!1,i.rotate(0)},zp=i=>({scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,angle:i.angle,left:i.left,flipX:i.flipX,flipY:i.flipY,top:i.top}),Wu=(i,t,e)=>{const r=i/2,n=t/2,o=[new Ot(-r,-n),new Ot(r,-n),new Ot(-r,n),new Ot(r,n)].map(l=>l.transform(e)),d=Wn(o);return new Ot(d.width,d.height)},Ec=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gr;return oi(_r(arguments.length>1&&arguments[1]!==void 0?arguments[1]:gr),i)},ws=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gr,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr;return i.transform(Ec(t,e))},$m=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gr,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr;return i.transform(Ec(t,e),!0)},Ud=(i,t,e)=>{const r=Ec(t,e);return rl(i,oi(r,i.calcOwnMatrix())),r},Up=(i,t)=>{var e;const{transform:{target:r}}=t;(e=r.canvas)===null||e===void 0||e.fire("object:".concat(i),vt(vt({},t),{},{target:r})),r.fire(i,t)},Ky={left:-.5,top:-.5,center:0,bottom:.5,right:.5},Oi=i=>typeof i=="string"?Ky[i]:i-.5,yu="not-allowed";function Jm(i){return Oi(i.originX)===Oi(_e)&&Oi(i.originY)===Oi(_e)}function f0(i){return .5-Oi(i)}const wn=(i,t)=>i[t],Wp=(i,t,e,r)=>({e:i,transform:t,pointer:new Ot(e,r)});function Zm(i,t){const e=i.getTotalAngle()+Yn(Math.atan2(t.y,t.x))+360;return Math.round(e%360/45)}function Xu(i,t,e,r,n){var o;let{target:d,corner:l}=i;const s=d.controls[l],a=((o=d.canvas)===null||o===void 0?void 0:o.getZoom())||1,c=d.padding/a,u=function(f,h,p,A){const g=f.getRelativeCenterPoint(),m=p!==void 0&&A!==void 0?f.translateToGivenOrigin(g,_e,_e,p,A):new Ot(f.left,f.top);return(f.angle?h.rotate(-gi(f.angle),g):h).subtract(m)}(d,new Ot(r,n),t,e);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=s.offsetX,u.y-=s.offsetY,u}const t1=(i,t,e,r)=>{const{target:n,offsetX:o,offsetY:d}=t,l=e-o,s=r-d,a=!wn(n,"lockMovementX")&&n.left!==l,c=!wn(n,"lockMovementY")&&n.top!==s;return a&&n.set(Ue,l),c&&n.set(Cr,s),(a||c)&&Up(Dm,Wp(i,t,e,r)),a||c},d0={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},Uf=(i,t,e)=>(e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+(t-i)*(2/3-e)*6:i),p0=(i,t,e,r)=>{i/=255,t/=255,e/=255;const n=Math.max(i,t,e),o=Math.min(i,t,e);let d,l;const s=(n+o)/2;if(n===o)d=l=0;else{const a=n-o;switch(l=s>.5?a/(2-n-o):a/(n+o),n){case i:d=(t-e)/a+(t<e?6:0);break;case t:d=(e-i)/a+2;break;case e:d=(i-t)/a+4}d/=6}return[Math.round(360*d),Math.round(100*l),Math.round(100*s),r]},g0=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(i)/(i.endsWith("%")?100:1)},bh=i=>Math.min(Math.round(i),255).toString(16).toUpperCase().padStart(2,"0"),A0=i=>{let[t,e,r,n=1]=i;const o=Math.round(.3*t+.59*e+.11*r);return[o,o,o,n]};let Yr=class ir{constructor(t){if(wt(this,"isUnrecognised",!1),t)if(t instanceof ir)this.setSource([...t._source]);else if(Array.isArray(t)){const[e,r,n,o=1]=t;this.setSource([e,r,n,o])}else this.setSource(this._tryParsingColor(t));else this.setSource([0,0,0,1])}_tryParsingColor(t){return(t=t.toLowerCase())in d0&&(t=d0[t]),t==="transparent"?[255,255,255,0]:ir.sourceFromHex(t)||ir.sourceFromRgb(t)||ir.sourceFromHsl(t)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(t){this._source=t}toRgb(){const[t,e,r]=this.getSource();return"rgb(".concat(t,",").concat(e,",").concat(r,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){const[t,e,r]=p0(...this.getSource());return"hsl(".concat(t,",").concat(e,"%,").concat(r,"%)")}toHsla(){const[t,e,r,n]=p0(...this.getSource());return"hsla(".concat(t,",").concat(e,"%,").concat(r,"%,").concat(n,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){const[t,e,r,n]=this.getSource();return"".concat(bh(t)).concat(bh(e)).concat(bh(r)).concat(bh(Math.round(255*n)))}getAlpha(){return this.getSource()[3]}setAlpha(t){return this._source[3]=t,this}toGrayscale(){return this.setSource(A0(this.getSource())),this}toBlackWhite(t){const[e,,,r]=A0(this.getSource()),n=e<(t||127)?0:255;return this.setSource([n,n,n,r]),this}overlayWith(t){t instanceof ir||(t=new ir(t));const e=this.getSource(),r=t.getSource(),[n,o,d]=e.map((l,s)=>Math.round(.5*l+.5*r[s]));return this.setSource([n,o,d,e[3]]),this}static fromRgb(t){return ir.fromRgba(t)}static fromRgba(t){return new ir(ir.sourceFromRgb(t))}static sourceFromRgb(t){const e=t.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(e){const[r,n,o]=e.slice(1,4).map(d=>{const l=parseFloat(d);return d.endsWith("%")?Math.round(2.55*l):l});return[r,n,o,g0(e[4])]}}static fromHsl(t){return ir.fromHsla(t)}static fromHsla(t){return new ir(ir.sourceFromHsl(t))}static sourceFromHsl(t){const e=t.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!e)return;const r=(ir.parseAngletoDegrees(e[1])%360+360)%360/360,n=parseFloat(e[2])/100,o=parseFloat(e[3])/100;let d,l,s;if(n===0)d=l=s=o;else{const a=o<=.5?o*(n+1):o+n-o*n,c=2*o-a;d=Uf(c,a,r+1/3),l=Uf(c,a,r),s=Uf(c,a,r-1/3)}return[Math.round(255*d),Math.round(255*l),Math.round(255*s),g0(e[4])]}static fromHex(t){return new ir(ir.sourceFromHex(t))}static sourceFromHex(t){if(t.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){const e=t.slice(t.indexOf("#")+1);let r;r=e.length<=4?e.split("").map(s=>s+s):e.match(/.{2}/g);const[n,o,d,l=255]=r.map(s=>parseInt(s,16));return[n,o,d,l/255]}}static parseAngletoDegrees(t){const e=t.toLowerCase(),r=parseFloat(e);return e.includes("rad")?Yn(r):e.includes("turn")?360*r:r}};const hr=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Op;const e=/\D{0,2}$/.exec(i),r=parseFloat(i),n=Ne.DPI;switch(e==null?void 0:e[0]){case"mm":return r*n/25.4;case"cm":return r*n/2.54;case"in":return r*n;case"pt":return r*n/72;case"pc":return r*n/72*12;case"em":return r*t;default:return r}},Xp=i=>{const[t,e]=i.trim().split(" "),[r,n]=(o=t)&&o!==dr?[o.slice(1,4),o.slice(5,8)]:o===dr?[o,o]:["Mid","Mid"];var o;return{meetOrSlice:e||"meet",alignX:r,alignY:n}},mc=function(i,t){let e,r,n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(t)if(t.toLive)e="url(#SVGID_".concat(t.id,")");else{const o=new Yr(t),d=o.getAlpha();e=o.toRgb(),d!==1&&(r=d.toString())}else e="none";return n?"".concat(i,": ").concat(e,"; ").concat(r?"".concat(i,"-opacity: ").concat(r,"; "):""):"".concat(i,'="').concat(e,'" ').concat(r?"".concat(i,'-opacity="').concat(r,'" '):"")};let e1=class{getSvgStyles(t){const e=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):dr,o=this.strokeDashOffset?this.strokeDashOffset:"0",d=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",a=this.opacity!==void 0?this.opacity:"1",c=this.visible?"":" visibility: hidden;",u=t?"":this.getSvgFilter(),f=mc(Di,this.fill);return[mc(pr,this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",d,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",s,"; ",f,"fill-rule: ",e,"; ","opacity: ",a,";",u,c].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t?this.calcTransformMatrix():this.calcOwnMatrix(),n='transform="'.concat(il(r));return"".concat(n).concat(e,'" ')}_toSVG(t){return[""]}toSVG(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})}toClipPathSVG(t){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})}_createBaseClipPathSVGMarkup(t){let{reviver:e,additionalTransform:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),o=t.indexOf("COMMON_PARTS");return t[o]=n,e?e(t.join("")):t.join("")}_createBaseSVGMarkup(t){let{noStyle:e,reviver:r,withShadow:n,additionalTransform:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=e?"":'style="'.concat(this.getSvgStyles(),'" '),l=n?'style="'.concat(this.getSvgFilter(),'" '):"",s=this.clipPath,a=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",c=s&&s.absolutePositioned,u=this.stroke,f=this.fill,h=this.shadow,p=[],A=t.indexOf("COMMON_PARTS");let g;s&&(s.clipPathId="CLIPPATH_".concat(sa()),g='<clipPath id="'.concat(s.clipPathId,`" >
`).concat(s.toClipPathSVG(r),`</clipPath>
`)),c&&p.push("<g ",l,this.getSvgCommons(),` >
`),p.push("<g ",this.getSvgTransform(!1),c?"":l+this.getSvgCommons(),` >
`);const m=[d,a,e?"":this.addPaintOrder()," ",o?'transform="'.concat(o,'" '):""].join("");return t[A]=m,sn(f)&&p.push(f.toSVG(this)),sn(u)&&p.push(u.toSVG(this)),h&&p.push(h.toSVG(this)),s&&p.push(g),p.push(t.join("")),p.push(`</g>
`),c&&p.push(`</g>
`),r?r(p.join("")):p.join("")}addPaintOrder(){return this.paintFirst!==Di?' paint-order="'.concat(this.paintFirst,'" '):""}};function Gu(i){return new RegExp("^("+i.join("|")+")\\b","i")}const eo="textDecorationThickness",i1=["fontSize","fontWeight","fontFamily","fontStyle"],r1=["underline","overline","linethrough"],n1=[...i1,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],s1=[...n1,...r1,"textBackgroundColor","direction",eo],$y=[...i1,...r1,pr,"strokeWidth",Di,"deltaY","textBackgroundColor",eo],Jy={_reNewline:Dp,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ue,fontStyle:"normal",lineHeight:1.16,textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ue,pathAlign:"baseline",charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.28167,overline:-.81333},_fontSizeMult:1.13,[eo]:66.667},In="justify",bu="justify-left",lc="justify-right",cc="justify-center";var m0,v0,y0;const bn=String.raw(m0||(m0=qn(["[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?"],["[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?"]))),Wf=String.raw(v0||(v0=qn(["(?:s*,?s+|s*,s*)"],["(?:\\s*,?\\s+|\\s*,\\s*)"]))),Wd="http://www.w3.org/2000/svg",Zy=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+bn+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+bn+"))?\\s+(.*)"),tb={cx:Ue,x:Ue,r:"radius",cy:Cr,y:Cr,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing","text-decoration-thickness":eo},Xf="font-size",Gf="clip-path",eb=Gu(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),ib=Gu(["symbol","image","marker","pattern","view","svg"]),b0=Gu(["symbol","g","a","svg","clipPath","defs"]),w0=new RegExp(String.raw(y0||(y0=qn(["^s*(",")","(",")","(",")","(",")s*$"],["^\\s*(",")","(",")","(",")","(",")\\s*$"])),bn,Wf,bn,Wf,bn,Wf,bn)),rb=new Ot(1,0),a1=new Ot,Gp=(i,t)=>i.rotate(t),wu=(i,t)=>new Ot(t).subtract(i),_u=i=>i.distanceFrom(a1),xu=(i,t)=>Math.atan2(Yo(i,t),l1(i,t)),o1=i=>xu(rb,i),Hu=i=>i.eq(a1)?i:i.scalarDivide(_u(i)),Hp=function(i){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return Hu(new Ot(-i.y,i.x).scalarMultiply(t?1:-1))},Yo=(i,t)=>i.x*t.y-i.y*t.x,l1=(i,t)=>i.x*t.x+i.y*t.y,Xd=(i,t,e)=>{if(i.eq(t)||i.eq(e))return!0;const r=Yo(t,e),n=Yo(t,i),o=Yo(e,i);return r>=0?n>=0&&o<=0:!(n<=0&&o>=0)},_0="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",x0=new RegExp("(?:\\s|^)"+_0+_0+"("+bn+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class _s{constructor(t){const e=typeof t=="string"?_s.parseShadow(t):t;Object.assign(this,_s.ownDefaults,e),this.id=sa()}static parseShadow(t){const e=t.trim(),[,r=0,n=0,o=0]=(x0.exec(e)||[]).map(d=>parseFloat(d)||0);return{color:(e.replace(x0,"")||"rgb(0,0,0)").trim(),offsetX:r,offsetY:n,blur:o}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(t){const e=Gp(new Ot(this.offsetX,this.offsetY),gi(-t.angle)),r=new Yr(this.color);let n=40,o=40;return t.width&&t.height&&(n=100*qe((Math.abs(e.x)+this.blur)/t.width,Ne.NUM_FRACTION_DIGITS)+20,o=100*qe((Math.abs(e.y)+this.blur)/t.height,Ne.NUM_FRACTION_DIGITS)+20),t.flipX&&(e.x*=-1),t.flipY&&(e.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(o,'%" height="').concat(100+2*o,'%" x="-').concat(n,'%" width="').concat(100+2*n,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(qe(this.blur?this.blur/2:0,Ne.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(qe(e.x,Ne.NUM_FRACTION_DIGITS),'" dy="').concat(qe(e.y,Ne.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(r.toRgb(),'" flood-opacity="').concat(r.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){const t={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},e=_s.ownDefaults;return this.includeDefaultValues?t:Rp(t,(r,n)=>r!==e[n])}static async fromObject(t){return new this(t)}}wt(_s,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),wt(_s,"type","shadow"),Vt.setClass(_s,"shadow");const io=(i,t,e)=>Math.max(i,Math.min(t,e)),nb=[Cr,Ue,Ar,Hr,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",hl,ul],Ss=[Di,pr,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],sb={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ue,originY:Cr,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:Di,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},Hf=(i,t,e,r)=>(i<Math.abs(t)?(i=t,r=e/4):r=t===0&&i===0?e/Cs*Math.asin(1):e/Cs*Math.asin(t/i),{a:i,c:t,p:e,s:r}),C0=(i,t,e,r,n)=>i*Math.pow(2,10*(r-=1))*Math.sin((r*n-t)*Cs/e),c1=(i,t,e,r)=>-e*Math.cos(i/r*na)+e+t,Gd=(i,t,e,r)=>(i/=r)<1/2.75?e*(7.5625*i*i)+t:i<2/2.75?e*(7.5625*(i-=1.5/2.75)*i+.75)+t:i<2.5/2.75?e*(7.5625*(i-=2.25/2.75)*i+.9375)+t:e*(7.5625*(i-=2.625/2.75)*i+.984375)+t,S0=(i,t,e,r)=>e-Gd(r-i,0,e,r)+t;var ab=Object.freeze({__proto__:null,defaultEasing:c1,easeInBack:function(i,t,e,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*(i/=r)*i*((n+1)*i-n)+t},easeInBounce:S0,easeInCirc:(i,t,e,r)=>-e*(Math.sqrt(1-(i/=r)*i)-1)+t,easeInCubic:(i,t,e,r)=>e*(i/r)**3+t,easeInElastic:(i,t,e,r)=>{const n=e;let o=0;if(i===0)return t;if((i/=r)===1)return t+e;o||(o=.3*r);const{a:d,s:l,p:s}=Hf(n,e,o,1.70158);return-C0(d,l,s,i,r)+t},easeInExpo:(i,t,e,r)=>i===0?t:e*2**(10*(i/r-1))+t,easeInOutBack:function(i,t,e,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(i/=r/2)<1?e/2*(i*i*((1+(n*=1.525))*i-n))+t:e/2*((i-=2)*i*((1+(n*=1.525))*i+n)+2)+t},easeInOutBounce:(i,t,e,r)=>i<r/2?.5*S0(2*i,0,e,r)+t:.5*Gd(2*i-r,0,e,r)+.5*e+t,easeInOutCirc:(i,t,e,r)=>(i/=r/2)<1?-e/2*(Math.sqrt(1-i**2)-1)+t:e/2*(Math.sqrt(1-(i-=2)*i)+1)+t,easeInOutCubic:(i,t,e,r)=>(i/=r/2)<1?e/2*i**3+t:e/2*((i-2)**3+2)+t,easeInOutElastic:(i,t,e,r)=>{const n=e;let o=0;if(i===0)return t;if((i/=r/2)===2)return t+e;o||(o=r*(.3*1.5));const{a:d,s:l,p:s,c:a}=Hf(n,e,o,1.70158);return i<1?-.5*C0(d,l,s,i,r)+t:d*Math.pow(2,-10*(i-=1))*Math.sin((i*r-l)*Cs/s)*.5+a+t},easeInOutExpo:(i,t,e,r)=>i===0?t:i===r?t+e:(i/=r/2)<1?e/2*2**(10*(i-1))+t:e/2*-(2**(-10*--i)+2)+t,easeInOutQuad:(i,t,e,r)=>(i/=r/2)<1?e/2*i**2+t:-e/2*(--i*(i-2)-1)+t,easeInOutQuart:(i,t,e,r)=>(i/=r/2)<1?e/2*i**4+t:-e/2*((i-=2)*i**3-2)+t,easeInOutQuint:(i,t,e,r)=>(i/=r/2)<1?e/2*i**5+t:e/2*((i-2)**5+2)+t,easeInOutSine:(i,t,e,r)=>-e/2*(Math.cos(Math.PI*i/r)-1)+t,easeInQuad:(i,t,e,r)=>e*(i/=r)*i+t,easeInQuart:(i,t,e,r)=>e*(i/=r)*i**3+t,easeInQuint:(i,t,e,r)=>e*(i/r)**5+t,easeInSine:(i,t,e,r)=>-e*Math.cos(i/r*na)+e+t,easeOutBack:function(i,t,e,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return e*((i=i/r-1)*i*((n+1)*i+n)+1)+t},easeOutBounce:Gd,easeOutCirc:(i,t,e,r)=>e*Math.sqrt(1-(i=i/r-1)*i)+t,easeOutCubic:(i,t,e,r)=>e*((i/r-1)**3+1)+t,easeOutElastic:(i,t,e,r)=>{const n=e;let o=0;if(i===0)return t;if((i/=r)===1)return t+e;o||(o=.3*r);const{a:d,s:l,p:s,c:a}=Hf(n,e,o,1.70158);return d*2**(-10*i)*Math.sin((i*r-l)*Cs/s)+a+t},easeOutExpo:(i,t,e,r)=>i===r?t+e:e*-(2**(-10*i/r)+1)+t,easeOutQuad:(i,t,e,r)=>-e*(i/=r)*(i-2)+t,easeOutQuart:(i,t,e,r)=>-e*((i=i/r-1)*i**3-1)+t,easeOutQuint:(i,t,e,r)=>e*((i/r-1)**5+1)+t,easeOutSine:(i,t,e,r)=>e*Math.sin(i/r*na)+t});const ob=()=>!1;class Vp{constructor(t){let{startValue:e,byValue:r,duration:n=500,delay:o=0,easing:d=c1,onStart:l=Ja,onChange:s=Ja,onComplete:a=Ja,abort:c=ob,target:u}=t;wt(this,"_state","pending"),wt(this,"durationProgress",0),wt(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=n,this.delay=o,this.easing=d,this._onStart=l,this._onChange=s,this._onComplete=a,this._abort=c,this.target=u,this.startValue=e,this.byValue=r,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){const t=e=>{this._state==="pending"&&(this.startTime=e||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>ac(t),this.delay):ac(t)}tick(t){const e=(t||+new Date)-this.startTime,r=Math.min(e,this.duration);this.durationProgress=r/this.duration;const{value:n,valueProgress:o}=this.calculate(r);this.value=Object.freeze(n),this.valueProgress=o,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):e>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),ac(this.tick)))}register(){mu.push(this)}unregister(){mu.remove(this)}abort(){this._state="aborted",this.unregister()}}const lb=["startValue","endValue"];class cb extends Vp{constructor(t){let{startValue:e=0,endValue:r=100}=t;super(vt(vt({},ri(t,lb)),{},{startValue:e,byValue:r-e}))}calculate(t){const e=this.easing(t,this.startValue,this.byValue,this.duration);return{value:e,valueProgress:Math.abs((e-this.startValue)/this.byValue)}}}const hb=["startValue","endValue"];class ub extends Vp{constructor(t){let{startValue:e=[0],endValue:r=[100]}=t;super(vt(vt({},ri(t,hb)),{},{startValue:e,byValue:r.map((n,o)=>n-e[o])}))}calculate(t){const e=this.startValue.map((r,n)=>this.easing(t,r,this.byValue[n],this.duration,n));return{value:e,valueProgress:Math.abs((e[0]-this.startValue[0])/this.byValue[0])}}}const fb=["startValue","endValue","easing","onChange","onComplete","abort"],db=(i,t,e,r)=>t+e*(1-Math.cos(i/r*na)),Vf=i=>i&&((t,e,r)=>i(new Yr(t).toRgba(),e,r));class pb extends Vp{constructor(t){let{startValue:e,endValue:r,easing:n=db,onChange:o,onComplete:d,abort:l}=t,s=ri(t,fb);const a=new Yr(e).getSource(),c=new Yr(r).getSource();super(vt(vt({},s),{},{startValue:a,byValue:c.map((u,f)=>u-a[f]),easing:n,onChange:Vf(o),onComplete:Vf(d),abort:Vf(l)}))}calculate(t){const[e,r,n,o]=this.startValue.map((l,s)=>this.easing(t,l,this.byValue[s],this.duration,s)),d=[...[e,r,n].map(Math.round),io(0,o,1)];return{value:d,valueProgress:d.map((l,s)=>this.byValue[s]!==0?Math.abs((l-this.startValue[s])/this.byValue[s]):0).find(l=>l!==0)||0}}}function Yp(i){const t=(e=>Array.isArray(e.startValue)||Array.isArray(e.endValue))(i)?new ub(i):new cb(i);return t.start(),t}function h1(i){const t=new pb(i);return t.start(),t}class ai{constructor(t){this.status=t,this.points=[]}includes(t){return this.points.some(e=>e.eq(t))}append(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return this.points=this.points.concat(e.filter(n=>!this.includes(n))),this}static isPointContained(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(e.eq(r))return t.eq(e);if(e.x===r.x)return t.x===e.x&&(n||t.y>=Math.min(e.y,r.y)&&t.y<=Math.max(e.y,r.y));if(e.y===r.y)return t.y===e.y&&(n||t.x>=Math.min(e.x,r.x)&&t.x<=Math.max(e.x,r.x));{const o=wu(e,r),d=wu(e,t).divide(o);return n?Math.abs(d.x)===Math.abs(d.y):d.x===d.y&&d.x>=0&&d.x<=1}}static isPointInPolygon(t,e){const r=new Ot(t).setX(Math.min(t.x-1,...e.map(o=>o.x)));let n=0;for(let o=0;o<e.length;o++){const d=this.intersectSegmentSegment(e[o],e[(o+1)%e.length],t,r);if(d.includes(t))return!0;n+=+(d.status==="Intersection")}return n%2==1}static intersectLineLine(t,e,r,n){let o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];const l=e.x-t.x,s=e.y-t.y,a=n.x-r.x,c=n.y-r.y,u=t.x-r.x,f=t.y-r.y,h=a*f-c*u,p=l*f-s*u,A=c*l-a*s;if(A!==0){const g=h/A,m=p/A;return(o||0<=g&&g<=1)&&(d||0<=m&&m<=1)?new ai("Intersection").append(new Ot(t.x+g*l,t.y+g*s)):new ai}if(h===0||p===0){const g=o||d||ai.isPointContained(t,r,n)||ai.isPointContained(e,r,n)||ai.isPointContained(r,t,e)||ai.isPointContained(n,t,e);return new ai(g?"Coincident":void 0)}return new ai("Parallel")}static intersectSegmentLine(t,e,r,n){return ai.intersectLineLine(t,e,r,n,!1,!0)}static intersectSegmentSegment(t,e,r,n){return ai.intersectLineLine(t,e,r,n,!1,!1)}static intersectLinePolygon(t,e,r){let n=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];const o=new ai,d=r.length;for(let l,s,a,c=0;c<d;c++){if(l=r[c],s=r[(c+1)%d],a=ai.intersectLineLine(t,e,l,s,n,!1),a.status==="Coincident")return a;o.append(...a.points)}return o.points.length>0&&(o.status="Intersection"),o}static intersectSegmentPolygon(t,e,r){return ai.intersectLinePolygon(t,e,r,!1)}static intersectPolygonPolygon(t,e){const r=new ai,n=t.length,o=[];for(let d=0;d<n;d++){const l=t[d],s=t[(d+1)%n],a=ai.intersectSegmentPolygon(l,s,e);a.status==="Coincident"?(o.push(a),r.append(l,s)):r.append(...a.points)}return o.length>0&&o.length===t.length?new ai("Coincident"):(r.points.length>0&&(r.status="Intersection"),r)}static intersectPolygonRectangle(t,e,r){const n=e.min(r),o=e.max(r),d=new Ot(o.x,n.y),l=new Ot(n.x,o.y);return ai.intersectPolygonPolygon(t,[n,d,o,l])}}class gb extends Bm{getX(){return this.getXY().x}setX(t){this.setXY(this.getXY().setX(t))}getY(){return this.getXY().y}setY(t){this.setXY(this.getXY().setY(t))}getRelativeX(){return this.left}setRelativeX(t){this.left=t}getRelativeY(){return this.top}setRelativeY(t){this.top=t}getXY(){const t=this.getRelativeXY();return this.group?rr(t,this.group.calcTransformMatrix()):t}setXY(t,e,r){this.group&&(t=rr(t,_r(this.group.calcTransformMatrix()))),this.setRelativeXY(t,e,r)}getRelativeXY(){return new Ot(this.left,this.top)}setRelativeXY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(t,e,r)}isStrokeAccountedForInDimensions(){return!1}getCoords(){const{tl:t,tr:e,br:r,bl:n}=this.aCoords||(this.aCoords=this.calcACoords()),o=[t,e,r,n];if(this.group){const d=this.group.calcTransformMatrix();return o.map(l=>rr(l,d))}return o}intersectsWithRect(t,e){return ai.intersectPolygonRectangle(this.getCoords(),t,e).status==="Intersection"}intersectsWithObject(t){const e=ai.intersectPolygonPolygon(this.getCoords(),t.getCoords());return e.status==="Intersection"||e.status==="Coincident"||t.isContainedWithinObject(this)||this.isContainedWithinObject(t)}isContainedWithinObject(t){return this.getCoords().every(e=>t.containsPoint(e))}isContainedWithinRect(t,e){const{left:r,top:n,width:o,height:d}=this.getBoundingRect();return r>=t.x&&r+o<=e.x&&n>=t.y&&n+d<=e.y}isOverlapping(t){return this.intersectsWithObject(t)||this.isContainedWithinObject(t)||t.isContainedWithinObject(this)}containsPoint(t){return ai.isPointInPolygon(t,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return!!this.getCoords().some(r=>r.x<=e.x&&r.x>=t.x&&r.y<=e.y&&r.y>=t.y)||!!this.intersectsWithRect(t,e)||this.containsPoint(t.midPointFrom(e))}isPartiallyOnScreen(){if(!this.canvas)return!1;const{tl:t,br:e}=this.canvas.vptCoords;return this.intersectsWithRect(t,e)?!0:this.getCoords().every(r=>(r.x>=e.x||r.x<=t.x)&&(r.y>=e.y||r.y<=t.y))&&this.containsPoint(t.midPointFrom(e))}getBoundingRect(){return Wn(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(t){this._set(Ar,t),this._set(Hr,t),this.setCoords()}scaleToWidth(t){const e=this.getBoundingRect().width/this.getScaledWidth();return this.scale(t/this.width/e)}scaleToHeight(t){const e=this.getBoundingRect().height/this.getScaledHeight();return this.scale(t/this.height/e)}getCanvasRetinaScaling(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.getRetinaScaling())||1}getTotalAngle(){return this.group?Yn(zm(this.calcTransformMatrix())):this.angle}getViewportTransform(){var t;return((t=this.canvas)===null||t===void 0?void 0:t.viewportTransform)||gr.concat()}calcACoords(){const t=ao({angle:this.angle}),{x:e,y:r}=this.getRelativeCenterPoint(),n=fl(e,r),o=oi(n,t),d=this._getTransformedDimensions(),l=d.x/2,s=d.y/2;return{tl:rr({x:-l,y:-s},o),tr:rr({x:l,y:-s},o),bl:rr({x:-l,y:s},o),br:rr({x:l,y:s},o)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=[];return!t&&this.group&&(e=this.group.transformMatrixKey(t)),e.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,Oi(this.originX),Oi(this.originY)),e}calcTransformMatrix(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],e=this.calcOwnMatrix();if(t||!this.group)return e;const r=this.transformMatrixKey(t),n=this.matrixCache;return n&&n.key.every((o,d)=>o===r[d])?n.value:(this.group&&(e=oi(this.group.calcTransformMatrix(!1),e)),this.matrixCache={key:r,value:e},e)}calcOwnMatrix(){const t=this.transformMatrixKey(!0),e=this.ownMatrixCache;if(e&&e.key===t)return e.value;const r=this.getRelativeCenterPoint(),n={angle:this.angle,translateX:r.x,translateY:r.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},o=Wm(n);return this.ownMatrixCache={key:t,value:o},o}_getNonTransformedDimensions(){return new Ot(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(t){return this._getTransformedDimensions(t).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=vt({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},t),r=e.strokeWidth;let n=r,o=0;this.strokeUniform&&(n=0,o=r);const d=e.width+n,l=e.height+n;let s;return s=e.skewX===0&&e.skewY===0?new Ot(d*e.scaleX,l*e.scaleY):Wu(d,l,Oc(e)),s.scalarAdd(o)}translateToGivenOrigin(t,e,r,n,o){let d=t.x,l=t.y;const s=Oi(n)-Oi(e),a=Oi(o)-Oi(r);if(s||a){const c=this._getTransformedDimensions();d+=s*c.x,l+=a*c.y}return new Ot(d,l)}translateToCenterPoint(t,e,r){if(e===_e&&r===_e)return t;const n=this.translateToGivenOrigin(t,e,r,_e,_e);return this.angle?n.rotate(gi(this.angle),t):n}translateToOriginPoint(t,e,r){const n=this.translateToGivenOrigin(t,_e,_e,e,r);return this.angle?n.rotate(gi(this.angle),t):n}getCenterPoint(){const t=this.getRelativeCenterPoint();return this.group?rr(t,this.group.calcTransformMatrix()):t}getRelativeCenterPoint(){return this.translateToCenterPoint(new Ot(this.left,this.top),this.originX,this.originY)}getPointByOrigin(t,e){return this.translateToOriginPoint(this.getRelativeCenterPoint(),t,e)}setPositionByOrigin(t,e,r){const n=this.translateToCenterPoint(t,e,r),o=this.translateToOriginPoint(n,this.originX,this.originY);this.set({left:o.x,top:o.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ue,Cr)}}const Ab=["type"],mb=["extraParam"];let fs=class ru extends gb{static getDefaults(){return ru.ownDefaults}get type(){const t=this.constructor.type;return t==="FabricObject"?"object":t.toLowerCase()}set type(t){xs("warn","Setting type has no effect",t)}constructor(t){super(),wt(this,"_cacheContext",null),Object.assign(this,ru.ownDefaults),this.setOptions(t)}_createCacheCanvas(){this._cacheCanvas=Vn(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(t){const e=t.width,r=t.height,n=Ne.maxCacheSideLimit,o=Ne.minCacheSideLimit;if(e<=n&&r<=n&&e*r<=Ne.perfLimitSizeTotal)return e<o&&(t.width=o),r<o&&(t.height=o),t;const d=e/r,[l,s]=sc.limitDimsByArea(d),a=io(o,l,n),c=io(o,s,n);return e>a&&(t.zoomX/=e/a,t.width=a,t.capped=!0),r>c&&(t.zoomY/=r/c,t.height=c,t.capped=!0),t}_getCacheCanvasDimensions(){const t=this.getTotalObjectScaling(),e=this._getTransformedDimensions({skewX:0,skewY:0}),r=e.x*t.x/this.scaleX,n=e.y*t.y/this.scaleY;return{width:Math.ceil(r+2),height:Math.ceil(n+2),zoomX:t.x,zoomY:t.y,x:r,y:n}}_updateCacheCanvas(){const t=this._cacheCanvas,e=this._cacheContext,{width:r,height:n,zoomX:o,zoomY:d,x:l,y:s}=this._limitCacheSize(this._getCacheCanvasDimensions()),a=r!==t.width||n!==t.height,c=this.zoomX!==o||this.zoomY!==d;if(!t||!e)return!1;if(a||c){r!==t.width||n!==t.height?(t.width=r,t.height=n):(e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height));const u=l/2,f=s/2;return this.cacheTranslationX=Math.round(t.width/2-u)+u,this.cacheTranslationY=Math.round(t.height/2-f)+f,e.translate(this.cacheTranslationX,this.cacheTranslationY),e.scale(o,d),this.zoomX=o,this.zoomY=d,!0}return!1}setOptions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(t)}transform(t){const e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,r=this.calcTransformMatrix(!e);t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}getObjectScaling(){if(!this.group)return new Ot(Math.abs(this.scaleX),Math.abs(this.scaleY));const t=to(this.calcTransformMatrix());return new Ot(Math.abs(t.scaleX),Math.abs(t.scaleY))}getTotalObjectScaling(){const t=this.getObjectScaling();if(this.canvas){const e=this.canvas.getZoom(),r=this.getCanvasRetinaScaling();return t.scalarMultiply(e*r)}return t}getObjectOpacity(){let t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t}_constrainScale(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:t===0?1e-4:t}_set(t,e){t!==Ar&&t!==Hr||(e=this._constrainScale(e)),t===Ar&&e<0?(this.flipX=!this.flipX,e*=-1):t==="scaleY"&&e<0?(this.flipY=!this.flipY,e*=-1):t!=="shadow"||!e||e instanceof _s||(e=new _s(e));const r=this[t]!==e;return this[t]=e,r&&this.constructor.cacheProperties.includes(t)&&(this.dirty=!0),this.parent&&(this.dirty||r&&this.constructor.stateProperties.includes(t))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.drawObject(t,!1,{}),this.dirty=!1),t.restore())}drawSelectionBackground(t){}renderCache(t){if(t=t||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){const{zoomX:e,zoomY:r,cacheTranslationX:n,cacheTranslationY:o}=this,{width:d,height:l}=this._cacheCanvas;this.drawObject(this._cacheContext,t.forClipping,{zoomX:e,zoomY:r,cacheTranslationX:n,cacheTranslationY:o,width:d,height:l,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===pr&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(t,e,r){t.save(),e.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",t.setTransform(1,0,0,1,0,0),t.drawImage(r,0,0),t.restore()}drawObject(t,e,r){const n=this.fill,o=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t,this.clipPath,r),this.fill=n,this.stroke=o}createClipPathLayer(t,e){const r=Vr(e),n=r.getContext("2d");if(n.translate(e.cacheTranslationX,e.cacheTranslationY),n.scale(e.zoomX,e.zoomY),t._cacheCanvas=r,e.parentClipPaths.forEach(o=>{o.transform(n)}),e.parentClipPaths.push(t),t.absolutePositioned){const o=_r(this.calcTransformMatrix());n.transform(o[0],o[1],o[2],o[3],o[4],o[5])}return t.transform(n),t.drawObject(n,!0,e),r}_drawClipPath(t,e,r){if(!e)return;e._transformDone=!0;const n=this.createClipPathLayer(e,r);this.drawClipPathOnCache(t,e,n)}drawCacheOnCanvas(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;const e=this._cacheCanvas,r=this._cacheContext;return!(!e||!r||t||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(e&&r&&!t&&(r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,e.width,e.height),r.restore()),!0)}_renderBackground(t){if(!this.backgroundColor)return;const e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}_setOpacity(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity}_setStrokeStyles(t,e){const r=e.stroke;r&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,sn(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?this._applyPatternForTransformedGradient(t,r):(t.strokeStyle=r.toLive(t),this._applyPatternGradientTransform(t,r)):t.strokeStyle=e.stroke)}_setFillStyles(t,e){let{fill:r}=e;r&&(sn(r)?(t.fillStyle=r.toLive(t),this._applyPatternGradientTransform(t,r)):t.fillStyle=r)}_setClippingProperties(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"}_setLineDash(t,e){e&&e.length!==0&&t.setLineDash(e)}_setShadow(t){if(!this.shadow)return;const e=this.shadow,r=this.canvas,n=this.getCanvasRetinaScaling(),[o,,,d]=(r==null?void 0:r.viewportTransform)||gr,l=o*n,s=d*n,a=e.nonScaling?new Ot(1,1):this.getObjectScaling();t.shadowColor=e.color,t.shadowBlur=e.blur*Ne.browserShadowBlurConstant*(l+s)*(a.x+a.y)/4,t.shadowOffsetX=e.offsetX*l*a.x,t.shadowOffsetY=e.offsetY*s*a.y}_removeShadow(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)}_applyPatternGradientTransform(t,e){if(!sn(e))return{offsetX:0,offsetY:0};const r=e.gradientTransform||e.patternTransform,n=-this.width/2+e.offsetX||0,o=-this.height/2+e.offsetY||0;return e.gradientUnits==="percentage"?t.transform(this.width,0,0,this.height,n,o):t.transform(1,0,0,1,n,o),r&&t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),{offsetX:n,offsetY:o}}_renderPaintInOrder(t){this.paintFirst===pr?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))}_render(t){}_renderFill(t){this.fill&&(t.save(),this._setFillStyles(t,this),this.fillRule==="evenodd"?t.fill("evenodd"):t.fill(),t.restore())}_renderStroke(t){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform){const e=this.getObjectScaling();t.scale(1/e.x,1/e.y)}this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}}_applyPatternForTransformedGradient(t,e){var r;const n=this._limitCacheSize(this._getCacheCanvasDimensions()),o=this.getCanvasRetinaScaling(),d=n.x/this.scaleX/o,l=n.y/this.scaleY/o,s=Vr({width:Math.ceil(d),height:Math.ceil(l)}),a=s.getContext("2d");a&&(a.beginPath(),a.moveTo(0,0),a.lineTo(d,0),a.lineTo(d,l),a.lineTo(0,l),a.closePath(),a.translate(d/2,l/2),a.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(a,e),a.fillStyle=e.toLive(t),a.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),t.strokeStyle=(r=a.createPattern(s,"no-repeat"))!==null&&r!==void 0?r:"")}_findCenterFromElement(){return new Ot(this.left+this.width/2,this.top+this.height/2)}clone(t){const e=this.toObject(t);return this.constructor.fromObject(e)}cloneAsImage(t){const e=this.toCanvasElement(t);return new(Vt.getClass("image"))(e)}toCanvasElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=zp(this),r=this.group,n=this.shadow,o=Math.abs,d=t.enableRetinaScaling?Om():1,l=(t.multiplier||1)*d,s=t.canvasProvider||(v=>new jp(v,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,t.withoutTransform&&Km(this),t.withoutShadow&&(this.shadow=null),t.viewportTransform&&Ud(this,this.getViewportTransform()),this.setCoords();const a=Vn(),c=this.getBoundingRect(),u=this.shadow,f=new Ot;if(u){const v=u.blur,y=u.nonScaling?new Ot(1,1):this.getObjectScaling();f.x=2*Math.round(o(u.offsetX)+v)*o(y.x),f.y=2*Math.round(o(u.offsetY)+v)*o(y.y)}const h=c.width+f.x,p=c.height+f.y;a.width=Math.ceil(h),a.height=Math.ceil(p);const A=s(a);t.format==="jpeg"&&(A.backgroundColor="#fff"),this.setPositionByOrigin(new Ot(A.width/2,A.height/2),_e,_e);const g=this.canvas;A._objects=[this],this.set("canvas",A),this.setCoords();const m=A.toCanvasElement(l||1,t);return this.set("canvas",g),this.shadow=n,r&&(this.group=r),this.set(e),this.setCoords(),A._objects=[],A.destroy(),m}toDataURL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fp(this.toCanvasElement(t),t.format||"png",t.quality||1)}toBlob(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Np(this.toCanvasElement(t),t.format||"png",t.quality||1)}isType(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.includes(this.constructor.type)||e.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(t){const{centeredRotation:e,originX:r,originY:n}=this;if(e){const{x:o,y:d}=this.getRelativeCenterPoint();this.originX=_e,this.originY=_e,this.left=o,this.top=d}if(this.set("angle",t),e){const{x:o,y:d}=this.translateToOriginPoint(this.getRelativeCenterPoint(),r,n);this.left=o,this.top=d,this.originX=r,this.originY=n}}setOnGroup(){}_setupCompositeOperation(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}dispose(){mu.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&Hn().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(t,e){return Object.entries(t).reduce((r,n)=>{let[o,d]=n;return r[o]=this._animate(o,d,e),r},{})}_animate(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.split("."),o=this.constructor.colorProperties.includes(n[n.length-1]),{abort:d,startValue:l,onChange:s,onComplete:a}=r,c=vt(vt({},r),{},{target:this,startValue:l??n.reduce((u,f)=>u[f],this),endValue:e,abort:d==null?void 0:d.bind(this),onChange:(u,f,h)=>{n.reduce((p,A,g)=>(g===n.length-1&&(p[A]=u),p[A]),this),s&&s(u,f,h)},onComplete:(u,f,h)=>{this.setCoords(),a&&a(u,f,h)}});return o?h1(c):Yp(c)}isDescendantOf(t){const{parent:e,group:r}=this;return e===t||r===t||!!e&&e.isDescendantOf(t)||!!r&&r!==e&&r.isDescendantOf(t)}getAncestors(){const t=[];let e=this;do e=e.parent,e&&t.push(e);while(e);return t}findCommonAncestors(t){if(this===t)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};const e=this.getAncestors(),r=t.getAncestors();if(e.length===0&&r.length>0&&this===r[r.length-1])return{fork:[],otherFork:[t,...r.slice(0,r.length-1)],common:[this]};for(let n,o=0;o<e.length;o++){if(n=e[o],n===t)return{fork:[this,...e.slice(0,o)],otherFork:[],common:e.slice(o)};for(let d=0;d<r.length;d++){if(this===r[d])return{fork:[],otherFork:[t,...r.slice(0,d)],common:[this,...e]};if(n===r[d])return{fork:[this,...e.slice(0,o)],otherFork:[t,...r.slice(0,d)],common:e.slice(o)}}}return{fork:[this,...e],otherFork:[t,...r],common:[]}}hasCommonAncestors(t){const e=this.findCommonAncestors(t);return e&&!!e.common.length}isInFrontOf(t){if(this===t)return;const e=this.findCommonAncestors(t);if(e.fork.includes(t))return!0;if(e.otherFork.includes(this))return!1;const r=e.common[0]||this.canvas;if(!r)return;const n=e.fork.pop(),o=e.otherFork.pop(),d=r._objects.indexOf(n),l=r._objects.indexOf(o);return d>-1&&d>l}toObject(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(ru.customProperties,this.constructor.customProperties||[]);let e;const r=Ne.NUM_FRACTION_DIGITS,{clipPath:n,fill:o,stroke:d,shadow:l,strokeDashArray:s,left:a,top:c,originX:u,originY:f,width:h,height:p,strokeWidth:A,strokeLineCap:g,strokeDashOffset:m,strokeLineJoin:v,strokeUniform:y,strokeMiterLimit:w,scaleX:x,scaleY:L,angle:F,flipX:M,flipY:D,opacity:X,visible:I,backgroundColor:O,fillRule:W,paintFirst:C,globalCompositeOperation:Q,skewX:lt,skewY:it}=this;n&&!n.excludeFromExport&&(e=n.toObject(t.concat("inverted","absolutePositioned")));const et=K=>qe(K,r),B=vt(vt({},oo(this,t)),{},{type:this.constructor.type,version:Rd,originX:u,originY:f,left:et(a),top:et(c),width:et(h),height:et(p),fill:l0(o)?o.toObject():o,stroke:l0(d)?d.toObject():d,strokeWidth:et(A),strokeDashArray:s&&s.concat(),strokeLineCap:g,strokeDashOffset:m,strokeLineJoin:v,strokeUniform:y,strokeMiterLimit:et(w),scaleX:et(x),scaleY:et(L),angle:et(F),flipX:M,flipY:D,opacity:et(X),shadow:l&&l.toObject(),visible:I,backgroundColor:O,fillRule:W,paintFirst:C,globalCompositeOperation:Q,skewX:et(lt),skewY:et(it)},e?{clipPath:e}:null);return this.includeDefaultValues?B:this._removeDefaultValues(B)}toDatalessObject(t){return this.toObject(t)}_removeDefaultValues(t){const e=this.constructor.getDefaults(),r=Object.keys(e).length>0?e:Object.getPrototypeOf(this);return Rp(t,(n,o)=>{if(o===Ue||o===Cr||o==="type")return!0;const d=r[o];return n!==d&&!(Array.isArray(n)&&Array.isArray(d)&&n.length===0&&d.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(t){let e=ri(t,Ab),r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:n}=r,o=ri(r,mb);return Dc(e,o).then(d=>n?(delete d[n],new this(e[n],d)):new this(d))}static fromObject(t,e){return this._fromObject(t,e)}};wt(fs,"stateProperties",nb),wt(fs,"cacheProperties",Ss),wt(fs,"ownDefaults",sb),wt(fs,"type","FabricObject"),wt(fs,"colorProperties",[Di,pr,"backgroundColor"]),wt(fs,"customProperties",[]),Vt.setClass(fs),Vt.setClass(fs,"object");const la=(i,t,e)=>(r,n,o,d)=>{const l=t(r,n,o,d);return l&&Up(i,vt(vt({},Wp(r,n,o,d)),e)),l};function lo(i){return(t,e,r,n)=>{const{target:o,originX:d,originY:l}=e,s=o.getRelativeCenterPoint(),a=o.translateToOriginPoint(s,d,l),c=i(t,e,r,n);return o.setPositionByOrigin(a,e.originX,e.originY),c}}const Hd=la(Ac,lo((i,t,e,r)=>{const n=Xu(t,t.originX,t.originY,e,r);if(Oi(t.originX)===Oi(_e)||Oi(t.originX)===Oi(_i)&&n.x<0||Oi(t.originX)===Oi(Ue)&&n.x>0){const{target:o}=t,d=o.strokeWidth/(o.strokeUniform?o.scaleX:1),l=Jm(t)?2:1,s=o.width,a=Math.abs(n.x*l/o.scaleX)-d;return o.set("width",Math.max(a,1)),s!==o.width}return!1}));function u1(i,t,e,r,n){r=r||{};const o=this.sizeX||r.cornerSize||n.cornerSize,d=this.sizeY||r.cornerSize||n.cornerSize,l=r.transparentCorners!==void 0?r.transparentCorners:n.transparentCorners,s=l?pr:Di,a=!l&&(r.cornerStrokeColor||n.cornerStrokeColor);let c,u=t,f=e;i.save(),i.fillStyle=r.cornerColor||n.cornerColor||"",i.strokeStyle=r.cornerStrokeColor||n.cornerStrokeColor||"",o>d?(c=o,i.scale(1,d/o),f=e*o/d):d>o?(c=d,i.scale(o/d,1),u=t*d/o):c=o,i.beginPath(),i.arc(u,f,c/2,0,Cs,!1),i[s](),a&&i.stroke(),i.restore()}function f1(i,t,e,r,n){r=r||{};const o=this.sizeX||r.cornerSize||n.cornerSize,d=this.sizeY||r.cornerSize||n.cornerSize,l=r.transparentCorners!==void 0?r.transparentCorners:n.transparentCorners,s=l?pr:Di,a=!l&&(r.cornerStrokeColor||n.cornerStrokeColor),c=o/2,u=d/2;i.save(),i.fillStyle=r.cornerColor||n.cornerColor||"",i.strokeStyle=r.cornerStrokeColor||n.cornerStrokeColor||"",i.translate(t,e);const f=n.getTotalAngle();i.rotate(gi(f)),i["".concat(s,"Rect")](-c,-u,o,d),a&&i.strokeRect(-c,-u,o,d),i.restore()}class jr{constructor(t){wt(this,"visible",!0),wt(this,"actionName",ju),wt(this,"angle",0),wt(this,"x",0),wt(this,"y",0),wt(this,"offsetX",0),wt(this,"offsetY",0),wt(this,"sizeX",0),wt(this,"sizeY",0),wt(this,"touchSizeX",0),wt(this,"touchSizeY",0),wt(this,"cursorStyle","crosshair"),wt(this,"withConnection",!1),Object.assign(this,t)}shouldActivate(t,e,r,n){var o;let{tl:d,tr:l,br:s,bl:a}=n;return((o=e.canvas)===null||o===void 0?void 0:o.getActiveObject())===e&&e.isControlVisible(t)&&ai.isPointInPolygon(r,[d,l,s,a])}getActionHandler(t,e,r){return this.actionHandler}getMouseDownHandler(t,e,r){return this.mouseDownHandler}getMouseUpHandler(t,e,r){return this.mouseUpHandler}cursorStyleHandler(t,e,r){return e.cursorStyle}getActionName(t,e,r){return e.actionName}getVisibility(t,e){var r,n;return(r=(n=t._controlsVisibility)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:this.visible}setVisibility(t,e,r){this.visible=t}positionHandler(t,e,r,n){return new Ot(this.x*t.x+this.offsetX,this.y*t.y+this.offsetY).transform(e)}calcCornerCoords(t,e,r,n,o,d){const l=zu([fl(r,n),ao({angle:t}),Uu((o?this.touchSizeX:this.sizeX)||e,(o?this.touchSizeY:this.sizeY)||e)]);return{tl:new Ot(-.5,-.5).transform(l),tr:new Ot(.5,-.5).transform(l),br:new Ot(.5,.5).transform(l),bl:new Ot(-.5,.5).transform(l)}}render(t,e,r,n,o){((n=n||{}).cornerStyle||o.cornerStyle)==="circle"?u1.call(this,t,e,r,n,o):f1.call(this,t,e,r,n,o)}}const d1=(i,t,e)=>e.lockRotation?yu:t.cursorStyle,p1=la(Em,lo((i,t,e,r)=>{let{target:n,ex:o,ey:d,theta:l,originX:s,originY:a}=t;const c=n.translateToOriginPoint(n.getRelativeCenterPoint(),s,a);if(wn(n,"lockRotation"))return!1;const u=Math.atan2(d-c.y,o-c.x),f=Math.atan2(r-c.y,e-c.x);let h=Yn(f-u+l);if(n.snapAngle&&n.snapAngle>0){const A=n.snapAngle,g=n.snapThreshold||A,m=Math.ceil(h/A)*A,v=Math.floor(h/A)*A;Math.abs(h-v)<g?h=v:Math.abs(h-m)<g&&(h=m)}h<0&&(h=360+h),h%=360;const p=n.angle!==h;return n.angle=h,p}));function g1(i,t){const e=t.canvas,r=i[e.uniScaleKey];return e.uniformScaling&&!r||!e.uniformScaling&&r}function A1(i,t,e){const r=wn(i,"lockScalingX"),n=wn(i,"lockScalingY");if(r&&n||!t&&(r||n)&&e||r&&t==="x"||n&&t==="y")return!0;const{width:o,height:d,strokeWidth:l}=i;return o===0&&l===0&&t!=="y"||d===0&&l===0&&t!=="x"}const vb=["e","se","s","sw","w","nw","n","ne","e"],jo=(i,t,e)=>{const r=g1(i,e);if(A1(e,t.x!==0&&t.y===0?"x":t.x===0&&t.y!==0?"y":"",r))return yu;const n=Zm(e,t);return"".concat(vb[n],"-resize")};function qp(i,t,e,r){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const o=t.target,d=n.by,l=g1(i,o);let s,a,c,u,f,h;if(A1(o,d,l))return!1;if(t.gestureScale)a=t.scaleX*t.gestureScale,c=t.scaleY*t.gestureScale;else{if(s=Xu(t,t.originX,t.originY,e,r),f=d!=="y"?Math.sign(s.x||t.signX||1):1,h=d!=="x"?Math.sign(s.y||t.signY||1):1,t.signX||(t.signX=f),t.signY||(t.signY=h),wn(o,"lockScalingFlip")&&(t.signX!==f||t.signY!==h))return!1;if(u=o._getTransformedDimensions(),l&&!d){const g=Math.abs(s.x)+Math.abs(s.y),{original:m}=t,v=g/(Math.abs(u.x*m.scaleX/o.scaleX)+Math.abs(u.y*m.scaleY/o.scaleY));a=m.scaleX*v,c=m.scaleY*v}else a=Math.abs(s.x*o.scaleX/u.x),c=Math.abs(s.y*o.scaleY/u.y);Jm(t)&&(a*=2,c*=2),t.signX!==f&&d!=="y"&&(t.originX=f0(t.originX),a*=-1,t.signX=f),t.signY!==h&&d!=="x"&&(t.originY=f0(t.originY),c*=-1,t.signY=h)}const p=o.scaleX,A=o.scaleY;return d?(d==="x"&&o.set(Ar,a),d==="y"&&o.set(Hr,c)):(!wn(o,"lockScalingX")&&o.set(Ar,a),!wn(o,"lockScalingY")&&o.set(Hr,c)),p!==o.scaleX||A!==o.scaleY}const Jl=la(Ru,lo((i,t,e,r)=>qp(i,t,e,r))),m1=la(Ru,lo((i,t,e,r)=>qp(i,t,e,r,{by:"x"}))),v1=la(Ru,lo((i,t,e,r)=>qp(i,t,e,r,{by:"y"}))),yb=["target","ex","ey","skewingSide"],Yf={x:{counterAxis:"y",scale:Ar,skew:hl,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:Hr,skew:ul,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},bb=["ns","nesw","ew","nwse"],y1=(i,t,e)=>{if(t.x!==0&&wn(e,"lockSkewingY")||t.y!==0&&wn(e,"lockSkewingX"))return yu;const r=Zm(e,t)%4;return"".concat(bb[r],"-resize")};function b1(i,t,e,r,n){const{target:o}=e,{counterAxis:d,origin:l,lockSkewing:s,skew:a,flip:c}=Yf[i];if(wn(o,s))return!1;const{origin:u,flip:f}=Yf[d],h=Oi(e[u])*(o[f]?-1:1),p=-Math.sign(h)*(o[c]?-1:1),A=.5*-((o[a]===0&&Xu(e,_e,_e,r,n)[i]>0||o[a]>0?1:-1)*p)+.5;return la(Mm,lo((m,v,y,w)=>function(x,L,F){let{target:M,ex:D,ey:X,skewingSide:I}=L,O=ri(L,yb);const{skew:W}=Yf[x],C=F.subtract(new Ot(D,X)).divide(new Ot(M.scaleX,M.scaleY))[x],Q=M[W],lt=O[W],it=Math.tan(gi(lt)),et=x==="y"?M._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:M._getTransformedDimensions({scaleX:1,scaleY:1}).y,B=2*C*I/Math.max(et,1)+it,K=Yn(Math.atan(B));M.set(W,K);const z=Q!==M[W];if(z&&x==="y"){const{skewX:S,scaleX:j}=M,N=M._getTransformedDimensions({skewY:Q}),E=M._getTransformedDimensions(),H=S!==0?N.x/E.x:1;H!==1&&M.set(Ar,H*j)}return z}(i,v,new Ot(y,w))))(t,vt(vt({},e),{},{[l]:A,skewingSide:p}),r,n)}const w1=(i,t,e,r)=>b1("x",i,t,e,r),_1=(i,t,e,r)=>b1("y",i,t,e,r);function Vu(i,t){return i[t.canvas.altActionKey]}const Zl=(i,t,e)=>{const r=Vu(i,e);return t.x===0?r?hl:Hr:t.y===0?r?ul:Ar:""},Ga=(i,t,e)=>Vu(i,e)?y1(0,t,e):jo(i,t,e),Vd=(i,t,e,r)=>Vu(i,t.target)?_1(i,t,e,r):m1(i,t,e,r),Yd=(i,t,e,r)=>Vu(i,t.target)?w1(i,t,e,r):v1(i,t,e,r),Qp=()=>({ml:new jr({x:-.5,y:0,cursorStyleHandler:Ga,actionHandler:Vd,getActionName:Zl}),mr:new jr({x:.5,y:0,cursorStyleHandler:Ga,actionHandler:Vd,getActionName:Zl}),mb:new jr({x:0,y:.5,cursorStyleHandler:Ga,actionHandler:Yd,getActionName:Zl}),mt:new jr({x:0,y:-.5,cursorStyleHandler:Ga,actionHandler:Yd,getActionName:Zl}),tl:new jr({x:-.5,y:-.5,cursorStyleHandler:jo,actionHandler:Jl}),tr:new jr({x:.5,y:-.5,cursorStyleHandler:jo,actionHandler:Jl}),bl:new jr({x:-.5,y:.5,cursorStyleHandler:jo,actionHandler:Jl}),br:new jr({x:.5,y:.5,cursorStyleHandler:jo,actionHandler:Jl}),mtr:new jr({x:0,y:-.5,actionHandler:p1,cursorStyleHandler:d1,offsetY:-40,withConnection:!0,actionName:Ep})}),x1=()=>({mr:new jr({x:.5,y:0,actionHandler:Hd,cursorStyleHandler:Ga,actionName:Ac}),ml:new jr({x:-.5,y:0,actionHandler:Hd,cursorStyleHandler:Ga,actionName:Ac})}),C1=()=>vt(vt({},Qp()),x1());class vc extends fs{static getDefaults(){return vt(vt({},super.getDefaults()),vc.ownDefaults)}constructor(t){super(),Object.assign(this,this.constructor.createControls(),vc.ownDefaults),this.setOptions(t)}static createControls(){return{controls:Qp()}}_updateCacheCanvas(){const t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){const e=t._currentTransform,r=e.target,n=e.action;if(this===r&&n&&n.startsWith(ju))return!1}return super._updateCacheCanvas()}getActiveControl(){const t=this.__corner;return t?{key:t,control:this.controls[t],coord:this.oCoords[t]}:void 0}findControl(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;const r=Object.entries(this.oCoords);for(let n=r.length-1;n>=0;n--){const[o,d]=r[n],l=this.controls[o];if(l.shouldActivate(o,this,t,e?d.touchCorner:d.corner))return this.__corner=o,{key:o,control:l,coord:this.oCoords[o]}}}calcOCoords(){const t=this.getViewportTransform(),e=this.getCenterPoint(),r=fl(e.x,e.y),n=ao({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),o=oi(r,n),d=oi(t,o),l=oi(d,[1/t[0],0,0,1/t[3],0,0]),s=this.group?to(this.calcTransformMatrix()):void 0;s&&(s.scaleX=Math.abs(s.scaleX),s.scaleY=Math.abs(s.scaleY));const a=this._calculateCurrentDimensions(s),c={};return this.forEachControl((u,f)=>{const h=u.positionHandler(a,l,this,u);c[f]=Object.assign(h,this._calcCornerCoords(u,h))}),c}_calcCornerCoords(t,e){const r=this.getTotalAngle();return{corner:t.calcCornerCoords(r,this.cornerSize,e.x,e.y,!1,this),touchCorner:t.calcCornerCoords(r,this.touchCornerSize,e.x,e.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(t){for(const e in this.controls)t(this.controls[e],e,this)}drawSelectionBackground(t){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;t.save();const e=this.getRelativeCenterPoint(),r=this._calculateCurrentDimensions(),n=this.getViewportTransform();t.translate(e.x,e.y),t.scale(1/n[0],1/n[3]),t.rotate(gi(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore()}strokeBorders(t,e){t.strokeRect(-e.x/2,-e.y/2,e.x,e.y)}_drawBorders(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=vt({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},r);t.save(),t.strokeStyle=n.borderColor,this._setLineDash(t,n.borderDashArray),this.strokeBorders(t,e),n.hasControls&&this.drawControlsConnectingLines(t,e),t.restore()}_renderControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{hasBorders:r,hasControls:n}=this,o=vt({hasBorders:r,hasControls:n},e),d=this.getViewportTransform(),l=o.hasBorders,s=o.hasControls,a=oi(d,this.calcTransformMatrix()),c=to(a);t.save(),t.translate(c.translateX,c.translateY),t.lineWidth=this.borderScaleFactor,this.group===this.parent&&(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(c.angle-=180),t.rotate(gi(this.group?c.angle:this.angle)),l&&this.drawBorders(t,c,e),s&&this.drawControls(t,e),t.restore()}drawBorders(t,e,r){let n;if(r&&r.forActiveSelection||this.group){const o=Wu(this.width,this.height,Oc(e)),d=this.isStrokeAccountedForInDimensions()?Mp:(this.strokeUniform?new Ot().scalarAdd(this.canvas?this.canvas.getZoom():1):new Ot(e.scaleX,e.scaleY)).scalarMultiply(this.strokeWidth);n=o.add(d).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else n=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(t,n,r)}drawControlsConnectingLines(t,e){let r=!1;t.beginPath(),this.forEachControl((n,o)=>{n.withConnection&&n.getVisibility(this,o)&&(r=!0,t.moveTo(n.x*e.x,n.y*e.y),t.lineTo(n.x*e.x+n.offsetX,n.y*e.y+n.offsetY))}),r&&t.stroke()}drawControls(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.save();const r=this.getCanvasRetinaScaling(),{cornerStrokeColor:n,cornerDashArray:o,cornerColor:d}=this,l=vt({cornerStrokeColor:n,cornerDashArray:o,cornerColor:d},e);t.setTransform(r,0,0,r,0,0),t.strokeStyle=t.fillStyle=l.cornerColor,this.transparentCorners||(t.strokeStyle=l.cornerStrokeColor),this._setLineDash(t,l.cornerDashArray),this.forEachControl((s,a)=>{if(s.getVisibility(this,a)){const c=this.oCoords[a];s.render(t,c.x,c.y,l,this)}}),t.restore()}isControlVisible(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)}setControlVisible(t,e){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e}setControlsVisibility(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(t).forEach(e=>{let[r,n]=e;return this.setControlVisible(r,n)})}clearContextTop(t){if(!this.canvas)return;const e=this.canvas.contextTop;if(!e)return;const r=this.canvas.viewportTransform;e.save(),e.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.transform(e);const n=this.width+4,o=this.height+4;return e.clearRect(-n/2,-o/2,n,o),t||e.restore(),e}onDeselect(t){return!1}onSelect(t){return!1}shouldStartDragging(t){return!1}onDragStart(t){return!1}canDrop(t){return!1}renderDragSourceEffect(t){}renderDropTargetEffect(t){}}function S1(i,t){return t.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(r=>{r!=="constructor"&&Object.defineProperty(i.prototype,r,Object.getOwnPropertyDescriptor(e.prototype,r)||Object.create(null))})}),i}wt(vc,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class nr extends vc{}S1(nr,[e1]),Vt.setClass(nr),Vt.setClass(nr,"object");const T1=(i,t,e,r)=>{const n=2*(r=Math.round(r))+1,{data:o}=i.getImageData(t-r,e-r,n,n);for(let d=3;d<o.length;d+=4)if(o[d]>0)return!1;return!0};class k1{constructor(t){this.options=t,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new Ot(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new Ot(1/this.options.scaleX,1/this.options.scaleY):new Ot(1,1)}createSideVector(t,e){const r=wu(t,e);return this.options.strokeUniform?r.multiply(this.scale):r}projectOrthogonally(t,e,r){return this.applySkew(t.add(this.calcOrthogonalProjection(t,e,r)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(t){const e=new Ot(t);return e.y+=e.x*Math.tan(gi(this.options.skewY)),e.x+=e.y*Math.tan(gi(this.options.skewX)),e}scaleUnitVector(t,e){return t.multiply(this.strokeUniformScalar).scalarMultiply(e)}}const wb=new Ot;class qo extends k1{static getOrthogonalRotationFactor(t,e){const r=e?xu(t,e):o1(t);return Math.abs(r)<na?-1:1}constructor(t,e,r,n){super(n),wt(this,"AB",void 0),wt(this,"AC",void 0),wt(this,"alpha",void 0),wt(this,"bisector",void 0),this.A=new Ot(t),this.B=new Ot(e),this.C=new Ot(r),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=xu(this.AB,this.AC),this.bisector=Hu(Gp(this.AB.eq(wb)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const n=this.createSideVector(t,e),o=Hp(n),d=qo.getOrthogonalRotationFactor(o,this.bisector);return this.scaleUnitVector(o,r*d)}projectBevel(){const t=[];return(this.alpha%Cs==0?[this.B]:[this.B,this.C]).forEach(e=>{t.push(this.projectOrthogonally(this.A,e)),t.push(this.projectOrthogonally(this.A,e,-this.strokeProjectionMagnitude))}),t}projectMiter(){const t=[],e=Math.abs(this.alpha),r=1/Math.sin(e/2),n=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*r),o=this.options.strokeUniform?_u(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return _u(n)/this.strokeProjectionMagnitude<=o&&t.push(this.applySkew(this.A.add(n))),t.push(...this.projectBevel()),t}projectRoundNoSkew(t,e){const r=[],n=new Ot(qo.getOrthogonalRotationFactor(this.bisector),qo.getOrthogonalRotationFactor(new Ot(this.bisector.y,this.bisector.x)));return[new Ot(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n),new Ot(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(n)].forEach(o=>{Xd(o,t,e)&&r.push(this.A.add(o))}),r}projectRoundWithSkew(t,e){const r=[],{skewX:n,skewY:o,scaleX:d,scaleY:l,strokeUniform:s}=this.options,a=new Ot(Math.tan(gi(n)),Math.tan(gi(o))),c=this.strokeProjectionMagnitude,u=s?c/l/Math.sqrt(1/l**2+1/d**2*a.y**2):c/Math.sqrt(1+a.y**2),f=new Ot(Math.sqrt(Math.max(c**2-u**2,0)),u),h=s?c/Math.sqrt(1+a.x**2*(1/l)**2/(1/d+1/d*a.x*a.y)**2):c/Math.sqrt(1+a.x**2/(1+a.x*a.y)**2),p=new Ot(h,Math.sqrt(Math.max(c**2-h**2,0)));return[p,p.scalarMultiply(-1),f,f.scalarMultiply(-1)].map(A=>this.applySkew(s?A.multiply(this.strokeUniformScalar):A)).forEach(A=>{Xd(A,t,e)&&r.push(this.applySkew(this.A).add(A))}),r}projectRound(){const t=[];t.push(...this.projectBevel());const e=this.alpha%Cs==0,r=this.applySkew(this.A),n=t[e?0:2].subtract(r),o=t[e?1:0].subtract(r),d=e?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),l=Yo(n,d)>0,s=l?n:o,a=l?o:n;return this.isSkewed()?t.push(...this.projectRoundWithSkew(s,a)):t.push(...this.projectRoundNoSkew(s,a)),t}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t,angle:this.alpha,bisector:this.bisector}))}}class T0 extends k1{constructor(t,e,r){super(r),this.A=new Ot(t),this.T=new Ot(e)}calcOrthogonalProjection(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude;const n=this.createSideVector(t,e);return this.scaleUnitVector(Hp(n),r)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){const t=[];if(!this.isSkewed()&&this.A.eq(this.T)){const e=new Ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.applySkew(this.A.add(e)),this.applySkew(this.A.subtract(e)))}else t.push(...new qo(this.A,this.T,this.T,this.options).projectRound());return t}projectSquare(){const t=[];if(this.A.eq(this.T)){const e=new Ot(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);t.push(this.A.add(e),this.A.subtract(e))}else{const e=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),r=this.scaleUnitVector(Hu(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),n=this.A.add(r);t.push(n.add(e),n.subtract(e))}return t.map(e=>this.applySkew(e))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map(t=>({originPoint:this.A,projectedPoint:t}))}}const L1=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const r=[];if(i.length===0)return r;const n=i.reduce((o,d)=>(o[o.length-1].eq(d)||o.push(new Ot(d)),o),[new Ot(i[0])]);if(n.length===1)e=!0;else if(!e){const o=n[0],d=((l,s)=>{for(let a=l.length-1;a>=0;a--)if(s(l[a],a,l))return a;return-1})(n,l=>!l.eq(o));n.splice(d+1)}return n.forEach((o,d,l)=>{let s,a;d===0?(a=l[1],s=e?o:l[l.length-1]):d===l.length-1?(s=l[d-1],a=e?o:l[0]):(s=l[d-1],a=l[d+1]),e&&l.length===1?r.push(...new T0(o,o,t).project()):!e||d!==0&&d!==l.length-1?r.push(...new qo(o,s,a,t).project()):r.push(...new T0(o,d===0?a:s,t).project())}),r},Kp=i=>{const t={};return Object.keys(i).forEach(e=>{t[e]={},Object.keys(i[e]).forEach(r=>{t[e][r]=vt({},i[e][r])})}),t},P1=i=>i.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");let Gl;const Yu=i=>{if(Gl||Gl||(Gl="Intl"in cl()&&"Segmenter"in Intl&&new Intl.Segmenter(void 0,{granularity:"grapheme"})),Gl){const t=Gl.segment(i);return Array.from(t).map(e=>{let{segment:r}=e;return r})}return _b(i)},_b=i=>{const t=[];for(let e,r=0;r<i.length;r++)(e=xb(i,r))!==!1&&t.push(e);return t},xb=(i,t)=>{const e=i.charCodeAt(t);if(isNaN(e))return"";if(e<55296||e>57343)return i.charAt(t);if(55296<=e&&e<=56319){if(i.length<=t+1)throw"High surrogate without following low surrogate";const n=i.charCodeAt(t+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return i.charAt(t)+i.charAt(t+1)}if(t===0)throw"Low surrogate without preceding high surrogate";const r=i.charCodeAt(t-1);if(55296>r||r>56319)throw"Low surrogate without preceding high surrogate";return!1};var Cb=Object.freeze({__proto__:null,capitalize:function(i){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(i.charAt(0).toUpperCase()).concat(t?i.slice(1):i.slice(1).toLowerCase())},escapeXml:P1,graphemeSplit:Yu});const qu=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return i.fill!==t.fill||i.stroke!==t.stroke||i.strokeWidth!==t.strokeWidth||i.fontSize!==t.fontSize||i.fontFamily!==t.fontFamily||i.fontWeight!==t.fontWeight||i.fontStyle!==t.fontStyle||i.textDecorationThickness!==t.textDecorationThickness||i.textBackgroundColor!==t.textBackgroundColor||i.deltaY!==t.deltaY||e&&(i.overline!==t.overline||i.underline!==t.underline||i.linethrough!==t.linethrough)},O1=(i,t)=>{const e=t.split(`
`),r=[];let n=-1,o={};i=Kp(i);for(let d=0;d<e.length;d++){const l=Yu(e[d]);if(i[d])for(let s=0;s<l.length;s++){n++;const a=i[d][s];a&&Object.keys(a).length>0&&(qu(o,a,!0)?r.push({start:n,end:n+1,style:a}):r[r.length-1].end++),o=a||{}}else n+=l.length,o={}}return r},D1=(i,t)=>{if(!Array.isArray(i))return Kp(i);const e=t.split(Dp),r={};let n=-1,o=0;for(let d=0;d<e.length;d++){const l=Yu(e[d]);for(let s=0;s<l.length;s++)n++,i[o]&&i[o].start<=n&&n<i[o].end&&(r[d]=r[d]||{},r[d][s]=vt({},i[o].style),n===i[o].end-1&&o++)}return r},ca=["display","transform",Di,"fill-opacity","fill-rule","opacity",pr,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function k0(i,t){const e=i.nodeName,r=i.getAttribute("class"),n=i.getAttribute("id"),o="(?![a-zA-Z\\-]+)";let d;if(d=new RegExp("^"+e,"i"),t=t.replace(d,""),n&&t.length&&(d=new RegExp("#"+n+o,"i"),t=t.replace(d,"")),r&&t.length){const l=r.split(" ");for(let s=l.length;s--;)d=new RegExp("\\."+l[s]+o,"i"),t=t.replace(d,"")}return t.length===0}function Sb(i,t){let e=!0;const r=k0(i,t.pop());return r&&t.length&&(e=function(n,o){let d,l=!0;for(;n.parentElement&&n.parentElement.nodeType===1&&o.length;)l&&(d=o.pop()),l=k0(n=n.parentElement,d);return o.length===0}(i,t)),r&&e&&t.length===0}const Tb=i=>{var t;return(t=tb[i])!==null&&t!==void 0?t:i},kb=new RegExp("(".concat(bn,")"),"gi"),Lb=i=>i.replace(kb," $1 ").replace(/,/gi," ").replace(/\s+/gi," ");var L0,P0,O0,D0,E0,M0,F0;const ur="(".concat(bn,")"),Pb=String.raw(L0||(L0=qn(["(skewX)(",")"],["(skewX)\\(","\\)"])),ur),Ob=String.raw(P0||(P0=qn(["(skewY)(",")"],["(skewY)\\(","\\)"])),ur),Db=String.raw(O0||(O0=qn(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),ur,ur,ur),Eb=String.raw(D0||(D0=qn(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),ur,ur),Mb=String.raw(E0||(E0=qn(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),ur,ur),Fb=String.raw(M0||(M0=qn(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),ur,ur,ur,ur,ur,ur),$p="(?:".concat(Fb,"|").concat(Mb,"|").concat(Db,"|").concat(Eb,"|").concat(Pb,"|").concat(Ob,")"),Nb="(?:".concat($p,"*)"),Bb=String.raw(F0||(F0=qn(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),Nb),Ib=new RegExp(Bb),Rb=new RegExp($p),jb=new RegExp($p,"g");function Cu(i){const t=[];if(!(i=Lb(i).replace(/\s*([()])\s*/gi,"$1"))||i&&!Ib.test(i))return[...gr];for(const e of i.matchAll(jb)){const r=Rb.exec(e[0]);if(!r)continue;let n=gr;const o=r.filter(p=>!!p),[,d,...l]=o,[s,a,c,u,f,h]=l.map(p=>parseFloat(p));switch(d){case"translate":n=fl(s,a);break;case Ep:n=ao({angle:s},{x:a,y:c});break;case ju:n=Uu(s,a);break;case hl:n=Bp(s);break;case ul:n=Ip(s);break;case"matrix":n=[s,a,c,u,f,h]}t.push(n)}return zu(t)}function zb(i,t,e,r){const n=Array.isArray(t);let o,d=t;if(i!==Di&&i!==pr||t!==dr){if(i==="strokeUniform")return t==="non-scaling-stroke";if(i==="strokeDashArray")d=t===dr?null:t.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(i==="transformMatrix")d=e&&e.transformMatrix?oi(e.transformMatrix,Cu(t)):Cu(t);else if(i==="visible")d=t!==dr&&t!=="hidden",e&&e.visible===!1&&(d=!1);else if(i==="opacity")d=parseFloat(t),e&&e.opacity!==void 0&&(d*=e.opacity);else if(i==="textAnchor")d=t==="start"?Ue:t==="end"?_i:_e;else if(i==="charSpacing"||i===eo)o=hr(t,r)/r*1e3;else if(i==="paintFirst"){const l=t.indexOf(Di),s=t.indexOf(pr);d=Di,(l>-1&&s>-1&&s<l||l===-1&&s>-1)&&(d=pr)}else{if(i==="href"||i==="xlink:href"||i==="font"||i==="id")return t;if(i==="imageSmoothing")return t==="optimizeQuality";o=n?t.map(hr):hr(t,r)}}else d="";return!n&&isNaN(o)?d:o}function Ub(i,t){const e=i.match(Zy);if(!e)return;const r=e[1],n=e[3],o=e[4],d=e[5],l=e[6];r&&(t.fontStyle=r),n&&(t.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),o&&(t.fontSize=hr(o)),l&&(t.fontFamily=l),d&&(t.lineHeight=d==="normal"?1:d)}function qd(i,t){i.replace(/;\s*$/,"").split(";").forEach(e=>{if(!e)return;const[r,n]=e.split(":");t[r.trim().toLowerCase()]=n.trim()})}function Wb(i){const t={},e=i.getAttribute("style");return e&&(typeof e=="string"?qd(e,t):function(r,n){Object.entries(r).forEach(o=>{let[d,l]=o;l!==void 0&&(n[d.toLowerCase()]=l)})}(e,t)),t}const Xb={stroke:"strokeOpacity",fill:"fillOpacity"};function Ts(i,t,e){if(!i)return{};let r,n={},o=Op;i.parentNode&&b0.test(i.parentNode.nodeName)&&(n=Ts(i.parentElement,t,e),n.fontSize&&(r=o=hr(n.fontSize)));const d=vt(vt(vt({},t.reduce((a,c)=>{const u=i.getAttribute(c);return u&&(a[c]=u),a},{})),function(a){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={};for(const f in c)Sb(a,f.split(" "))&&(u=vt(vt({},u),c[f]));return u}(i,e)),Wb(i));d[Gf]&&i.setAttribute(Gf,d[Gf]),d[Xf]&&(r=hr(d[Xf],o),d[Xf]="".concat(r));const l={};for(const a in d){const c=Tb(a),u=zb(c,d[a],n,r);l[c]=u}l&&l.font&&Ub(l.font,l);const s=vt(vt({},n),l);return b0.test(i.nodeName)?s:function(a){const c=nr.getDefaults();return Object.entries(Xb).forEach(u=>{let[f,h]=u;if(a[h]===void 0||a[f]==="")return;if(a[f]===void 0){if(!c[f])return;a[f]=c[f]}if(a[f].indexOf("url(")===0)return;const p=new Yr(a[f]);a[f]=p.setAlpha(qe(p.getAlpha()*a[h],2)).toRgba()}),a}(s)}const Gb=["left","top","width","height","visible"],E1=["rx","ry"];let qs=class Qd extends nr{static getDefaults(){return vt(vt({},super.getDefaults()),Qd.ownDefaults)}constructor(t){super(),Object.assign(this,Qd.ownDefaults),this.setOptions(t),this._initRxRy()}_initRxRy(){const{rx:t,ry:e}=this;t&&!e?this.ry=t:e&&!t&&(this.rx=e)}_render(t){const{width:e,height:r}=this,n=-e/2,o=-r/2,d=this.rx?Math.min(this.rx,e/2):0,l=this.ry?Math.min(this.ry,r/2):0,s=d!==0||l!==0;t.beginPath(),t.moveTo(n+d,o),t.lineTo(n+e-d,o),s&&t.bezierCurveTo(n+e-Gs*d,o,n+e,o+Gs*l,n+e,o+l),t.lineTo(n+e,o+r-l),s&&t.bezierCurveTo(n+e,o+r-Gs*l,n+e-Gs*d,o+r,n+e-d,o+r),t.lineTo(n+d,o+r),s&&t.bezierCurveTo(n+Gs*d,o+r,n,o+r-Gs*l,n,o+r-l),t.lineTo(n,o+l),s&&t.bezierCurveTo(n,o+Gs*l,n+Gs*d,o,n+d,o),t.closePath(),this._renderPaintInOrder(t)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...E1,...t])}_toSVG(){const{width:t,height:e,rx:r,ry:n}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-t/2,'" y="').concat(-e/2,'" rx="').concat(r,'" ry="').concat(n,'" width="').concat(t,'" height="').concat(e,`" />
`)]}static async fromElement(t,e,r){const n=Ts(t,this.ATTRIBUTE_NAMES,r),{left:o=0,top:d=0,width:l=0,height:s=0,visible:a=!0}=n,c=ri(n,Gb);return new this(vt(vt(vt({},e),c),{},{left:o,top:d,width:l,height:s,visible:!!(a&&l&&s)}))}};wt(qs,"type","Rect"),wt(qs,"cacheProperties",[...Ss,...E1]),wt(qs,"ownDefaults",{rx:0,ry:0}),wt(qs,"ATTRIBUTE_NAMES",[...ca,"x","y","rx","ry","width","height"]),Vt.setClass(qs),Vt.setSVGClass(qs);const ys="initialization",Su="added",Jp="removed",Tu="imperative",M1=(i,t)=>{const{strokeUniform:e,strokeWidth:r,width:n,height:o,group:d}=t,l=d&&d!==i?Ec(d.calcTransformMatrix(),i.calcTransformMatrix()):null,s=l?t.getRelativeCenterPoint().transform(l):t.getRelativeCenterPoint(),a=!t.isStrokeAccountedForInDimensions(),c=e&&a?$m(new Ot(r,r),void 0,i.calcTransformMatrix()):Mp,u=!e&&a?r:0,f=Wu(n+u,o+u,zu([l,t.calcOwnMatrix()],!0)).add(c).scalarDivide(2);return[s.subtract(f),s.add(f)]};let Qu=class{calcLayoutResult(t,e){if(this.shouldPerformLayout(t))return this.calcBoundingBox(e,t)}shouldPerformLayout(t){let{type:e,prevStrategy:r,strategy:n}=t;return e===ys||e===Tu||!!r&&n!==r}shouldLayoutClipPath(t){let{type:e,target:{clipPath:r}}=t;return e!==ys&&r&&!r.absolutePositioned}getInitialSize(t,e){return e.size}calcBoundingBox(t,e){const{type:r,target:n}=e;if(r===Tu&&e.overrides)return e.overrides;if(t.length===0)return;const{left:o,top:d,width:l,height:s}=Wn(t.map(u=>M1(n,u)).reduce((u,f)=>u.concat(f),[])),a=new Ot(l,s),c=new Ot(o,d).add(a.scalarDivide(2));if(r===ys){const u=this.getInitialSize(e,{size:a,center:c});return{center:c,relativeCorrection:new Ot(0,0),size:u}}return{center:c.transform(n.calcOwnMatrix()),size:a}}};wt(Qu,"type","strategy");class Kd extends Qu{shouldPerformLayout(t){return!0}}wt(Kd,"type","fit-content"),Vt.setClass(Kd);const Hb=["strategy"],Vb=["target","strategy","bubbles","prevStrategy"],F1="layoutManager";let yc=class{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Kd;wt(this,"strategy",void 0),this.strategy=t,this._subscriptions=new Map}performLayout(t){const e=vt(vt({bubbles:!0,strategy:this.strategy},t),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(e);const r=this.getLayoutResult(e);r&&this.commitLayout(e,r),this.onAfterLayout(e,r),this._prevLayoutStrategy=e.strategy}attachHandlers(t,e){const{target:r}=e;return[Au,Dm,Ac,Em,Ru,Mm,gu,Fm,Gy].map(n=>t.on(n,o=>this.performLayout(n===Au?{type:"object_modified",trigger:n,e:o,target:r}:{type:"object_modifying",trigger:n,e:o,target:r})))}subscribe(t,e){this.unsubscribe(t,e);const r=this.attachHandlers(t,e);this._subscriptions.set(t,r)}unsubscribe(t,e){(this._subscriptions.get(t)||[]).forEach(r=>r()),this._subscriptions.delete(t)}unsubscribeTargets(t){t.targets.forEach(e=>this.unsubscribe(e,t))}subscribeTargets(t){t.targets.forEach(e=>this.subscribe(e,t))}onBeforeLayout(t){const{target:e,type:r}=t,{canvas:n}=e;if(r===ys||r===Su?this.subscribeTargets(t):r===Jp&&this.unsubscribeTargets(t),e.fire("layout:before",{context:t}),n&&n.fire("object:layout:before",{target:e,context:t}),r===Tu&&t.deep){const o=ri(t,Hb);e.forEachObject(d=>d.layoutManager&&d.layoutManager.performLayout(vt(vt({},o),{},{bubbles:!1,target:d})))}}getLayoutResult(t){const{target:e,strategy:r,type:n}=t,o=r.calcLayoutResult(t,e.getObjects());if(!o)return;const d=n===ys?new Ot:e.getRelativeCenterPoint(),{center:l,correction:s=new Ot,relativeCorrection:a=new Ot}=o,c=d.subtract(l).add(s).transform(n===ys?gr:_r(e.calcOwnMatrix()),!0).add(a);return{result:o,prevCenter:d,nextCenter:l,offset:c}}commitLayout(t,e){const{target:r}=t,{result:{size:n},nextCenter:o}=e;var d,l;r.set({width:n.x,height:n.y}),this.layoutObjects(t,e),t.type===ys?r.set({left:(d=t.x)!==null&&d!==void 0?d:o.x+n.x*Oi(r.originX),top:(l=t.y)!==null&&l!==void 0?l:o.y+n.y*Oi(r.originY)}):(r.setPositionByOrigin(o,_e,_e),r.setCoords(),r.set("dirty",!0))}layoutObjects(t,e){const{target:r}=t;r.forEachObject(n=>{n.group===r&&this.layoutObject(t,e,n)}),t.strategy.shouldLayoutClipPath(t)&&this.layoutObject(t,e,r.clipPath)}layoutObject(t,e,r){let{offset:n}=e;r.set({left:r.left+n.x,top:r.top+n.y})}onAfterLayout(t,e){const{target:r,strategy:n,bubbles:o,prevStrategy:d}=t,l=ri(t,Vb),{canvas:s}=r;r.fire("layout:after",{context:t,result:e}),s&&s.fire("object:layout:after",{context:t,result:e,target:r});const a=r.parent;o&&a!=null&&a.layoutManager&&((l.path||(l.path=[])).push(r),a.layoutManager.performLayout(vt(vt({},l),{},{target:a}))),r.set("dirty",!0)}dispose(){const{_subscriptions:t}=this;t.forEach(e=>e.forEach(r=>r())),t.clear()}toObject(){return{type:F1,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}};Vt.setClass(yc,F1);const Yb=["type","objects","layoutManager"];class qb extends yc{performLayout(){}}let ta=class $d extends Nm(nr){static getDefaults(){return vt(vt({},super.getDefaults()),$d.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),wt(this,"_activeObjects",[]),wt(this,"__objectSelectionTracker",void 0),wt(this,"__objectSelectionDisposer",void 0),Object.assign(this,$d.ownDefaults),this.setOptions(e),this.groupInit(t,e)}groupInit(t,e){var r;this._objects=[...t],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject(n=>{this.enterGroup(n,!1)}),this.layoutManager=(r=e.layoutManager)!==null&&r!==void 0?r:new yc,this.layoutManager.performLayout({type:ys,target:this,targets:[...t],x:e.left,y:e.top})}canEnterGroup(t){return t===this||this.isDescendantOf(t)?(xs("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(t)===-1||(xs("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(t){return t.filter((e,r,n)=>this.canEnterGroup(e)&&n.indexOf(e)===r)}add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=this._filterObjectsBeforeEnteringGroup(e),o=super.add(...n);return this._onAfterObjectsChange(Su,n),o}insertAt(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];const o=this._filterObjectsBeforeEnteringGroup(r),d=super.insertAt(t,...o);return this._onAfterObjectsChange(Su,o),d}remove(){const t=super.remove(...arguments);return this._onAfterObjectsChange(Jp,t),t}_onObjectAdded(t){this.enterGroup(t,!0),this.fire("object:added",{target:t}),t.fire("added",{target:this})}_onObjectRemoved(t,e){this.exitGroup(t,e),this.fire("object:removed",{target:t}),t.fire("removed",{target:this})}_onAfterObjectsChange(t,e){this.layoutManager.performLayout({type:t,targets:e,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(t,e){const r=this[t];return super._set(t,e),t==="canvas"&&r!==e&&(this._objects||[]).forEach(n=>{n._set(t,e)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(t,e){let{target:r}=e;const n=this._activeObjects;if(t)n.push(r),this._set("dirty",!0);else if(n.length>0){const o=n.indexOf(r);o>-1&&(n.splice(o,1),this._set("dirty",!0))}}_watchObject(t,e){t&&this._watchObject(!1,e),t?(e.on("selected",this.__objectSelectionTracker),e.on("deselected",this.__objectSelectionDisposer)):(e.off("selected",this.__objectSelectionTracker),e.off("deselected",this.__objectSelectionDisposer))}enterGroup(t,e){t.group&&t.group.remove(t),t._set("parent",this),this._enterGroup(t,e)}_enterGroup(t,e){e&&rl(t,oi(_r(this.calcTransformMatrix()),t.calcTransformMatrix())),this._shouldSetNestedCoords()&&t.setCoords(),t._set("group",this),t._set("canvas",this.canvas),this._watchObject(!0,t);const r=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();r&&(r===t||t.isDescendantOf(r))&&this._activeObjects.push(t)}exitGroup(t,e){this._exitGroup(t,e),t._set("parent",void 0),t._set("canvas",void 0)}_exitGroup(t,e){t._set("group",void 0),e||(rl(t,oi(this.calcTransformMatrix(),t.calcTransformMatrix())),t.setCoords()),this._watchObject(!1,t);const r=this._activeObjects.length>0?this._activeObjects.indexOf(t):-1;r>-1&&this._activeObjects.splice(r,1)}shouldCache(){const t=nr.prototype.shouldCache.call(this);if(t){for(let e=0;e<this._objects.length;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return t}willDrawShadow(){if(super.willDrawShadow())return!0;for(let t=0;t<this._objects.length;t++)if(this._objects[t].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(t,e,r){this._renderBackground(t);for(let o=0;o<this._objects.length;o++){var n;const d=this._objects[o];(n=this.canvas)!==null&&n!==void 0&&n.preserveObjectStacking&&d.group!==this?(t.save(),t.transform(..._r(this.calcTransformMatrix())),d.render(t),t.restore()):d.group===this&&d.render(t)}this._drawClipPath(t,this.clipPath,r)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject(t=>t.setCoords())}triggerLayout(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(vt({target:this,type:Tu},t))}render(t){this._transformDone=!0,super.render(t),this._transformDone=!1}__serializeObjects(t,e){const r=this.includeDefaultValues;return this._objects.filter(function(n){return!n.excludeFromExport}).map(function(n){const o=n.includeDefaultValues;n.includeDefaultValues=r;const d=n[t||"toObject"](e);return n.includeDefaultValues=o,d})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.layoutManager.toObject();return vt(vt(vt({},super.toObject(["subTargetCheck","interactive",...t])),e.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:e}:{}),{},{objects:this.__serializeObjects("toObject",t)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject(t=>{this._watchObject(!1,t),t.dispose()}),super.dispose()}_createSVGBgRect(t){if(!this.backgroundColor)return"";const e=qs.prototype._toSVG.call(this),r=e.indexOf("COMMON_PARTS");e[r]='for="group" ';const n=e.join("");return t?t(n):n}_toSVG(t){const e=["<g ","COMMON_PARTS",` >
`],r=this._createSVGBgRect(t);r&&e.push("		",r);for(let n=0;n<this._objects.length;n++)e.push("		",this._objects[n].toSVG(t));return e.push(`</g>
`),e}getSvgStyles(){const t=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")}toClipPathSVG(t){const e=[],r=this._createSVGBgRect(t);r&&e.push("	",r);for(let n=0;n<this._objects.length;n++)e.push("	",this._objects[n].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}static fromObject(t,e){let{type:r,objects:n=[],layoutManager:o}=t,d=ri(t,Yb);return Promise.all([el(n,e),Dc(d,e)]).then(l=>{let[s,a]=l;const c=new this(s,vt(vt(vt({},d),a),{},{layoutManager:new qb}));if(o){const u=Vt.getClass(o.type),f=Vt.getClass(o.strategy);c.layoutManager=new u(new f)}else c.layoutManager=new yc;return c.layoutManager.subscribeTargets({type:ys,target:c,targets:c.getObjects()}),c.setCoords(),c})}};wt(ta,"type","Group"),wt(ta,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),Vt.setClass(ta);const N1=(i,t)=>Math.min(t.width/i.width,t.height/i.height),B1=(i,t)=>Math.max(t.width/i.width,t.height/i.height),Jd="\\s*,?\\s*",Hl="".concat(Jd,"(").concat(bn,")"),Qb="".concat(Hl).concat(Hl).concat(Hl).concat(Jd,"([01])").concat(Jd,"([01])").concat(Hl).concat(Hl),Kb={m:"l",M:"L"},$b=(i,t,e,r,n,o,d,l,s,a,c)=>{const u=_n(i),f=xn(i),h=_n(t),p=xn(t),A=e*n*h-r*o*p+d,g=r*n*h+e*o*p+l;return["C",a+s*(-e*n*f-r*o*u),c+s*(-r*n*f+e*o*u),A+s*(e*n*p+r*o*h),g+s*(r*n*p-e*o*h),A,g]},N0=(i,t,e,r)=>{const n=Math.atan2(t,i),o=Math.atan2(r,e);return o>=n?o-n:2*Math.PI-(n-o)};function Zd(i,t,e,r,n,o,d,l){let s;if(Ne.cachesBoundsOfCurve&&(s=[...arguments].join(),sc.boundsOfCurveCache[s]))return sc.boundsOfCurveCache[s];const a=Math.sqrt,c=Math.abs,u=[],f=[[0,0],[0,0]];let h=6*i-12*e+6*n,p=-3*i+9*e-9*n+3*d,A=3*e-3*i;for(let w=0;w<2;++w){if(w>0&&(h=6*t-12*r+6*o,p=-3*t+9*r-9*o+3*l,A=3*r-3*t),c(p)<1e-12){if(c(h)<1e-12)continue;const D=-A/h;0<D&&D<1&&u.push(D);continue}const x=h*h-4*A*p;if(x<0)continue;const L=a(x),F=(-h+L)/(2*p);0<F&&F<1&&u.push(F);const M=(-h-L)/(2*p);0<M&&M<1&&u.push(M)}let g=u.length;const m=g,v=R1(i,t,e,r,n,o,d,l);for(;g--;){const{x:w,y:x}=v(u[g]);f[0][g]=w,f[1][g]=x}f[0][m]=i,f[1][m]=t,f[0][m+1]=d,f[1][m+1]=l;const y=[new Ot(Math.min(...f[0]),Math.min(...f[1])),new Ot(Math.max(...f[0]),Math.max(...f[1]))];return Ne.cachesBoundsOfCurve&&(sc.boundsOfCurveCache[s]=y),y}const Jb=(i,t,e)=>{let[r,n,o,d,l,s,a,c]=e;const u=((f,h,p,A,g,m,v)=>{if(p===0||A===0)return[];let y=0,w=0,x=0;const L=Math.PI,F=v*Pp,M=xn(F),D=_n(F),X=.5*(-D*f-M*h),I=.5*(-D*h+M*f),O=p**2,W=A**2,C=I**2,Q=X**2,lt=O*W-O*C-W*Q;let it=Math.abs(p),et=Math.abs(A);if(lt<0){const dt=Math.sqrt(1-lt/(O*W));it*=dt,et*=dt}else x=(g===m?-1:1)*Math.sqrt(lt/(O*C+W*Q));const B=x*it*I/et,K=-x*et*X/it,z=D*B-M*K+.5*f,S=M*B+D*K+.5*h;let j=N0(1,0,(X-B)/it,(I-K)/et),N=N0((X-B)/it,(I-K)/et,(-X-B)/it,(-I-K)/et);m===0&&N>0?N-=2*L:m===1&&N<0&&(N+=2*L);const E=Math.ceil(Math.abs(N/L*2)),H=[],Z=N/E,ot=8/3*Math.sin(Z/4)*Math.sin(Z/4)/Math.sin(Z/2);let nt=j+Z;for(let dt=0;dt<E;dt++)H[dt]=$b(j,nt,D,M,it,et,z,S,ot,y,w),y=H[dt][5],w=H[dt][6],j=nt,nt+=Z;return H})(a-i,c-t,n,o,l,s,d);for(let f=0,h=u.length;f<h;f++)u[f][1]+=i,u[f][2]+=t,u[f][3]+=i,u[f][4]+=t,u[f][5]+=i,u[f][6]+=t;return u},I1=i=>{let t=0,e=0,r=0,n=0;const o=[];let d,l=0,s=0;for(const a of i){const c=[...a];let u;switch(c[0]){case"l":c[1]+=t,c[2]+=e;case"L":t=c[1],e=c[2],u=["L",t,e];break;case"h":c[1]+=t;case"H":t=c[1],u=["L",t,e];break;case"v":c[1]+=e;case"V":e=c[1],u=["L",t,e];break;case"m":c[1]+=t,c[2]+=e;case"M":t=c[1],e=c[2],r=c[1],n=c[2],u=["M",t,e];break;case"c":c[1]+=t,c[2]+=e,c[3]+=t,c[4]+=e,c[5]+=t,c[6]+=e;case"C":l=c[3],s=c[4],t=c[5],e=c[6],u=["C",c[1],c[2],l,s,t,e];break;case"s":c[1]+=t,c[2]+=e,c[3]+=t,c[4]+=e;case"S":d==="C"?(l=2*t-l,s=2*e-s):(l=t,s=e),t=c[3],e=c[4],u=["C",l,s,c[1],c[2],t,e],l=u[3],s=u[4];break;case"q":c[1]+=t,c[2]+=e,c[3]+=t,c[4]+=e;case"Q":l=c[1],s=c[2],t=c[3],e=c[4],u=["Q",l,s,t,e];break;case"t":c[1]+=t,c[2]+=e;case"T":d==="Q"?(l=2*t-l,s=2*e-s):(l=t,s=e),t=c[1],e=c[2],u=["Q",l,s,t,e];break;case"a":c[6]+=t,c[7]+=e;case"A":Jb(t,e,c).forEach(f=>o.push(f)),t=c[6],e=c[7];break;case"z":case"Z":t=r,e=n,u=["Z"]}u?(o.push(u),d=u[0]):d=""}return o},ku=(i,t,e,r)=>Math.sqrt((e-i)**2+(r-t)**2),R1=(i,t,e,r,n,o,d,l)=>s=>{const a=s**3,c=(h=>3*h**2*(1-h))(s),u=(h=>3*h*(1-h)**2)(s),f=(h=>(1-h)**3)(s);return new Ot(d*a+n*c+e*u+i*f,l*a+o*c+r*u+t*f)},j1=i=>i**2,z1=i=>2*i*(1-i),U1=i=>(1-i)**2,Zb=(i,t,e,r,n,o,d,l)=>s=>{const a=j1(s),c=z1(s),u=U1(s),f=3*(u*(e-i)+c*(n-e)+a*(d-n)),h=3*(u*(r-t)+c*(o-r)+a*(l-o));return Math.atan2(h,f)},tw=(i,t,e,r,n,o)=>d=>{const l=j1(d),s=z1(d),a=U1(d);return new Ot(n*l+e*s+i*a,o*l+r*s+t*a)},ew=(i,t,e,r,n,o)=>d=>{const l=1-d,s=2*(l*(e-i)+d*(n-e)),a=2*(l*(r-t)+d*(o-r));return Math.atan2(a,s)},B0=(i,t,e)=>{let r=new Ot(t,e),n=0;for(let o=1;o<=100;o+=1){const d=i(o/100);n+=ku(r.x,r.y,d.x,d.y),r=d}return n},iw=(i,t)=>{let e,r=0,n=0,o={x:i.x,y:i.y},d=vt({},o),l=.01,s=0;const a=i.iterator,c=i.angleFinder;for(;n<t&&l>1e-4;)d=a(r),s=r,e=ku(o.x,o.y,d.x,d.y),e+n>t?(r-=l,l/=2):(o=d,r+=l,n+=e);return vt(vt({},d),{},{angle:c(s)})},Zp=i=>{let t,e,r=0,n=0,o=0,d=0,l=0;const s=[];for(const a of i){const c={x:n,y:o,command:a[0],length:0};switch(a[0]){case"M":e=c,e.x=d=n=a[1],e.y=l=o=a[2];break;case"L":e=c,e.length=ku(n,o,a[1],a[2]),n=a[1],o=a[2];break;case"C":t=R1(n,o,a[1],a[2],a[3],a[4],a[5],a[6]),e=c,e.iterator=t,e.angleFinder=Zb(n,o,a[1],a[2],a[3],a[4],a[5],a[6]),e.length=B0(t,n,o),n=a[5],o=a[6];break;case"Q":t=tw(n,o,a[1],a[2],a[3],a[4]),e=c,e.iterator=t,e.angleFinder=ew(n,o,a[1],a[2],a[3],a[4]),e.length=B0(t,n,o),n=a[3],o=a[4];break;case"Z":e=c,e.destX=d,e.destY=l,e.length=ku(n,o,d,l),n=d,o=l}r+=e.length,s.push(e)}return s.push({length:r,x:n,y:o}),s},W1=function(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zp(i),r=0;for(;t-e[r].length>0&&r<e.length-2;)t-=e[r].length,r++;const n=e[r],o=t/n.length,d=i[r];switch(n.command){case"M":return{x:n.x,y:n.y,angle:0};case"Z":return vt(vt({},new Ot(n.x,n.y).lerp(new Ot(n.destX,n.destY),o)),{},{angle:Math.atan2(n.destY-n.y,n.destX-n.x)});case"L":return vt(vt({},new Ot(n.x,n.y).lerp(new Ot(d[1],d[2]),o)),{},{angle:Math.atan2(d[2]-n.y,d[1]-n.x)});case"C":case"Q":return iw(n,t)}},rw=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),I0=new RegExp(Qb,"g"),nw=new RegExp(bn,"gi"),sw={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},X1=i=>{var t;const e=[],r=(t=i.match(rw))!==null&&t!==void 0?t:[];for(const n of r){const o=n[0];if(o==="z"||o==="Z"){e.push([o]);continue}const d=sw[o.toLowerCase()];let l=[];if(o==="a"||o==="A"){I0.lastIndex=0;for(let s=null;s=I0.exec(n);)l.push(...s.slice(1))}else l=n.match(nw)||[];for(let s=0;s<l.length;s+=d){const a=new Array(d),c=Kb[o];a[0]=s>0&&c?c:o;for(let u=0;u<d;u++)a[u+1]=parseFloat(l[s+u]);e.push(a)}}return e},aw=function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=new Ot(i[0]),r=new Ot(i[1]),n=1,o=0;const d=[],l=i.length,s=l>2;let a;for(s&&(n=i[2].x<r.x?-1:i[2].x===r.x?0:1,o=i[2].y<r.y?-1:i[2].y===r.y?0:1),d.push(["M",e.x-n*t,e.y-o*t]),a=1;a<l;a++){if(!e.eq(r)){const c=e.midPointFrom(r);d.push(["Q",e.x,e.y,c.x,c.y])}e=i[a],a+1<i.length&&(r=i[a+1])}return s&&(n=e.x>i[a-2].x?1:e.x===i[a-2].x?0:-1,o=e.y>i[a-2].y?1:e.y===i[a-2].y?0:-1),d.push(["L",e.x+n*t,e.y+o*t]),d},G1=(i,t)=>i.map(e=>e.map((r,n)=>n===0||t===void 0?r:qe(r,t)).join(" ")).join(" ");function Lu(i,t){const e=i.style;e&&t&&(typeof t=="string"?e.cssText+=";"+t:Object.entries(t).forEach(r=>{let[n,o]=r;return e.setProperty(n,o)}))}const ow=(i,t)=>Math.floor(Math.random()*(t-i+1))+i;function lw(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e=t.onComplete||Ja,r=new(cl()).XMLHttpRequest,n=t.signal,o=function(){r.abort()},d=function(){n&&n.removeEventListener("abort",o),r.onerror=r.ontimeout=Ja};if(n&&n.aborted)throw new Lp("request");return n&&n.addEventListener("abort",o,{once:!0}),r.onreadystatechange=function(){r.readyState===4&&(d(),e(r),r.onreadystatechange=Ja)},r.onerror=r.ontimeout=d,r.open("get",i,!0),r.send(),r}const nu=(i,t)=>{let e=i._findCenterFromElement();i.transformMatrix&&((r=>{if(r.transformMatrix){const{scaleX:n,scaleY:o,angle:d,skewX:l}=to(r.transformMatrix);r.flipX=!1,r.flipY=!1,r.set(Ar,n),r.set(Hr,o),r.angle=d,r.skewX=l,r.skewY=0}})(i),e=e.transform(i.transformMatrix)),delete i.transformMatrix,t&&(i.scaleX*=t.scaleX,i.scaleY*=t.scaleY,i.cropX=t.cropX,i.cropY=t.cropY,e.x+=t.offsetLeft,e.y+=t.offsetTop,i.width=t.width,i.height=t.height),i.setPositionByOrigin(e,_e,_e)};var d4=Object.freeze({__proto__:null,addTransformToObject:Qm,animate:Yp,animateColor:h1,applyTransformToObject:rl,calcAngleBetweenVectors:xu,calcDimensionsMatrix:Oc,calcPlaneChangeMatrix:Ec,calcVectorRotation:o1,cancelAnimFrame:Im,capValue:io,composeMatrix:Wm,copyCanvasElement:i=>{var t;const e=Vr(i);return(t=e.getContext("2d"))===null||t===void 0||t.drawImage(i,0,0),e},cos:_n,createCanvasElement:Vn,createImage:Rm,createRotateMatrix:ao,createScaleMatrix:Uu,createSkewXMatrix:Bp,createSkewYMatrix:Ip,createTranslateMatrix:fl,createVector:wu,crossProduct:Yo,degreesToRadians:gi,dotProduct:l1,ease:ab,enlivenObjectEnlivables:Dc,enlivenObjects:el,findScaleToCover:B1,findScaleToFit:N1,getBoundsOfCurve:Zd,getOrthonormalVector:Hp,getPathSegmentsInfo:Zp,getPointOnPath:W1,getPointer:qm,getRandomInt:ow,getRegularPolygonPath:(i,t)=>{const e=2*Math.PI/i;let r=-na;i%2==0&&(r+=e/2);const n=new Array(i+1);for(let o=0;o<i;o++){const d=o*e+r,{x:l,y:s}=new Ot(_n(d),xn(d)).scalarMultiply(t);n[o]=[o===0?"M":"L",l,s]}return n[i]=["Z"],n},getSmoothPathFromPoints:aw,getSvgAttributes:i=>{const t=["instantiated_by_use","style","id","class"];switch(i){case"linearGradient":return t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return t.concat(["offset","stop-color","stop-opacity"])}return t},getUnitVector:Hu,groupSVGElements:(i,t)=>i&&i.length===1?i[0]:new ta(i,t),hasStyleChanged:qu,invertTransform:_r,isBetweenVectors:Xd,isIdentityMatrix:jm,isTouchEvent:vu,isTransparent:T1,joinPath:G1,loadImage:oc,magnitude:_u,makeBoundingBoxFromPoints:Wn,makePathSimpler:I1,matrixToSVG:il,mergeClipPaths:(i,t)=>{var e;let r=i,n=t;r.inverted&&!n.inverted&&(r=t,n=i),Ud(n,(e=n.group)===null||e===void 0?void 0:e.calcTransformMatrix(),r.calcTransformMatrix());const o=r.inverted&&n.inverted;return o&&(r.inverted=n.inverted=!1),new ta([r],{clipPath:n,inverted:o})},multiplyTransformMatrices:oi,multiplyTransformMatrixArray:zu,parsePath:X1,parsePreserveAspectRatioAttribute:Xp,parseUnit:hr,pick:oo,projectStrokeOnPoints:L1,qrDecompose:to,radiansToDegrees:Yn,removeFromArray:ja,removeTransformFromObject:(i,t)=>{const e=_r(t),r=oi(e,i.calcOwnMatrix());rl(i,r)},removeTransformMatrixForSvgParsing:nu,request:lw,requestAnimFrame:ac,resetObjectTransform:Km,rotatePoint:(i,t,e)=>i.rotate(e,t),rotateVector:Gp,saveObjectTransform:zp,sendObjectToPlane:Ud,sendPointToPlane:ws,sendVectorToPlane:$m,setStyle:Lu,sin:xn,sizeAfterTransform:Wu,string:Cb,stylesFromArray:D1,stylesToArray:O1,toBlob:Np,toDataURL:Fp,toFixed:qe,transformPath:(i,t,e)=>(e&&(t=oi(t,[1,0,0,1,-e.x,-e.y])),i.map(r=>{const n=[...r];for(let o=1;o<r.length-1;o+=2){const{x:d,y:l}=rr({x:r[o],y:r[o+1]},t);n[o]=d,n[o+1]=l}return n})),transformPoint:rr});class cw extends Vm{constructor(t){let{allowTouchScrolling:e=!1,containerClass:r=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(t),wt(this,"upper",void 0),wt(this,"container",void 0);const{el:n}=this.lower,o=this.createUpperCanvas();this.upper={el:o,ctx:o.getContext("2d")},this.applyCanvasStyle(n,{allowTouchScrolling:e}),this.applyCanvasStyle(o,{allowTouchScrolling:e,styles:{position:"absolute",left:"0",top:"0"}});const d=this.createContainerElement();d.classList.add(r),n.parentNode&&n.parentNode.replaceChild(d,n),d.append(n,o),this.container=d}createUpperCanvas(){const{el:t}=this.lower,e=Vn();return e.className=t.className,e.classList.remove("lower-canvas"),e.classList.add("upper-canvas"),e.setAttribute("data-fabric","top"),e.style.cssText=t.style.cssText,e.setAttribute("draggable","true"),e}createContainerElement(){const t=ll().createElement("div");return t.setAttribute("data-fabric","wrapper"),Lu(t,{position:"relative"}),h0(t),t}applyCanvasStyle(t,e){const{styles:r,allowTouchScrolling:n}=e;Lu(t,vt(vt({},r),{},{"touch-action":n?"manipulation":dr})),h0(t)}setDimensions(t,e){super.setDimensions(t,e);const{el:r,ctx:n}=this.upper;Hm(r,n,t,e)}setCSSDimensions(t){super.setCSSDimensions(t),zd(this.upper.el,t),zd(this.container,t)}cleanupDOM(t){const e=this.container,{el:r}=this.lower,{el:n}=this.upper;super.cleanupDOM(t),e.removeChild(n),e.removeChild(r),e.parentNode&&e.parentNode.replaceChild(r,e)}dispose(){super.dispose(),Hn().dispose(this.upper.el),delete this.upper,delete this.container}}class Ku extends jp{constructor(){super(...arguments),wt(this,"targets",[]),wt(this,"_hoveredTargets",[]),wt(this,"_objectsToRender",void 0),wt(this,"_currentTransform",null),wt(this,"_groupSelector",null),wt(this,"contextTopDirty",!1)}static getDefaults(){return vt(vt({},super.getDefaults()),Ku.ownDefaults)}get upperCanvasEl(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.el}get contextTop(){var t;return(t=this.elements.upper)===null||t===void 0?void 0:t.ctx}get wrapperEl(){return this.elements.container}initElements(t){this.elements=new cw(t,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(t){this._objectsToRender=void 0,super._onObjectAdded(t)}_onObjectRemoved(t){this._objectsToRender=void 0,t===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[t]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[t]}),t.fire("deselected",{target:t})),t===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(t)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){const t=this._activeObject;return!this.preserveObjectStacking&&t?this._objects.filter(e=>!e.group&&e!==t).concat(t):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()}renderTop(){const t=this.contextTop;this.clearContext(t),this.renderTopLayer(t),this.fire("after:render",{ctx:t})}setTargetFindTolerance(t){t=Math.round(t),this.targetFindTolerance=t;const e=this.getRetinaScaling(),r=Math.ceil((2*t+1)*e);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=r,this.pixelFindContext.scale(e,e)}isTargetTransparent(t,e,r){const n=this.targetFindTolerance,o=this.pixelFindContext;this.clearContext(o),o.save(),o.translate(-e+n,-r+n),o.transform(...this.viewportTransform);const d=t.selectionBackgroundColor;t.selectionBackgroundColor="",t.render(o),t.selectionBackgroundColor=d,o.restore();const l=Math.round(n*this.getRetinaScaling());return T1(o,l,l,l)}_isSelectionKeyPressed(t){const e=this.selectionKey;return!!e&&(Array.isArray(e)?!!e.find(r=>!!r&&t[r]===!0):t[e])}_shouldClearSelection(t,e){const r=this.getActiveObjects(),n=this._activeObject;return!!(!e||e&&n&&r.length>1&&r.indexOf(e)===-1&&n!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&n&&n!==e)}_shouldCenterTransform(t,e,r){if(!t)return;let n;return e===ju||e===Ar||e===Hr||e===Ac?n=this.centeredScaling||t.centeredScaling:e===Ep&&(n=this.centeredRotation||t.centeredRotation),n?!r:r}_getOriginFromCorner(t,e){const r={x:t.originX,y:t.originY};return e&&(["ml","tl","bl"].includes(e)?r.x=_i:["mr","tr","br"].includes(e)&&(r.x=Ue),["tl","mt","tr"].includes(e)?r.y=jd:["bl","mb","br"].includes(e)&&(r.y=Cr)),r}_setupCurrentTransform(t,e,r){var n;const o=e.group?ws(this.getScenePoint(t),void 0,e.group.calcTransformMatrix()):this.getScenePoint(t),{key:d="",control:l}=e.getActiveControl()||{},s=r&&l?(n=l.getActionHandler(t,e,l))===null||n===void 0?void 0:n.bind(l):t1,a=((h,p,A,g)=>{if(!p||!h)return"drag";const m=g.controls[p];return m.getActionName(A,m,g)})(r,d,t,e),c=t[this.centeredKey],u=this._shouldCenterTransform(e,a,c)?{x:_e,y:_e}:this._getOriginFromCorner(e,d),f={target:e,action:a,actionHandler:s,actionPerformed:!1,corner:d,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:o.x-e.left,offsetY:o.y-e.top,originX:u.x,originY:u.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:gi(e.angle),width:e.width,height:e.height,shiftKey:t.shiftKey,altKey:c,original:vt(vt({},zp(e)),{},{originX:u.x,originY:u.y})};this._currentTransform=f,this.fire("before:transform",{e:t,transform:f})}setCursor(t){this.upperCanvasEl.style.cursor=t}_drawSelection(t){const{x:e,y:r,deltaX:n,deltaY:o}=this._groupSelector,d=new Ot(e,r).transform(this.viewportTransform),l=new Ot(e+n,r+o).transform(this.viewportTransform),s=this.selectionLineWidth/2;let a=Math.min(d.x,l.x),c=Math.min(d.y,l.y),u=Math.max(d.x,l.x),f=Math.max(d.y,l.y);this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(a,c,u-a,f-c)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,a+=s,c+=s,u-=s,f-=s,nr.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(a,c,u-a,f-c))}findTarget(t){if(this.skipTargetFind)return;const e=this.getViewportPoint(t),r=this._activeObject,n=this.getActiveObjects();if(this.targets=[],r&&n.length>=1){if(r.findControl(e,vu(t))||n.length>1&&this.searchPossibleTargets([r],e))return r;if(r===this.searchPossibleTargets([r],e)){if(this.preserveObjectStacking){const o=this.targets;this.targets=[];const d=this.searchPossibleTargets(this._objects,e);return t[this.altSelectionKey]&&d&&d!==r?(this.targets=o,r):d}return r}}return this.searchPossibleTargets(this._objects,e)}_pointIsInObjectSelectionArea(t,e){let r=t.getCoords();const n=this.getZoom(),o=t.padding/n;if(o){const[d,l,s,a]=r,c=Math.atan2(l.y-d.y,l.x-d.x),u=_n(c)*o,f=xn(c)*o,h=u+f,p=u-f;r=[new Ot(d.x-p,d.y-h),new Ot(l.x+h,l.y-p),new Ot(s.x+p,s.y+h),new Ot(a.x-h,a.y+p)]}return ai.isPointInPolygon(e,r)}_checkTarget(t,e){return!!(t&&t.visible&&t.evented&&this._pointIsInObjectSelectionArea(t,ws(e,void 0,this.viewportTransform))&&(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing||!this.isTargetTransparent(t,e.x,e.y)))}_searchPossibleTargets(t,e){let r=t.length;for(;r--;){const n=t[r];if(this._checkTarget(n,e)){if(iu(n)&&n.subTargetCheck){const o=this._searchPossibleTargets(n._objects,e);o&&this.targets.push(o)}return n}}}searchPossibleTargets(t,e){const r=this._searchPossibleTargets(t,e);if(r&&iu(r)&&r.interactive&&this.targets[0]){const n=this.targets;for(let o=n.length-1;o>0;o--){const d=n[o];if(!iu(d)||!d.interactive)return d}return n[0]}return r}getViewportPoint(t){return this._pointer?this._pointer:this.getPointer(t,!0)}getScenePoint(t){return this._absolutePointer?this._absolutePointer:this.getPointer(t)}getPointer(t){let e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const r=this.upperCanvasEl,n=r.getBoundingClientRect();let o=qm(t),d=n.width||0,l=n.height||0;d&&l||(Cr in n&&jd in n&&(l=Math.abs(n.top-n.bottom)),_i in n&&Ue in n&&(d=Math.abs(n.right-n.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,e||(o=ws(o,void 0,this.viewportTransform));const s=this.getRetinaScaling();s!==1&&(o.x/=s,o.y/=s);const a=d===0||l===0?new Ot(1,1):new Ot(r.width/d,r.height/l);return o.multiply(a)}_setDimensionsImpl(t,e){this._resetTransformEventData(),super._setDimensionsImpl(t,e),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Vn(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){const t=this._activeObject;return za(t)?t.getObjects():t?[t]:[]}_fireSelectionEvents(t,e){let r=!1,n=!1;const o=this.getActiveObjects(),d=[],l=[];t.forEach(s=>{o.includes(s)||(r=!0,s.fire("deselected",{e,target:s}),l.push(s))}),o.forEach(s=>{t.includes(s)||(r=!0,s.fire("selected",{e,target:s}),d.push(s))}),t.length>0&&o.length>0?(n=!0,r&&this.fire("selection:updated",{e,selected:d,deselected:l})):o.length>0?(n=!0,this.fire("selection:created",{e,selected:d})):t.length>0&&(n=!0,this.fire("selection:cleared",{e,deselected:l})),n&&(this._objectsToRender=void 0)}setActiveObject(t,e){const r=this.getActiveObjects(),n=this._setActiveObject(t,e);return this._fireSelectionEvents(r,e),n}_setActiveObject(t,e){const r=this._activeObject;return r!==t&&!(!this._discardActiveObject(e,t)&&this._activeObject)&&!t.onSelect({e})&&(this._activeObject=t,za(t)&&r!==t&&t.set("canvas",this),t.setCoords(),!0)}_discardActiveObject(t,e){const r=this._activeObject;return!!r&&!r.onDeselect({e:t,object:e})&&(this._currentTransform&&this._currentTransform.target===r&&this.endCurrentTransform(t),za(r)&&r===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0)}discardActiveObject(t){const e=this.getActiveObjects(),r=this.getActiveObject();e.length&&this.fire("before:selection:cleared",{e:t,deselected:[r]});const n=this._discardActiveObject(t);return this._fireSelectionEvents(e,t),n}endCurrentTransform(t){const e=this._currentTransform;this._finalizeCurrentTransform(t),e&&e.target&&(e.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(t){const e=this._currentTransform,r=e.target,n={e:t,target:r,transform:e,action:e.action};r._scaling&&(r._scaling=!1),r.setCoords(),e.actionPerformed&&(this.fire("object:modified",n),r.fire(Au,n))}setViewportTransform(t){super.setViewportTransform(t);const e=this._activeObject;e&&e.setCoords()}destroy(){const t=this._activeObject;za(t)&&(t.removeAll(),t.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(t){const e=this._activeObject;e&&e._renderControls(t)}_toObject(t,e,r){const n=this._realizeGroupTransformOnObject(t),o=super._toObject(t,e,r);return t.set(n),o}_realizeGroupTransformOnObject(t){const{group:e}=t;if(e&&za(e)&&this._activeObject===e){const r=oo(t,["angle","flipX","flipY",Ue,Ar,Hr,hl,ul,Cr]);return Qm(t,e.calcOwnMatrix()),r}return{}}_setSVGObject(t,e,r){const n=this._realizeGroupTransformOnObject(e);super._setSVGObject(t,e,r),e.set(n)}}wt(Ku,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class hw{constructor(t){wt(this,"targets",[]),wt(this,"__disposer",void 0);const e=()=>{const{hiddenTextarea:n}=t.getActiveObject()||{};n&&n.focus()},r=t.upperCanvasEl;r.addEventListener("click",e),this.__disposer=()=>r.removeEventListener("click",e)}exitTextEditing(){this.target=void 0,this.targets.forEach(t=>{t.isEditing&&t.exitEditing()})}add(t){this.targets.push(t)}remove(t){this.unregister(t),ja(this.targets,t)}register(t){this.target=t}unregister(t){t===this.target&&(this.target=void 0)}onMouseMove(t){var e;!((e=this.target)===null||e===void 0)&&e.isEditing&&this.target.updateSelectionOnMouseMove(t)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}const uw=["target","oldTarget","fireCanvas","e"],Fr={passive:!1},ko=(i,t)=>{const e=i.getViewportPoint(t),r=i.getScenePoint(t);return{viewportPoint:e,scenePoint:r,pointer:e,absolutePointer:r}},Hs=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return i.addEventListener(...e)},nn=function(i){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return i.removeEventListener(...e)},fw={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class R0 extends Ku{constructor(t){super(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),wt(this,"_isClick",void 0),wt(this,"textEditingManager",new hw(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach(e=>{this[e]=this[e].bind(this)}),this.addOrRemove(Hs,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(t,e){const r=this.upperCanvasEl,n=this._getEventPrefix();t(Gm(r),"resize",this._onResize),t(r,n+"down",this._onMouseDown),t(r,"".concat(n,"move"),this._onMouseMove,Fr),t(r,"".concat(n,"out"),this._onMouseOut),t(r,"".concat(n,"enter"),this._onMouseEnter),t(r,"wheel",this._onMouseWheel),t(r,"contextmenu",this._onContextMenu),t(r,"click",this._onClick),t(r,"dblclick",this._onClick),t(r,"dragstart",this._onDragStart),t(r,"dragend",this._onDragEnd),t(r,"dragover",this._onDragOver),t(r,"dragenter",this._onDragEnter),t(r,"dragleave",this._onDragLeave),t(r,"drop",this._onDrop),this.enablePointerEvents||t(r,"touchstart",this._onTouchStart,Fr)}removeListeners(){this.addOrRemove(nn,"remove");const t=this._getEventPrefix(),e=yn(this.upperCanvasEl);nn(e,"".concat(t,"up"),this._onMouseUp),nn(e,"touchend",this._onTouchEnd,Fr),nn(e,"".concat(t,"move"),this._onMouseMove,Fr),nn(e,"touchmove",this._onMouseMove,Fr),clearTimeout(this._willAddMouseDown)}_onMouseWheel(t){this.__onMouseWheel(t)}_onMouseOut(t){const e=this._hoveredTarget,r=vt({e:t},ko(this,t));this.fire("mouse:out",vt(vt({},r),{},{target:e})),this._hoveredTarget=void 0,e&&e.fire("mouseout",vt({},r)),this._hoveredTargets.forEach(n=>{this.fire("mouse:out",vt(vt({},r),{},{target:n})),n&&n.fire("mouseout",vt({},r))}),this._hoveredTargets=[]}_onMouseEnter(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",vt({e:t},ko(this,t))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(t){this._isClick=!1;const e=this.getActiveObject();if(e&&e.onDragStart(t)){this._dragSource=e;const r={e:t,target:e};return this.fire("dragstart",r),e.fire("dragstart",r),void Hs(this.upperCanvasEl,"drag",this._onDragProgress)}u0(t)}_renderDragEffects(t,e,r){let n=!1;const o=this._dropTarget;o&&o!==e&&o!==r&&(o.clearContextTop(),n=!0),e==null||e.clearContextTop(),r!==e&&(r==null||r.clearContextTop());const d=this.contextTop;d.save(),d.transform(...this.viewportTransform),e&&(d.save(),e.transform(d),e.renderDragSourceEffect(t),d.restore(),n=!0),r&&(d.save(),r.transform(d),r.renderDropTargetEffect(t),d.restore(),n=!0),d.restore(),n&&(this.contextTopDirty=!0)}_onDragEnd(t){const e=!!t.dataTransfer&&t.dataTransfer.dropEffect!==dr,r=e?this._activeObject:void 0,n={e:t,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:e,dropTarget:r};nn(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",n),this._dragSource&&this._dragSource.fire("dragend",n),delete this._dragSource,this._onMouseUp(t)}_onDragProgress(t){const e={e:t,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",e),this._dragSource&&this._dragSource.fire("drag",e)}findDragTargets(t){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(t)),targets:[...this.targets]}}_onDragOver(t){const e="dragover",{target:r,targets:n}=this.findDragTargets(t),o=this._dragSource,d={e:t,target:r,subTargets:n,dragSource:o,canDrop:!1,dropTarget:void 0};let l;this.fire(e,d),this._fireEnterLeaveEvents(r,d),r&&(r.canDrop(t)&&(l=r),r.fire(e,d));for(let s=0;s<n.length;s++){const a=n[s];a.canDrop(t)&&(l=a),a.fire(e,d)}this._renderDragEffects(t,o,l),this._dropTarget=l}_onDragEnter(t){const{target:e,targets:r}=this.findDragTargets(t),n={e:t,target:e,subTargets:r,dragSource:this._dragSource};this.fire("dragenter",n),this._fireEnterLeaveEvents(e,n)}_onDragLeave(t){const e={e:t,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",e),this._fireEnterLeaveEvents(void 0,e),this._renderDragEffects(t,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(t){const{target:e,targets:r}=this.findDragTargets(t),n=this._basicEventHandler("drop:before",vt({e:t,target:e,subTargets:r,dragSource:this._dragSource},ko(this,t)));n.didDrop=!1,n.dropTarget=void 0,this._basicEventHandler("drop",n),this.fire("drop:after",n)}_onContextMenu(t){const e=this.findTarget(t),r=this.targets||[],n=this._basicEventHandler("contextmenu:before",{e:t,target:e,subTargets:r});return this.stopContextMenu&&u0(t),this._basicEventHandler("contextmenu",n),!1}_onClick(t){const e=t.detail;e>3||e<2||(this._cacheTransformEventData(t),e==2&&t.type==="dblclick"&&this._handleEvent(t,"dblclick"),e==3&&this._handleEvent(t,"tripleclick"),this._resetTransformEventData())}getPointerId(t){const e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1}_isMainEvent(t){return t.isPrimary===!0||t.isPrimary!==!1&&(t.type==="touchend"&&t.touches.length===0||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)}_onTouchStart(t){let e=!this.allowTouchScrolling;const r=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),(this.isDrawingMode||r&&this._target===r)&&(e=!0),e&&t.preventDefault(),this._resetTransformEventData();const n=this.upperCanvasEl,o=this._getEventPrefix(),d=yn(n);Hs(d,"touchend",this._onTouchEnd,Fr),e&&Hs(d,"touchmove",this._onMouseMove,Fr),nn(n,"".concat(o,"down"),this._onMouseDown)}_onMouseDown(t){this.__onMouseDown(t),this._resetTransformEventData();const e=this.upperCanvasEl,r=this._getEventPrefix();nn(e,"".concat(r,"move"),this._onMouseMove,Fr);const n=yn(e);Hs(n,"".concat(r,"up"),this._onMouseUp),Hs(n,"".concat(r,"move"),this._onMouseMove,Fr)}_onTouchEnd(t){if(t.touches.length>0)return;this.__onMouseUp(t),this._resetTransformEventData(),delete this.mainTouchId;const e=this._getEventPrefix(),r=yn(this.upperCanvasEl);nn(r,"touchend",this._onTouchEnd,Fr),nn(r,"touchmove",this._onMouseMove,Fr),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{Hs(this.upperCanvasEl,"".concat(e,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(t){this.__onMouseUp(t),this._resetTransformEventData();const e=this.upperCanvasEl,r=this._getEventPrefix();if(this._isMainEvent(t)){const n=yn(this.upperCanvasEl);nn(n,"".concat(r,"up"),this._onMouseUp),nn(n,"".concat(r,"move"),this._onMouseMove,Fr),Hs(e,"".concat(r,"move"),this._onMouseMove,Fr)}}_onMouseMove(t){const e=this.getActiveObject();!this.allowTouchScrolling&&(!e||!e.shouldStartDragging(t))&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(t){const e=this.getActiveObject();return!!e!=!!t||e&&t&&e!==t}__onMouseUp(t){var e;this._cacheTransformEventData(t),this._handleEvent(t,"up:before");const r=this._currentTransform,n=this._isClick,o=this._target,{button:d}=t;if(d)return(this.fireMiddleClick&&d===1||this.fireRightClick&&d===2)&&this._handleEvent(t,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(t);if(!this._isMainEvent(t))return;let l,s,a=!1;if(r&&(this._finalizeCurrentTransform(t),a=r.actionPerformed),!n){const c=o===this._activeObject;this.handleSelection(t),a||(a=this._shouldRender(o)||!c&&o===this._activeObject)}if(o){const c=o.findControl(this.getViewportPoint(t),vu(t)),{key:u,control:f}=c||{};if(s=u,o.selectable&&o!==this._activeObject&&o.activeOn==="up")this.setActiveObject(o,t),a=!0;else if(f){const h=f.getMouseUpHandler(t,o,f);h&&(l=this.getScenePoint(t),h.call(f,t,r,l.x,l.y))}o.isMoving=!1}if(r&&(r.target!==o||r.corner!==s)){const c=r.target&&r.target.controls[r.corner],u=c&&c.getMouseUpHandler(t,r.target,c);l=l||this.getScenePoint(t),u&&u.call(c,t,r,l.x,l.y)}this._setCursorFromEvent(t,o),this._handleEvent(t,"up"),this._groupSelector=null,this._currentTransform=null,o&&(o.__corner=void 0),a?this.requestRenderAll():n||(e=this._activeObject)!==null&&e!==void 0&&e.isEditing||this.renderTop()}_basicEventHandler(t,e){const{target:r,subTargets:n=[]}=e;this.fire(t,e),r&&r.fire(t,e);for(let o=0;o<n.length;o++)n[o]!==r&&n[o].fire(t,e);return e}_handleEvent(t,e,r){const n=this._target,o=this.targets||[],d=vt(vt(vt({e:t,target:n,subTargets:o},ko(this,t)),{},{transform:this._currentTransform},e==="up:before"||e==="up"?{isClick:this._isClick,currentTarget:this.findTarget(t),currentSubTargets:this.targets}:{}),e==="down:before"||e==="down"?r:{});this.fire("mouse:".concat(e),d),n&&n.fire("mouse".concat(e),d);for(let l=0;l<o.length;l++)o[l]!==n&&o[l].fire("mouse".concat(e),d)}_onMouseDownInDrawingMode(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(t),this.requestRenderAll());const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down",{alreadySelected:!1})}_onMouseMoveInDrawingMode(t){if(this._isCurrentlyDrawing){const e=this.getScenePoint(t);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")}_onMouseUpInDrawingMode(t){const e=this.getScenePoint(t);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:t,pointer:e}):this._isCurrentlyDrawing=!1,this._handleEvent(t,"up")}__onMouseDown(t){this._isClick=!0,this._cacheTransformEventData(t),this._handleEvent(t,"down:before");let e=this._target,r=!!e&&e===this._activeObject;const{button:n}=t;if(n)return(this.fireMiddleClick&&n===1||this.fireRightClick&&n===2)&&this._handleEvent(t,"down",{alreadySelected:r}),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(t);if(!this._isMainEvent(t)||this._currentTransform)return;let o=this._shouldRender(e),d=!1;if(this.handleMultiSelection(t,e)?(e=this._activeObject,d=!0,o=!0):this._shouldClearSelection(t,e)&&this.discardActiveObject(t),this.selection&&(!e||!e.selectable&&!e.isEditing&&e!==this._activeObject)){const l=this.getScenePoint(t);this._groupSelector={x:l.x,y:l.y,deltaY:0,deltaX:0}}if(r=!!e&&e===this._activeObject,e){e.selectable&&e.activeOn==="down"&&this.setActiveObject(e,t);const l=e.findControl(this.getViewportPoint(t),vu(t));if(e===this._activeObject&&(l||!d)){this._setupCurrentTransform(t,e,r);const s=l?l.control:void 0,a=this.getScenePoint(t),c=s&&s.getMouseDownHandler(t,e,s);c&&c.call(s,t,this._currentTransform,a.x,a.y)}}o&&(this._objectsToRender=void 0),this._handleEvent(t,"down",{alreadySelected:r}),o&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(t){this._resetTransformEventData(),this._pointer=this.getViewportPoint(t),this._absolutePointer=ws(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)}__onMouseMove(t){if(this._isClick=!1,this._cacheTransformEventData(t),this._handleEvent(t,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(t);if(!this._isMainEvent(t))return;const e=this._groupSelector;if(e){const r=this.getScenePoint(t);e.deltaX=r.x-e.x,e.deltaY=r.y-e.y,this.renderTop()}else if(this._currentTransform)this._transformObject(t);else{const r=this.findTarget(t);this._setCursorFromEvent(t,r),this._fireOverOutEvents(t,r)}this.textEditingManager.onMouseMove(t),this._handleEvent(t,"move"),this._resetTransformEventData()}_fireOverOutEvents(t,e){const r=this._hoveredTarget,n=this._hoveredTargets,o=this.targets,d=Math.max(n.length,o.length);this.fireSyntheticInOutEvents("mouse",{e:t,target:e,oldTarget:r,fireCanvas:!0});for(let l=0;l<d;l++)this.fireSyntheticInOutEvents("mouse",{e:t,target:o[l],oldTarget:n[l]});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(t,e){const r=this._draggedoverTarget,n=this._hoveredTargets,o=this.targets,d=Math.max(n.length,o.length);this.fireSyntheticInOutEvents("drag",vt(vt({},e),{},{target:t,oldTarget:r,fireCanvas:!0}));for(let l=0;l<d;l++)this.fireSyntheticInOutEvents("drag",vt(vt({},e),{},{target:o[l],oldTarget:n[l]}));this._draggedoverTarget=t}fireSyntheticInOutEvents(t,e){let{target:r,oldTarget:n,fireCanvas:o,e:d}=e,l=ri(e,uw);const{targetIn:s,targetOut:a,canvasIn:c,canvasOut:u}=fw[t],f=n!==r;if(n&&f){const h=vt(vt({},l),{},{e:d,target:n,nextTarget:r},ko(this,d));o&&this.fire(u,h),n.fire(a,h)}if(r&&f){const h=vt(vt({},l),{},{e:d,target:r,previousTarget:n},ko(this,d));o&&this.fire(c,h),r.fire(s,h)}}__onMouseWheel(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()}_transformObject(t){const e=this.getScenePoint(t),r=this._currentTransform,n=r.target,o=n.group?ws(e,void 0,n.group.calcTransformMatrix()):e;r.shiftKey=t.shiftKey,r.altKey=!!this.centeredKey&&t[this.centeredKey],this._performTransformAction(t,r,o),r.actionPerformed&&this.requestRenderAll()}_performTransformAction(t,e,r){const{action:n,actionHandler:o,target:d}=e,l=!!o&&o(t,e,r.x,r.y);l&&d.setCoords(),n==="drag"&&l&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||l}_setCursorFromEvent(t,e){if(!e)return void this.setCursor(this.defaultCursor);let r=e.hoverCursor||this.hoverCursor;const n=za(this._activeObject)?this._activeObject:null,o=(!n||e.group!==n)&&e.findControl(this.getViewportPoint(t));if(o){const d=o.control;this.setCursor(d.cursorStyleHandler(t,d,e))}else e.subTargetCheck&&this.targets.concat().reverse().map(d=>{r=d.hoverCursor||r}),this.setCursor(r)}handleMultiSelection(t,e){const r=this._activeObject,n=za(r);if(r&&this._isSelectionKeyPressed(t)&&this.selection&&e&&e.selectable&&(r!==e||n)&&(n||!e.isDescendantOf(r)&&!r.isDescendantOf(e))&&!e.onSelect({e:t})&&!r.getActiveControl()){if(n){const o=r.getObjects();if(e===r){const d=this.getViewportPoint(t);if(!(e=this.searchPossibleTargets(o,d)||this.searchPossibleTargets(this._objects,d))||!e.selectable)return!1}e.group===r?(r.remove(e),this._hoveredTarget=e,this._hoveredTargets=[...this.targets],r.size()===1&&this._setActiveObject(r.item(0),t)):(r.multiSelectAdd(e),this._hoveredTarget=r,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(o,t)}else{r.isEditing&&r.exitEditing();const o=new(Vt.getClass("ActiveSelection"))([],{canvas:this});o.multiSelectAdd(r,e),this._hoveredTarget=o,this._setActiveObject(o,t),this._fireSelectionEvents([r],t)}return!0}return!1}handleSelection(t){if(!this.selection||!this._groupSelector)return!1;const{x:e,y:r,deltaX:n,deltaY:o}=this._groupSelector,d=new Ot(e,r),l=d.add(new Ot(n,o)),s=d.min(l),a=d.max(l).subtract(s),c=this.collectObjects({left:s.x,top:s.y,width:a.x,height:a.y},{includeIntersecting:!this.selectionFullyContained}),u=d.eq(l)?c[0]?[c[0]]:[]:c.length>1?c.filter(f=>!f.onSelect({e:t})).reverse():c;if(u.length===1)this.setActiveObject(u[0],t);else if(u.length>1){const f=Vt.getClass("ActiveSelection");this.setActiveObject(new f(u,{canvas:this}),t)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}const H1={x1:0,y1:0,x2:0,y2:0},dw=vt(vt({},H1),{},{r1:0,r2:0}),zo=(i,t)=>isNaN(i)&&typeof t=="number"?t:i,pw=/^(\d+\.\d+)%|(\d+)%$/;function V1(i){return i&&pw.test(i)}function Y1(i,t){const e=typeof i=="number"?i:typeof i=="string"?parseFloat(i)/(V1(i)?100:1):NaN;return io(0,zo(e,t),1)}const gw=/\s*;\s*/,Aw=/\s*:\s*/;function mw(i,t){let e,r;const n=i.getAttribute("style");if(n){const d=n.split(gw);d[d.length-1]===""&&d.pop();for(let l=d.length;l--;){const[s,a]=d[l].split(Aw).map(c=>c.trim());s==="stop-color"?e=a:s==="stop-opacity"&&(r=a)}}const o=new Yr(e||i.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:Y1(i.getAttribute("offset"),0),color:o.toRgb(),opacity:zo(parseFloat(r||i.getAttribute("stop-opacity")||""),1)*o.getAlpha()*t}}function vw(i,t){const e=[],r=i.getElementsByTagName("stop"),n=Y1(t,1);for(let o=r.length;o--;)e.push(mw(r[o],n));return e}function q1(i){return i.nodeName==="linearGradient"||i.nodeName==="LINEARGRADIENT"?"linear":"radial"}function Q1(i){return i.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function An(i,t){return i.getAttribute(t)}function yw(i,t){return function(e,r){let n,{width:o,height:d,gradientUnits:l}=r;return Object.keys(e).reduce((s,a)=>{const c=e[a];return c==="Infinity"?n=1:c==="-Infinity"?n=0:(n=typeof c=="string"?parseFloat(c):c,typeof c=="string"&&V1(c)&&(n*=.01,l==="pixels"&&(a!=="x1"&&a!=="x2"&&a!=="r2"||(n*=o),a!=="y1"&&a!=="y2"||(n*=d)))),s[a]=n,s},{})}(q1(i)==="linear"?function(e){return{x1:An(e,"x1")||0,y1:An(e,"y1")||0,x2:An(e,"x2")||"100%",y2:An(e,"y2")||0}}(i):function(e){return{x1:An(e,"fx")||An(e,"cx")||"50%",y1:An(e,"fy")||An(e,"cy")||"50%",r1:0,x2:An(e,"cx")||"50%",y2:An(e,"cy")||"50%",r2:An(e,"r")||"50%"}}(i),vt(vt({},t),{},{gradientUnits:Q1(i)}))}class tc{constructor(t){const{type:e="linear",gradientUnits:r="pixels",coords:n={},colorStops:o=[],offsetX:d=0,offsetY:l=0,gradientTransform:s,id:a}=t||{};Object.assign(this,{type:e,gradientUnits:r,coords:vt(vt({},e==="radial"?dw:H1),n),colorStops:o,offsetX:d,offsetY:l,gradientTransform:s,id:a?"".concat(a,"_").concat(sa()):sa()})}addColorStop(t){for(const e in t){const r=new Yr(t[e]);this.colorStops.push({offset:parseFloat(e),color:r.toRgb(),opacity:r.getAlpha()})}return this}toObject(t){return vt(vt({},oo(this,t)),{},{type:this.type,coords:vt({},this.coords),colorStops:this.colorStops.map(e=>vt({},e)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(t){let{additionalTransform:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],n=this.gradientTransform?this.gradientTransform.concat():gr.concat(),o=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",d=this.colorStops.map(u=>vt({},u)).sort((u,f)=>u.offset-f.offset);let l=-this.offsetX,s=-this.offsetY;var a;o==="objectBoundingBox"?(l/=t.width,s/=t.height):(l+=t.width/2,s+=t.height/2),(a=t)&&typeof a._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(l-=t.pathOffset.x,s-=t.pathOffset.y),n[4]-=l,n[5]-=s;const c=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(o,'"'),'gradientTransform="'.concat(e?e+" ":"").concat(il(n),'"'),""].join(" ");if(this.type==="linear"){const{x1:u,y1:f,x2:h,y2:p}=this.coords;r.push("<linearGradient ",c,' x1="',u,'" y1="',f,'" x2="',h,'" y2="',p,`">
`)}else if(this.type==="radial"){const{x1:u,y1:f,x2:h,y2:p,r1:A,r2:g}=this.coords,m=A>g;r.push("<radialGradient ",c,' cx="',m?u:h,'" cy="',m?f:p,'" r="',m?A:g,'" fx="',m?h:u,'" fy="',m?p:f,`">
`),m&&(d.reverse(),d.forEach(y=>{y.offset=1-y.offset}));const v=Math.min(A,g);if(v>0){const y=v/Math.max(A,g);d.forEach(w=>{w.offset+=y*(1-w.offset)})}}return d.forEach(u=>{let{color:f,offset:h,opacity:p}=u;r.push("<stop ",'offset="',100*h+"%",'" style="stop-color:',f,p!==void 0?";stop-opacity: "+p:";",`"/>
`)}),r.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),r.join("")}toLive(t){const{x1:e,y1:r,x2:n,y2:o,r1:d,r2:l}=this.coords,s=this.type==="linear"?t.createLinearGradient(e,r,n,o):t.createRadialGradient(e,r,d,n,o,l);return this.colorStops.forEach(a=>{let{color:c,opacity:u,offset:f}=a;s.addColorStop(f,u!==void 0?new Yr(c).setAlpha(u).toRgba():c)}),s}static async fromObject(t){const{colorStops:e,gradientTransform:r}=t;return new this(vt(vt({},t),{},{colorStops:e?e.map(n=>vt({},n)):void 0,gradientTransform:r?[...r]:void 0}))}static fromElement(t,e,r){const n=Q1(t),o=e._findCenterFromElement();return new this(vt({id:t.getAttribute("id")||void 0,type:q1(t),coords:yw(t,{width:r.viewBoxWidth||r.width,height:r.viewBoxHeight||r.height}),colorStops:vw(t,r.opacity),gradientUnits:n,gradientTransform:Cu(t.getAttribute("gradientTransform")||"")},n==="pixels"?{offsetX:e.width/2-o.x,offsetY:e.height/2-o.y}:{offsetX:0,offsetY:0}))}}wt(tc,"type","Gradient"),Vt.setClass(tc,"gradient"),Vt.setClass(tc,"linear"),Vt.setClass(tc,"radial");const bw=["type","source","patternTransform"];class qf{get type(){return"pattern"}set type(t){xs("warn","Setting type has no effect",t)}constructor(t){wt(this,"repeat","repeat"),wt(this,"offsetX",0),wt(this,"offsetY",0),wt(this,"crossOrigin",""),this.id=sa(),Object.assign(this,t)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(t){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?t.createPattern(this.source,this.repeat):null}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const{repeat:e,crossOrigin:r}=this;return vt(vt({},oo(this,t)),{},{type:"pattern",source:this.sourceToString(),repeat:e,crossOrigin:r,offsetX:qe(this.offsetX,Ne.NUM_FRACTION_DIGITS),offsetY:qe(this.offsetY,Ne.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(t){let{width:e,height:r}=t;const{source:n,repeat:o,id:d}=this,l=zo(this.offsetX/e,0),s=zo(this.offsetY/r,0),a=o==="repeat-y"||o==="no-repeat"?1+Math.abs(l||0):zo(n.width/e,0),c=o==="repeat-x"||o==="no-repeat"?1+Math.abs(s||0):zo(n.height/r,0);return['<pattern id="SVGID_'.concat(d,'" x="').concat(l,'" y="').concat(s,'" width="').concat(a,'" height="').concat(c,'">'),'<image x="0" y="0" width="'.concat(n.width,'" height="').concat(n.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(t,e){let{type:r,source:n,patternTransform:o}=t,d=ri(t,bw);const l=await oc(n,vt(vt({},e),{},{crossOrigin:d.crossOrigin}));return new this(vt(vt({},d),{},{patternTransform:o&&o.slice(0),source:l}))}}wt(qf,"type","Pattern"),Vt.setClass(qf),Vt.setClass(qf,"pattern");const ww=["path","left","top"],_w=["d"];class Ua extends nr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:r,left:n,top:o}=e,d=ri(e,ww);super(),Object.assign(this,Ua.ownDefaults),this.setOptions(d),this._setPath(t||[],!0),typeof n=="number"&&this.set(Ue,n),typeof o=="number"&&this.set(Cr,o)}_setPath(t,e){this.path=I1(Array.isArray(t)?t:X1(t)),this.setBoundingBox(e)}_findCenterFromElement(){const t=this._calcBoundsFromPath();return new Ot(t.left+t.width/2,t.top+t.height/2)}_renderPathCommands(t){const e=-this.pathOffset.x,r=-this.pathOffset.y;t.beginPath();for(const n of this.path)switch(n[0]){case"L":t.lineTo(n[1]+e,n[2]+r);break;case"M":t.moveTo(n[1]+e,n[2]+r);break;case"C":t.bezierCurveTo(n[1]+e,n[2]+r,n[3]+e,n[4]+r,n[5]+e,n[6]+r);break;case"Q":t.quadraticCurveTo(n[1]+e,n[2]+r,n[3]+e,n[4]+r);break;case"Z":t.closePath()}}_render(t){this._renderPathCommands(t),this._renderPaintInOrder(t)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return vt(vt({},super.toObject(t)),{},{path:this.path.map(e=>e.slice())})}toDatalessObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=this.toObject(t);return this.sourcePath&&(delete e.path,e.sourcePath=this.sourcePath),e}_toSVG(){const t=G1(this.path,Ne.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(t,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){const t=Ne.NUM_FRACTION_DIGITS;return" translate(".concat(qe(-this.pathOffset.x,t),", ").concat(qe(-this.pathOffset.y,t),")")}toClipPathSVG(t){const e=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}toSVG(t){const e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{width:e,height:r,pathOffset:n}=this._calcDimensions();this.set({width:e,height:r,pathOffset:n}),t&&this.setPositionByOrigin(n,_e,_e)}_calcBoundsFromPath(){const t=[];let e=0,r=0,n=0,o=0;for(const d of this.path)switch(d[0]){case"L":n=d[1],o=d[2],t.push({x:e,y:r},{x:n,y:o});break;case"M":n=d[1],o=d[2],e=n,r=o;break;case"C":t.push(...Zd(n,o,d[1],d[2],d[3],d[4],d[5],d[6])),n=d[5],o=d[6];break;case"Q":t.push(...Zd(n,o,d[1],d[2],d[1],d[2],d[3],d[4])),n=d[3],o=d[4];break;case"Z":n=e,o=r}return Wn(t)}_calcDimensions(){const t=this._calcBoundsFromPath();return vt(vt({},t),{},{pathOffset:new Ot(t.left+t.width/2,t.top+t.height/2)})}static fromObject(t){return this._fromObject(t,{extraParam:"path"})}static async fromElement(t,e,r){const n=Ts(t,this.ATTRIBUTE_NAMES,r),{d:o}=n;return new this(o,vt(vt(vt({},ri(n,_w)),e),{},{left:void 0,top:void 0}))}}wt(Ua,"type","Path"),wt(Ua,"cacheProperties",[...Ss,"path","fillRule"]),wt(Ua,"ATTRIBUTE_NAMES",[...ca,"d"]),Vt.setClass(Ua),Vt.setSVGClass(Ua);const xw=["left","top","radius"],K1=["radius","startAngle","endAngle","counterClockwise"];class ps extends nr{static getDefaults(){return vt(vt({},super.getDefaults()),ps.ownDefaults)}constructor(t){super(),Object.assign(this,ps.ownDefaults),this.setOptions(t)}_set(t,e){return super._set(t,e),t==="radius"&&this.setRadius(e),this}_render(t){t.beginPath(),t.arc(0,0,this.radius,gi(this.startAngle),gi(this.endAngle),this.counterClockwise),this._renderPaintInOrder(t)}getRadiusX(){return this.get("radius")*this.get(Ar)}getRadiusY(){return this.get("radius")*this.get(Hr)}setRadius(t){this.radius=t,this.set({width:2*t,height:2*t})}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...K1,...t])}_toSVG(){const t=(this.endAngle-this.startAngle)%360;if(t===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{const{radius:e}=this,r=gi(this.startAngle),n=gi(this.endAngle),o=_n(r)*e,d=xn(r)*e,l=_n(n)*e,s=xn(n)*e,a=t>180?1:0,c=this.counterClockwise?0:1;return['<path d="M '.concat(o," ").concat(d," A ").concat(e," ").concat(e," 0 ").concat(a," ").concat(c," ").concat(l," ").concat(s,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(t,e,r){const n=Ts(t,this.ATTRIBUTE_NAMES,r),{left:o=0,top:d=0,radius:l=0}=n;return new this(vt(vt({},ri(n,xw)),{},{radius:l,left:o-l,top:d-l}))}static fromObject(t){return super._fromObject(t)}}wt(ps,"type","Circle"),wt(ps,"cacheProperties",[...Ss,...K1]),wt(ps,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),wt(ps,"ATTRIBUTE_NAMES",["cx","cy","r",...ca]),Vt.setClass(ps),Vt.setSVGClass(ps);const Cw=["x1","y1","x2","y2"],Sw=["x1","y1","x2","y2"],tp=["x1","x2","y1","y2"];class Wa extends nr{constructor(){let[t,e,r,n]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Wa.ownDefaults),this.setOptions(o),this.x1=t,this.x2=r,this.y1=e,this.y2=n,this._setWidthHeight();const{left:d,top:l}=o;typeof d=="number"&&this.set(Ue,d),typeof l=="number"&&this.set(Cr,l)}_setWidthHeight(){const{x1:t,y1:e,x2:r,y2:n}=this;this.width=Math.abs(r-t),this.height=Math.abs(n-e);const{left:o,top:d,width:l,height:s}=Wn([{x:t,y:e},{x:r,y:n}]),a=new Ot(o+l/2,d+s/2);this.setPositionByOrigin(a,_e,_e)}_set(t,e){return super._set(t,e),tp.includes(t)&&this._setWidthHeight(),this}_render(t){t.beginPath();const e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;const r=t.strokeStyle;var n;sn(this.stroke)?t.strokeStyle=this.stroke.toLive(t):t.strokeStyle=(n=this.stroke)!==null&&n!==void 0?n:t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=r}_findCenterFromElement(){return new Ot((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return vt(vt({},super.toObject(t)),this.calcLinePoints())}_getNonTransformedDimensions(){const t=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t}calcLinePoints(){const{x1:t,x2:e,y1:r,y2:n,width:o,height:d}=this,l=t<=e?-1:1,s=r<=n?-1:1;return{x1:l*o/2,x2:l*-o/2,y1:s*d/2,y2:s*-d/2}}_toSVG(){const{x1:t,x2:e,y1:r,y2:n}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(t,'" y1="').concat(r,'" x2="').concat(e,'" y2="').concat(n,`" />
`)]}static async fromElement(t,e,r){const n=Ts(t,this.ATTRIBUTE_NAMES,r),{x1:o=0,y1:d=0,x2:l=0,y2:s=0}=n;return new this([o,d,l,s],ri(n,Cw))}static fromObject(t){let{x1:e,y1:r,x2:n,y2:o}=t,d=ri(t,Sw);return this._fromObject(vt(vt({},d),{},{points:[e,r,n,o]}),{extraParam:"points"})}}wt(Wa,"type","Line"),wt(Wa,"cacheProperties",[...Ss,...tp]),wt(Wa,"ATTRIBUTE_NAMES",ca.concat(tp)),Vt.setClass(Wa),Vt.setSVGClass(Wa);class Ha extends nr{static getDefaults(){return vt(vt({},super.getDefaults()),Ha.ownDefaults)}constructor(t){super(),Object.assign(this,Ha.ownDefaults),this.setOptions(t)}_render(t){const e=this.width/2,r=this.height/2;t.beginPath(),t.moveTo(-e,r),t.lineTo(0,-r),t.lineTo(e,r),t.closePath(),this._renderPaintInOrder(t)}_toSVG(){const t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-t," ").concat(e,",0 ").concat(-e,",").concat(t," ").concat(e),'" />']}}wt(Ha,"type","Triangle"),wt(Ha,"ownDefaults",{width:100,height:100}),Vt.setClass(Ha),Vt.setSVGClass(Ha);const $1=["rx","ry"];class gs extends nr{static getDefaults(){return vt(vt({},super.getDefaults()),gs.ownDefaults)}constructor(t){super(),Object.assign(this,gs.ownDefaults),this.setOptions(t)}_set(t,e){switch(super._set(t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this}getRx(){return this.get("rx")*this.get(Ar)}getRy(){return this.get("ry")*this.get(Hr)}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...$1,...t])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,Cs,!1),t.restore(),this._renderPaintInOrder(t)}static async fromElement(t,e,r){const n=Ts(t,this.ATTRIBUTE_NAMES,r);return n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,new this(n)}}function Tw(i){if(!i)return[];const t=i.replace(/,/g," ").trim().split(/\s+/),e=[];for(let r=0;r<t.length;r+=2)e.push({x:parseFloat(t[r]),y:parseFloat(t[r+1])});return e}wt(gs,"type","Ellipse"),wt(gs,"cacheProperties",[...Ss,...$1]),wt(gs,"ownDefaults",{rx:0,ry:0}),wt(gs,"ATTRIBUTE_NAMES",[...ca,"cx","cy","rx","ry"]),Vt.setClass(gs),Vt.setSVGClass(gs);const kw=["left","top"],J1={exactBoundingBox:!1};class vn extends nr{static getDefaults(){return vt(vt({},super.getDefaults()),vn.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),wt(this,"strokeDiff",void 0),Object.assign(this,vn.ownDefaults),this.setOptions(e),this.points=t;const{left:r,top:n}=e;this.initialized=!0,this.setBoundingBox(!0),typeof r=="number"&&this.set(Ue,r),typeof n=="number"&&this.set(Cr,n)}isOpen(){return!0}_projectStrokeOnPoints(t){return L1(this.points,t,this.isOpen())}_calcDimensions(t){t=vt({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},t||{});const e=this.exactBoundingBox?this._projectStrokeOnPoints(t).map(a=>a.projectedPoint):this.points;if(e.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new Ot,strokeOffset:new Ot,strokeDiff:new Ot};const r=Wn(e),n=Oc(vt(vt({},t),{},{scaleX:1,scaleY:1})),o=Wn(this.points.map(a=>rr(a,n,!0))),d=new Ot(this.scaleX,this.scaleY);let l=r.left+r.width/2,s=r.top+r.height/2;return this.exactBoundingBox&&(l-=s*Math.tan(gi(this.skewX)),s-=l*Math.tan(gi(this.skewY))),vt(vt({},r),{},{pathOffset:new Ot(l,s),strokeOffset:new Ot(o.left,o.top).subtract(new Ot(r.left,r.top)).multiply(d),strokeDiff:new Ot(r.width,r.height).subtract(new Ot(o.width,o.height)).multiply(d)})}_findCenterFromElement(){const t=Wn(this.points);return new Ot(t.left+t.width/2,t.top+t.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(t){const{left:e,top:r,width:n,height:o,pathOffset:d,strokeOffset:l,strokeDiff:s}=this._calcDimensions();this.set({width:n,height:o,pathOffset:d,strokeOffset:l,strokeDiff:s}),t&&this.setPositionByOrigin(new Ot(e+n/2,r+o/2),_e,_e)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new Ot(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let d;if(Object.keys(t).some(l=>this.strokeUniform||this.constructor.layoutProperties.includes(l))){var e,r;const{width:l,height:s}=this._calcDimensions(t);d=new Ot((e=t.width)!==null&&e!==void 0?e:l,(r=t.height)!==null&&r!==void 0?r:s)}else{var n,o;d=new Ot((n=t.width)!==null&&n!==void 0?n:this.width,(o=t.height)!==null&&o!==void 0?o:this.height)}return d.multiply(new Ot(t.scaleX||this.scaleX,t.scaleY||this.scaleY))}return super._getTransformedDimensions(t)}_set(t,e){const r=this.initialized&&this[t]!==e,n=super._set(t,e);return this.exactBoundingBox&&r&&((t===Ar||t===Hr)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(t))&&this.setDimensions(),n}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return vt(vt({},super.toObject(t)),{},{points:this.points.map(e=>{let{x:r,y:n}=e;return{x:r,y:n}})})}_toSVG(){const t=[],e=this.pathOffset.x,r=this.pathOffset.y,n=Ne.NUM_FRACTION_DIGITS;for(let o=0,d=this.points.length;o<d;o++)t.push(qe(this.points[o].x-e,n),",",qe(this.points[o].y-r,n)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(t.join(""),`" />
`)]}_render(t){const e=this.points.length,r=this.pathOffset.x,n=this.pathOffset.y;if(e&&!isNaN(this.points[e-1].y)){t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-n);for(let o=0;o<e;o++){const d=this.points[o];t.lineTo(d.x-r,d.y-n)}!this.isOpen()&&t.closePath(),this._renderPaintInOrder(t)}}complexity(){return this.points.length}static async fromElement(t,e,r){return new this(Tw(t.getAttribute("points")),vt(vt({},ri(Ts(t,this.ATTRIBUTE_NAMES,r),kw)),e))}static fromObject(t){return this._fromObject(t,{extraParam:"points"})}}wt(vn,"ownDefaults",J1),wt(vn,"type","Polyline"),wt(vn,"layoutProperties",[hl,ul,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),wt(vn,"cacheProperties",[...Ss,"points"]),wt(vn,"ATTRIBUTE_NAMES",[...ca]),Vt.setClass(vn),Vt.setSVGClass(vn);class wh extends vn{isOpen(){return!1}}wt(wh,"ownDefaults",J1),wt(wh,"type","Polygon"),Vt.setClass(wh),Vt.setSVGClass(wh);class Z1 extends nr{isEmptyStyles(t){if(!this.styles||t!==void 0&&!this.styles[t])return!0;const e=t===void 0?this.styles:{line:this.styles[t]};for(const r in e)for(const n in e[r])for(const o in e[r][n])return!1;return!0}styleHas(t,e){if(!this.styles||e!==void 0&&!this.styles[e])return!1;const r=e===void 0?this.styles:{0:this.styles[e]};for(const n in r)for(const o in r[n])if(r[n][o][t]!==void 0)return!0;return!1}cleanStyle(t){if(!this.styles)return!1;const e=this.styles;let r,n,o=0,d=!0,l=0;for(const s in e){r=0;for(const a in e[s]){const c=e[s][a]||{};o++,c[t]!==void 0?(n?c[t]!==n&&(d=!1):n=c[t],c[t]===this[t]&&delete c[t]):d=!1,Object.keys(c).length!==0?r++:delete e[s][a]}r===0&&delete e[s]}for(let s=0;s<this._textLines.length;s++)l+=this._textLines[s].length;d&&o===l&&(this[t]=n,this.removeStyle(t))}removeStyle(t){if(!this.styles)return;const e=this.styles;let r,n,o;for(n in e){for(o in r=e[n],r)delete r[o][t],Object.keys(r[o]).length===0&&delete r[o];Object.keys(r).length===0&&delete e[n]}}_extendStyles(t,e){const{lineIndex:r,charIndex:n}=this.get2DCursorLocation(t);this._getLineStyle(r)||this._setLineStyle(r);const o=Rp(vt(vt({},this._getStyleDeclaration(r,n)),e),d=>d!==void 0);this._setStyleDeclaration(r,n,o)}getSelectionStyles(t,e,r){const n=[];for(let o=t;o<(e||t);o++)n.push(this.getStyleAtPosition(o,r));return n}getStyleAtPosition(t,e){const{lineIndex:r,charIndex:n}=this.get2DCursorLocation(t);return e?this.getCompleteStyleDeclaration(r,n):this._getStyleDeclaration(r,n)}setSelectionStyles(t,e,r){for(let n=e;n<(r||e);n++)this._extendStyles(n,t);this._forceClearCache=!0}_getStyleDeclaration(t,e){var r;const n=this.styles&&this.styles[t];return n&&(r=n[e])!==null&&r!==void 0?r:{}}getCompleteStyleDeclaration(t,e){return vt(vt({},oo(this,this.constructor._styleProperties)),this._getStyleDeclaration(t,e))}_setStyleDeclaration(t,e,r){this.styles[t][e]=r}_deleteStyleDeclaration(t,e){delete this.styles[t][e]}_getLineStyle(t){return!!this.styles[t]}_setLineStyle(t){this.styles[t]={}}_deleteLineStyle(t){delete this.styles[t]}}wt(Z1,"_styleProperties",$y);const Lw=/  +/g,Pw=/"/g;function Qf(i,t,e,r,n){return"		".concat(function(o,d){let{left:l,top:s,width:a,height:c}=d,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.NUM_FRACTION_DIGITS;const f=mc(Di,o,!1),[h,p,A,g]=[l,s,a,c].map(m=>qe(m,u));return"<rect ".concat(f,' x="').concat(h,'" y="').concat(p,'" width="').concat(A,'" height="').concat(g,'"></rect>')}(i,{left:t,top:e,width:r,height:n}),`
`)}const Ow=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"];let Kf;class cr extends Z1{static getDefaults(){return vt(vt({},super.getDefaults()),cr.ownDefaults)}constructor(t,e){super(),wt(this,"__charBounds",[]),Object.assign(this,cr.ownDefaults),this.setOptions(e),this.styles||(this.styles={}),this.text=t,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){const t=this.path;t&&(t.segmentsInfo=Zp(t.path))}_splitText(){const t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(In)&&this.enlargeSpaces()}enlargeSpaces(){let t,e,r,n,o,d,l;for(let s=0,a=this._textLines.length;s<a;s++)if((this.textAlign===In||s!==a-1&&!this.isEndOfWrapping(s))&&(n=0,o=this._textLines[s],e=this.getLineWidth(s),e<this.width&&(l=this.textLines[s].match(this._reSpacesAndTabs)))){r=l.length,t=(this.width-e)/r;for(let c=0;c<=o.length;c++)d=this.__charBounds[s][c],this._reSpaceAndTab.test(o[c])?(d.width+=t,d.kernedWidth+=t,d.left+=n,n+=t):d.left+=n}}isEndOfWrapping(t){return t===this._textLines.length-1}missingNewlineOffset(t){return 1}get2DCursorLocation(t,e){const r=e?this._unwrappedTextLines:this._textLines;let n;for(n=0;n<r.length;n++){if(t<=r[n].length)return{lineIndex:n,charIndex:t};t-=r[n].length+this.missingNewlineOffset(n,e)}return{lineIndex:n-1,charIndex:r[n-1].length<t?r[n-1].length:t}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){const t=super._getCacheCanvasDimensions(),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t}_render(t){const e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")}_renderText(t){this.paintFirst===pr?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))}_setTextStyles(t,e,r){if(t.textBaseline="alphabetic",this.path)switch(this.pathAlign){case _e:t.textBaseline="middle";break;case"ascender":t.textBaseline=Cr;break;case"descender":t.textBaseline=jd}t.font=this._getFontDeclaration(e,r)}calcTextWidth(){let t=this.getLineWidth(0);for(let e=1,r=this._textLines.length;e<r;e++){const n=this.getLineWidth(e);n>t&&(t=n)}return t}_renderTextLine(t,e,r,n,o,d){this._renderChars(t,e,r,n,o,d)}_renderTextLinesBackground(t){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;const e=t.fillStyle,r=this._getLeftOffset();let n=this._getTopOffset();for(let o=0,d=this._textLines.length;o<d;o++){const l=this.getHeightOfLine(o);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",o)){n+=l;continue}const s=this._textLines[o].length,a=this._getLineLeftOffset(o);let c,u,f=0,h=0,p=this.getValueOfPropertyAt(o,0,"textBackgroundColor");for(let A=0;A<s;A++){const g=this.__charBounds[o][A];u=this.getValueOfPropertyAt(o,A,"textBackgroundColor"),this.path?(t.save(),t.translate(g.renderLeft,g.renderTop),t.rotate(g.angle),t.fillStyle=u,u&&t.fillRect(-g.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),g.width,l/this.lineHeight),t.restore()):u!==p?(c=r+a+h,this.direction==="rtl"&&(c=this.width-c-f),t.fillStyle=p,p&&t.fillRect(c,n,f,l/this.lineHeight),h=g.left,f=g.width,p=u):f+=g.kernedWidth}u&&!this.path&&(c=r+a+h,this.direction==="rtl"&&(c=this.width-c-f),t.fillStyle=u,t.fillRect(c,n,f,l/this.lineHeight)),n+=l}t.fillStyle=e,this._removeShadow(t)}_measureChar(t,e,r,n){const o=sc.getFontCache(e),d=this._getFontDeclaration(e),l=r+t,s=r&&d===this._getFontDeclaration(n),a=e.fontSize/this.CACHE_FONT_SIZE;let c,u,f,h;if(r&&o[r]!==void 0&&(f=o[r]),o[t]!==void 0&&(h=c=o[t]),s&&o[l]!==void 0&&(u=o[l],h=u-f),c===void 0||f===void 0||u===void 0){const p=function(){return Kf||(Kf=Vr({width:0,height:0}).getContext("2d")),Kf}();this._setTextStyles(p,e,!0),c===void 0&&(h=c=p.measureText(t).width,o[t]=c),f===void 0&&s&&r&&(f=p.measureText(r).width,o[r]=f),s&&u===void 0&&(u=p.measureText(l).width,o[l]=u,h=u-f)}return{width:c*a,kernedWidth:h*a}}getHeightOfChar(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")}measureLine(t){const e=this._measureLine(t);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e}_measureLine(t){let e,r,n=0;const o=this.pathSide===_i,d=this.path,l=this._textLines[t],s=l.length,a=new Array(s);this.__charBounds[t]=a;for(let c=0;c<s;c++){const u=l[c];r=this._getGraphemeBox(u,t,c,e),a[c]=r,n+=r.kernedWidth,e=u}if(a[s]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},d&&d.segmentsInfo){let c=0;const u=d.segmentsInfo[d.segmentsInfo.length-1].length;switch(this.textAlign){case Ue:c=o?u-n:0;break;case _e:c=(u-n)/2;break;case _i:c=o?0:u-n}c+=this.pathStartOffset*(o?-1:1);for(let f=o?s-1:0;o?f>=0:f<s;o?f--:f++)r=a[f],c>u?c%=u:c<0&&(c+=u),this._setGraphemeOnPath(c,r),c+=r.kernedWidth}return{width:n,numOfSpaces:0}}_setGraphemeOnPath(t,e){const r=t+e.kernedWidth/2,n=this.path,o=W1(n.path,r,n.segmentsInfo);e.renderLeft=o.x-n.pathOffset.x,e.renderTop=o.y-n.pathOffset.y,e.angle=o.angle+(this.pathSide===_i?Math.PI:0)}_getGraphemeBox(t,e,r,n,o){const d=this.getCompleteStyleDeclaration(e,r),l=n?this.getCompleteStyleDeclaration(e,r-1):{},s=this._measureChar(t,d,n,l);let a,c=s.kernedWidth,u=s.width;this.charSpacing!==0&&(a=this._getWidthOfCharSpacing(),u+=a,c+=a);const f={width:u,left:0,height:d.fontSize,kernedWidth:c,deltaY:d.deltaY};if(r>0&&!o){const h=this.__charBounds[e][r-1];f.left=h.left+h.width+s.kernedWidth-s.width}return f}getHeightOfLine(t){if(this.__lineHeights[t])return this.__lineHeights[t];let e=this.getHeightOfChar(t,0);for(let r=1,n=this._textLines[t].length;r<n;r++)e=Math.max(this.getHeightOfChar(t,r),e);return this.__lineHeights[t]=e*this.lineHeight*this._fontSizeMult}calcTextHeight(){let t,e=0;for(let r=0,n=this._textLines.length;r<n;r++)t=this.getHeightOfLine(r),e+=r===n-1?t/this.lineHeight:t;return e}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(t,e){t.save();let r=0;const n=this._getLeftOffset(),o=this._getTopOffset();for(let d=0,l=this._textLines.length;d<l;d++){const s=this.getHeightOfLine(d),a=s/this.lineHeight,c=this._getLineLeftOffset(d);this._renderTextLine(e,t,this._textLines[d],n+c,o+r+a,d),r+=s}t.restore()}_renderTextFill(t){(this.fill||this.styleHas(Di))&&this._renderTextCommon(t,"fillText")}_renderTextStroke(t){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())}_renderChars(t,e,r,n,o,d){const l=this.getHeightOfLine(d),s=this.textAlign.includes(In),a=this.path,c=!s&&this.charSpacing===0&&this.isEmptyStyles(d)&&!a,u=this.direction==="ltr",f=this.direction==="ltr"?1:-1,h=e.direction;let p,A,g,m,v,y="",w=0;if(e.save(),h!==this.direction&&(e.canvas.setAttribute("dir",u?"ltr":"rtl"),e.direction=u?"ltr":"rtl",e.textAlign=u?Ue:_i),o-=l*this._fontSizeFraction/this.lineHeight,c)return this._renderChar(t,e,d,0,r.join(""),n,o),void e.restore();for(let x=0,L=r.length-1;x<=L;x++)m=x===L||this.charSpacing||a,y+=r[x],g=this.__charBounds[d][x],w===0?(n+=f*(g.kernedWidth-g.width),w+=g.width):w+=g.kernedWidth,s&&!m&&this._reSpaceAndTab.test(r[x])&&(m=!0),m||(p=p||this.getCompleteStyleDeclaration(d,x),A=this.getCompleteStyleDeclaration(d,x+1),m=qu(p,A,!1)),m&&(a?(e.save(),e.translate(g.renderLeft,g.renderTop),e.rotate(g.angle),this._renderChar(t,e,d,x,y,-w/2,0),e.restore()):(v=n,this._renderChar(t,e,d,x,y,v,o)),y="",p=A,n+=f*w,w=0);e.restore()}_applyPatternGradientTransformText(t){const e=this.width+this.strokeWidth,r=this.height+this.strokeWidth,n=Vr({width:e,height:r}),o=n.getContext("2d");return n.width=e,n.height=r,o.beginPath(),o.moveTo(0,0),o.lineTo(e,0),o.lineTo(e,r),o.lineTo(0,r),o.closePath(),o.translate(e/2,r/2),o.fillStyle=t.toLive(o),this._applyPatternGradientTransform(o,t),o.fill(),o.createPattern(n,"no-repeat")}handleFiller(t,e,r){let n,o;return sn(r)?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(n=-this.width/2,o=-this.height/2,t.translate(n,o),t[e]=this._applyPatternGradientTransformText(r),{offsetX:n,offsetY:o}):(t[e]=r.toLive(t),this._applyPatternGradientTransform(t,r)):(t[e]=r,{offsetX:0,offsetY:0})}_setStrokeStyles(t,e){let{stroke:r,strokeWidth:n}=e;return t.lineWidth=n,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",r)}_setFillStyles(t,e){let{fill:r}=e;return this.handleFiller(t,"fillStyle",r)}_renderChar(t,e,r,n,o,d,l){const s=this._getStyleDeclaration(r,n),a=this.getCompleteStyleDeclaration(r,n),c=t==="fillText"&&a.fill,u=t==="strokeText"&&a.stroke&&a.strokeWidth;if(u||c){if(e.save(),e.font=this._getFontDeclaration(a),s.textBackgroundColor&&this._removeShadow(e),s.deltaY&&(l+=s.deltaY),c){const f=this._setFillStyles(e,a);e.fillText(o,d-f.offsetX,l-f.offsetY)}if(u){const f=this._setStrokeStyles(e,a);e.strokeText(o,d-f.offsetX,l-f.offsetY)}e.restore()}}setSuperscript(t,e){this._setScript(t,e,this.superscript)}setSubscript(t,e){this._setScript(t,e,this.subscript)}_setScript(t,e,r){const n=this.get2DCursorLocation(t,!0),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),d=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),l={fontSize:o*r.size,deltaY:d+o*r.baseline};this.setSelectionStyles(l,t,e)}_getLineLeftOffset(t){const e=this.getLineWidth(t),r=this.width-e,n=this.textAlign,o=this.direction,d=this.isEndOfWrapping(t);let l=0;return n===In||n===cc&&!d||n===lc&&!d||n===bu&&!d?0:(n===_e&&(l=r/2),n===_i&&(l=r),n===cc&&(l=r/2),n===lc&&(l=r),o==="rtl"&&(n===_i||n===In||n===lc?l=0:n===Ue||n===bu?l=-r:n!==_e&&n!==cc||(l=-r/2)),l)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(t){if(this.__lineWidths[t]!==void 0)return this.__lineWidths[t];const{width:e}=this.measureLine(t);return this.__lineWidths[t]=e,e}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0}getValueOfPropertyAt(t,e,r){var n;return(n=this._getStyleDeclaration(t,e)[r])!==null&&n!==void 0?n:this[r]}_renderTextDecoration(t,e){if(!this[e]&&!this.styleHas(e))return;let r=this._getTopOffset();const n=this._getLeftOffset(),o=this.path,d=this._getWidthOfCharSpacing(),l=e==="linethrough"?.5:e==="overline"?1:0,s=this.offsets[e];for(let a=0,c=this._textLines.length;a<c;a++){const u=this.getHeightOfLine(a);if(!this[e]&&!this.styleHas(e,a)){r+=u;continue}const f=this._textLines[a],h=u/this.lineHeight,p=this._getLineLeftOffset(a);let A=0,g=0,m=this.getValueOfPropertyAt(a,0,e),v=this.getValueOfPropertyAt(a,0,Di),y=this.getValueOfPropertyAt(a,0,eo),w=m,x=v,L=y;const F=r+h*(1-this._fontSizeFraction);let M=this.getHeightOfChar(a,0),D=this.getValueOfPropertyAt(a,0,"deltaY");for(let O=0,W=f.length;O<W;O++){const C=this.__charBounds[a][O];w=this.getValueOfPropertyAt(a,O,e),x=this.getValueOfPropertyAt(a,O,Di),L=this.getValueOfPropertyAt(a,O,eo);const Q=this.getHeightOfChar(a,O),lt=this.getValueOfPropertyAt(a,O,"deltaY");if(o&&w&&x){const it=this.fontSize*L/1e3;t.save(),t.fillStyle=v,t.translate(C.renderLeft,C.renderTop),t.rotate(C.angle),t.fillRect(-C.kernedWidth/2,s*Q+lt-l*it,C.kernedWidth,it),t.restore()}else if((w!==m||x!==v||Q!==M||L!==y||lt!==D)&&g>0){const it=this.fontSize*y/1e3;let et=n+p+A;this.direction==="rtl"&&(et=this.width-et-g),m&&v&&y&&(t.fillStyle=v,t.fillRect(et,F+s*M+D-l*it,g,it)),A=C.left,g=C.width,m=w,y=L,v=x,M=Q,D=lt}else g+=C.kernedWidth}let X=n+p+A;this.direction==="rtl"&&(X=this.width-X-g),t.fillStyle=x;const I=this.fontSize*L/1e3;w&&x&&L&&t.fillRect(X,F+s*M+D-l*I,g-d,I),r+=u}this._removeShadow(t)}_getFontDeclaration(){let{fontFamily:t=this.fontFamily,fontStyle:e=this.fontStyle,fontWeight:r=this.fontWeight,fontSize:n=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;const d=t.includes("'")||t.includes('"')||t.includes(",")||cr.genericFonts.includes(t.toLowerCase())?t:'"'.concat(t,'"');return[e,r,"".concat(o?this.CACHE_FONT_SIZE:n,"px"),d].join(" ")}render(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(t)))}graphemeSplit(t){return Yu(t)}_splitTextIntoLines(t){const e=t.split(this._reNewline),r=new Array(e.length),n=[`
`];let o=[];for(let d=0;d<e.length;d++)r[d]=this.graphemeSplit(e[d]),o=o.concat(r[d],n);return o.pop(),{_unwrappedLines:r,lines:e,graphemeText:o,graphemeLines:r}}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return vt(vt({},super.toObject([...s1,...t])),{},{styles:O1(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(t,e){const{textLayoutProperties:r}=this.constructor;super.set(t,e);let n=!1,o=!1;if(typeof t=="object")for(const d in t)d==="path"&&this.setPathInfo(),n=n||r.includes(d),o=o||d==="path";else n=r.includes(t),o=t==="path";return o&&this.setPathInfo(),n&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(t,e,r){const n=Ts(t,cr.ATTRIBUTE_NAMES,r),o=vt(vt({},e),n),{textAnchor:d=Ue,textDecoration:l="",dx:s=0,dy:a=0,top:c=0,left:u=0,fontSize:f=Op,strokeWidth:h=1}=o,p=ri(o,Ow),A=new this((t.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),vt({left:u+s,top:c+a,underline:l.includes("underline"),overline:l.includes("overline"),linethrough:l.includes("line-through"),strokeWidth:0,fontSize:f},p)),g=A.getScaledHeight()/A.height,m=((A.height+A.strokeWidth)*A.lineHeight-A.height)*g,v=A.getScaledHeight()+m;let y=0;return d===_e&&(y=A.getScaledWidth()/2),d===_i&&(y=A.getScaledWidth()),A.set({left:A.left-y,top:A.top-(v-A.fontSize*(.07+A._fontSizeFraction))/A.lineHeight,strokeWidth:h}),A}static fromObject(t){return this._fromObject(vt(vt({},t),{},{styles:D1(t.styles||{},t.text)}),{extraParam:"text"})}}wt(cr,"textLayoutProperties",n1),wt(cr,"cacheProperties",[...Ss,...s1]),wt(cr,"ownDefaults",Jy),wt(cr,"type","Text"),wt(cr,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),wt(cr,"ATTRIBUTE_NAMES",ca.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),S1(cr,[class extends e1{_toSVG(){const i=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(i.textTop,i.textLeft);return this._wrapSVGTextAndBg(t)}toSVG(i){const t=this._createBaseSVGMarkup(this._toSVG(),{reviver:i,noStyle:!0,withShadow:!0}),e=this.path;return e?t+e._createBaseSVGMarkup(e._toSVG(),{reviver:i,withShadow:!0,additionalTransform:il(this.calcOwnMatrix())}):t}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(i){let{textBgRects:t,textSpans:e}=i;const r=this.getSvgTextDecoration(this);return[t.join(""),'		<text xml:space="preserve" ','font-family="'.concat(this.fontFamily.replace(Pw,"'"),'" '),'font-size="'.concat(this.fontSize,'" '),this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",r?'text-decoration="'.concat(r,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.join(""),`</text>
`]}_getSVGTextAndBg(i,t){const e=[],r=[];let n,o=i;this.backgroundColor&&r.push(...Qf(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let d=0,l=this._textLines.length;d<l;d++)n=this._getLineLeftOffset(d),this.direction==="rtl"&&(n+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",d))&&this._setSVGTextLineBg(r,d,t+n,o),this._setSVGTextLineText(e,d,t+n,o),o+=this.getHeightOfLine(d);return{textSpans:e,textBgRects:r}}_createTextCharSpan(i,t,e,r,n){const o=Ne.NUM_FRACTION_DIGITS,d=this.getSvgSpanStyles(t,i!==i.trim()||!!i.match(Lw)),l=d?'style="'.concat(d,'"'):"",s=t.deltaY,a=s?' dy="'.concat(qe(s,o),'" '):"",{angle:c,renderLeft:u,renderTop:f,width:h}=n;let p="";if(u!==void 0){const A=h/2;c&&(p=' rotate="'.concat(qe(Yn(c),o),'"'));const g=ao({angle:Yn(c)});g[4]=u,g[5]=f;const m=new Ot(-A,0).transform(g);e=m.x,r=m.y}return'<tspan x="'.concat(qe(e,o),'" y="').concat(qe(r,o),'" ').concat(a).concat(p).concat(l,">").concat(P1(i),"</tspan>")}_setSVGTextLineText(i,t,e,r){const n=this.getHeightOfLine(t),o=this.textAlign.includes(In),d=this._textLines[t];let l,s,a,c,u,f="",h=0;r+=n*(1-this._fontSizeFraction)/this.lineHeight;for(let p=0,A=d.length-1;p<=A;p++)u=p===A||this.charSpacing||this.path,f+=d[p],a=this.__charBounds[t][p],h===0?(e+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,o&&!u&&this._reSpaceAndTab.test(d[p])&&(u=!0),u||(l=l||this.getCompleteStyleDeclaration(t,p),s=this.getCompleteStyleDeclaration(t,p+1),u=qu(l,s,!0)),u&&(c=this._getStyleDeclaration(t,p),i.push(this._createTextCharSpan(f,c,e,r,a)),f="",l=s,this.direction==="rtl"?e-=h:e+=h,h=0)}_setSVGTextLineBg(i,t,e,r){const n=this._textLines[t],o=this.getHeightOfLine(t)/this.lineHeight;let d,l=0,s=0,a=this.getValueOfPropertyAt(t,0,"textBackgroundColor");for(let c=0;c<n.length;c++){const{left:u,width:f,kernedWidth:h}=this.__charBounds[t][c];d=this.getValueOfPropertyAt(t,c,"textBackgroundColor"),d!==a?(a&&i.push(...Qf(a,e+s,r,l,o)),s=u,l=f,a=d):l+=h}d&&i.push(...Qf(a,e+s,r,l,o))}_getSVGLineTopOffset(i){let t,e=0;for(t=0;t<i;t++)e+=this.getHeightOfLine(t);const r=this.getHeightOfLine(t);return{lineTop:e,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(i){return"".concat(super.getSvgStyles(i)," text-decoration-thickness: ").concat(qe(this.textDecorationThickness*this.getObjectScaling().y/10,Ne.NUM_FRACTION_DIGITS),"%; white-space: pre;")}getSvgSpanStyles(i,t){const{fontFamily:e,strokeWidth:r,stroke:n,fill:o,fontSize:d,fontStyle:l,fontWeight:s,deltaY:a,textDecorationThickness:c,linethrough:u,overline:f,underline:h}=i,p=this.getSvgTextDecoration({underline:h??this.underline,overline:f??this.overline,linethrough:u??this.linethrough}),A=c||this.textDecorationThickness;return[n?mc(pr,n):"",r?"stroke-width: ".concat(r,"; "):"",e?"font-family: ".concat(e.includes("'")||e.includes('"')?e:"'".concat(e,"'"),"; "):"",d?"font-size: ".concat(d,"px; "):"",l?"font-style: ".concat(l,"; "):"",s?"font-weight: ".concat(s,"; "):"",p?"text-decoration: ".concat(p,"; text-decoration-thickness: ").concat(qe(A*this.getObjectScaling().y/10,Ne.NUM_FRACTION_DIGITS),"%; "):"",o?mc(Di,o):"",a?"baseline-shift: ".concat(-a,"; "):"",t?"white-space: pre; ":""].join("")}getSvgTextDecoration(i){return["overline","underline","line-through"].filter(t=>i[t.replace("-","")]).join(" ")}}]),Vt.setClass(cr),Vt.setSVGClass(cr);class Dw{constructor(t){wt(this,"target",void 0),wt(this,"__mouseDownInPlace",!1),wt(this,"__dragStartFired",!1),wt(this,"__isDraggingOver",!1),wt(this,"__dragStartSelection",void 0),wt(this,"__dragImageDisposer",void 0),wt(this,"_dispose",void 0),this.target=t;const e=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{e.forEach(r=>r()),this._dispose=void 0}}isPointerOverSelection(t){const e=this.target,r=e.getSelectionStartFromPointer(t);return e.isEditing&&r>=e.selectionStart&&r<=e.selectionEnd&&e.selectionStart<e.selectionEnd}start(t){return this.__mouseDownInPlace=this.isPointerOverSelection(t)}isActive(){return this.__mouseDownInPlace}end(t){const e=this.isActive();return e&&!this.__dragStartFired&&(this.target.setCursorByClick(t),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,e}getDragStartSelection(){return this.__dragStartSelection}setDragImage(t,e){var r;let{selectionStart:n,selectionEnd:o}=e;const d=this.target,l=d.canvas,s=new Ot(d.flipX?-1:1,d.flipY?-1:1),a=d._getCursorBoundaries(n),c=new Ot(a.left+a.leftOffset,a.top+a.topOffset).multiply(s).transform(d.calcTransformMatrix()),u=l.getScenePoint(t).subtract(c),f=d.getCanvasRetinaScaling(),h=d.getBoundingRect(),p=c.subtract(new Ot(h.left,h.top)),A=l.viewportTransform,g=p.add(u).transform(A,!0),m=d.backgroundColor,v=Kp(d.styles);d.backgroundColor="";const y={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};d.setSelectionStyles(y,0,n),d.setSelectionStyles(y,o,d.text.length),d.dirty=!0;const w=d.toCanvasElement({enableRetinaScaling:l.enableRetinaScaling,viewportTransform:!0});d.backgroundColor=m,d.styles=v,d.dirty=!0,Lu(w,{position:"fixed",left:"".concat(-w.width,"px"),border:dr,width:"".concat(w.width/f,"px"),height:"".concat(w.height/f,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{w.remove()},yn(t.target||this.target.hiddenTextarea).body.appendChild(w),(r=t.dataTransfer)===null||r===void 0||r.setDragImage(w,g.x,g.y)}onDragStart(t){this.__dragStartFired=!0;const e=this.target,r=this.isActive();if(r&&t.dataTransfer){const n=this.__dragStartSelection={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd},o=e._text.slice(n.selectionStart,n.selectionEnd).join(""),d=vt({text:e.text,value:o},n);t.dataTransfer.setData("text/plain",o),t.dataTransfer.setData("application/fabric",JSON.stringify({value:o,styles:e.getSelectionStyles(n.selectionStart,n.selectionEnd,!0)})),t.dataTransfer.effectAllowed="copyMove",this.setDragImage(t,d)}return e.abortCursorAnimation(),r}canDrop(t){if(this.target.editable&&!this.target.getActiveControl()&&!t.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){const e=this.target.getSelectionStartFromPointer(t),r=this.__dragStartSelection;return e<r.selectionStart||e>r.selectionEnd}return!0}return!1}targetCanDrop(t){return this.target.canDrop(t)}dragEnterHandler(t){let{e}=t;const r=this.targetCanDrop(e);!this.__isDraggingOver&&r&&(this.__isDraggingOver=!0)}dragOverHandler(t){const{e}=t,r=this.targetCanDrop(e);!this.__isDraggingOver&&r?this.__isDraggingOver=!0:this.__isDraggingOver&&!r&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(e.preventDefault(),t.canDrop=!0,t.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(t){var e;const{e:r}=t,n=r.defaultPrevented;this.__isDraggingOver=!1,r.preventDefault();let o=(e=r.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain");if(o&&!n){const d=this.target,l=d.canvas;let s=d.getSelectionStartFromPointer(r);const{styles:a}=r.dataTransfer.types.includes("application/fabric")?JSON.parse(r.dataTransfer.getData("application/fabric")):{},c=o[Math.max(0,o.length-1)],u=0;if(this.__dragStartSelection){const f=this.__dragStartSelection.selectionStart,h=this.__dragStartSelection.selectionEnd;s>f&&s<=h?s=f:s>h&&(s-=h-f),d.removeChars(f,h),delete this.__dragStartSelection}d._reNewline.test(c)&&(d._reNewline.test(d._text[s])||s===d._text.length)&&(o=o.trimEnd()),t.didDrop=!0,t.dropTarget=d,d.insertChars(o,a,s),l.setActiveObject(d),d.enterEditing(r),d.selectionStart=Math.min(s+u,d._text.length),d.selectionEnd=Math.min(d.selectionStart+o.length,d._text.length),d.hiddenTextarea.value=d.text,d._updateTextarea(),d.hiddenTextarea.focus(),d.fire(gu,{index:s+u,action:"drop"}),l.fire("text:changed",{target:d}),l.contextTopDirty=!0,l.requestRenderAll()}}dragEndHandler(t){let{e}=t;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var r;const n=this.target,o=this.target.canvas,{selectionStart:d,selectionEnd:l}=this.__dragStartSelection,s=((r=e.dataTransfer)===null||r===void 0?void 0:r.dropEffect)||dr;s===dr?(n.selectionStart=d,n.selectionEnd=l,n._updateTextarea(),n.hiddenTextarea.focus()):(n.clearContextTop(),s==="move"&&(n.removeChars(d,l),n.selectionStart=n.selectionEnd=d,n.hiddenTextarea&&(n.hiddenTextarea.value=n.text),n._updateTextarea(),n.fire(gu,{index:d,action:"dragend"}),o.fire("text:changed",{target:n}),o.requestRenderAll()),n.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}const j0=/[ \n\.,;!\?\-]/;class Ew extends cr{constructor(){super(...arguments),wt(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(t){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(t)}_animateCursor(t){let{toValue:e,duration:r,delay:n,onComplete:o}=t;return Yp({startValue:this._currentCursorOpacity,endValue:e,duration:r,delay:n,onComplete:o,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:d=>{this._currentCursorOpacity=d,this.renderCursorOrSelection()}})}_tick(t){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(t||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var t;(t=this._currentTickCompleteState)===null||t===void 0||t.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(t){this.abortCursorAnimation(),this._tick(t?0:this.cursorDelay)}abortCursorAnimation(){let t=!1;[this._currentTickState,this._currentTickCompleteState].forEach(e=>{e&&!e.isDone()&&(t=!0,e.abort())}),this._currentCursorOpacity=1,t&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some(t=>!t||t.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}cmdAll(){this.selectAll(),this.renderCursorOrSelection()}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(t){let e=0,r=t-1;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)e++,r--;for(;/\S/.test(this._text[r])&&r>-1;)e++,r--;return t-e}findWordBoundaryRight(t){let e=0,r=t;if(this._reSpace.test(this._text[r]))for(;this._reSpace.test(this._text[r]);)e++,r++;for(;/\S/.test(this._text[r])&&r<this._text.length;)e++,r++;return t+e}findLineBoundaryLeft(t){let e=0,r=t-1;for(;!/\n/.test(this._text[r])&&r>-1;)e++,r--;return t-e}findLineBoundaryRight(t){let e=0,r=t;for(;!/\n/.test(this._text[r])&&r<this._text.length;)e++,r++;return t+e}searchWordBoundary(t,e){const r=this._text;let n=t>0&&this._reSpace.test(r[t])&&(e===-1||!Dp.test(r[t-1]))?t-1:t,o=r[n];for(;n>0&&n<r.length&&!j0.test(o);)n+=e,o=r[n];return e===-1&&j0.test(o)&&n++,n}selectWord(t){var e;t=(e=t)!==null&&e!==void 0?e:this.selectionStart;const r=this.searchWordBoundary(t,-1),n=Math.max(r,this.searchWordBoundary(t,1));this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(t){var e;t=(e=t)!==null&&e!==void 0?e:this.selectionStart;const r=this.findLineBoundaryLeft(t),n=this.findLineBoundaryRight(t);this.selectionStart=r,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea()}enterEditing(t){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",t?{e:t}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:t}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(t){if(this.getActiveControl())return;const e=this.hiddenTextarea;yn(e).activeElement!==e&&e.focus();const r=this.getSelectionStartFromPointer(t),n=this.selectionStart,o=this.selectionEnd;(r===this.__selectionStartOnMouseDown&&n!==o||n!==r&&o!==r)&&(r>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=r):(this.selectionStart=r,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===o||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(t,e,r){const n=r.slice(0,t),o=this.graphemeSplit(n).length;if(t===e)return{selectionStart:o,selectionEnd:o};const d=r.slice(t,e);return{selectionStart:o,selectionEnd:o+this.graphemeSplit(d).length}}fromGraphemeToStringSelection(t,e,r){const n=r.slice(0,t).join("").length;return t===e?{selectionStart:n,selectionEnd:n}:{selectionStart:n,selectionEnd:n+r.slice(t,e).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){const t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};const t=this.hiddenTextarea;this.text=t.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();const e=this.fromStringToGraphemeSelection(t.selectionStart,t.selectionEnd,t.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){const t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};const t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),r=this.get2DCursorLocation(t),n=r.lineIndex,o=r.charIndex,d=this.getValueOfPropertyAt(n,o,"fontSize")*this.lineHeight,l=e.leftOffset,s=this.getCanvasRetinaScaling(),a=this.canvas.upperCanvasEl,c=a.width/s,u=a.height/s,f=c-d,h=u-d,p=new Ot(e.left+l,e.top+e.topOffset+d).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new Ot(a.clientWidth/c,a.clientHeight/u));return p.x<0&&(p.x=0),p.x>f&&(p.x=f),p.y<0&&(p.y=0),p.y>h&&(p.y=h),p.x+=this.canvas._offset.left,p.y+=this.canvas._offset.top,{left:"".concat(p.x,"px"),top:"".concat(p.y,"px"),fontSize:"".concat(d,"px"),charHeight:d}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){const t=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){const t=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),t&&this.fire(Au),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(const t in this.styles)this._textLines[t]||delete this.styles[t]}removeStyleFromTo(t,e){const{lineIndex:r,charIndex:n}=this.get2DCursorLocation(t,!0),{lineIndex:o,charIndex:d}=this.get2DCursorLocation(e,!0);if(r!==o){if(this.styles[r])for(let l=n;l<this._unwrappedTextLines[r].length;l++)delete this.styles[r][l];if(this.styles[o])for(let l=d;l<this._unwrappedTextLines[o].length;l++){const s=this.styles[o][l];s&&(this.styles[r]||(this.styles[r]={}),this.styles[r][n+l-d]=s)}for(let l=r+1;l<=o;l++)delete this.styles[l];this.shiftLineStyles(o,r-o)}else if(this.styles[r]){const l=this.styles[r],s=d-n;for(let a=n;a<d;a++)delete l[a];for(const a in this.styles[r]){const c=parseInt(a,10);c>=d&&(l[c-s]=l[a],delete l[a])}}}shiftLineStyles(t,e){const r=Object.assign({},this.styles);for(const n in this.styles){const o=parseInt(n,10);o>t&&(this.styles[o+e]=r[o],r[o-e]||delete this.styles[o])}}insertNewlineStyleObject(t,e,r,n){const o={},d=this._unwrappedTextLines[t].length,l=d===e;let s=!1;r||(r=1),this.shiftLineStyles(t,r);const a=this.styles[t]?this.styles[t][e===0?e:e-1]:void 0;for(const u in this.styles[t]){const f=parseInt(u,10);f>=e&&(s=!0,o[f-e]=this.styles[t][u],l&&e===0||delete this.styles[t][u])}let c=!1;for(s&&!l&&(this.styles[t+r]=o,c=!0),(c||d>e)&&r--;r>0;)n&&n[r-1]?this.styles[t+r]={0:vt({},n[r-1])}:a?this.styles[t+r]={0:vt({},a)}:delete this.styles[t+r],r--;this._forceClearCache=!0}insertCharStyleObject(t,e,r,n){this.styles||(this.styles={});const o=this.styles[t],d=o?vt({},o):{};r||(r=1);for(const s in d){const a=parseInt(s,10);a>=e&&(o[a+r]=d[a],d[a-r]||delete o[a])}if(this._forceClearCache=!0,n){for(;r--;)Object.keys(n[r]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+r]=vt({},n[r]));return}if(!o)return;const l=o[e?e-1:1];for(;l&&r--;)this.styles[t][e+r]=vt({},l)}insertNewStyleBlock(t,e,r){const n=this.get2DCursorLocation(e,!0),o=[0];let d,l=0;for(let s=0;s<t.length;s++)t[s]===`
`?(l++,o[l]=0):o[l]++;for(o[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,o[0],r),r=r&&r.slice(o[0]+1)),l&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+o[0],l),d=1;d<l;d++)o[d]>0?this.insertCharStyleObject(n.lineIndex+d,0,o[d],r):r&&this.styles[n.lineIndex+d]&&r[0]&&(this.styles[n.lineIndex+d][0]=r[0]),r=r&&r.slice(o[d]+1);o[d]>0&&this.insertCharStyleObject(n.lineIndex+d,0,o[d],r)}removeChars(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t+1;this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:r;n>r&&this.removeStyleFromTo(r,n);const o=this.graphemeSplit(t);this.insertNewStyleBlock(o,r,e),this._text=[...this._text.slice(0,r),...o,...this._text.slice(n)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(t,e,r){r<=t?(e===t?this._selectionDirection=Ue:this._selectionDirection===_i&&(this._selectionDirection=Ue,this.selectionEnd=t),this.selectionStart=r):r>t&&r<e?this._selectionDirection===_i?this.selectionEnd=r:this.selectionStart=r:(e===t?this._selectionDirection=_i:this._selectionDirection===Ue&&(this._selectionDirection=_i,this.selectionStart=e),this.selectionEnd=r)}}class Mw extends Ew{initHiddenTextarea(){const t=this.canvas&&yn(this.canvas.getElement())||ll(),e=t.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map(d=>{let[l,s]=d;return e.setAttribute(l,s)});const{top:r,left:n,fontSize:o}=this._calcTextareaPosition();e.style.cssText="position: absolute; top: ".concat(r,"; left: ").concat(n,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(o,";"),(this.hiddenTextareaContainer||t.body).appendChild(e),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map(d=>{let[l,s]=d;return e.addEventListener(l,this[s].bind(this))}),this.hiddenTextarea=e}blur(){this.abortCursorAnimation()}onKeyDown(t){if(!this.isEditing)return;const e=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(t){const e=this.fromPaste,{value:r,selectionStart:n,selectionEnd:o}=this.hiddenTextarea;if(this.fromPaste=!1,t&&t.stopPropagation(),!this.isEditing)return;const d=()=>{this.updateFromTextArea(),this.fire(gu),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void d();const l=this._splitTextIntoLines(r).graphemeText,s=this._text.length,a=l.length,c=this.selectionStart,u=this.selectionEnd,f=c!==u;let h,p,A,g,m=a-s;const v=this.fromStringToGraphemeSelection(n,o,r),y=c>v.selectionStart;f?(p=this._text.slice(c,u),m+=u-c):a<s&&(p=y?this._text.slice(u+m,u):this._text.slice(c,c-m));const w=l.slice(v.selectionEnd-m,v.selectionEnd);if(p&&p.length&&(w.length&&(h=this.getSelectionStyles(c,c+1,!1),h=w.map(()=>h[0])),f?(A=c,g=u):y?(A=u-p.length,g=u):(A=u,g=u+p.length),this.removeStyleFromTo(A,g)),w.length){const{copyPasteData:x}=Hn();e&&w.join("")===x.copiedText&&!Ne.disableStyleCopyPaste&&(h=x.copiedTextStyle),this.insertNewStyleBlock(w,c,h)}d()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(t){let{target:e}=t;const{selectionStart:r,selectionEnd:n}=e;this.compositionStart=r,this.compositionEnd=n,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;const{copyPasteData:t}=Hn();t.copiedText=this.getSelectedText(),Ne.disableStyleCopyPaste?t.copiedTextStyle=void 0:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(t,e){let r,n=this._getLineLeftOffset(t);return e>0&&(r=this.__charBounds[t][e-1],n+=r.left+r.width),n}getDownCursorOffset(t,e){const r=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(r),o=n.lineIndex;if(o===this._textLines.length-1||t.metaKey||t.keyCode===34)return this._text.length-r;const d=n.charIndex,l=this._getWidthBeforeCursor(o,d),s=this._getIndexOnLine(o+1,l);return this._textLines[o].slice(d).length+s+1+this.missingNewlineOffset(o)}_getSelectionForOffset(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart}getUpCursorOffset(t,e){const r=this._getSelectionForOffset(t,e),n=this.get2DCursorLocation(r),o=n.lineIndex;if(o===0||t.metaKey||t.keyCode===33)return-r;const d=n.charIndex,l=this._getWidthBeforeCursor(o,d),s=this._getIndexOnLine(o-1,l),a=this._textLines[o].slice(0,d),c=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+s-a.length+(1-c)}_getIndexOnLine(t,e){const r=this._textLines[t];let n,o,d=this._getLineLeftOffset(t),l=0;for(let s=0,a=r.length;s<a;s++)if(n=this.__charBounds[t][s].width,d+=n,d>e){o=!0;const c=d-n,u=d,f=Math.abs(c-e);l=Math.abs(u-e)<f?s:s-1;break}return o||(l=r.length-1),l}moveCursorDown(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)}moveCursorUp(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",t)}_moveCursorUpOrDown(t,e){const r=this["get".concat(t,"CursorOffset")](e,this._selectionDirection===_i);if(e.shiftKey?this.moveCursorWithShift(r):this.moveCursorWithoutShift(r),r!==0){const n=this.text.length;this.selectionStart=io(0,this.selectionStart,n),this.selectionEnd=io(0,this.selectionEnd,n),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(t){const e=this._selectionDirection===Ue?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),t!==0}moveCursorWithoutShift(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),t!==0}moveCursorLeft(t){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",t)}_move(t,e,r){let n;if(t.altKey)n=this["findWordBoundary".concat(r)](this[e]);else{if(!t.metaKey&&t.keyCode!==35&&t.keyCode!==36)return this[e]+=r==="Left"?-1:1,!0;n=this["findLineBoundary".concat(r)](this[e])}return n!==void 0&&this[e]!==n&&(this[e]=n,!0)}_moveLeft(t,e){return this._move(t,e,"Left")}_moveRight(t,e){return this._move(t,e,"Right")}moveCursorLeftWithoutShift(t){let e=!0;return this._selectionDirection=Ue,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e}moveCursorLeftWithShift(t){return this._selectionDirection===_i&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ue,this._moveLeft(t,"selectionStart")):void 0}moveCursorRight(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)}_moveCursorLeftOrRight(t,e){const r="moveCursor".concat(t).concat(e.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[r](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(t){return this._selectionDirection===Ue&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=_i,this._moveRight(t,"selectionEnd")):void 0}moveCursorRightWithoutShift(t){let e=!0;return this._selectionDirection=_i,this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e}}const z0=i=>!!i.button;class Fw extends Mw{constructor(){super(...arguments),wt(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("mousetripleclick",this.tripleClickHandler),this.draggableTextDelegate=new Dw(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(t){return this.draggableTextDelegate.onDragStart(t)}canDrop(t){return this.draggableTextDelegate.canDrop(t)}doubleClickHandler(t){this.isEditing&&(this.selectWord(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}tripleClickHandler(t){this.isEditing&&(this.selectLine(this.getSelectionStartFromPointer(t.e)),this.renderCursorOrSelection())}_mouseDownHandler(t){let{e,alreadySelected:r}=t;this.canvas&&this.editable&&!z0(e)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(e)||(this.canvas.textEditingManager.register(this),r&&(this.inCompositionMode=!1,this.setCursorByClick(e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()),this.selected||(this.selected=r||this.isEditing)))}mouseUpHandler(t){let{e,transform:r}=t;const n=this.draggableTextDelegate.end(e);if(this.canvas){this.canvas.textEditingManager.unregister(this);const o=this.canvas._activeObject;if(o&&o!==this)return}!this.editable||this.group&&!this.group.interactive||r&&r.actionPerformed||z0(e)||n||this.selected&&!this.getActiveControl()&&(this.enterEditing(e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection())}setCursorByClick(t){const e=this.getSelectionStartFromPointer(t),r=this.selectionStart,n=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(r,n,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(t){const e=this.canvas.getScenePoint(t).transform(_r(this.calcTransformMatrix())).add(new Ot(-this._getLeftOffset(),-this._getTopOffset()));let r=0,n=0,o=0;for(let a=0;a<this._textLines.length&&r<=e.y;a++)r+=this.getHeightOfLine(a),o=a,a>0&&(n+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));let d=Math.abs(this._getLineLeftOffset(o));const l=this._textLines[o].length,s=this.__charBounds[o];for(let a=0;a<l;a++){const c=d+s[a].kernedWidth;if(e.x<=c){Math.abs(e.x-c)<=Math.abs(e.x-d)&&n++;break}d=c,n++}return Math.min(this.flipX?l-n:n,this._text.length)}}const _h="moveCursorUp",xh="moveCursorDown",Ch="moveCursorLeft",Sh="moveCursorRight",Th="exitEditing",U0=(i,t)=>{const e=t.getRetinaScaling();i.setTransform(e,0,0,e,0,0);const r=t.viewportTransform;i.transform(r[0],r[1],r[2],r[3],r[4],r[5])},Nw=vt({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:Th,27:Th,33:_h,34:xh,35:Sh,36:Ch,37:Ch,38:_h,39:Sh,40:xh},keysMapRtl:{9:Th,27:Th,33:_h,34:xh,35:Ch,36:Sh,37:Sh,38:_h,39:Ch,40:xh},ctrlKeysMapDown:{65:"cmdAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class bs extends Fw{static getDefaults(){return vt(vt({},super.getDefaults()),bs.ownDefaults)}get type(){const t=super.type;return t==="itext"?"i-text":t}constructor(t,e){super(t,vt(vt({},bs.ownDefaults),e)),this.initBehavior()}_set(t,e){return this.isEditing&&this._savedProps&&t in this._savedProps?(this._savedProps[t]=e,this):(t==="canvas"&&(this.canvas instanceof R0&&this.canvas.textEditingManager.remove(this),e instanceof R0&&e.textEditingManager.add(this)),super._set(t,e))}setSelectionStart(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)}setSelectionEnd(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)}_updateAndFire(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,r=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(t,e,r)}setSelectionStyles(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(t,e,r)}get2DCursorLocation(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(t,e)}render(t){super.render(t),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(t){const e=this.isEditing;this.isEditing=!1;const r=super.toCanvasElement(t);return this.isEditing=e,r}renderCursorOrSelection(){if(!this.isEditing||!this.canvas)return;const t=this.clearContextTop(!0);if(!t)return;const e=this._getCursorBoundaries(),r=this.findAncestorsWithClipPath(),n=r.length>0;let o,d=t;if(n){o=Vr(t.canvas),d=o.getContext("2d"),U0(d,this.canvas);const l=this.calcTransformMatrix();d.transform(l[0],l[1],l[2],l[3],l[4],l[5])}if(this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(d,e):this.renderCursor(d,e),n)for(const l of r){const s=l.clipPath,a=Vr(t.canvas),c=a.getContext("2d");if(U0(c,this.canvas),!s.absolutePositioned){const u=l.calcTransformMatrix();c.transform(u[0],u[1],u[2],u[3],u[4],u[5])}s.transform(c),s.drawObject(c,!0,{}),this.drawClipPathOnCache(d,s,a)}n&&(t.setTransform(1,0,0,1,0,0),t.drawImage(o,0,0)),this.canvas.contextTopDirty=!0,t.restore()}findAncestorsWithClipPath(){const t=[];let e=this;for(;e;)e.clipPath&&t.push(e),e=e.parent;return t}_getCursorBoundaries(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1?arguments[1]:void 0;const r=this._getLeftOffset(),n=this._getTopOffset(),o=this._getCursorBoundariesOffsets(t,e);return{left:r,top:n,leftOffset:o.left,topOffset:o.top}}_getCursorBoundariesOffsets(t,e){return e?this.__getCursorBoundariesOffsets(t):this.cursorOffsetCache&&"top"in this.cursorOffsetCache?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(t)}__getCursorBoundariesOffsets(t){let e=0,r=0;const{charIndex:n,lineIndex:o}=this.get2DCursorLocation(t);for(let a=0;a<o;a++)e+=this.getHeightOfLine(a);const d=this._getLineLeftOffset(o),l=this.__charBounds[o][n];l&&(r=l.left),this.charSpacing!==0&&n===this._textLines[o].length&&(r-=this._getWidthOfCharSpacing());const s={top:e,left:d+(r>0?r:0)};return this.direction==="rtl"&&(this.textAlign===_i||this.textAlign===In||this.textAlign===lc?s.left*=-1:this.textAlign===Ue||this.textAlign===bu?s.left=d-(r>0?r:0):this.textAlign!==_e&&this.textAlign!==cc||(s.left=d-(r>0?r:0))),s}renderCursorAt(t){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(t,!0),t)}renderCursor(t,e){this._renderCursor(t,e,this.selectionStart)}getCursorRenderingData(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(t);const r=this.get2DCursorLocation(t),n=r.lineIndex,o=r.charIndex>0?r.charIndex-1:0,d=this.getValueOfPropertyAt(n,o,"fontSize"),l=this.getObjectScaling().x*this.canvas.getZoom(),s=this.cursorWidth/l,a=this.getValueOfPropertyAt(n,o,"deltaY"),c=e.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-d*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(n,o,"fill"),opacity:this._currentCursorOpacity,left:e.left+e.leftOffset-s/2,top:c+e.top+a,width:s,height:d}}_renderCursor(t,e,r){const{color:n,opacity:o,left:d,top:l,width:s,height:a}=this.getCursorRenderingData(r,e);t.fillStyle=n,t.globalAlpha=o,t.fillRect(d,l,s,a)}renderSelection(t,e){const r={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(t,r,e)}renderDragSourceEffect(){const t=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,t,this._getCursorBoundaries(t.selectionStart,!0))}renderDropTargetEffect(t){const e=this.getSelectionStartFromPointer(t);this.renderCursorAt(e)}_renderSelection(t,e,r){const n=e.selectionStart,o=e.selectionEnd,d=this.textAlign.includes(In),l=this.get2DCursorLocation(n),s=this.get2DCursorLocation(o),a=l.lineIndex,c=s.lineIndex,u=l.charIndex<0?0:l.charIndex,f=s.charIndex<0?0:s.charIndex;for(let h=a;h<=c;h++){const p=this._getLineLeftOffset(h)||0;let A=this.getHeightOfLine(h),g=0,m=0,v=0;if(h===a&&(m=this.__charBounds[a][u].left),h>=a&&h<c)v=d&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===c)if(f===0)v=this.__charBounds[c][f].left;else{const F=this._getWidthOfCharSpacing();v=this.__charBounds[c][f-1].left+this.__charBounds[c][f-1].width-F}g=A,(this.lineHeight<1||h===c&&this.lineHeight>1)&&(A/=this.lineHeight);let y=r.left+p+m,w=A,x=0;const L=v-m;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",w=1,x=A):t.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===_i||this.textAlign===In||this.textAlign===lc?y=this.width-y-L:this.textAlign===Ue||this.textAlign===bu?y=r.left+p-v:this.textAlign!==_e&&this.textAlign!==cc||(y=r.left+p-v)),t.fillRect(y,r.top+r.topOffset+x,L,w),r.topOffset+=g}}getCurrentCharFontSize(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")}getCurrentCharColor(){const t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,Di)}_getCurrentCharIndex(){const t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}wt(bs,"ownDefaults",Nw),wt(bs,"type","IText"),Vt.setClass(bs),Vt.setClass(bs,"i-text");class qi extends bs{static getDefaults(){return vt(vt({},super.getDefaults()),qi.ownDefaults)}constructor(t,e){super(t,vt(vt({},qi.ownDefaults),e))}static createControls(){return{controls:C1()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(In)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(t){let e=0,r=0,n=0;const o={};for(let d=0;d<t.graphemeLines.length;d++)t.graphemeText[n]===`
`&&d>0?(r=0,n++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[n])&&d>0&&(r++,n++),o[d]={line:e,offset:r},n+=t.graphemeLines[d].length,r+=t.graphemeLines[d].length;return o}styleHas(t,e){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[e];r&&(e=r.line)}return super.styleHas(t,e)}isEmptyStyles(t){if(!this.styles)return!0;let e,r=0,n=t+1,o=!1;const d=this._styleMap[t],l=this._styleMap[t+1];d&&(t=d.line,r=d.offset),l&&(n=l.line,o=n===t,e=l.offset);const s=t===void 0?this.styles:{line:this.styles[t]};for(const a in s)for(const c in s[a]){const u=parseInt(c,10);if(u>=r&&(!o||u<e))for(const f in s[a][c])return!1}return!0}_getStyleDeclaration(t,e){if(this._styleMap&&!this.isWrapping){const r=this._styleMap[t];if(!r)return{};t=r.line,e=r.offset+e}return super._getStyleDeclaration(t,e)}_setStyleDeclaration(t,e,r){const n=this._styleMap[t];super._setStyleDeclaration(n.line,n.offset+e,r)}_deleteStyleDeclaration(t,e){const r=this._styleMap[t];super._deleteStyleDeclaration(r.line,r.offset+e)}_getLineStyle(t){const e=this._styleMap[t];return!!this.styles[e.line]}_setLineStyle(t){const e=this._styleMap[t];super._setLineStyle(e.line)}_wrapText(t,e){this.isWrapping=!0;const r=this.getGraphemeDataForRender(t),n=[];for(let o=0;o<r.wordsData.length;o++)n.push(...this._wrapLine(o,e,r));return this.isWrapping=!1,n}getGraphemeDataForRender(t){const e=this.splitByGrapheme,r=e?"":" ";let n=0;return{wordsData:t.map((o,d)=>{let l=0;const s=e?this.graphemeSplit(o):this.wordSplit(o);return s.length===0?[{word:[],width:0}]:s.map(a=>{const c=e?[a]:this.graphemeSplit(a),u=this._measureWord(c,d,l);return n=Math.max(u,n),l+=c.length+r.length,{word:c,width:u}})}),largestWordWidth:n}}_measureWord(t,e){let r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=0;for(let d=0,l=t.length;d<l;d++)o+=this._getGraphemeBox(t[d],e,d+n,r,!0).kernedWidth,r=t[d];return o}wordSplit(t){return t.split(this._wordJoiners)}_wrapLine(t,e,r){let{largestWordWidth:n,wordsData:o}=r,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;const l=this._getWidthOfCharSpacing(),s=this.splitByGrapheme,a=[],c=s?"":" ";let u=0,f=[],h=0,p=0,A=!0;e-=d;const g=Math.max(e,n,this.dynamicMinWidth),m=o[t];let v;for(h=0,v=0;v<m.length;v++){const{word:y,width:w}=m[v];h+=y.length,u+=p+w-l,u>g&&!A?(a.push(f),f=[],u=w,A=!0):u+=l,A||s||f.push(c),f=f.concat(y),p=s?0:this._measureWord([c],t,h),h++,A=!1}return v&&a.push(f),n+d>this.dynamicMinWidth&&(this.dynamicMinWidth=n-l+d),a}isEndOfWrapping(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line}missingNewlineOffset(t,e){return this.splitByGrapheme&&!e?this.isEndOfWrapping(t)?1:0:1}_splitTextIntoLines(t){const e=super._splitTextIntoLines(t),r=this._wrapText(e.lines,this.width),n=new Array(r.length);for(let o=0;o<r.length;o++)n[o]=r[o].join("");return e.lines=n,e.graphemeLines=r,e}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){const t=new Map;for(const e in this._styleMap){const r=parseInt(e,10);if(this._textLines[r]){const n=this._styleMap[e].line;t.set("".concat(n),!0)}}for(const e in this.styles)t.has(e)||delete this.styles[e]}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...t])}}wt(qi,"type","Textbox"),wt(qi,"textLayoutProperties",[...bs.textLayoutProperties,"width"]),wt(qi,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),Vt.setClass(qi);class W0 extends Qu{shouldPerformLayout(t){return!!t.target.clipPath&&super.shouldPerformLayout(t)}shouldLayoutClipPath(){return!1}calcLayoutResult(t,e){const{target:r}=t,{clipPath:n,group:o}=r;if(!n||!this.shouldPerformLayout(t))return;const{width:d,height:l}=Wn(M1(r,n)),s=new Ot(d,l);if(n.absolutePositioned)return{center:ws(n.getRelativeCenterPoint(),void 0,o?o.calcTransformMatrix():void 0),size:s};{const a=n.getRelativeCenterPoint().transform(r.calcOwnMatrix(),!0);if(this.shouldPerformLayout(t)){const{center:c=new Ot,correction:u=new Ot}=this.calcBoundingBox(e,t)||{};return{center:c.add(a),correction:u.subtract(a),size:s}}return{center:r.getRelativeCenterPoint().add(a),size:s}}}}wt(W0,"type","clip-path"),Vt.setClass(W0);class X0 extends Qu{getInitialSize(t,e){let{target:r}=t,{size:n}=e;return new Ot(r.width||n.x,r.height||n.y)}}wt(X0,"type","fixed"),Vt.setClass(X0);class Bw extends yc{subscribeTargets(t){const e=t.target;t.targets.reduce((r,n)=>(n.parent&&r.add(n.parent),r),new Set).forEach(r=>{r.layoutManager.subscribeTargets({target:r,targets:[e]})})}unsubscribeTargets(t){const e=t.target,r=e.getObjects();t.targets.reduce((n,o)=>(o.parent&&n.add(o.parent),n),new Set).forEach(n=>{!r.some(o=>o.parent===n)&&n.layoutManager.unsubscribeTargets({target:n,targets:[e]})})}}class $s extends ta{static getDefaults(){return vt(vt({},super.getDefaults()),$s.ownDefaults)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,$s.ownDefaults),this.setOptions(e);const{left:r,top:n,layoutManager:o}=e;this.groupInit(t,{left:r,top:n,layoutManager:o??new Bw})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.multiSelectionStacking==="selection-order"?this.add(...e):e.forEach(n=>{const o=this._objects.findIndex(l=>l.isInFrontOf(n)),d=o===-1?this.size():o;this.insertAt(d,n)})}canEnterGroup(t){return this.getObjects().some(e=>e.isDescendantOf(t)||t.isDescendantOf(e))?(xs("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(t)}enterGroup(t,e){t.parent&&t.parent===t.group?t.parent._exitGroup(t):t.group&&t.parent!==t.group&&t.group.remove(t),this._enterGroup(t,e)}exitGroup(t,e){this._exitGroup(t,e),t.parent&&t.parent._enterGroup(t,!0)}_onAfterObjectsChange(t,e){super._onAfterObjectsChange(t,e);const r=new Set;e.forEach(n=>{const{parent:o}=n;o&&r.add(o)}),t===Jp?r.forEach(n=>{n._onAfterObjectsChange(Su,e)}):r.forEach(n=>{n._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(t,e,r){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;const n=vt(vt({hasControls:!1},r),{},{forActiveSelection:!0});for(let o=0;o<this._objects.length;o++)this._objects[o]._renderControls(t,n);super._renderControls(t,e),t.restore()}}wt($s,"type","ActiveSelection"),wt($s,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),Vt.setClass($s),Vt.setClass($s,"activeSelection");class Iw{constructor(){wt(this,"resources",{})}applyFilters(t,e,r,n,o){const d=o.getContext("2d");if(!d)return;d.drawImage(e,0,0,r,n);const l={sourceWidth:r,sourceHeight:n,imageData:d.getImageData(0,0,r,n),originalEl:e,originalImageData:d.getImageData(0,0,r,n),canvasEl:o,ctx:d,filterBackend:this};t.forEach(a=>{a.applyTo(l)});const{imageData:s}=l;return s.width===r&&s.height===n||(o.width=s.width,o.height=s.height),d.putImageData(s,0,0),l}}class tv{constructor(){let{tileSize:t=Ne.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};wt(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),wt(this,"resources",{}),this.tileSize=t,this.setupGLContext(t,t),this.captureGPUInfo()}setupGLContext(t,e){this.dispose(),this.createWebGLCanvas(t,e)}createWebGLCanvas(t,e){const r=Vr({width:t,height:e}),n=r.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});n&&(n.clearColor(0,0,0,0),this.canvas=r,this.gl=n)}applyFilters(t,e,r,n,o,d){const l=this.gl,s=o.getContext("2d");if(!l||!s)return;let a;d&&(a=this.getCachedTexture(d,e));const c={originalWidth:e.width||e.naturalWidth||0,originalHeight:e.height||e.naturalHeight||0,sourceWidth:r,sourceHeight:n,destinationWidth:r,destinationHeight:n,context:l,sourceTexture:this.createTexture(l,r,n,a?void 0:e),targetTexture:this.createTexture(l,r,n),originalTexture:a||this.createTexture(l,r,n,a?void 0:e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},u=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,u),t.forEach(f=>{f&&f.applyTo(c)}),function(f){const h=f.targetCanvas,p=h.width,A=h.height,g=f.destinationWidth,m=f.destinationHeight;p===g&&A===m||(h.width=g,h.height=m)}(c),this.copyGLTo2D(l,c),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(c.sourceTexture),l.deleteTexture(c.targetTexture),l.deleteFramebuffer(u),s.setTransform(1,0,0,1,0,0),c}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(t,e,r,n,o){const{NEAREST:d,TEXTURE_2D:l,RGBA:s,UNSIGNED_BYTE:a,CLAMP_TO_EDGE:c,TEXTURE_MAG_FILTER:u,TEXTURE_MIN_FILTER:f,TEXTURE_WRAP_S:h,TEXTURE_WRAP_T:p}=t,A=t.createTexture();return t.bindTexture(l,A),t.texParameteri(l,u,o||d),t.texParameteri(l,f,o||d),t.texParameteri(l,h,c),t.texParameteri(l,p,c),n?t.texImage2D(l,0,s,s,a,n):t.texImage2D(l,0,s,e,r,0,s,a,null),A}getCachedTexture(t,e,r){const{textureCache:n}=this;if(n[t])return n[t];{const o=this.createTexture(this.gl,e.width,e.height,e,r);return o&&(n[t]=o),o}}evictCachesForKey(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])}copyGLTo2D(t,e){const r=t.canvas,n=e.targetCanvas,o=n.getContext("2d");if(!o)return;o.translate(0,n.height),o.scale(1,-1);const d=r.height-n.height;o.drawImage(r,0,d,n.width,n.height,0,0,n.width,n.height)}copyGLTo2DPutImageData(t,e){const r=e.targetCanvas.getContext("2d"),n=e.destinationWidth,o=e.destinationHeight,d=n*o*4;if(!r)return;const l=new Uint8Array(this.imageBuffer,0,d),s=new Uint8ClampedArray(this.imageBuffer,0,d);t.readPixels(0,0,n,o,t.RGBA,t.UNSIGNED_BYTE,l);const a=new ImageData(s,n,o);r.putImageData(a,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;const t=this.gl,e={renderer:"",vendor:""};if(!t)return e;const r=t.getExtension("WEBGL_debug_renderer_info");if(r){const n=t.getParameter(r.UNMASKED_RENDERER_WEBGL),o=t.getParameter(r.UNMASKED_VENDOR_WEBGL);n&&(e.renderer=n.toLowerCase()),o&&(e.vendor=o.toLowerCase())}return this.gpuInfo=e,e}}let $f;function Rw(){const{WebGLProbe:i}=Hn();return i.queryWebGL(Vn()),Ne.enableGLFiltering&&i.isSupported(Ne.textureSize)?new tv({tileSize:Ne.textureSize}):new Iw}function Jf(){return!$f&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&($f=Rw()),$f}const jw=["filters","resizeFilter","src","crossOrigin","type"],ev=["cropX","cropY"];class wr extends nr{static getDefaults(){return vt(vt({},super.getDefaults()),wr.ownDefaults)}constructor(t,e){super(),wt(this,"_lastScaleX",1),wt(this,"_lastScaleY",1),wt(this,"_filterScalingX",1),wt(this,"_filterScalingY",1),this.filters=[],Object.assign(this,wr.ownDefaults),this.setOptions(e),this.cacheKey="texture".concat(sa()),this.setElement(typeof t=="string"?(this.canvas&&yn(this.canvas.getElement())||ll()).getElementById(t):t,e)}getElement(){return this._element}setElement(t){var e;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=t,this._originalElement=t,this._setWidthHeight(r),(e=t.classList)===null||e===void 0||e.add(wr.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(t){const e=Jf(!1);e instanceof tv&&e.evictCachesForKey(t)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(t=>{const e=this[t];e&&Hn().dispose(e),this[t]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){const t=this.getElement();return t?{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}:{width:0,height:0}}_stroke(t){if(!this.stroke||this.strokeWidth===0)return;const e=this.width/2,r=this.height/2;t.beginPath(),t.moveTo(-e,-r),t.lineTo(e,-r),t.lineTo(e,r),t.lineTo(-e,r),t.lineTo(-e,-r),t.closePath()}toObject(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return this.filters.forEach(r=>{r&&e.push(r.toObject())}),vt(vt({},super.toObject([...ev,...t])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:e},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){const t=[],e=this._element,r=-this.width/2,n=-this.height/2;let o=[],d=[],l="",s="";if(!e)return[];if(this.hasCrop()){const a=sa();o.push('<clipPath id="imageCrop_'+a+`">
`,'	<rect x="'+r+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+a+')" '}if(this.imageSmoothing||(s=' image-rendering="optimizeSpeed"'),t.push("	<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(r-this.cropX,'" y="').concat(n-this.cropY,'" width="').concat(e.width||e.naturalWidth,'" height="').concat(e.height||e.naturalHeight,'"').concat(s).concat(l,`></image>
`)),this.stroke||this.strokeDashArray){const a=this.fill;this.fill=null,d=['	<rect x="'.concat(r,'" y="').concat(n,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=a}return o=this.paintFirst!==Di?o.concat(d,t):o.concat(t,d),o}getSrc(t){const e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src")||"":e.src:this.src||""}getSvgSrc(t){return this.getSrc(t)}setSrc(t){let{crossOrigin:e,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oc(t,{crossOrigin:e,signal:r}).then(n=>{e!==void 0&&this.set({crossOrigin:e}),this.setElement(n)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){const t=this.resizeFilter,e=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),n=r.x,o=r.y,d=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||n>e&&o>e)return this._element=d,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=n,void(this._lastScaleY=o);const l=Vr(d),{width:s,height:a}=d;this._element=l,this._lastScaleX=t.scaleX=n,this._lastScaleY=t.scaleY=o,Jf().applyFilters([t],d,s,a,this._element),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height}applyFilters(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(t=t.filter(o=>o&&!o.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),t.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);const e=this._originalElement,r=e.naturalWidth||e.width,n=e.naturalHeight||e.height;if(this._element===this._originalElement){const o=Vr({width:r,height:n});this._element=o,this._filteredEl=o}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,n),this._lastScaleX=1,this._lastScaleY=1);Jf().applyFilters(t,this._originalElement,r,n,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(t){t.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)}drawCacheOnCanvas(t){t.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(t)}shouldCache(){return this.needsItsOwnCache()}_renderFill(t){const e=this._element;if(!e)return;const r=this._filterScalingX,n=this._filterScalingY,o=this.width,d=this.height,l=Math.max(this.cropX,0),s=Math.max(this.cropY,0),a=e.naturalWidth||e.width,c=e.naturalHeight||e.height,u=l*r,f=s*n,h=Math.min(o*r,a-u),p=Math.min(d*n,c-f),A=-o/2,g=-d/2,m=Math.min(o,a/r-l),v=Math.min(d,c/n-s);e&&t.drawImage(e,u,f,h,p,A,g,m,v)}_needsResize(){const t=this.getTotalObjectScaling();return t.x!==this._lastScaleX||t.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:t,height:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.getOriginalSize();this.width=t||r.width,this.height=e||r.height}parsePreserveAspectRatioAttribute(){const t=Xp(this.preserveAspectRatio||""),e=this.width,r=this.height,n={width:e,height:r};let o,d=this._element.width,l=this._element.height,s=1,a=1,c=0,u=0,f=0,h=0;return!t||t.alignX===dr&&t.alignY===dr?(s=e/d,a=r/l):(t.meetOrSlice==="meet"&&(s=a=N1(this._element,n),o=(e-d*s)/2,t.alignX==="Min"&&(c=-o),t.alignX==="Max"&&(c=o),o=(r-l*a)/2,t.alignY==="Min"&&(u=-o),t.alignY==="Max"&&(u=o)),t.meetOrSlice==="slice"&&(s=a=B1(this._element,n),o=d-e/s,t.alignX==="Mid"&&(f=o/2),t.alignX==="Max"&&(f=o),o=l-r/a,t.alignY==="Mid"&&(h=o/2),t.alignY==="Max"&&(h=o),d=e/s,l=r/a)),{width:d,height:l,scaleX:s,scaleY:a,offsetLeft:c,offsetTop:u,cropX:f,cropY:h}}static fromObject(t,e){let{filters:r,resizeFilter:n,src:o,crossOrigin:d,type:l}=t,s=ri(t,jw);return Promise.all([oc(o,vt(vt({},e),{},{crossOrigin:d})),r&&el(r,e),n&&el([n],e),Dc(s,e)]).then(a=>{let[c,u=[],[f]=[],h={}]=a;return new this(c,vt(vt({},s),{},{src:o,filters:u,resizeFilter:f},h))})}static fromURL(t){let{crossOrigin:e=null,signal:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return oc(t,{crossOrigin:e,signal:r}).then(o=>new this(o,n))}static async fromElement(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n=Ts(t,this.ATTRIBUTE_NAMES,r);return this.fromURL(n["xlink:href"]||n.href,e,n).catch(o=>(xs("log","Unable to parse Image",o),null))}}function Zf(i){if(!ib.test(i.nodeName))return{};const t=i.getAttribute("viewBox");let e,r,n=1,o=1,d=0,l=0;const s=i.getAttribute("width"),a=i.getAttribute("height"),c=i.getAttribute("x")||0,u=i.getAttribute("y")||0,f=!(t&&w0.test(t)),h=!s||!a||s==="100%"||a==="100%";let p="",A=0,g=0;if(f&&(c||u)&&i.parentNode&&i.parentNode.nodeName!=="#document"&&(p=" translate("+hr(c||"0")+" "+hr(u||"0")+") ",e=(i.getAttribute("transform")||"")+p,i.setAttribute("transform",e),i.removeAttribute("x"),i.removeAttribute("y")),f&&h)return{width:0,height:0};const m={width:0,height:0};if(f)return m.width=hr(s),m.height=hr(a),m;const v=t.match(w0);d=-parseFloat(v[1]),l=-parseFloat(v[2]);const y=parseFloat(v[3]),w=parseFloat(v[4]);m.minX=d,m.minY=l,m.viewBoxWidth=y,m.viewBoxHeight=w,h?(m.width=y,m.height=w):(m.width=hr(s),m.height=hr(a),n=m.width/y,o=m.height/w);const x=Xp(i.getAttribute("preserveAspectRatio")||"");if(x.alignX!==dr&&(x.meetOrSlice==="meet"&&(o=n=n>o?o:n),x.meetOrSlice==="slice"&&(o=n=n>o?n:o),A=m.width-y*n,g=m.height-w*n,x.alignX==="Mid"&&(A/=2),x.alignY==="Mid"&&(g/=2),x.alignX==="Min"&&(A=0),x.alignY==="Min"&&(g=0)),n===1&&o===1&&d===0&&l===0&&c===0&&u===0)return m;if((c||u)&&i.parentNode.nodeName!=="#document"&&(p=" translate("+hr(c||"0")+" "+hr(u||"0")+") "),e=p+" matrix("+n+" 0 0 "+o+" "+(d*n+A)+" "+(l*o+g)+") ",i.nodeName==="svg"){for(r=i.ownerDocument.createElementNS(Wd,"g");i.firstChild;)r.appendChild(i.firstChild);i.appendChild(r)}else r=i,r.removeAttribute("x"),r.removeAttribute("y"),e=r.getAttribute("transform")+e;return r.setAttribute("transform",e),m}wt(wr,"type","Image"),wt(wr,"cacheProperties",[...Ss,...ev]),wt(wr,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:.5,cropX:0,cropY:0,imageSmoothing:!0}),wt(wr,"CSS_CANVAS","canvas-img"),wt(wr,"ATTRIBUTE_NAMES",[...ca,"x","y","width","height","preserveAspectRatio","xlink:href","href","crossOrigin","image-rendering"]),Vt.setClass(wr),Vt.setSVGClass(wr);const Pu=i=>i.tagName.replace("svg:",""),zw=Gu(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);function iv(i,t){let e,r,n,o,d=[];for(n=0,o=t.length;n<o;n++)e=t[n],r=i.getElementsByTagNameNS("http://www.w3.org/2000/svg",e),d=d.concat(Array.from(r));return d}const Uw=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],td="xlink:href";function rv(i,t){var e;const r=((e=t.getAttribute(td))===null||e===void 0?void 0:e.slice(1))||"",n=i.getElementById(r);if(n&&n.getAttribute(td)&&rv(i,n),n&&(Uw.forEach(o=>{const d=n.getAttribute(o);!t.hasAttribute(o)&&d&&t.setAttribute(o,d)}),!t.children.length)){const o=n.cloneNode(!0);for(;o.firstChild;)t.appendChild(o.firstChild)}t.removeAttribute(td)}const Ww=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"];function Xw(i){const t=i.getElementsByTagName("style"),e={};for(let r=0;r<t.length;r++){const n=(t[r].textContent||"").replace(/\/\*[\s\S]*?\*\//g,"");n.trim()!==""&&n.split("}").filter((o,d,l)=>l.length>1&&o.trim()).forEach(o=>{if((o.match(/{/g)||[]).length>1&&o.trim().startsWith("@"))return;const d=o.split("{"),l={},s=d[1].trim().split(";").filter(function(a){return a.trim()});for(let a=0;a<s.length;a++){const c=s[a].split(":"),u=c[0].trim(),f=c[1].trim();l[u]=f}(o=d[0].trim()).split(",").forEach(a=>{(a=a.replace(/^svg/i,"").trim())!==""&&(e[a]=vt(vt({},e[a]||{}),l))})})}return e}const G0=i=>Vt.getSVGClass(Pu(i).toLowerCase());class Gw{constructor(t,e,r,n,o){this.elements=t,this.options=e,this.reviver=r,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=n,this.clipPaths=o,this.gradientDefs=function(d){const l=iv(d,Ww),s={};let a=l.length;for(;a--;){const c=l[a];c.getAttribute("xlink:href")&&rv(d,c);const u=c.getAttribute("id");u&&(s[u]=c)}return s}(n),this.cssRules=Xw(n)}parse(){return Promise.all(this.elements.map(t=>this.createObject(t)))}async createObject(t){const e=G0(t);if(e){const r=await e.fromElement(t,this.options,this.cssRules);return this.resolveGradient(r,t,Di),this.resolveGradient(r,t,pr),r instanceof wr&&r._originalElement?nu(r,r.parsePreserveAspectRatioAttribute()):nu(r),await this.resolveClipPath(r,t),this.reviver&&this.reviver(t,r),r}return null}extractPropertyDefinition(t,e,r){const n=t[e],o=this.regexUrl;if(!o.test(n))return;o.lastIndex=0;const d=o.exec(n)[1];return o.lastIndex=0,r[d]}resolveGradient(t,e,r){const n=this.extractPropertyDefinition(t,r,this.gradientDefs);if(n){const o=e.getAttribute(r+"-opacity"),d=tc.fromElement(n,t,vt(vt({},this.options),{},{opacity:o}));t.set(r,d)}}async resolveClipPath(t,e,r){const n=this.extractPropertyDefinition(t,"clipPath",this.clipPaths);if(n){const o=_r(t.calcTransformMatrix()),d=n[0].parentElement;let l=e;for(;!r&&l.parentElement&&l.getAttribute("clip-path")!==t.clipPath;)l=l.parentElement;l.parentElement.appendChild(d);const s=Cu("".concat(l.getAttribute("transform")||""," ").concat(d.getAttribute("originalTransform")||""));d.setAttribute("transform","matrix(".concat(s.join(","),")"));const a=await Promise.all(n.map(v=>G0(v).fromElement(v,this.options,this.cssRules).then(y=>(nu(y),y.fillRule=y.clipRule,delete y.clipRule,y)))),c=a.length===1?a[0]:new ta(a),u=oi(o,c.calcTransformMatrix());c.clipPath&&await this.resolveClipPath(c,l,d.getAttribute("clip-path")?l:void 0);const{scaleX:f,scaleY:h,angle:p,skewX:A,translateX:g,translateY:m}=to(u);c.set({flipX:!1,flipY:!1}),c.set({scaleX:f,scaleY:h,angle:p,skewX:A,skewY:0}),c.setPositionByOrigin(new Ot(g,m),_e,_e),t.clipPath=c}else delete t.clipPath}}const H0=i=>eb.test(Pu(i)),V0=()=>({objects:[],elements:[],options:{},allElements:[]});async function Hw(i,t){let{crossOrigin:e,signal:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(r&&r.aborted)return xs("log",new Lp("parseSVGDocument")),V0();const n=i.documentElement;(function(c){const u=iv(c,["use","svg:use"]),f=["x","y","xlink:href","href","transform"];for(const h of u){const p=h.attributes,A={};for(const D of p)D.value&&(A[D.name]=D.value);const g=(A["xlink:href"]||A.href||"").slice(1);if(g==="")return;const m=c.getElementById(g);if(m===null)return;let v=m.cloneNode(!0);const y=v.attributes,w={};for(const D of y)D.value&&(w[D.name]=D.value);const{x=0,y:L=0,transform:F=""}=A,M="".concat(F," ").concat(w.transform||""," translate(").concat(x,", ").concat(L,")");if(Zf(v),/^svg$/i.test(v.nodeName)){const D=v.ownerDocument.createElementNS(Wd,"g");Object.entries(w).forEach(X=>{let[I,O]=X;return D.setAttributeNS(Wd,I,O)}),D.append(...v.childNodes),v=D}for(const D of p){if(!D)continue;const{name:X,value:I}=D;if(!f.includes(X))if(X==="style"){const O={};qd(I,O),Object.entries(w).forEach(C=>{let[Q,lt]=C;O[Q]=lt}),qd(w.style||"",O);const W=Object.entries(O).map(C=>C.join(":")).join(";");v.setAttribute(X,W)}else!w[X]&&v.setAttribute(X,I)}v.setAttribute("transform",M),v.setAttribute("instantiated_by_use","1"),v.removeAttribute("id"),h.parentNode.replaceChild(v,h)}})(i);const o=Array.from(n.getElementsByTagName("*")),d=vt(vt({},Zf(n)),{},{crossOrigin:e,signal:r}),l=o.filter(c=>(Zf(c),H0(c)&&!function(u){let f=u;for(;f&&(f=f.parentElement);)if(f&&f.nodeName&&zw.test(Pu(f))&&!f.getAttribute("instantiated_by_use"))return!0;return!1}(c)));if(!l||l&&!l.length)return vt(vt({},V0()),{},{options:d,allElements:o});const s={};return o.filter(c=>Pu(c)==="clipPath").forEach(c=>{c.setAttribute("originalTransform",c.getAttribute("transform")||"");const u=c.getAttribute("id");s[u]=Array.from(c.getElementsByTagName("*")).filter(f=>H0(f))}),{objects:await new Gw(l,d,t,i,s).parse(),elements:l,options:d,allElements:o}}function p4(i,t,e){return Hw(new(cl()).DOMParser().parseFromString(i.trim(),"text/xml"),t,e)}const nv=Fm,Y0=i=>function(t,e,r){const{points:n,pathOffset:o}=r;return new Ot(n[i]).subtract(o).transform(oi(r.getViewportTransform(),r.calcTransformMatrix()))},sv=(i,t,e,r)=>{const{target:n,pointIndex:o}=t,d=n,l=ws(new Ot(e,r),void 0,d.calcOwnMatrix());return d.points[o]=l.add(d.pathOffset),d.setDimensions(),d.set("dirty",!0),!0},av=(i,t)=>function(e,r,n,o){const d=r.target,l=new Ot(d.points[(i>0?i:d.points.length)-1]),s=l.subtract(d.pathOffset).transform(d.calcOwnMatrix()),a=t(e,vt(vt({},r),{},{pointIndex:i}),n,o),c=l.subtract(d.pathOffset).transform(d.calcOwnMatrix()).subtract(s);return d.left-=c.x,d.top-=c.y,a},q0=i=>la(nv,av(i,sv)),ep=(i,t,e)=>{const{path:r,pathOffset:n}=i,o=r[t];return new Ot(o[e]-n.x,o[e+1]-n.y).transform(oi(i.getViewportTransform(),i.calcTransformMatrix()))};function Vw(i,t,e){const{commandIndex:r,pointIndex:n}=this;return ep(e,r,n)}function Yw(i,t,e,r){const{target:n}=t,{commandIndex:o,pointIndex:d}=this,l=((s,a,c,u,f)=>{const{path:h,pathOffset:p}=s,A=h[(u>0?u:h.length)-1],g=new Ot(A[f],A[f+1]),m=g.subtract(p).transform(s.calcOwnMatrix()),v=ws(new Ot(a,c),void 0,s.calcOwnMatrix());h[u][f]=v.x+p.x,h[u][f+1]=v.y+p.y,s.setDimensions();const y=g.subtract(s.pathOffset).transform(s.calcOwnMatrix()).subtract(m);return s.left-=y.x,s.top-=y.y,s.set("dirty",!0),!0})(n,e,r,o,d);return Up(this.actionName,vt(vt({},Wp(i,t,e,r)),{},{commandIndex:o,pointIndex:d})),l}class ov extends jr{constructor(t){super(t)}render(t,e,r,n,o){const d=vt(vt({},n),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(t,e,r,d,o)}}class qw extends ov{constructor(t){super(t)}render(t,e,r,n,o){const{path:d}=o,{commandIndex:l,pointIndex:s,connectToCommandIndex:a,connectToPointIndex:c}=this;t.save(),t.strokeStyle=this.controlStroke,this.connectionDashArray&&t.setLineDash(this.connectionDashArray);const[u]=d[l],f=ep(o,a,c);if(u==="Q"){const h=ep(o,l,s+2);t.moveTo(h.x,h.y),t.lineTo(e,r)}else t.moveTo(e,r);t.lineTo(f.x,f.y),t.stroke(),t.restore(),super.render(t,e,r,n,o)}}const kh=(i,t,e,r,n,o)=>new(e?qw:ov)(vt(vt({commandIndex:i,pointIndex:t,actionName:"modifyPath",positionHandler:Vw,actionHandler:Yw,connectToCommandIndex:n,connectToPointIndex:o},r),e?r.controlPointStyle:r.pointStyle));var g4=Object.freeze({__proto__:null,changeWidth:Hd,createObjectDefaultControls:Qp,createPathControls:function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e={};let r="M";return i.path.forEach((n,o)=>{const d=n[0];switch(d!=="Z"&&(e["c_".concat(o,"_").concat(d)]=kh(o,n.length-2,!1,t)),d){case"C":e["c_".concat(o,"_C_CP_1")]=kh(o,1,!0,t,o-1,(l=>l==="C"?5:l==="Q"?3:1)(r)),e["c_".concat(o,"_C_CP_2")]=kh(o,3,!0,t,o,5);break;case"Q":e["c_".concat(o,"_Q_CP_1")]=kh(o,1,!0,t,o,3)}r=d}),e},createPolyActionHandler:q0,createPolyControls:function(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e={};for(let r=0;r<(typeof i=="number"?i:i.points.length);r++)e["p".concat(r)]=new jr(vt({actionName:nv,positionHandler:Y0(r),actionHandler:q0(r)},t));return e},createPolyPositionHandler:Y0,createResizeControls:x1,createTextboxDefaultControls:C1,dragHandler:t1,factoryPolyActionHandler:av,getLocalPoint:Xu,polyActionHandler:sv,renderCircleControl:u1,renderSquareControl:f1,rotationStyleHandler:d1,rotationWithSnapping:p1,scaleCursorStyleHandler:jo,scaleOrSkewActionName:Zl,scaleSkewCursorStyleHandler:Ga,scalingEqually:Jl,scalingX:m1,scalingXOrSkewingY:Vd,scalingY:v1,scalingYOrSkewingX:Yd,skewCursorStyleHandler:y1,skewHandlerX:w1,skewHandlerY:_1,wrapWithFireEvent:la,wrapWithFixedAnchor:lo});const $u=i=>i.webgl!==void 0,tg="precision highp float",Qw=`
    `.concat(tg,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),Kw=["type"],$w=["type"],Jw=new RegExp(tg,"g");class Ii{get type(){return this.constructor.type}constructor(){let t=ri(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Kw);Object.assign(this,this.constructor.defaults,t)}getFragmentSource(){return Qw}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource();const{WebGLProbe:{GLPrecision:n="highp"}}=Hn();n!=="highp"&&(e=e.replace(Jw,tg.replace("highp",n)));const o=t.createShader(t.VERTEX_SHADER),d=t.createShader(t.FRAGMENT_SHADER),l=t.createProgram();if(!o||!d||!l)throw new jn("Vertex, fragment shader or program creation error");if(t.shaderSource(o,r),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new jn("Vertex shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(o)));if(t.shaderSource(d,e),t.compileShader(d),!t.getShaderParameter(d,t.COMPILE_STATUS))throw new jn("Fragment shader compile error for ".concat(this.type,": ").concat(t.getShaderInfoLog(d)));if(t.attachShader(l,o),t.attachShader(l,d),t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw new jn('Shader link error for "'.concat(this.type,'" ').concat(t.getProgramInfoLog(l)));const s=this.getUniformLocations(t,l)||{};return s.uStepW=t.getUniformLocation(l,"uStepW"),s.uStepH=t.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:this.getAttributeLocations(t,l),uniformLocations:s}}getAttributeLocations(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}}getUniformLocations(t,e){const r=this.constructor.uniformLocations,n={};for(let o=0;o<r.length;o++)n[r[o]]=t.getUniformLocation(e,r[o]);return n}sendAttributeData(t,e,r){const n=e.aPosition,o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.enableVertexAttribArray(n),t.vertexAttribPointer(n,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW)}_setupFrameBuffer(t){const e=t.context;if(t.passes>1){const r=t.destinationWidth,n=t.destinationHeight;t.sourceWidth===r&&t.sourceHeight===n||(e.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(e,r,n)),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t.targetTexture,0)}else e.bindFramebuffer(e.FRAMEBUFFER,null),e.finish()}_swapTextures(t){t.passes--,t.pass++;const e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e}isNeutralState(t){return!1}applyTo(t){$u(t)?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){}getCacheKey(){return this.type}retrieveShader(t){const e=this.getCacheKey();return t.programCache[e]||(t.programCache[e]=this.createProgram(t.context)),t.programCache[e]}applyToWebGL(t){const e=t.context,r=this.retrieveShader(t);t.pass===0&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(r.program),this.sendAttributeData(e,r.attributeLocations,t.aPosition),e.uniform1f(r.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(r.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,r.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(t,e,r){t.activeTexture(r),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)}unbindAdditionalTexture(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)}sendUniformData(t,e){}createHelpLayer(t){if(!t.helpLayer){const{sourceWidth:e,sourceHeight:r}=t,n=Vr({width:e,height:r});t.helpLayer=n}}toObject(){const t=Object.keys(this.constructor.defaults||{});return vt({type:this.type},t.reduce((e,r)=>(e[r]=this[r],e),{}))}toJSON(){return this.toObject()}static async fromObject(t,e){return new this(ri(t,$w))}}wt(Ii,"type","BaseFilter"),wt(Ii,"uniformLocations",[]);const Zw={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class Lh extends Ii{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(Zw[this.mode],`
        }
      }
      `)}applyTo2d(t){let{imageData:{data:e}}=t;const r=new Yr(this.color).getSource(),n=this.alpha,o=r[0]*n,d=r[1]*n,l=r[2]*n,s=1-n;for(let a=0;a<e.length;a+=4){const c=e[a],u=e[a+1],f=e[a+2];let h,p,A;switch(this.mode){case"multiply":h=c*o/255,p=u*d/255,A=f*l/255;break;case"screen":h=255-(255-c)*(255-o)/255,p=255-(255-u)*(255-d)/255,A=255-(255-f)*(255-l)/255;break;case"add":h=c+o,p=u+d,A=f+l;break;case"difference":h=Math.abs(c-o),p=Math.abs(u-d),A=Math.abs(f-l);break;case"subtract":h=c-o,p=u-d,A=f-l;break;case"darken":h=Math.min(c,o),p=Math.min(u,d),A=Math.min(f,l);break;case"lighten":h=Math.max(c,o),p=Math.max(u,d),A=Math.max(f,l);break;case"overlay":h=o<128?2*c*o/255:255-2*(255-c)*(255-o)/255,p=d<128?2*u*d/255:255-2*(255-u)*(255-d)/255,A=l<128?2*f*l/255:255-2*(255-f)*(255-l)/255;break;case"exclusion":h=o+c-2*o*c/255,p=d+u-2*d*u/255,A=l+f-2*l*f/255;break;case"tint":h=o+c*s,p=d+u*s,A=l+f*s}e[a]=h,e[a+1]=p,e[a+2]=A}}sendUniformData(t,e){const r=new Yr(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,t.uniform4fv(e.uColor,r)}}wt(Lh,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),wt(Lh,"type","BlendColor"),wt(Lh,"uniformLocations",["uColor"]),Vt.setClass(Lh);const t_={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},e_=["type","image"];class Ph extends Ii{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return t_[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(t){const e=t.context,r=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,r,e.TEXTURE1),super.applyToWebGL(t),this.unbindAdditionalTexture(e,e.TEXTURE1)}createTexture(t,e){return t.getCachedTexture(e.cacheKey,e.getElement())}calculateMatrix(){const t=this.image,{width:e,height:r}=t.getElement();return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/r,1]}applyTo2d(t){let{imageData:{data:e,width:r,height:n},filterBackend:{resources:o}}=t;const d=this.image;o.blendImage||(o.blendImage=Vn());const l=o.blendImage,s=l.getContext("2d");l.width!==r||l.height!==n?(l.width=r,l.height=n):s.clearRect(0,0,r,n),s.setTransform(d.scaleX,0,0,d.scaleY,d.left,d.top),s.drawImage(d.getElement(),0,0,r,n);const a=s.getImageData(0,0,r,n).data;for(let c=0;c<e.length;c+=4){const u=e[c],f=e[c+1],h=e[c+2],p=e[c+3],A=a[c],g=a[c+1],m=a[c+2],v=a[c+3];switch(this.mode){case"multiply":e[c]=u*A/255,e[c+1]=f*g/255,e[c+2]=h*m/255,e[c+3]=p*v/255;break;case"mask":e[c+3]=v}}}sendUniformData(t,e){const r=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,r)}toObject(){return vt(vt({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(t,e){let{type:r,image:n}=t,o=ri(t,e_);return wr.fromObject(n,e).then(d=>new this(vt(vt({},o),{},{image:d})))}}wt(Ph,"type","BlendImage"),wt(Ph,"defaults",{mode:"multiply",alpha:1}),wt(Ph,"uniformLocations",["uTransformMatrix","uImage"]),Vt.setClass(Ph);class Oh extends Ii{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float totalC = 0.0;
      float totalA = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        vec4 sample = texture2D(uTexture, vTexCoord + uDelta * percent);
        float weight = 1.0 - abs(percent);
        float alpha = weight * sample.a;
        color.rgb += sample.rgb * alpha;
        color.a += alpha;
        totalA += weight;
        totalC += alpha;
      }
      gl_FragColor.rgb = color.rgb / totalC;
      gl_FragColor.a = color.a / totalA;
    }
  `}applyTo(t){$u(t)?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)}applyTo2d(t){let{imageData:{data:e,width:r,height:n}}=t;this.aspectRatio=r/n,this.horizontal=!0;let o=this.getBlurValue()*r;const d=new Uint8ClampedArray(e),l=15,s=4*r;for(let a=0;a<e.length;a+=4){let c=0,u=0,f=0,h=0,p=0;const A=a-a%s,g=A+s;for(let m=-14;m<l;m++){const v=m/l,y=4*Math.floor(o*v),w=1-Math.abs(v);let x=a+y;x<A?x=A:x>g&&(x=g);const L=e[x+3]*w;c+=e[x]*L,u+=e[x+1]*L,f+=e[x+2]*L,h+=L,p+=w}d[a]=c/h,d[a+1]=u/h,d[a+2]=f/h,d[a+3]=h/p}this.horizontal=!1,o=this.getBlurValue()*n;for(let a=0;a<d.length;a+=4){let c=0,u=0,f=0,h=0,p=0;const A=a%s,g=d.length-s+A;for(let m=-14;m<l;m++){const v=m/l,y=Math.floor(o*v)*s,w=1-Math.abs(v);let x=a+y;x<A?x=A:x>g&&(x=g);const L=d[x+3]*w;c+=d[x]*L,u+=d[x+1]*L,f+=d[x+2]*L,h+=L,p+=w}e[a]=c/h,e[a+1]=u/h,e[a+2]=f/h,e[a+3]=h/p}}sendUniformData(t,e){const r=this.chooseRightDelta();t.uniform2fv(e.uDelta,r)}isNeutralState(){return this.blur===0}getBlurValue(){let t=1;const{horizontal:e,aspectRatio:r}=this;return e?r>1&&(t=1/r):r<1&&(t=r),t*this.blur*.12}chooseRightDelta(){const t=this.getBlurValue();return this.horizontal?[t,0]:[0,t]}}wt(Oh,"type","Blur"),wt(Oh,"defaults",{blur:0}),wt(Oh,"uniformLocations",["uDelta"]),Vt.setClass(Oh);class Dh extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const r=Math.round(255*this.brightness);for(let n=0;n<e.length;n+=4)e[n]+=r,e[n+1]+=r,e[n+2]+=r}isNeutralState(){return this.brightness===0}sendUniformData(t,e){t.uniform1f(e.uBrightness,this.brightness)}}wt(Dh,"type","Brightness"),wt(Dh,"defaults",{brightness:0}),wt(Dh,"uniformLocations",["uBrightness"]),Vt.setClass(Dh);const lv={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class Uo extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(t){const e=t.imageData.data,r=this.matrix,n=this.colorsOnly;for(let o=0;o<e.length;o+=4){const d=e[o],l=e[o+1],s=e[o+2];if(e[o]=d*r[0]+l*r[1]+s*r[2]+255*r[4],e[o+1]=d*r[5]+l*r[6]+s*r[7]+255*r[9],e[o+2]=d*r[10]+l*r[11]+s*r[12]+255*r[14],!n){const a=e[o+3];e[o]+=a*r[3],e[o+1]+=a*r[8],e[o+2]+=a*r[13],e[o+3]=d*r[15]+l*r[16]+s*r[17]+a*r[18]+255*r[19]}}}sendUniformData(t,e){const r=this.matrix,n=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],o=[r[4],r[9],r[14],r[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,n),t.uniform4fv(e.uConstants,o)}toObject(){return vt(vt({},super.toObject()),{},{matrix:[...this.matrix]})}}function co(i,t){var e;const r=(wt(e=class extends Uo{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",i),wt(e,"defaults",{colorsOnly:!1,matrix:t}),e);return Vt.setClass(r,i),r}wt(Uo,"type","ColorMatrix"),wt(Uo,"defaults",lv),wt(Uo,"uniformLocations",["uColorMatrix","uConstants"]),Vt.setClass(Uo);co("Brownie",[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0]);co("Vintage",[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0]);co("Kodachrome",[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0]);co("Technicolor",[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0]);co("Polaroid",[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0]);co("Sepia",[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0]);co("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class Q0 extends Ii{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.subFilters=t.subFilters||[]}applyTo(t){$u(t)&&(t.passes+=this.subFilters.length-1),this.subFilters.forEach(e=>{e.applyTo(t)})}toObject(){return{type:this.type,subFilters:this.subFilters.map(t=>t.toObject())}}isNeutralState(){return!this.subFilters.some(t=>!t.isNeutralState())}static fromObject(t,e){return Promise.all((t.subFilters||[]).map(r=>Vt.getClass(r.type).fromObject(r,e))).then(r=>new this({subFilters:r}))}}wt(Q0,"type","Composed"),Vt.setClass(Q0);class Eh extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(t){let{imageData:{data:e}}=t;const r=Math.floor(255*this.contrast),n=259*(r+255)/(255*(259-r));for(let o=0;o<e.length;o+=4)e[o]=n*(e[o]-128)+128,e[o+1]=n*(e[o+1]-128)+128,e[o+2]=n*(e[o+2]-128)+128}sendUniformData(t,e){t.uniform1f(e.uContrast,this.contrast)}}wt(Eh,"type","Contrast"),wt(Eh,"defaults",{contrast:0}),wt(Eh,"uniformLocations",["uContrast"]),Vt.setClass(Eh);const i_={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class Mh extends Ii{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return i_[this.getCacheKey()]}applyTo2d(t){const e=t.imageData,r=e.data,n=this.matrix,o=Math.round(Math.sqrt(n.length)),d=Math.floor(o/2),l=e.width,s=e.height,a=t.ctx.createImageData(l,s),c=a.data,u=this.opaque?1:0;let f,h,p,A,g,m,v,y,w,x,L,F,M;for(L=0;L<s;L++)for(x=0;x<l;x++){for(g=4*(L*l+x),f=0,h=0,p=0,A=0,M=0;M<o;M++)for(F=0;F<o;F++)v=L+M-d,m=x+F-d,v<0||v>=s||m<0||m>=l||(y=4*(v*l+m),w=n[M*o+F],f+=r[y]*w,h+=r[y+1]*w,p+=r[y+2]*w,u||(A+=r[y+3]*w));c[g]=f,c[g+1]=h,c[g+2]=p,c[g+3]=u?r[g+3]:A}t.imageData=a}sendUniformData(t,e){t.uniform1fv(e.uMatrix,this.matrix)}toObject(){return vt(vt({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}wt(Mh,"type","Convolute"),wt(Mh,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),wt(Mh,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),Vt.setClass(Mh);const cv="Gamma";class Fh extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.gamma=t.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(t){let{imageData:{data:e}}=t;const r=this.gamma,n=1/r[0],o=1/r[1],d=1/r[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});const l=this.rgbValues;for(let s=0;s<256;s++)l.r[s]=255*Math.pow(s/255,n),l.g[s]=255*Math.pow(s/255,o),l.b[s]=255*Math.pow(s/255,d);for(let s=0;s<e.length;s+=4)e[s]=l.r[e[s]],e[s+1]=l.g[e[s+1]],e[s+2]=l.b[e[s+2]]}sendUniformData(t,e){t.uniform3fv(e.uGamma,this.gamma)}isNeutralState(){const{gamma:t}=this;return t[0]===1&&t[1]===1&&t[2]===1}toObject(){return{type:cv,gamma:this.gamma.concat()}}}wt(Fh,"type",cv),wt(Fh,"defaults",{gamma:[1,1,1]}),wt(Fh,"uniformLocations",["uGamma"]),Vt.setClass(Fh);const r_={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Nh extends Ii{applyTo2d(t){let{imageData:{data:e}}=t;for(let r,n=0;n<e.length;n+=4){const o=e[n],d=e[n+1],l=e[n+2];switch(this.mode){case"average":r=(o+d+l)/3;break;case"lightness":r=(Math.min(o,d,l)+Math.max(o,d,l))/2;break;case"luminosity":r=.21*o+.72*d+.07*l}e[n+2]=e[n+1]=e[n]=r}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return r_[this.mode]}sendUniformData(t,e){t.uniform1i(e.uMode,1)}isNeutralState(){return!1}}wt(Nh,"type","Grayscale"),wt(Nh,"defaults",{mode:"average"}),wt(Nh,"uniformLocations",["uMode"]),Vt.setClass(Nh);const n_=vt(vt({},lv),{},{rotation:0});class ed extends Uo{calculateMatrix(){const t=this.rotation*Math.PI,e=_n(t),r=xn(t),n=1/3,o=Math.sqrt(n)*r,d=1-e;this.matrix=[e+d/3,n*d-o,n*d+o,0,0,n*d+o,e+n*d,n*d-o,0,0,n*d-o,n*d+o,e+n*d,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(t){this.calculateMatrix(),super.applyTo(t)}toObject(){return{type:this.type,rotation:this.rotation}}}wt(ed,"type","HueRotation"),wt(ed,"defaults",n_),Vt.setClass(ed);class Bh extends Ii{applyTo2d(t){let{imageData:{data:e}}=t;for(let r=0;r<e.length;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2],this.alpha&&(e[r+3]=255-e[r+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(t,e){t.uniform1i(e.uInvert,Number(this.invert)),t.uniform1i(e.uAlpha,Number(this.alpha))}}wt(Bh,"type","Invert"),wt(Bh,"defaults",{alpha:!1,invert:!0}),wt(Bh,"uniformLocations",["uInvert","uAlpha"]),Vt.setClass(Bh);class Ih extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const r=this.noise;for(let n=0;n<e.length;n+=4){const o=(.5-Math.random())*r;e[n]+=o,e[n+1]+=o,e[n+2]+=o}}sendUniformData(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())}isNeutralState(){return this.noise===0}}wt(Ih,"type","Noise"),wt(Ih,"defaults",{noise:0}),wt(Ih,"uniformLocations",["uNoise","uSeed"]),Vt.setClass(Ih);class Rh extends Ii{applyTo2d(t){let{imageData:{data:e,width:r,height:n}}=t;for(let o=0;o<n;o+=this.blocksize)for(let d=0;d<r;d+=this.blocksize){const l=4*o*r+4*d,s=e[l],a=e[l+1],c=e[l+2],u=e[l+3];for(let f=o;f<Math.min(o+this.blocksize,n);f++)for(let h=d;h<Math.min(d+this.blocksize,r);h++){const p=4*f*r+4*h;e[p]=s,e[p+1]=a,e[p+2]=c,e[p+3]=u}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}wt(Rh,"type","Pixelate"),wt(Rh,"defaults",{blocksize:4}),wt(Rh,"uniformLocations",["uBlocksize"]),Vt.setClass(Rh);class jh extends Ii{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(t){let{imageData:{data:e}}=t;const r=255*this.distance,n=new Yr(this.color).getSource(),o=[n[0]-r,n[1]-r,n[2]-r],d=[n[0]+r,n[1]+r,n[2]+r];for(let l=0;l<e.length;l+=4){const s=e[l],a=e[l+1],c=e[l+2];s>o[0]&&a>o[1]&&c>o[2]&&s<d[0]&&a<d[1]&&c<d[2]&&(e[l+3]=0)}}sendUniformData(t,e){const r=new Yr(this.color).getSource(),n=this.distance,o=[0+r[0]/255-n,0+r[1]/255-n,0+r[2]/255-n,1],d=[r[0]/255+n,r[1]/255+n,r[2]/255+n,1];t.uniform4fv(e.uLow,o),t.uniform4fv(e.uHigh,d)}}wt(jh,"type","RemoveColor"),wt(jh,"defaults",{color:"#FFFFFF",distance:.02,useAlpha:!1}),wt(jh,"uniformLocations",["uLow","uHigh"]),Vt.setClass(jh);class zh extends Ii{sendUniformData(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)}getFilterWindow(){const t=this.tempScale;return Math.ceil(this.lanczosLobes/t)}getCacheKey(){const t=this.getFilterWindow();return"".concat(this.type,"_").concat(t)}getFragmentSource(){const t=this.getFilterWindow();return this.generateShader(t)}getTaps(){const t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,r=this.getFilterWindow(),n=new Array(r);for(let o=1;o<=r;o++)n[o-1]=t(o*e);return n}generateShader(t){const e=new Array(t);for(let r=1;r<=t;r++)e[r-1]="".concat(r,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(t,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(e.map((r,n)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(r,") * uTaps[").concat(n,"] + texture2D(uTexture, vTexCoord - ").concat(r,") * uTaps[").concat(n,`];
              sum += 2.0 * uTaps[`).concat(n,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(t){t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,super.applyTo(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,super.applyTo(t),t.sourceHeight=t.destinationHeight}applyTo(t){$u(t)?this.applyToForWebgl(t):this.applyTo2d(t)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(t){return e=>{if(e>=t||e<=-t)return 0;if(e<11920929e-14&&e>-11920929e-14)return 1;const r=(e*=Math.PI)/t;return Math.sin(e)/e*Math.sin(r)/r}}applyTo2d(t){const e=t.imageData,r=this.scaleX,n=this.scaleY;this.rcpScaleX=1/r,this.rcpScaleY=1/n;const o=e.width,d=e.height,l=Math.round(o*r),s=Math.round(d*n);let a;a=this.resizeType==="sliceHack"?this.sliceByTwo(t,o,d,l,s):this.resizeType==="hermite"?this.hermiteFastResize(t,o,d,l,s):this.resizeType==="bilinear"?this.bilinearFiltering(t,o,d,l,s):this.resizeType==="lanczos"?this.lanczosResize(t,o,d,l,s):new ImageData(l,s),t.imageData=a}sliceByTwo(t,e,r,n,o){const d=t.imageData,l=.5;let s=!1,a=!1,c=e*l,u=r*l;const f=t.filterBackend.resources;let h=0,p=0;const A=e;let g=0;f.sliceByTwo||(f.sliceByTwo=Vn());const m=f.sliceByTwo;(m.width<1.5*e||m.height<r)&&(m.width=1.5*e,m.height=r);const v=m.getContext("2d");for(v.clearRect(0,0,1.5*e,r),v.putImageData(d,0,0),n=Math.floor(n),o=Math.floor(o);!s||!a;)e=c,r=u,n<Math.floor(c*l)?c=Math.floor(c*l):(c=n,s=!0),o<Math.floor(u*l)?u=Math.floor(u*l):(u=o,a=!0),v.drawImage(m,h,p,e,r,A,g,c,u),h=A,p=g,g+=u;return v.getImageData(h,p,n,o)}lanczosResize(t,e,r,n,o){const d=t.imageData.data,l=t.ctx.createImageData(n,o),s=l.data,a=this.lanczosCreate(this.lanczosLobes),c=this.rcpScaleX,u=this.rcpScaleY,f=2/this.rcpScaleX,h=2/this.rcpScaleY,p=Math.ceil(c*this.lanczosLobes/2),A=Math.ceil(u*this.lanczosLobes/2),g={},m={x:0,y:0},v={x:0,y:0};return function y(w){let x,L,F,M,D,X,I,O,W,C,Q;for(m.x=(w+.5)*c,v.x=Math.floor(m.x),x=0;x<o;x++){for(m.y=(x+.5)*u,v.y=Math.floor(m.y),D=0,X=0,I=0,O=0,W=0,L=v.x-p;L<=v.x+p;L++)if(!(L<0||L>=e)){C=Math.floor(1e3*Math.abs(L-m.x)),g[C]||(g[C]={});for(let lt=v.y-A;lt<=v.y+A;lt++)lt<0||lt>=r||(Q=Math.floor(1e3*Math.abs(lt-m.y)),g[C][Q]||(g[C][Q]=a(Math.sqrt(Math.pow(C*f,2)+Math.pow(Q*h,2))/1e3)),F=g[C][Q],F>0&&(M=4*(lt*e+L),D+=F,X+=F*d[M],I+=F*d[M+1],O+=F*d[M+2],W+=F*d[M+3]))}M=4*(x*n+w),s[M]=X/D,s[M+1]=I/D,s[M+2]=O/D,s[M+3]=W/D}return++w<n?y(w):l}(0)}bilinearFiltering(t,e,r,n,o){let d,l,s,a,c,u,f,h,p,A,g,m,v,y=0;const w=this.rcpScaleX,x=this.rcpScaleY,L=4*(e-1),F=t.imageData.data,M=t.ctx.createImageData(n,o),D=M.data;for(f=0;f<o;f++)for(h=0;h<n;h++)for(c=Math.floor(w*h),u=Math.floor(x*f),p=w*h-c,A=x*f-u,v=4*(u*e+c),g=0;g<4;g++)d=F[v+g],l=F[v+4+g],s=F[v+L+g],a=F[v+L+4+g],m=d*(1-p)*(1-A)+l*p*(1-A)+s*A*(1-p)+a*p*A,D[y++]=m;return M}hermiteFastResize(t,e,r,n,o){const d=this.rcpScaleX,l=this.rcpScaleY,s=Math.ceil(d/2),a=Math.ceil(l/2),c=t.imageData.data,u=t.ctx.createImageData(n,o),f=u.data;for(let h=0;h<o;h++)for(let p=0;p<n;p++){const A=4*(p+h*n);let g=0,m=0,v=0,y=0,w=0,x=0,L=0;const F=(h+.5)*l;for(let M=Math.floor(h*l);M<(h+1)*l;M++){const D=Math.abs(F-(M+.5))/a,X=(p+.5)*d,I=D*D;for(let O=Math.floor(p*d);O<(p+1)*d;O++){let W=Math.abs(X-(O+.5))/s;const C=Math.sqrt(I+W*W);C>1&&C<-1||(g=2*C*C*C-3*C*C+1,g>0&&(W=4*(O+M*e),L+=g*c[W+3],v+=g,c[W+3]<255&&(g=g*c[W+3]/250),y+=g*c[W],w+=g*c[W+1],x+=g*c[W+2],m+=g))}}f[A]=y/m,f[A+1]=w/m,f[A+2]=x/m,f[A+3]=L/v}return u}}wt(zh,"type","Resize"),wt(zh,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),wt(zh,"uniformLocations",["uDelta","uTaps"]),Vt.setClass(zh);class Uh extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const r=-this.saturation;for(let n=0;n<e.length;n+=4){const o=e[n],d=e[n+1],l=e[n+2],s=Math.max(o,d,l);e[n]+=s!==o?(s-o)*r:0,e[n+1]+=s!==d?(s-d)*r:0,e[n+2]+=s!==l?(s-l)*r:0}}sendUniformData(t,e){t.uniform1f(e.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}wt(Uh,"type","Saturation"),wt(Uh,"defaults",{saturation:0}),wt(Uh,"uniformLocations",["uSaturation"]),Vt.setClass(Uh);class Wh extends Ii{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(t){let{imageData:{data:e}}=t;const r=-this.vibrance;for(let n=0;n<e.length;n+=4){const o=e[n],d=e[n+1],l=e[n+2],s=Math.max(o,d,l),a=(o+d+l)/3,c=2*Math.abs(s-a)/255*r;e[n]+=s!==o?(s-o)*c:0,e[n+1]+=s!==d?(s-d)*c:0,e[n+2]+=s!==l?(s-l)*c:0}}sendUniformData(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}wt(Wh,"type","Vibrance"),wt(Wh,"defaults",{vibrance:0}),wt(Wh,"uniformLocations",["uVibrance"]),Vt.setClass(Wh);class Va{static addTitle(t,e,r={}){if(!t)return;const n=new qi(t,{fontFamily:"sans-serif",data:Bn.H1,fontSize:32,fontWeight:"bold",top:35,padding:0,fill:"#000000",textAlign:"center",splitByGrapheme:!0,lineHeight:1.2,width:560,left:20,lockScalingY:!0,lockScalingFlip:!0,originX:"left",originY:"top",...r});return e.add(n),e.setActiveObject(n),e.renderAll(),n}static addSubtitle(t,e,r={}){if(!t)return;const n=new qi(t,{data:Bn.H2,fontFamily:"sans-serif",fontSize:24,fontWeight:"normal",top:0,left:40,padding:0,fill:"#000000",textAlign:"left",lineHeight:1.2,width:520,splitByGrapheme:!0,lockScalingY:!0,lockScalingFlip:!0,...r});return e.add(n),e.setActiveObject(n),e.renderAll(),n}static addText(t,e,r={}){if(!t)return;const n=new qi(t,{data:Bn.P,fontFamily:"serif",fontSize:24,fontWeight:"normal",top:0,left:40,padding:0,fill:"#000000",splitByGrapheme:!0,isWrapping:!0,width:520,lineHeight:1.2,originX:"left",originY:"top",...r});return e.add(n),e.setActiveObject(n),e.renderAll(),n}static addContent({text:t,title:e,canvas:r,titleOptions:n={},options:o={}}){if(!e)return;const d=Id(),l=Id(),s=new qi(t,{fontSize:18,fontWeight:"normal",data:Bn.P,top:20,padding:0,fill:"#666",width:560,id:d,linkId:l,left:20,splitByGrapheme:!0,...o}),a=new qi(e,{fontSize:24,fontWeight:"normal",data:Bn.H2,top:0,padding:0,fill:"#666",width:560,left:20,id:l,linkId:d,splitByGrapheme:!0,...n});r.add(s,a),r.discardActiveObject();const c=new $s([s,a],{canvas:r});return r.setActiveObject(c),r.renderAll(),{textBox:s,textBoxTitle:a}}static addCoverImg(t,e={}){if(!t)return;const r=new Image;return r.src=t,new wr(r,{left:300,top:400,...e})}}Te(Va,"isTextboxPersistentBorder",(t,e)=>{try{if(!e)return;t.getObjects("textbox").forEach(r=>{const n=r;e?n.__persistentBorder&&(n.__persistentBorder=!0,n.__persistentBorderColor&&(n.__persistentBorderColor=n.__persistentBorderColor),n.__persistentBorderWidth&&(n.__persistentBorderWidth=n.__persistentBorderWidth)):n.__persistentBorder=!1,n.dirty=!0}),t.renderAll()}catch{}}),Te(Va,"handleContentTemplate",t=>{const{objects:e}=t;if(!e||!Array.isArray(e))return 0;try{const r=e.filter(l=>l&&l.data===Bn.H2),n=e.filter(l=>l&&l.data===Bn.P);if(r.length===0&&n.length===0)return 0;let o=0;const d=new Set;return r.forEach(l=>{const s=l.id,a=l.linkId;if(d.has(s))return;const c=n.find(u=>u.linkId===s||u.id===a);c&&!d.has(c.id)?(o++,d.add(s),d.add(c.id)):(o++,d.add(s))}),n.forEach(l=>{d.has(l.id)||(o++,d.add(l.id))}),o}catch{return 0}}),Te(Va,"handleImgTemplate",t=>{const{objects:e}=t;return!e||!Array.isArray(e)?0:e.filter(r=>r&&r.type==="image").length});var Cn=Uint8Array,Xr=Uint16Array,eg=Int32Array,ig=new Cn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rg=new Cn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),K0=new Cn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hv=function(i,t){for(var e=new Xr(31),r=0;r<31;++r)e[r]=t+=1<<i[r-1];for(var n=new eg(e[30]),r=1;r<30;++r)for(var o=e[r];o<e[r+1];++o)n[o]=o-e[r]<<5|r;return{b:e,r:n}},uv=hv(ig,2),s_=uv.b,ip=uv.r;s_[28]=258,ip[258]=28;var a_=hv(rg,0),$0=a_.r,rp=new Xr(32768);for(var ei=0;ei<32768;++ei){var Vs=(ei&43690)>>1|(ei&21845)<<1;Vs=(Vs&52428)>>2|(Vs&13107)<<2,Vs=(Vs&61680)>>4|(Vs&3855)<<4,rp[ei]=((Vs&65280)>>8|(Vs&255)<<8)>>1}var hc=function(i,t,e){for(var r=i.length,n=0,o=new Xr(t);n<r;++n)i[n]&&++o[i[n]-1];var d=new Xr(t);for(n=1;n<t;++n)d[n]=d[n-1]+o[n-1]<<1;var l;if(e){l=new Xr(1<<t);var s=15-t;for(n=0;n<r;++n)if(i[n])for(var a=n<<4|i[n],c=t-i[n],u=d[i[n]-1]++<<c,f=u|(1<<c)-1;u<=f;++u)l[rp[u]>>s]=a}else for(l=new Xr(r),n=0;n<r;++n)i[n]&&(l[n]=rp[d[i[n]-1]++]>>15-i[n]);return l},ro=new Cn(288);for(var ei=0;ei<144;++ei)ro[ei]=8;for(var ei=144;ei<256;++ei)ro[ei]=9;for(var ei=256;ei<280;++ei)ro[ei]=7;for(var ei=280;ei<288;++ei)ro[ei]=8;var Ou=new Cn(32);for(var ei=0;ei<32;++ei)Ou[ei]=5;var o_=hc(ro,9,0),l_=hc(Ou,5,0),fv=function(i){return(i+7)/8|0},c_=function(i,t,e){return(t==null||t<0)&&(t=0),(e==null||e>i.length)&&(e=i.length),new Cn(i.subarray(t,e))},hs=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8},Vl=function(i,t,e){e<<=t&7;var r=t/8|0;i[r]|=e,i[r+1]|=e>>8,i[r+2]|=e>>16},id=function(i,t){for(var e=[],r=0;r<i.length;++r)i[r]&&e.push({s:r,f:i[r]});var n=e.length,o=e.slice();if(!n)return{t:pv,l:0};if(n==1){var d=new Cn(e[0].s+1);return d[e[0].s]=1,{t:d,l:1}}e.sort(function(x,L){return x.f-L.f}),e.push({s:-1,f:25001});var l=e[0],s=e[1],a=0,c=1,u=2;for(e[0]={s:-1,f:l.f+s.f,l,r:s};c!=n-1;)l=e[e[a].f<e[u].f?a++:u++],s=e[a!=c&&e[a].f<e[u].f?a++:u++],e[c++]={s:-1,f:l.f+s.f,l,r:s};for(var f=o[0].s,r=1;r<n;++r)o[r].s>f&&(f=o[r].s);var h=new Xr(f+1),p=np(e[c-1],h,0);if(p>t){var r=0,A=0,g=p-t,m=1<<g;for(o.sort(function(L,F){return h[F.s]-h[L.s]||L.f-F.f});r<n;++r){var v=o[r].s;if(h[v]>t)A+=m-(1<<p-h[v]),h[v]=t;else break}for(A>>=g;A>0;){var y=o[r].s;h[y]<t?A-=1<<t-h[y]++-1:++r}for(;r>=0&&A;--r){var w=o[r].s;h[w]==t&&(--h[w],++A)}p=t}return{t:new Cn(h),l:p}},np=function(i,t,e){return i.s==-1?Math.max(np(i.l,t,e+1),np(i.r,t,e+1)):t[i.s]=e},J0=function(i){for(var t=i.length;t&&!i[--t];);for(var e=new Xr(++t),r=0,n=i[0],o=1,d=function(s){e[r++]=s},l=1;l<=t;++l)if(i[l]==n&&l!=t)++o;else{if(!n&&o>2){for(;o>138;o-=138)d(32754);o>2&&(d(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(d(n),--o;o>6;o-=6)d(8304);o>2&&(d(o-3<<5|8208),o=0)}for(;o--;)d(n);o=1,n=i[l]}return{c:e.subarray(0,r),n:t}},Yl=function(i,t){for(var e=0,r=0;r<t.length;++r)e+=i[r]*t[r];return e},dv=function(i,t,e){var r=e.length,n=fv(t+2);i[n]=r&255,i[n+1]=r>>8,i[n+2]=i[n]^255,i[n+3]=i[n+1]^255;for(var o=0;o<r;++o)i[n+o+4]=e[o];return(n+4+r)*8},Z0=function(i,t,e,r,n,o,d,l,s,a,c){hs(t,c++,e),++n[256];for(var u=id(n,15),f=u.t,h=u.l,p=id(o,15),A=p.t,g=p.l,m=J0(f),v=m.c,y=m.n,w=J0(A),x=w.c,L=w.n,F=new Xr(19),M=0;M<v.length;++M)++F[v[M]&31];for(var M=0;M<x.length;++M)++F[x[M]&31];for(var D=id(F,7),X=D.t,I=D.l,O=19;O>4&&!X[K0[O-1]];--O);var W=a+5<<3,C=Yl(n,ro)+Yl(o,Ou)+d,Q=Yl(n,f)+Yl(o,A)+d+14+3*O+Yl(F,X)+2*F[16]+3*F[17]+7*F[18];if(s>=0&&W<=C&&W<=Q)return dv(t,c,i.subarray(s,s+a));var lt,it,et,B;if(hs(t,c,1+(Q<C)),c+=2,Q<C){lt=hc(f,h,0),it=f,et=hc(A,g,0),B=A;var K=hc(X,I,0);hs(t,c,y-257),hs(t,c+5,L-1),hs(t,c+10,O-4),c+=14;for(var M=0;M<O;++M)hs(t,c+3*M,X[K0[M]]);c+=3*O;for(var z=[v,x],S=0;S<2;++S)for(var j=z[S],M=0;M<j.length;++M){var N=j[M]&31;hs(t,c,K[N]),c+=X[N],N>15&&(hs(t,c,j[M]>>5&127),c+=j[M]>>12)}}else lt=o_,it=ro,et=l_,B=Ou;for(var M=0;M<l;++M){var E=r[M];if(E>255){var N=E>>18&31;Vl(t,c,lt[N+257]),c+=it[N+257],N>7&&(hs(t,c,E>>23&31),c+=ig[N]);var H=E&31;Vl(t,c,et[H]),c+=B[H],H>3&&(Vl(t,c,E>>5&8191),c+=rg[H])}else Vl(t,c,lt[E]),c+=it[E]}return Vl(t,c,lt[256]),c+it[256]},h_=new eg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pv=new Cn(0),u_=function(i,t,e,r,n,o){var d=o.z||i.length,l=new Cn(r+d+5*(1+Math.ceil(d/7e3))+n),s=l.subarray(r,l.length-n),a=o.l,c=(o.r||0)&7;if(t){c&&(s[0]=o.r>>3);for(var u=h_[t-1],f=u>>13,h=u&8191,p=(1<<e)-1,A=o.p||new Xr(32768),g=o.h||new Xr(p+1),m=Math.ceil(e/3),v=2*m,y=function(T){return(i[T]^i[T+1]<<m^i[T+2]<<v)&p},w=new eg(25e3),x=new Xr(288),L=new Xr(32),F=0,M=0,D=o.i||0,X=0,I=o.w||0,O=0;D+2<d;++D){var W=y(D),C=D&32767,Q=g[W];if(A[C]=Q,g[W]=C,I<=D){var lt=d-D;if((F>7e3||X>24576)&&(lt>423||!a)){c=Z0(i,s,0,w,x,L,M,X,O,D-O,c),X=F=M=0,O=D;for(var it=0;it<286;++it)x[it]=0;for(var it=0;it<30;++it)L[it]=0}var et=2,B=0,K=h,z=C-Q&32767;if(lt>2&&W==y(D-z))for(var S=Math.min(f,lt)-1,j=Math.min(32767,D),N=Math.min(258,lt);z<=j&&--K&&C!=Q;){if(i[D+et]==i[D+et-z]){for(var E=0;E<N&&i[D+E]==i[D+E-z];++E);if(E>et){if(et=E,B=z,E>S)break;for(var H=Math.min(z,E-2),Z=0,it=0;it<H;++it){var ot=D-z+it&32767,nt=A[ot],dt=ot-nt&32767;dt>Z&&(Z=dt,Q=ot)}}}C=Q,Q=A[C],z+=C-Q&32767}if(B){w[X++]=268435456|ip[et]<<18|$0[B];var gt=ip[et]&31,Tt=$0[B]&31;M+=ig[gt]+rg[Tt],++x[257+gt],++L[Tt],I=D+et,++F}else w[X++]=i[D],++x[i[D]]}}for(D=Math.max(D,I);D<d;++D)w[X++]=i[D],++x[i[D]];c=Z0(i,s,a,w,x,L,M,X,O,D-O,c),a||(o.r=c&7|s[c/8|0]<<3,c-=7,o.h=g,o.p=A,o.i=D,o.w=I)}else{for(var D=o.w||0;D<d+a;D+=65535){var pt=D+65535;pt>=d&&(s[c/8|0]=a,pt=d),c=dv(s,c+1,i.subarray(D,pt))}o.i=d}return c_(l,0,r+fv(c)+n)},gv=function(){var i=1,t=0;return{p:function(e){for(var r=i,n=t,o=e.length|0,d=0;d!=o;){for(var l=Math.min(d+2655,o);d<l;++d)n+=r+=e[d];r=(r&65535)+15*(r>>16),n=(n&65535)+15*(n>>16)}i=r,t=n},d:function(){return i%=65521,t%=65521,(i&255)<<24|(i&65280)<<8|(t&255)<<8|t>>8}}},f_=function(i,t,e,r,n){if(!n&&(n={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),d=new Cn(o.length+i.length);d.set(o),d.set(i,o.length),i=d,n.w=o.length}return u_(i,t.level==null?6:t.level,t.mem==null?n.l?Math.ceil(Math.max(8,Math.min(13,Math.log(i.length)))*1.5):20:12+t.mem,e,r,n)},Av=function(i,t,e){for(;e;++t)i[t]=e,e>>>=8},d_=function(i,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(i[0]=120,i[1]=r<<6|(t.dictionary&&32),i[1]|=31-(i[0]<<8|i[1])%31,t.dictionary){var n=gv();n.p(t.dictionary),Av(i,2,n.d())}};function sp(i,t){t||(t={});var e=gv();e.p(i);var r=f_(i,t,t.dictionary?6:2,4);return d_(r,t),Av(r,r.length-4,e.d()),r}var p_=typeof TextDecoder<"u"&&new TextDecoder,g_=0;try{p_.decode(pv,{stream:!0}),g_=1}catch{}function tA(i,t="utf8"){return new TextDecoder(t).decode(i)}const A_=new TextEncoder;function m_(i){return A_.encode(i)}const v_=1024*8,y_=(()=>{const i=new Uint8Array(4),t=new Uint32Array(i.buffer);return!((t[0]=1)&i[0])})(),rd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class ng{constructor(t=v_,e={}){Te(this,"buffer");Te(this,"byteLength");Te(this,"byteOffset");Te(this,"length");Te(this,"offset");Te(this,"lastWrittenByte");Te(this,"littleEndian");Te(this,"_data");Te(this,"_mark");Te(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const n=e.offset?e.offset>>>0:0,o=t.byteLength-n;let d=n;(ArrayBuffer.isView(t)||t instanceof ng)&&(t.byteLength!==t.buffer.byteLength&&(d=t.byteOffset+n),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=d,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,d,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,n=new Uint8Array(r);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,e){const r=rd[e].BYTES_PER_ELEMENT*t,n=this.byteOffset+this.offset,o=this.buffer.slice(n,n+r);if(this.littleEndian===y_&&e!=="uint8"&&e!=="int8"){const l=new Uint8Array(this.buffer.slice(n,n+r));l.reverse();const s=new rd[e](l.buffer);return this.offset+=r,s.reverse(),s}const d=new rd[e](o);return this.offset+=r,d}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let e="";for(let r=0;r<t;r++)e+=this.readChar();return e}readUtf8(t=1){return tA(this.readBytes(t))}decodeText(t=1,e="utf8"){return tA(this.readBytes(t),e)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let e=0;e<t.length;e++)this._data.setUint8(this.offset++,t[e]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let e=0;e<t.length;e++)this.writeUint8(t.charCodeAt(e));return this}writeUtf8(t){return this.writeBytes(m_(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const b_=4,eA=0,iA=1,w_=2;function dl(i){let t=i.length;for(;--t>=0;)i[t]=0}const __=0,mv=1,x_=2,C_=3,S_=258,sg=29,Mc=256,bc=Mc+1+sg,Qo=30,ag=19,vv=2*bc+1,Ya=15,nd=16,T_=7,og=256,yv=16,bv=17,wv=18,ap=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),su=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),k_=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),_v=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L_=512,As=new Array((bc+2)*2);dl(As);const uc=new Array(Qo*2);dl(uc);const wc=new Array(L_);dl(wc);const _c=new Array(S_-C_+1);dl(_c);const lg=new Array(sg);dl(lg);const Du=new Array(Qo);dl(Du);function sd(i,t,e,r,n){this.static_tree=i,this.extra_bits=t,this.extra_base=e,this.elems=r,this.max_length=n,this.has_stree=i&&i.length}let xv,Cv,Sv;function ad(i,t){this.dyn_tree=i,this.max_code=0,this.stat_desc=t}const Tv=i=>i<256?wc[i]:wc[256+(i>>>7)],xc=(i,t)=>{i.pending_buf[i.pending++]=t&255,i.pending_buf[i.pending++]=t>>>8&255},xr=(i,t,e)=>{i.bi_valid>nd-e?(i.bi_buf|=t<<i.bi_valid&65535,xc(i,i.bi_buf),i.bi_buf=t>>nd-i.bi_valid,i.bi_valid+=e-nd):(i.bi_buf|=t<<i.bi_valid&65535,i.bi_valid+=e)},Rn=(i,t,e)=>{xr(i,e[t*2],e[t*2+1])},kv=(i,t)=>{let e=0;do e|=i&1,i>>>=1,e<<=1;while(--t>0);return e>>>1},P_=i=>{i.bi_valid===16?(xc(i,i.bi_buf),i.bi_buf=0,i.bi_valid=0):i.bi_valid>=8&&(i.pending_buf[i.pending++]=i.bi_buf&255,i.bi_buf>>=8,i.bi_valid-=8)},O_=(i,t)=>{const e=t.dyn_tree,r=t.max_code,n=t.stat_desc.static_tree,o=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,s=t.stat_desc.max_length;let a,c,u,f,h,p,A=0;for(f=0;f<=Ya;f++)i.bl_count[f]=0;for(e[i.heap[i.heap_max]*2+1]=0,a=i.heap_max+1;a<vv;a++)c=i.heap[a],f=e[e[c*2+1]*2+1]+1,f>s&&(f=s,A++),e[c*2+1]=f,!(c>r)&&(i.bl_count[f]++,h=0,c>=l&&(h=d[c-l]),p=e[c*2],i.opt_len+=p*(f+h),o&&(i.static_len+=p*(n[c*2+1]+h)));if(A!==0){do{for(f=s-1;i.bl_count[f]===0;)f--;i.bl_count[f]--,i.bl_count[f+1]+=2,i.bl_count[s]--,A-=2}while(A>0);for(f=s;f!==0;f--)for(c=i.bl_count[f];c!==0;)u=i.heap[--a],!(u>r)&&(e[u*2+1]!==f&&(i.opt_len+=(f-e[u*2+1])*e[u*2],e[u*2+1]=f),c--)}},Lv=(i,t,e)=>{const r=new Array(Ya+1);let n=0,o,d;for(o=1;o<=Ya;o++)n=n+e[o-1]<<1,r[o]=n;for(d=0;d<=t;d++){let l=i[d*2+1];l!==0&&(i[d*2]=kv(r[l]++,l))}},D_=()=>{let i,t,e,r,n;const o=new Array(Ya+1);for(e=0,r=0;r<sg-1;r++)for(lg[r]=e,i=0;i<1<<ap[r];i++)_c[e++]=r;for(_c[e-1]=r,n=0,r=0;r<16;r++)for(Du[r]=n,i=0;i<1<<su[r];i++)wc[n++]=r;for(n>>=7;r<Qo;r++)for(Du[r]=n<<7,i=0;i<1<<su[r]-7;i++)wc[256+n++]=r;for(t=0;t<=Ya;t++)o[t]=0;for(i=0;i<=143;)As[i*2+1]=8,i++,o[8]++;for(;i<=255;)As[i*2+1]=9,i++,o[9]++;for(;i<=279;)As[i*2+1]=7,i++,o[7]++;for(;i<=287;)As[i*2+1]=8,i++,o[8]++;for(Lv(As,bc+1,o),i=0;i<Qo;i++)uc[i*2+1]=5,uc[i*2]=kv(i,5);xv=new sd(As,ap,Mc+1,bc,Ya),Cv=new sd(uc,su,0,Qo,Ya),Sv=new sd(new Array(0),k_,0,ag,T_)},Pv=i=>{let t;for(t=0;t<bc;t++)i.dyn_ltree[t*2]=0;for(t=0;t<Qo;t++)i.dyn_dtree[t*2]=0;for(t=0;t<ag;t++)i.bl_tree[t*2]=0;i.dyn_ltree[og*2]=1,i.opt_len=i.static_len=0,i.sym_next=i.matches=0},Ov=i=>{i.bi_valid>8?xc(i,i.bi_buf):i.bi_valid>0&&(i.pending_buf[i.pending++]=i.bi_buf),i.bi_buf=0,i.bi_valid=0},rA=(i,t,e,r)=>{const n=t*2,o=e*2;return i[n]<i[o]||i[n]===i[o]&&r[t]<=r[e]},od=(i,t,e)=>{const r=i.heap[e];let n=e<<1;for(;n<=i.heap_len&&(n<i.heap_len&&rA(t,i.heap[n+1],i.heap[n],i.depth)&&n++,!rA(t,r,i.heap[n],i.depth));)i.heap[e]=i.heap[n],e=n,n<<=1;i.heap[e]=r},nA=(i,t,e)=>{let r,n,o=0,d,l;if(i.sym_next!==0)do r=i.pending_buf[i.sym_buf+o++]&255,r+=(i.pending_buf[i.sym_buf+o++]&255)<<8,n=i.pending_buf[i.sym_buf+o++],r===0?Rn(i,n,t):(d=_c[n],Rn(i,d+Mc+1,t),l=ap[d],l!==0&&(n-=lg[d],xr(i,n,l)),r--,d=Tv(r),Rn(i,d,e),l=su[d],l!==0&&(r-=Du[d],xr(i,r,l)));while(o<i.sym_next);Rn(i,og,t)},op=(i,t)=>{const e=t.dyn_tree,r=t.stat_desc.static_tree,n=t.stat_desc.has_stree,o=t.stat_desc.elems;let d,l,s=-1,a;for(i.heap_len=0,i.heap_max=vv,d=0;d<o;d++)e[d*2]!==0?(i.heap[++i.heap_len]=s=d,i.depth[d]=0):e[d*2+1]=0;for(;i.heap_len<2;)a=i.heap[++i.heap_len]=s<2?++s:0,e[a*2]=1,i.depth[a]=0,i.opt_len--,n&&(i.static_len-=r[a*2+1]);for(t.max_code=s,d=i.heap_len>>1;d>=1;d--)od(i,e,d);a=o;do d=i.heap[1],i.heap[1]=i.heap[i.heap_len--],od(i,e,1),l=i.heap[1],i.heap[--i.heap_max]=d,i.heap[--i.heap_max]=l,e[a*2]=e[d*2]+e[l*2],i.depth[a]=(i.depth[d]>=i.depth[l]?i.depth[d]:i.depth[l])+1,e[d*2+1]=e[l*2+1]=a,i.heap[1]=a++,od(i,e,1);while(i.heap_len>=2);i.heap[--i.heap_max]=i.heap[1],O_(i,t),Lv(e,s,i.bl_count)},sA=(i,t,e)=>{let r,n=-1,o,d=t[0*2+1],l=0,s=7,a=4;for(d===0&&(s=138,a=3),t[(e+1)*2+1]=65535,r=0;r<=e;r++)o=d,d=t[(r+1)*2+1],!(++l<s&&o===d)&&(l<a?i.bl_tree[o*2]+=l:o!==0?(o!==n&&i.bl_tree[o*2]++,i.bl_tree[yv*2]++):l<=10?i.bl_tree[bv*2]++:i.bl_tree[wv*2]++,l=0,n=o,d===0?(s=138,a=3):o===d?(s=6,a=3):(s=7,a=4))},aA=(i,t,e)=>{let r,n=-1,o,d=t[0*2+1],l=0,s=7,a=4;for(d===0&&(s=138,a=3),r=0;r<=e;r++)if(o=d,d=t[(r+1)*2+1],!(++l<s&&o===d)){if(l<a)do Rn(i,o,i.bl_tree);while(--l!==0);else o!==0?(o!==n&&(Rn(i,o,i.bl_tree),l--),Rn(i,yv,i.bl_tree),xr(i,l-3,2)):l<=10?(Rn(i,bv,i.bl_tree),xr(i,l-3,3)):(Rn(i,wv,i.bl_tree),xr(i,l-11,7));l=0,n=o,d===0?(s=138,a=3):o===d?(s=6,a=3):(s=7,a=4)}},E_=i=>{let t;for(sA(i,i.dyn_ltree,i.l_desc.max_code),sA(i,i.dyn_dtree,i.d_desc.max_code),op(i,i.bl_desc),t=ag-1;t>=3&&i.bl_tree[_v[t]*2+1]===0;t--);return i.opt_len+=3*(t+1)+5+5+4,t},M_=(i,t,e,r)=>{let n;for(xr(i,t-257,5),xr(i,e-1,5),xr(i,r-4,4),n=0;n<r;n++)xr(i,i.bl_tree[_v[n]*2+1],3);aA(i,i.dyn_ltree,t-1),aA(i,i.dyn_dtree,e-1)},F_=i=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&i.dyn_ltree[e*2]!==0)return eA;if(i.dyn_ltree[9*2]!==0||i.dyn_ltree[10*2]!==0||i.dyn_ltree[13*2]!==0)return iA;for(e=32;e<Mc;e++)if(i.dyn_ltree[e*2]!==0)return iA;return eA};let oA=!1;const N_=i=>{oA||(D_(),oA=!0),i.l_desc=new ad(i.dyn_ltree,xv),i.d_desc=new ad(i.dyn_dtree,Cv),i.bl_desc=new ad(i.bl_tree,Sv),i.bi_buf=0,i.bi_valid=0,Pv(i)},Dv=(i,t,e,r)=>{xr(i,(__<<1)+(r?1:0),3),Ov(i),xc(i,e),xc(i,~e),e&&i.pending_buf.set(i.window.subarray(t,t+e),i.pending),i.pending+=e},B_=i=>{xr(i,mv<<1,3),Rn(i,og,As),P_(i)},I_=(i,t,e,r)=>{let n,o,d=0;i.level>0?(i.strm.data_type===w_&&(i.strm.data_type=F_(i)),op(i,i.l_desc),op(i,i.d_desc),d=E_(i),n=i.opt_len+3+7>>>3,o=i.static_len+3+7>>>3,o<=n&&(n=o)):n=o=e+5,e+4<=n&&t!==-1?Dv(i,t,e,r):i.strategy===b_||o===n?(xr(i,(mv<<1)+(r?1:0),3),nA(i,As,uc)):(xr(i,(x_<<1)+(r?1:0),3),M_(i,i.l_desc.max_code+1,i.d_desc.max_code+1,d+1),nA(i,i.dyn_ltree,i.dyn_dtree)),Pv(i),r&&Ov(i)},R_=(i,t,e)=>(i.pending_buf[i.sym_buf+i.sym_next++]=t,i.pending_buf[i.sym_buf+i.sym_next++]=t>>8,i.pending_buf[i.sym_buf+i.sym_next++]=e,t===0?i.dyn_ltree[e*2]++:(i.matches++,t--,i.dyn_ltree[(_c[e]+Mc+1)*2]++,i.dyn_dtree[Tv(t)*2]++),i.sym_next===i.sym_end);var j_=N_,z_=Dv,U_=I_,W_=R_,X_=B_,G_={_tr_init:j_,_tr_stored_block:z_,_tr_flush_block:U_,_tr_tally:W_,_tr_align:X_};const H_=(i,t,e,r)=>{let n=i&65535|0,o=i>>>16&65535|0,d=0;for(;e!==0;){d=e>2e3?2e3:e,e-=d;do n=n+t[r++]|0,o=o+n|0;while(--d);n%=65521,o%=65521}return n|o<<16|0};var Cc=H_;const V_=()=>{let i,t=[];for(var e=0;e<256;e++){i=e;for(var r=0;r<8;r++)i=i&1?3988292384^i>>>1:i>>>1;t[e]=i}return t},Y_=new Uint32Array(V_()),q_=(i,t,e,r)=>{const n=Y_,o=r+e;i^=-1;for(let d=r;d<o;d++)i=i>>>8^n[(i^t[d])&255];return i^-1};var ji=q_,nl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Fc={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Q_,_tr_stored_block:lp,_tr_flush_block:K_,_tr_tally:ea,_tr_align:$_}=G_,{Z_NO_FLUSH:ia,Z_PARTIAL_FLUSH:J_,Z_FULL_FLUSH:Z_,Z_FINISH:an,Z_BLOCK:lA,Z_OK:Yi,Z_STREAM_END:cA,Z_STREAM_ERROR:Xn,Z_DATA_ERROR:t5,Z_BUF_ERROR:ld,Z_DEFAULT_COMPRESSION:e5,Z_FILTERED:i5,Z_HUFFMAN_ONLY:Xh,Z_RLE:r5,Z_FIXED:n5,Z_DEFAULT_STRATEGY:s5,Z_UNKNOWN:a5,Z_DEFLATED:Ju}=Fc,o5=9,l5=15,c5=8,h5=29,u5=256,cp=u5+1+h5,f5=30,d5=19,p5=2*cp+1,g5=15,De=3,Js=258,Gn=Js+De+1,A5=32,sl=42,cg=57,hp=69,up=73,fp=91,dp=103,qa=113,ec=666,fr=1,pl=2,no=3,gl=4,m5=3,Qa=(i,t)=>(i.msg=nl[t],t),hA=i=>i*2-(i>4?9:0),Ks=i=>{let t=i.length;for(;--t>=0;)i[t]=0},v5=i=>{let t,e,r,n=i.w_size;t=i.hash_size,r=t;do e=i.head[--r],i.head[r]=e>=n?e-n:0;while(--t);t=n,r=t;do e=i.prev[--r],i.prev[r]=e>=n?e-n:0;while(--t)};let y5=(i,t,e)=>(t<<i.hash_shift^e)&i.hash_mask,ra=y5;const Ir=i=>{const t=i.state;let e=t.pending;e>i.avail_out&&(e=i.avail_out),e!==0&&(i.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),i.next_out),i.next_out+=e,t.pending_out+=e,i.total_out+=e,i.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},Gr=(i,t)=>{K_(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,t),i.block_start=i.strstart,Ir(i.strm)},Ie=(i,t)=>{i.pending_buf[i.pending++]=t},ql=(i,t)=>{i.pending_buf[i.pending++]=t>>>8&255,i.pending_buf[i.pending++]=t&255},pp=(i,t,e,r)=>{let n=i.avail_in;return n>r&&(n=r),n===0?0:(i.avail_in-=n,t.set(i.input.subarray(i.next_in,i.next_in+n),e),i.state.wrap===1?i.adler=Cc(i.adler,t,n,e):i.state.wrap===2&&(i.adler=ji(i.adler,t,n,e)),i.next_in+=n,i.total_in+=n,n)},Ev=(i,t)=>{let e=i.max_chain_length,r=i.strstart,n,o,d=i.prev_length,l=i.nice_match;const s=i.strstart>i.w_size-Gn?i.strstart-(i.w_size-Gn):0,a=i.window,c=i.w_mask,u=i.prev,f=i.strstart+Js;let h=a[r+d-1],p=a[r+d];i.prev_length>=i.good_match&&(e>>=2),l>i.lookahead&&(l=i.lookahead);do if(n=t,!(a[n+d]!==p||a[n+d-1]!==h||a[n]!==a[r]||a[++n]!==a[r+1])){r+=2,n++;do;while(a[++r]===a[++n]&&a[++r]===a[++n]&&a[++r]===a[++n]&&a[++r]===a[++n]&&a[++r]===a[++n]&&a[++r]===a[++n]&&a[++r]===a[++n]&&a[++r]===a[++n]&&r<f);if(o=Js-(f-r),r=f-Js,o>d){if(i.match_start=t,d=o,o>=l)break;h=a[r+d-1],p=a[r+d]}}while((t=u[t&c])>s&&--e!==0);return d<=i.lookahead?d:i.lookahead},al=i=>{const t=i.w_size;let e,r,n;do{if(r=i.window_size-i.lookahead-i.strstart,i.strstart>=t+(t-Gn)&&(i.window.set(i.window.subarray(t,t+t-r),0),i.match_start-=t,i.strstart-=t,i.block_start-=t,i.insert>i.strstart&&(i.insert=i.strstart),v5(i),r+=t),i.strm.avail_in===0)break;if(e=pp(i.strm,i.window,i.strstart+i.lookahead,r),i.lookahead+=e,i.lookahead+i.insert>=De)for(n=i.strstart-i.insert,i.ins_h=i.window[n],i.ins_h=ra(i,i.ins_h,i.window[n+1]);i.insert&&(i.ins_h=ra(i,i.ins_h,i.window[n+De-1]),i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++,i.insert--,!(i.lookahead+i.insert<De)););}while(i.lookahead<Gn&&i.strm.avail_in!==0)},Mv=(i,t)=>{let e=i.pending_buf_size-5>i.w_size?i.w_size:i.pending_buf_size-5,r,n,o,d=0,l=i.strm.avail_in;do{if(r=65535,o=i.bi_valid+42>>3,i.strm.avail_out<o||(o=i.strm.avail_out-o,n=i.strstart-i.block_start,r>n+i.strm.avail_in&&(r=n+i.strm.avail_in),r>o&&(r=o),r<e&&(r===0&&t!==an||t===ia||r!==n+i.strm.avail_in)))break;d=t===an&&r===n+i.strm.avail_in?1:0,lp(i,0,0,d),i.pending_buf[i.pending-4]=r,i.pending_buf[i.pending-3]=r>>8,i.pending_buf[i.pending-2]=~r,i.pending_buf[i.pending-1]=~r>>8,Ir(i.strm),n&&(n>r&&(n=r),i.strm.output.set(i.window.subarray(i.block_start,i.block_start+n),i.strm.next_out),i.strm.next_out+=n,i.strm.avail_out-=n,i.strm.total_out+=n,i.block_start+=n,r-=n),r&&(pp(i.strm,i.strm.output,i.strm.next_out,r),i.strm.next_out+=r,i.strm.avail_out-=r,i.strm.total_out+=r)}while(d===0);return l-=i.strm.avail_in,l&&(l>=i.w_size?(i.matches=2,i.window.set(i.strm.input.subarray(i.strm.next_in-i.w_size,i.strm.next_in),0),i.strstart=i.w_size,i.insert=i.strstart):(i.window_size-i.strstart<=l&&(i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,i.insert>i.strstart&&(i.insert=i.strstart)),i.window.set(i.strm.input.subarray(i.strm.next_in-l,i.strm.next_in),i.strstart),i.strstart+=l,i.insert+=l>i.w_size-i.insert?i.w_size-i.insert:l),i.block_start=i.strstart),i.high_water<i.strstart&&(i.high_water=i.strstart),d?gl:t!==ia&&t!==an&&i.strm.avail_in===0&&i.strstart===i.block_start?pl:(o=i.window_size-i.strstart,i.strm.avail_in>o&&i.block_start>=i.w_size&&(i.block_start-=i.w_size,i.strstart-=i.w_size,i.window.set(i.window.subarray(i.w_size,i.w_size+i.strstart),0),i.matches<2&&i.matches++,o+=i.w_size,i.insert>i.strstart&&(i.insert=i.strstart)),o>i.strm.avail_in&&(o=i.strm.avail_in),o&&(pp(i.strm,i.window,i.strstart,o),i.strstart+=o,i.insert+=o>i.w_size-i.insert?i.w_size-i.insert:o),i.high_water<i.strstart&&(i.high_water=i.strstart),o=i.bi_valid+42>>3,o=i.pending_buf_size-o>65535?65535:i.pending_buf_size-o,e=o>i.w_size?i.w_size:o,n=i.strstart-i.block_start,(n>=e||(n||t===an)&&t!==ia&&i.strm.avail_in===0&&n<=o)&&(r=n>o?o:n,d=t===an&&i.strm.avail_in===0&&r===n?1:0,lp(i,i.block_start,r,d),i.block_start+=r,Ir(i.strm)),d?no:fr)},cd=(i,t)=>{let e,r;for(;;){if(i.lookahead<Gn){if(al(i),i.lookahead<Gn&&t===ia)return fr;if(i.lookahead===0)break}if(e=0,i.lookahead>=De&&(i.ins_h=ra(i,i.ins_h,i.window[i.strstart+De-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),e!==0&&i.strstart-e<=i.w_size-Gn&&(i.match_length=Ev(i,e)),i.match_length>=De)if(r=ea(i,i.strstart-i.match_start,i.match_length-De),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=De){i.match_length--;do i.strstart++,i.ins_h=ra(i,i.ins_h,i.window[i.strstart+De-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!==0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=ra(i,i.ins_h,i.window[i.strstart+1]);else r=ea(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(r&&(Gr(i,!1),i.strm.avail_out===0))return fr}return i.insert=i.strstart<De-1?i.strstart:De-1,t===an?(Gr(i,!0),i.strm.avail_out===0?no:gl):i.sym_next&&(Gr(i,!1),i.strm.avail_out===0)?fr:pl},Lo=(i,t)=>{let e,r,n;for(;;){if(i.lookahead<Gn){if(al(i),i.lookahead<Gn&&t===ia)return fr;if(i.lookahead===0)break}if(e=0,i.lookahead>=De&&(i.ins_h=ra(i,i.ins_h,i.window[i.strstart+De-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=De-1,e!==0&&i.prev_length<i.max_lazy_match&&i.strstart-e<=i.w_size-Gn&&(i.match_length=Ev(i,e),i.match_length<=5&&(i.strategy===i5||i.match_length===De&&i.strstart-i.match_start>4096)&&(i.match_length=De-1)),i.prev_length>=De&&i.match_length<=i.prev_length){n=i.strstart+i.lookahead-De,r=ea(i,i.strstart-1-i.prev_match,i.prev_length-De),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=n&&(i.ins_h=ra(i,i.ins_h,i.window[i.strstart+De-1]),e=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!==0);if(i.match_available=0,i.match_length=De-1,i.strstart++,r&&(Gr(i,!1),i.strm.avail_out===0))return fr}else if(i.match_available){if(r=ea(i,0,i.window[i.strstart-1]),r&&Gr(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return fr}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(r=ea(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<De-1?i.strstart:De-1,t===an?(Gr(i,!0),i.strm.avail_out===0?no:gl):i.sym_next&&(Gr(i,!1),i.strm.avail_out===0)?fr:pl},b5=(i,t)=>{let e,r,n,o;const d=i.window;for(;;){if(i.lookahead<=Js){if(al(i),i.lookahead<=Js&&t===ia)return fr;if(i.lookahead===0)break}if(i.match_length=0,i.lookahead>=De&&i.strstart>0&&(n=i.strstart-1,r=d[n],r===d[++n]&&r===d[++n]&&r===d[++n])){o=i.strstart+Js;do;while(r===d[++n]&&r===d[++n]&&r===d[++n]&&r===d[++n]&&r===d[++n]&&r===d[++n]&&r===d[++n]&&r===d[++n]&&n<o);i.match_length=Js-(o-n),i.match_length>i.lookahead&&(i.match_length=i.lookahead)}if(i.match_length>=De?(e=ea(i,1,i.match_length-De),i.lookahead-=i.match_length,i.strstart+=i.match_length,i.match_length=0):(e=ea(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++),e&&(Gr(i,!1),i.strm.avail_out===0))return fr}return i.insert=0,t===an?(Gr(i,!0),i.strm.avail_out===0?no:gl):i.sym_next&&(Gr(i,!1),i.strm.avail_out===0)?fr:pl},w5=(i,t)=>{let e;for(;;){if(i.lookahead===0&&(al(i),i.lookahead===0)){if(t===ia)return fr;break}if(i.match_length=0,e=ea(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++,e&&(Gr(i,!1),i.strm.avail_out===0))return fr}return i.insert=0,t===an?(Gr(i,!0),i.strm.avail_out===0?no:gl):i.sym_next&&(Gr(i,!1),i.strm.avail_out===0)?fr:pl};function Fn(i,t,e,r,n){this.good_length=i,this.max_lazy=t,this.nice_length=e,this.max_chain=r,this.func=n}const ic=[new Fn(0,0,0,0,Mv),new Fn(4,4,8,4,cd),new Fn(4,5,16,8,cd),new Fn(4,6,32,32,cd),new Fn(4,4,16,16,Lo),new Fn(8,16,32,32,Lo),new Fn(8,16,128,128,Lo),new Fn(8,32,128,256,Lo),new Fn(32,128,258,1024,Lo),new Fn(32,258,258,4096,Lo)],_5=i=>{i.window_size=2*i.w_size,Ks(i.head),i.max_lazy_match=ic[i.level].max_lazy,i.good_match=ic[i.level].good_length,i.nice_match=ic[i.level].nice_length,i.max_chain_length=ic[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=De-1,i.match_available=0,i.ins_h=0};function x5(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ju,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(p5*2),this.dyn_dtree=new Uint16Array((2*f5+1)*2),this.bl_tree=new Uint16Array((2*d5+1)*2),Ks(this.dyn_ltree),Ks(this.dyn_dtree),Ks(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(g5+1),this.heap=new Uint16Array(2*cp+1),Ks(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*cp+1),Ks(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Nc=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.status!==sl&&t.status!==cg&&t.status!==hp&&t.status!==up&&t.status!==fp&&t.status!==dp&&t.status!==qa&&t.status!==ec?1:0},Fv=i=>{if(Nc(i))return Qa(i,Xn);i.total_in=i.total_out=0,i.data_type=a5;const t=i.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?cg:t.wrap?sl:qa,i.adler=t.wrap===2?0:1,t.last_flush=-2,Q_(t),Yi},Nv=i=>{const t=Fv(i);return t===Yi&&_5(i.state),t},C5=(i,t)=>Nc(i)||i.state.wrap!==2?Xn:(i.state.gzhead=t,Yi),Bv=(i,t,e,r,n,o)=>{if(!i)return Xn;let d=1;if(t===e5&&(t=6),r<0?(d=0,r=-r):r>15&&(d=2,r-=16),n<1||n>o5||e!==Ju||r<8||r>15||t<0||t>9||o<0||o>n5||r===8&&d!==1)return Qa(i,Xn);r===8&&(r=9);const l=new x5;return i.state=l,l.strm=i,l.status=sl,l.wrap=d,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+De-1)/De),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=o,l.method=e,Nv(i)},S5=(i,t)=>Bv(i,t,Ju,l5,c5,s5),T5=(i,t)=>{if(Nc(i)||t>lA||t<0)return i?Qa(i,Xn):Xn;const e=i.state;if(!i.output||i.avail_in!==0&&!i.input||e.status===ec&&t!==an)return Qa(i,i.avail_out===0?ld:Xn);const r=e.last_flush;if(e.last_flush=t,e.pending!==0){if(Ir(i),i.avail_out===0)return e.last_flush=-1,Yi}else if(i.avail_in===0&&hA(t)<=hA(r)&&t!==an)return Qa(i,ld);if(e.status===ec&&i.avail_in!==0)return Qa(i,ld);if(e.status===sl&&e.wrap===0&&(e.status=qa),e.status===sl){let n=Ju+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Xh||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,n|=o<<6,e.strstart!==0&&(n|=A5),n+=31-n%31,ql(e,n),e.strstart!==0&&(ql(e,i.adler>>>16),ql(e,i.adler&65535)),i.adler=1,e.status=qa,Ir(i),e.pending!==0)return e.last_flush=-1,Yi}if(e.status===cg){if(i.adler=0,Ie(e,31),Ie(e,139),Ie(e,8),e.gzhead)Ie(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),Ie(e,e.gzhead.time&255),Ie(e,e.gzhead.time>>8&255),Ie(e,e.gzhead.time>>16&255),Ie(e,e.gzhead.time>>24&255),Ie(e,e.level===9?2:e.strategy>=Xh||e.level<2?4:0),Ie(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(Ie(e,e.gzhead.extra.length&255),Ie(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(i.adler=ji(i.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=hp;else if(Ie(e,0),Ie(e,0),Ie(e,0),Ie(e,0),Ie(e,0),Ie(e,e.level===9?2:e.strategy>=Xh||e.level<2?4:0),Ie(e,m5),e.status=qa,Ir(i),e.pending!==0)return e.last_flush=-1,Yi}if(e.status===hp){if(e.gzhead.extra){let n=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let l=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+l),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>n&&(i.adler=ji(i.adler,e.pending_buf,e.pending-n,n)),e.gzindex+=l,Ir(i),e.pending!==0)return e.last_flush=-1,Yi;n=0,o-=l}let d=new Uint8Array(e.gzhead.extra);e.pending_buf.set(d.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>n&&(i.adler=ji(i.adler,e.pending_buf,e.pending-n,n)),e.gzindex=0}e.status=up}if(e.status===up){if(e.gzhead.name){let n=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>n&&(i.adler=ji(i.adler,e.pending_buf,e.pending-n,n)),Ir(i),e.pending!==0)return e.last_flush=-1,Yi;n=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,Ie(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>n&&(i.adler=ji(i.adler,e.pending_buf,e.pending-n,n)),e.gzindex=0}e.status=fp}if(e.status===fp){if(e.gzhead.comment){let n=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>n&&(i.adler=ji(i.adler,e.pending_buf,e.pending-n,n)),Ir(i),e.pending!==0)return e.last_flush=-1,Yi;n=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,Ie(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>n&&(i.adler=ji(i.adler,e.pending_buf,e.pending-n,n))}e.status=dp}if(e.status===dp){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(Ir(i),e.pending!==0))return e.last_flush=-1,Yi;Ie(e,i.adler&255),Ie(e,i.adler>>8&255),i.adler=0}if(e.status=qa,Ir(i),e.pending!==0)return e.last_flush=-1,Yi}if(i.avail_in!==0||e.lookahead!==0||t!==ia&&e.status!==ec){let n=e.level===0?Mv(e,t):e.strategy===Xh?w5(e,t):e.strategy===r5?b5(e,t):ic[e.level].func(e,t);if((n===no||n===gl)&&(e.status=ec),n===fr||n===no)return i.avail_out===0&&(e.last_flush=-1),Yi;if(n===pl&&(t===J_?$_(e):t!==lA&&(lp(e,0,0,!1),t===Z_&&(Ks(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),Ir(i),i.avail_out===0))return e.last_flush=-1,Yi}return t!==an?Yi:e.wrap<=0?cA:(e.wrap===2?(Ie(e,i.adler&255),Ie(e,i.adler>>8&255),Ie(e,i.adler>>16&255),Ie(e,i.adler>>24&255),Ie(e,i.total_in&255),Ie(e,i.total_in>>8&255),Ie(e,i.total_in>>16&255),Ie(e,i.total_in>>24&255)):(ql(e,i.adler>>>16),ql(e,i.adler&65535)),Ir(i),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Yi:cA)},k5=i=>{if(Nc(i))return Xn;const t=i.state.status;return i.state=null,t===qa?Qa(i,t5):Yi},L5=(i,t)=>{let e=t.length;if(Nc(i))return Xn;const r=i.state,n=r.wrap;if(n===2||n===1&&r.status!==sl||r.lookahead)return Xn;if(n===1&&(i.adler=Cc(i.adler,t,e,0)),r.wrap=0,e>=r.w_size){n===0&&(Ks(r.head),r.strstart=0,r.block_start=0,r.insert=0);let s=new Uint8Array(r.w_size);s.set(t.subarray(e-r.w_size,e),0),t=s,e=r.w_size}const o=i.avail_in,d=i.next_in,l=i.input;for(i.avail_in=e,i.next_in=0,i.input=t,al(r);r.lookahead>=De;){let s=r.strstart,a=r.lookahead-(De-1);do r.ins_h=ra(r,r.ins_h,r.window[s+De-1]),r.prev[s&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=s,s++;while(--a);r.strstart=s,r.lookahead=De-1,al(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=De-1,r.match_available=0,i.next_in=d,i.input=l,i.avail_in=o,r.wrap=n,Yi};var P5=S5,O5=Bv,D5=Nv,E5=Fv,M5=C5,F5=T5,N5=k5,B5=L5,I5="pako deflate (from Nodeca project)",fc={deflateInit:P5,deflateInit2:O5,deflateReset:D5,deflateResetKeep:E5,deflateSetHeader:M5,deflate:F5,deflateEnd:N5,deflateSetDictionary:B5,deflateInfo:I5};const R5=(i,t)=>Object.prototype.hasOwnProperty.call(i,t);var j5=function(i){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const r in e)R5(e,r)&&(i[r]=e[r])}}return i},z5=i=>{let t=0;for(let r=0,n=i.length;r<n;r++)t+=i[r].length;const e=new Uint8Array(t);for(let r=0,n=0,o=i.length;r<o;r++){let d=i[r];e.set(d,n),n+=d.length}return e},Zu={assign:j5,flattenChunks:z5};let Iv=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Iv=!1}const Sc=new Uint8Array(256);for(let i=0;i<256;i++)Sc[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;Sc[254]=Sc[254]=1;var U5=i=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(i);let t,e,r,n,o,d=i.length,l=0;for(n=0;n<d;n++)e=i.charCodeAt(n),(e&64512)===55296&&n+1<d&&(r=i.charCodeAt(n+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),l+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(l),o=0,n=0;o<l;n++)e=i.charCodeAt(n),(e&64512)===55296&&n+1<d&&(r=i.charCodeAt(n+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),n++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const W5=(i,t)=>{if(t<65534&&i.subarray&&Iv)return String.fromCharCode.apply(null,i.length===t?i:i.subarray(0,t));let e="";for(let r=0;r<t;r++)e+=String.fromCharCode(i[r]);return e};var X5=(i,t)=>{const e=t||i.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(i.subarray(0,t));let r,n;const o=new Array(e*2);for(n=0,r=0;r<e;){let d=i[r++];if(d<128){o[n++]=d;continue}let l=Sc[d];if(l>4){o[n++]=65533,r+=l-1;continue}for(d&=l===2?31:l===3?15:7;l>1&&r<e;)d=d<<6|i[r++]&63,l--;if(l>1){o[n++]=65533;continue}d<65536?o[n++]=d:(d-=65536,o[n++]=55296|d>>10&1023,o[n++]=56320|d&1023)}return W5(o,n)},G5=(i,t)=>{t=t||i.length,t>i.length&&(t=i.length);let e=t-1;for(;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+Sc[i[e]]>t?e:t},Tc={string2buf:U5,buf2string:X5,utf8border:G5};function H5(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Rv=H5;const jv=Object.prototype.toString,{Z_NO_FLUSH:V5,Z_SYNC_FLUSH:Y5,Z_FULL_FLUSH:q5,Z_FINISH:Q5,Z_OK:Eu,Z_STREAM_END:K5,Z_DEFAULT_COMPRESSION:$5,Z_DEFAULT_STRATEGY:J5,Z_DEFLATED:Z5}=Fc;function hg(i){this.options=Zu.assign({level:$5,method:Z5,chunkSize:16384,windowBits:15,memLevel:8,strategy:J5},i||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rv,this.strm.avail_out=0;let e=fc.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Eu)throw new Error(nl[e]);if(t.header&&fc.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Tc.string2buf(t.dictionary):jv.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,e=fc.deflateSetDictionary(this.strm,r),e!==Eu)throw new Error(nl[e]);this._dict_set=!0}}hg.prototype.push=function(i,t){const e=this.strm,r=this.options.chunkSize;let n,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Q5:V5,typeof i=="string"?e.input=Tc.string2buf(i):jv.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),(o===Y5||o===q5)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(n=fc.deflate(e,o),n===K5)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),n=fc.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Eu;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};hg.prototype.onData=function(i){this.chunks.push(i)};hg.prototype.onEnd=function(i){i===Eu&&(this.result=Zu.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};const Gh=16209,tx=16191;var ex=function(t,e){let r,n,o,d,l,s,a,c,u,f,h,p,A,g,m,v,y,w,x,L,F,M,D,X;const I=t.state;r=t.next_in,D=t.input,n=r+(t.avail_in-5),o=t.next_out,X=t.output,d=o-(e-t.avail_out),l=o+(t.avail_out-257),s=I.dmax,a=I.wsize,c=I.whave,u=I.wnext,f=I.window,h=I.hold,p=I.bits,A=I.lencode,g=I.distcode,m=(1<<I.lenbits)-1,v=(1<<I.distbits)-1;t:do{p<15&&(h+=D[r++]<<p,p+=8,h+=D[r++]<<p,p+=8),y=A[h&m];e:for(;;){if(w=y>>>24,h>>>=w,p-=w,w=y>>>16&255,w===0)X[o++]=y&65535;else if(w&16){x=y&65535,w&=15,w&&(p<w&&(h+=D[r++]<<p,p+=8),x+=h&(1<<w)-1,h>>>=w,p-=w),p<15&&(h+=D[r++]<<p,p+=8,h+=D[r++]<<p,p+=8),y=g[h&v];i:for(;;){if(w=y>>>24,h>>>=w,p-=w,w=y>>>16&255,w&16){if(L=y&65535,w&=15,p<w&&(h+=D[r++]<<p,p+=8,p<w&&(h+=D[r++]<<p,p+=8)),L+=h&(1<<w)-1,L>s){t.msg="invalid distance too far back",I.mode=Gh;break t}if(h>>>=w,p-=w,w=o-d,L>w){if(w=L-w,w>c&&I.sane){t.msg="invalid distance too far back",I.mode=Gh;break t}if(F=0,M=f,u===0){if(F+=a-w,w<x){x-=w;do X[o++]=f[F++];while(--w);F=o-L,M=X}}else if(u<w){if(F+=a+u-w,w-=u,w<x){x-=w;do X[o++]=f[F++];while(--w);if(F=0,u<x){w=u,x-=w;do X[o++]=f[F++];while(--w);F=o-L,M=X}}}else if(F+=u-w,w<x){x-=w;do X[o++]=f[F++];while(--w);F=o-L,M=X}for(;x>2;)X[o++]=M[F++],X[o++]=M[F++],X[o++]=M[F++],x-=3;x&&(X[o++]=M[F++],x>1&&(X[o++]=M[F++]))}else{F=o-L;do X[o++]=X[F++],X[o++]=X[F++],X[o++]=X[F++],x-=3;while(x>2);x&&(X[o++]=X[F++],x>1&&(X[o++]=X[F++]))}}else if(w&64){t.msg="invalid distance code",I.mode=Gh;break t}else{y=g[(y&65535)+(h&(1<<w)-1)];continue i}break}}else if(w&64)if(w&32){I.mode=tx;break t}else{t.msg="invalid literal/length code",I.mode=Gh;break t}else{y=A[(y&65535)+(h&(1<<w)-1)];continue e}break}}while(r<n&&o<l);x=p>>3,r-=x,p-=x<<3,h&=(1<<p)-1,t.next_in=r,t.next_out=o,t.avail_in=r<n?5+(n-r):5-(r-n),t.avail_out=o<l?257+(l-o):257-(o-l),I.hold=h,I.bits=p};const Po=15,uA=852,fA=592,dA=0,hd=1,pA=2,ix=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),rx=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),nx=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),sx=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ax=(i,t,e,r,n,o,d,l)=>{const s=l.bits;let a=0,c=0,u=0,f=0,h=0,p=0,A=0,g=0,m=0,v=0,y,w,x,L,F,M=null,D;const X=new Uint16Array(Po+1),I=new Uint16Array(Po+1);let O=null,W,C,Q;for(a=0;a<=Po;a++)X[a]=0;for(c=0;c<r;c++)X[t[e+c]]++;for(h=s,f=Po;f>=1&&X[f]===0;f--);if(h>f&&(h=f),f===0)return n[o++]=1<<24|64<<16|0,n[o++]=1<<24|64<<16|0,l.bits=1,0;for(u=1;u<f&&X[u]===0;u++);for(h<u&&(h=u),g=1,a=1;a<=Po;a++)if(g<<=1,g-=X[a],g<0)return-1;if(g>0&&(i===dA||f!==1))return-1;for(I[1]=0,a=1;a<Po;a++)I[a+1]=I[a]+X[a];for(c=0;c<r;c++)t[e+c]!==0&&(d[I[t[e+c]]++]=c);if(i===dA?(M=O=d,D=20):i===hd?(M=ix,O=rx,D=257):(M=nx,O=sx,D=0),v=0,c=0,a=u,F=o,p=h,A=0,x=-1,m=1<<h,L=m-1,i===hd&&m>uA||i===pA&&m>fA)return 1;for(;;){W=a-A,d[c]+1<D?(C=0,Q=d[c]):d[c]>=D?(C=O[d[c]-D],Q=M[d[c]-D]):(C=32+64,Q=0),y=1<<a-A,w=1<<p,u=w;do w-=y,n[F+(v>>A)+w]=W<<24|C<<16|Q|0;while(w!==0);for(y=1<<a-1;v&y;)y>>=1;if(y!==0?(v&=y-1,v+=y):v=0,c++,--X[a]===0){if(a===f)break;a=t[e+d[c]]}if(a>h&&(v&L)!==x){for(A===0&&(A=h),F+=u,p=a-A,g=1<<p;p+A<f&&(g-=X[p+A],!(g<=0));)p++,g<<=1;if(m+=1<<p,i===hd&&m>uA||i===pA&&m>fA)return 1;x=v&L,n[x]=h<<24|p<<16|F-o|0}}return v!==0&&(n[F+v]=a-A<<24|64<<16|0),l.bits=h,0};var dc=ax;const ox=0,zv=1,Uv=2,{Z_FINISH:gA,Z_BLOCK:lx,Z_TREES:Hh,Z_OK:so,Z_STREAM_END:cx,Z_NEED_DICT:hx,Z_STREAM_ERROR:ln,Z_DATA_ERROR:Wv,Z_MEM_ERROR:Xv,Z_BUF_ERROR:ux,Z_DEFLATED:AA}=Fc,tf=16180,mA=16181,vA=16182,yA=16183,bA=16184,wA=16185,_A=16186,xA=16187,CA=16188,SA=16189,Mu=16190,us=16191,ud=16192,TA=16193,fd=16194,kA=16195,LA=16196,PA=16197,OA=16198,Vh=16199,Yh=16200,DA=16201,EA=16202,MA=16203,FA=16204,NA=16205,dd=16206,BA=16207,IA=16208,ii=16209,Gv=16210,Hv=16211,fx=852,dx=592,px=15,gx=px,RA=i=>(i>>>24&255)+(i>>>8&65280)+((i&65280)<<8)+((i&255)<<24);function Ax(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ho=i=>{if(!i)return 1;const t=i.state;return!t||t.strm!==i||t.mode<tf||t.mode>Hv?1:0},Vv=i=>{if(ho(i))return ln;const t=i.state;return i.total_in=i.total_out=t.total=0,i.msg="",t.wrap&&(i.adler=t.wrap&1),t.mode=tf,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(fx),t.distcode=t.distdyn=new Int32Array(dx),t.sane=1,t.back=-1,so},Yv=i=>{if(ho(i))return ln;const t=i.state;return t.wsize=0,t.whave=0,t.wnext=0,Vv(i)},qv=(i,t)=>{let e;if(ho(i))return ln;const r=i.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ln:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=e,r.wbits=t,Yv(i))},Qv=(i,t)=>{if(!i)return ln;const e=new Ax;i.state=e,e.strm=i,e.window=null,e.mode=tf;const r=qv(i,t);return r!==so&&(i.state=null),r},mx=i=>Qv(i,gx);let jA=!0,pd,gd;const vx=i=>{if(jA){pd=new Int32Array(512),gd=new Int32Array(32);let t=0;for(;t<144;)i.lens[t++]=8;for(;t<256;)i.lens[t++]=9;for(;t<280;)i.lens[t++]=7;for(;t<288;)i.lens[t++]=8;for(dc(zv,i.lens,0,288,pd,0,i.work,{bits:9}),t=0;t<32;)i.lens[t++]=5;dc(Uv,i.lens,0,32,gd,0,i.work,{bits:5}),jA=!1}i.lencode=pd,i.lenbits=9,i.distcode=gd,i.distbits=5},Kv=(i,t,e,r)=>{let n;const o=i.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>r&&(n=r),o.window.set(t.subarray(e-r,e-r+n),o.wnext),r-=n,r?(o.window.set(t.subarray(e-r,e),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0},yx=(i,t)=>{let e,r,n,o,d,l,s,a,c,u,f,h,p,A,g=0,m,v,y,w,x,L,F,M;const D=new Uint8Array(4);let X,I;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ho(i)||!i.output||!i.input&&i.avail_in!==0)return ln;e=i.state,e.mode===us&&(e.mode=ud),d=i.next_out,n=i.output,s=i.avail_out,o=i.next_in,r=i.input,l=i.avail_in,a=e.hold,c=e.bits,u=l,f=s,M=so;t:for(;;)switch(e.mode){case tf:if(e.wrap===0){e.mode=ud;break}for(;c<16;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(e.wrap&2&&a===35615){e.wbits===0&&(e.wbits=15),e.check=0,D[0]=a&255,D[1]=a>>>8&255,e.check=ji(e.check,D,2,0),a=0,c=0,e.mode=mA;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((a&255)<<8)+(a>>8))%31){i.msg="incorrect header check",e.mode=ii;break}if((a&15)!==AA){i.msg="unknown compression method",e.mode=ii;break}if(a>>>=4,c-=4,F=(a&15)+8,e.wbits===0&&(e.wbits=F),F>15||F>e.wbits){i.msg="invalid window size",e.mode=ii;break}e.dmax=1<<e.wbits,e.flags=0,i.adler=e.check=1,e.mode=a&512?SA:us,a=0,c=0;break;case mA:for(;c<16;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(e.flags=a,(e.flags&255)!==AA){i.msg="unknown compression method",e.mode=ii;break}if(e.flags&57344){i.msg="unknown header flags set",e.mode=ii;break}e.head&&(e.head.text=a>>8&1),e.flags&512&&e.wrap&4&&(D[0]=a&255,D[1]=a>>>8&255,e.check=ji(e.check,D,2,0)),a=0,c=0,e.mode=vA;case vA:for(;c<32;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}e.head&&(e.head.time=a),e.flags&512&&e.wrap&4&&(D[0]=a&255,D[1]=a>>>8&255,D[2]=a>>>16&255,D[3]=a>>>24&255,e.check=ji(e.check,D,4,0)),a=0,c=0,e.mode=yA;case yA:for(;c<16;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}e.head&&(e.head.xflags=a&255,e.head.os=a>>8),e.flags&512&&e.wrap&4&&(D[0]=a&255,D[1]=a>>>8&255,e.check=ji(e.check,D,2,0)),a=0,c=0,e.mode=bA;case bA:if(e.flags&1024){for(;c<16;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}e.length=a,e.head&&(e.head.extra_len=a),e.flags&512&&e.wrap&4&&(D[0]=a&255,D[1]=a>>>8&255,e.check=ji(e.check,D,2,0)),a=0,c=0}else e.head&&(e.head.extra=null);e.mode=wA;case wA:if(e.flags&1024&&(h=e.length,h>l&&(h=l),h&&(e.head&&(F=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(r.subarray(o,o+h),F)),e.flags&512&&e.wrap&4&&(e.check=ji(e.check,r,h,o)),l-=h,o+=h,e.length-=h),e.length))break t;e.length=0,e.mode=_A;case _A:if(e.flags&2048){if(l===0)break t;h=0;do F=r[o+h++],e.head&&F&&e.length<65536&&(e.head.name+=String.fromCharCode(F));while(F&&h<l);if(e.flags&512&&e.wrap&4&&(e.check=ji(e.check,r,h,o)),l-=h,o+=h,F)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=xA;case xA:if(e.flags&4096){if(l===0)break t;h=0;do F=r[o+h++],e.head&&F&&e.length<65536&&(e.head.comment+=String.fromCharCode(F));while(F&&h<l);if(e.flags&512&&e.wrap&4&&(e.check=ji(e.check,r,h,o)),l-=h,o+=h,F)break t}else e.head&&(e.head.comment=null);e.mode=CA;case CA:if(e.flags&512){for(;c<16;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(e.wrap&4&&a!==(e.check&65535)){i.msg="header crc mismatch",e.mode=ii;break}a=0,c=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),i.adler=e.check=0,e.mode=us;break;case SA:for(;c<32;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}i.adler=e.check=RA(a),a=0,c=0,e.mode=Mu;case Mu:if(e.havedict===0)return i.next_out=d,i.avail_out=s,i.next_in=o,i.avail_in=l,e.hold=a,e.bits=c,hx;i.adler=e.check=1,e.mode=us;case us:if(t===lx||t===Hh)break t;case ud:if(e.last){a>>>=c&7,c-=c&7,e.mode=dd;break}for(;c<3;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}switch(e.last=a&1,a>>>=1,c-=1,a&3){case 0:e.mode=TA;break;case 1:if(vx(e),e.mode=Vh,t===Hh){a>>>=2,c-=2;break t}break;case 2:e.mode=LA;break;case 3:i.msg="invalid block type",e.mode=ii}a>>>=2,c-=2;break;case TA:for(a>>>=c&7,c-=c&7;c<32;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if((a&65535)!==(a>>>16^65535)){i.msg="invalid stored block lengths",e.mode=ii;break}if(e.length=a&65535,a=0,c=0,e.mode=fd,t===Hh)break t;case fd:e.mode=kA;case kA:if(h=e.length,h){if(h>l&&(h=l),h>s&&(h=s),h===0)break t;n.set(r.subarray(o,o+h),d),l-=h,o+=h,s-=h,d+=h,e.length-=h;break}e.mode=us;break;case LA:for(;c<14;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(e.nlen=(a&31)+257,a>>>=5,c-=5,e.ndist=(a&31)+1,a>>>=5,c-=5,e.ncode=(a&15)+4,a>>>=4,c-=4,e.nlen>286||e.ndist>30){i.msg="too many length or distance symbols",e.mode=ii;break}e.have=0,e.mode=PA;case PA:for(;e.have<e.ncode;){for(;c<3;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}e.lens[O[e.have++]]=a&7,a>>>=3,c-=3}for(;e.have<19;)e.lens[O[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,X={bits:e.lenbits},M=dc(ox,e.lens,0,19,e.lencode,0,e.work,X),e.lenbits=X.bits,M){i.msg="invalid code lengths set",e.mode=ii;break}e.have=0,e.mode=OA;case OA:for(;e.have<e.nlen+e.ndist;){for(;g=e.lencode[a&(1<<e.lenbits)-1],m=g>>>24,v=g>>>16&255,y=g&65535,!(m<=c);){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(y<16)a>>>=m,c-=m,e.lens[e.have++]=y;else{if(y===16){for(I=m+2;c<I;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(a>>>=m,c-=m,e.have===0){i.msg="invalid bit length repeat",e.mode=ii;break}F=e.lens[e.have-1],h=3+(a&3),a>>>=2,c-=2}else if(y===17){for(I=m+3;c<I;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}a>>>=m,c-=m,F=0,h=3+(a&7),a>>>=3,c-=3}else{for(I=m+7;c<I;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}a>>>=m,c-=m,F=0,h=11+(a&127),a>>>=7,c-=7}if(e.have+h>e.nlen+e.ndist){i.msg="invalid bit length repeat",e.mode=ii;break}for(;h--;)e.lens[e.have++]=F}}if(e.mode===ii)break;if(e.lens[256]===0){i.msg="invalid code -- missing end-of-block",e.mode=ii;break}if(e.lenbits=9,X={bits:e.lenbits},M=dc(zv,e.lens,0,e.nlen,e.lencode,0,e.work,X),e.lenbits=X.bits,M){i.msg="invalid literal/lengths set",e.mode=ii;break}if(e.distbits=6,e.distcode=e.distdyn,X={bits:e.distbits},M=dc(Uv,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,X),e.distbits=X.bits,M){i.msg="invalid distances set",e.mode=ii;break}if(e.mode=Vh,t===Hh)break t;case Vh:e.mode=Yh;case Yh:if(l>=6&&s>=258){i.next_out=d,i.avail_out=s,i.next_in=o,i.avail_in=l,e.hold=a,e.bits=c,ex(i,f),d=i.next_out,n=i.output,s=i.avail_out,o=i.next_in,r=i.input,l=i.avail_in,a=e.hold,c=e.bits,e.mode===us&&(e.back=-1);break}for(e.back=0;g=e.lencode[a&(1<<e.lenbits)-1],m=g>>>24,v=g>>>16&255,y=g&65535,!(m<=c);){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(v&&!(v&240)){for(w=m,x=v,L=y;g=e.lencode[L+((a&(1<<w+x)-1)>>w)],m=g>>>24,v=g>>>16&255,y=g&65535,!(w+m<=c);){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}a>>>=w,c-=w,e.back+=w}if(a>>>=m,c-=m,e.back+=m,e.length=y,v===0){e.mode=NA;break}if(v&32){e.back=-1,e.mode=us;break}if(v&64){i.msg="invalid literal/length code",e.mode=ii;break}e.extra=v&15,e.mode=DA;case DA:if(e.extra){for(I=e.extra;c<I;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}e.length+=a&(1<<e.extra)-1,a>>>=e.extra,c-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=EA;case EA:for(;g=e.distcode[a&(1<<e.distbits)-1],m=g>>>24,v=g>>>16&255,y=g&65535,!(m<=c);){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(!(v&240)){for(w=m,x=v,L=y;g=e.distcode[L+((a&(1<<w+x)-1)>>w)],m=g>>>24,v=g>>>16&255,y=g&65535,!(w+m<=c);){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}a>>>=w,c-=w,e.back+=w}if(a>>>=m,c-=m,e.back+=m,v&64){i.msg="invalid distance code",e.mode=ii;break}e.offset=y,e.extra=v&15,e.mode=MA;case MA:if(e.extra){for(I=e.extra;c<I;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}e.offset+=a&(1<<e.extra)-1,a>>>=e.extra,c-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){i.msg="invalid distance too far back",e.mode=ii;break}e.mode=FA;case FA:if(s===0)break t;if(h=f-s,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){i.msg="invalid distance too far back",e.mode=ii;break}h>e.wnext?(h-=e.wnext,p=e.wsize-h):p=e.wnext-h,h>e.length&&(h=e.length),A=e.window}else A=n,p=d-e.offset,h=e.length;h>s&&(h=s),s-=h,e.length-=h;do n[d++]=A[p++];while(--h);e.length===0&&(e.mode=Yh);break;case NA:if(s===0)break t;n[d++]=e.length,s--,e.mode=Yh;break;case dd:if(e.wrap){for(;c<32;){if(l===0)break t;l--,a|=r[o++]<<c,c+=8}if(f-=s,i.total_out+=f,e.total+=f,e.wrap&4&&f&&(i.adler=e.check=e.flags?ji(e.check,n,f,d-f):Cc(e.check,n,f,d-f)),f=s,e.wrap&4&&(e.flags?a:RA(a))!==e.check){i.msg="incorrect data check",e.mode=ii;break}a=0,c=0}e.mode=BA;case BA:if(e.wrap&&e.flags){for(;c<32;){if(l===0)break t;l--,a+=r[o++]<<c,c+=8}if(e.wrap&4&&a!==(e.total&4294967295)){i.msg="incorrect length check",e.mode=ii;break}a=0,c=0}e.mode=IA;case IA:M=cx;break t;case ii:M=Wv;break t;case Gv:return Xv;case Hv:default:return ln}return i.next_out=d,i.avail_out=s,i.next_in=o,i.avail_in=l,e.hold=a,e.bits=c,(e.wsize||f!==i.avail_out&&e.mode<ii&&(e.mode<dd||t!==gA))&&Kv(i,i.output,i.next_out,f-i.avail_out),u-=i.avail_in,f-=i.avail_out,i.total_in+=u,i.total_out+=f,e.total+=f,e.wrap&4&&f&&(i.adler=e.check=e.flags?ji(e.check,n,f,i.next_out-f):Cc(e.check,n,f,i.next_out-f)),i.data_type=e.bits+(e.last?64:0)+(e.mode===us?128:0)+(e.mode===Vh||e.mode===fd?256:0),(u===0&&f===0||t===gA)&&M===so&&(M=ux),M},bx=i=>{if(ho(i))return ln;let t=i.state;return t.window&&(t.window=null),i.state=null,so},wx=(i,t)=>{if(ho(i))return ln;const e=i.state;return e.wrap&2?(e.head=t,t.done=!1,so):ln},_x=(i,t)=>{const e=t.length;let r,n,o;return ho(i)||(r=i.state,r.wrap!==0&&r.mode!==Mu)?ln:r.mode===Mu&&(n=1,n=Cc(n,t,e,0),n!==r.check)?Wv:(o=Kv(i,t,e,e),o?(r.mode=Gv,Xv):(r.havedict=1,so))};var xx=Yv,Cx=qv,Sx=Vv,Tx=mx,kx=Qv,Lx=yx,Px=bx,Ox=wx,Dx=_x,Ex="pako inflate (from Nodeca project)",ms={inflateReset:xx,inflateReset2:Cx,inflateResetKeep:Sx,inflateInit:Tx,inflateInit2:kx,inflate:Lx,inflateEnd:Px,inflateGetHeader:Ox,inflateSetDictionary:Dx,inflateInfo:Ex};function Mx(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fx=Mx;const $v=Object.prototype.toString,{Z_NO_FLUSH:Nx,Z_FINISH:Bx,Z_OK:kc,Z_STREAM_END:Ad,Z_NEED_DICT:md,Z_STREAM_ERROR:Ix,Z_DATA_ERROR:zA,Z_MEM_ERROR:Rx}=Fc;function Bc(i){this.options=Zu.assign({chunkSize:1024*64,windowBits:15,to:""},i||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(i&&i.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rv,this.strm.avail_out=0;let e=ms.inflateInit2(this.strm,t.windowBits);if(e!==kc)throw new Error(nl[e]);if(this.header=new Fx,ms.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Tc.string2buf(t.dictionary):$v.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ms.inflateSetDictionary(this.strm,t.dictionary),e!==kc)))throw new Error(nl[e])}Bc.prototype.push=function(i,t){const e=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let o,d,l;if(this.ended)return!1;for(t===~~t?d=t:d=t===!0?Bx:Nx,$v.call(i)==="[object ArrayBuffer]"?e.input=new Uint8Array(i):e.input=i,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(r),e.next_out=0,e.avail_out=r),o=ms.inflate(e,d),o===md&&n&&(o=ms.inflateSetDictionary(e,n),o===kc?o=ms.inflate(e,d):o===zA&&(o=md));e.avail_in>0&&o===Ad&&e.state.wrap>0&&i[e.next_in]!==0;)ms.inflateReset(e),o=ms.inflate(e,d);switch(o){case Ix:case zA:case md:case Rx:return this.onEnd(o),this.ended=!0,!1}if(l=e.avail_out,e.next_out&&(e.avail_out===0||o===Ad))if(this.options.to==="string"){let s=Tc.utf8border(e.output,e.next_out),a=e.next_out-s,c=Tc.buf2string(e.output,s);e.next_out=a,e.avail_out=r-a,a&&e.output.set(e.output.subarray(s,s+a),0),this.onData(c)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===kc&&l===0)){if(o===Ad)return o=ms.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Bc.prototype.onData=function(i){this.chunks.push(i)};Bc.prototype.onEnd=function(i){i===kc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Zu.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg};function ug(i,t){const e=new Bc(t);if(e.push(i),e.err)throw e.msg||nl[e.err];return e.result}function jx(i,t){return t=t||{},t.raw=!0,ug(i,t)}var zx=Bc,Ux=ug,Wx=jx,Xx=ug,Gx=Fc,Hx={Inflate:zx,inflate:Ux,inflateRaw:Wx,ungzip:Xx,constants:Gx};const{Inflate:Vx,inflate:Yx,inflateRaw:A4,ungzip:m4}=Hx;var UA=Vx,qx=Yx;const Jv=[];for(let i=0;i<256;i++){let t=i;for(let e=0;e<8;e++)t&1?t=3988292384^t>>>1:t=t>>>1;Jv[i]=t}const WA=4294967295;function Qx(i,t,e){let r=i;for(let n=0;n<e;n++)r=Jv[(r^t[n])&255]^r>>>8;return r}function Kx(i,t){return(Qx(WA,i,t)^WA)>>>0}function XA(i,t,e){const r=i.readUint32(),n=Kx(new Uint8Array(i.buffer,i.byteOffset+i.offset-t-4,t),t);if(n!==r)throw new Error(`CRC mismatch for chunk ${e}. Expected ${r}, found ${n}`)}function Zv(i,t,e){for(let r=0;r<e;r++)t[r]=i[r]}function t2(i,t,e,r){let n=0;for(;n<r;n++)t[n]=i[n];for(;n<e;n++)t[n]=i[n]+t[n-r]&255}function e2(i,t,e,r){let n=0;if(e.length===0)for(;n<r;n++)t[n]=i[n];else for(;n<r;n++)t[n]=i[n]+e[n]&255}function i2(i,t,e,r,n){let o=0;if(e.length===0){for(;o<n;o++)t[o]=i[o];for(;o<r;o++)t[o]=i[o]+(t[o-n]>>1)&255}else{for(;o<n;o++)t[o]=i[o]+(e[o]>>1)&255;for(;o<r;o++)t[o]=i[o]+(t[o-n]+e[o]>>1)&255}}function r2(i,t,e,r,n){let o=0;if(e.length===0){for(;o<n;o++)t[o]=i[o];for(;o<r;o++)t[o]=i[o]+t[o-n]&255}else{for(;o<n;o++)t[o]=i[o]+e[o]&255;for(;o<r;o++)t[o]=i[o]+$x(t[o-n],e[o],e[o-n])&255}}function $x(i,t,e){const r=i+t-e,n=Math.abs(r-i),o=Math.abs(r-t),d=Math.abs(r-e);return n<=o&&n<=d?i:o<=d?t:e}function Jx(i,t,e,r,n,o){switch(i){case 0:Zv(t,e,n);break;case 1:t2(t,e,n,o);break;case 2:e2(t,e,r,n);break;case 3:i2(t,e,r,n,o);break;case 4:r2(t,e,r,n,o);break;default:throw new Error(`Unsupported filter: ${i}`)}}const Zx=new Uint16Array([255]),tC=new Uint8Array(Zx.buffer),eC=tC[0]===255;function iC(i){const{data:t,width:e,height:r,channels:n,depth:o}=i,d=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(o/8)*n,s=new Uint8Array(r*e*l);let a=0;for(let c=0;c<7;c++){const u=d[c],f=Math.ceil((e-u.x)/u.xStep),h=Math.ceil((r-u.y)/u.yStep);if(f<=0||h<=0)continue;const p=f*l,A=new Uint8Array(p);for(let g=0;g<h;g++){const m=t[a++],v=t.subarray(a,a+p);a+=p;const y=new Uint8Array(p);Jx(m,v,y,A,p,l),A.set(y);for(let w=0;w<f;w++){const x=u.x+w*u.xStep,L=u.y+g*u.yStep;if(!(x>=e||L>=r))for(let F=0;F<l;F++)s[(L*e+x)*l+F]=y[w*l+F]}}}if(o===16){const c=new Uint16Array(s.buffer);if(eC)for(let u=0;u<c.length;u++)c[u]=rC(c[u]);return c}else return s}function rC(i){return(i&255)<<8|i>>8&255}const nC=new Uint16Array([255]),sC=new Uint8Array(nC.buffer),aC=sC[0]===255,oC=new Uint8Array(0);function GA(i){const{data:t,width:e,height:r,channels:n,depth:o}=i,d=Math.ceil(o/8)*n,l=Math.ceil(o/8*n*e),s=new Uint8Array(r*l);let a=oC,c=0,u,f;for(let h=0;h<r;h++){switch(u=t.subarray(c+1,c+1+l),f=s.subarray(h*l,(h+1)*l),t[c]){case 0:Zv(u,f,l);break;case 1:t2(u,f,l,d);break;case 2:e2(u,f,a,l);break;case 3:i2(u,f,a,l,d);break;case 4:r2(u,f,a,l,d);break;default:throw new Error(`Unsupported filter: ${t[c]}`)}a=f,c+=l+1}if(o===16){const h=new Uint16Array(s.buffer);if(aC)for(let p=0;p<h.length;p++)h[p]=lC(h[p]);return h}else return s}function lC(i){return(i&255)<<8|i>>8&255}const au=Uint8Array.of(137,80,78,71,13,10,26,10);function HA(i){if(!cC(i.readBytes(au.length)))throw new Error("wrong PNG signature")}function cC(i){if(i.length<au.length)return!1;for(let t=0;t<au.length;t++)if(i[t]!==au[t])return!1;return!0}const hC="tEXt",uC=0,n2=new TextDecoder("latin1");function fC(i){if(pC(i),i.length===0||i.length>79)throw new Error("keyword length must be between 1 and 79")}const dC=/^[\u0000-\u00FF]*$/;function pC(i){if(!dC.test(i))throw new Error("invalid latin1 text")}function gC(i,t,e){const r=s2(t);i[r]=AC(t,e-r.length-1)}function s2(i){for(i.mark();i.readByte()!==uC;);const t=i.offset;i.reset();const e=n2.decode(i.readBytes(t-i.offset-1));return i.skip(1),fC(e),e}function AC(i,t){return n2.decode(i.readBytes(t))}const Nr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},vd={UNKNOWN:-1,DEFLATE:0},VA={UNKNOWN:-1,ADAPTIVE:0},yd={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},qh={NONE:0,BACKGROUND:1,PREVIOUS:2},bd={SOURCE:0,OVER:1};class mC extends ng{constructor(e,r={}){super(e);Te(this,"_checkCrc");Te(this,"_inflator");Te(this,"_png");Te(this,"_apng");Te(this,"_end");Te(this,"_hasPalette");Te(this,"_palette");Te(this,"_hasTransparency");Te(this,"_transparency");Te(this,"_compressionMethod");Te(this,"_filterMethod");Te(this,"_interlaceMethod");Te(this,"_colorType");Te(this,"_isAnimated");Te(this,"_numberOfFrames");Te(this,"_numberOfPlays");Te(this,"_frames");Te(this,"_writingDataChunks");const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new UA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=vd.UNKNOWN,this._filterMethod=VA.UNKNOWN,this._interlaceMethod=yd.UNKNOWN,this._colorType=Nr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(HA(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(HA(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case hC:gC(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?XA(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?XA(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=vC(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Nr.GREYSCALE:n=1;break;case Nr.TRUECOLOUR:n=3;break;case Nr.INDEXED_COLOUR:n=1;break;case Nr.GREYSCALE_ALPHA:n=2;break;case Nr.TRUECOLOUR_ALPHA:n=4;break;case Nr.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==vd.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let o=0;o<r;o++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Nr.GREYSCALE:case Nr.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Nr.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Nr.UNKNOWN:case Nr.GREYSCALE_ALPHA:case Nr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=s2(this),n=this.readUint8();if(n!==vd.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const o=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:qx(o)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=GA({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const o=this._apng.frames.at(e-1);this.disposeFrame(n,o,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case qh.NONE:break;case qh.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let d=0;d<this._png.width;d++){const l=(o*e.width+d)*this._png.channels;for(let s=0;s<this._png.channels;s++)n.data[l+s]=0}break;case qh.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,o=(d,l)=>{const s=((d+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,a=(d*r.width+l)*this._png.channels;return{index:s,frameIndex:a}};switch(r.blendOp){case bd.SOURCE:for(let d=0;d<r.height;d++)for(let l=0;l<r.width;l++){const{index:s,frameIndex:a}=o(d,l);for(let c=0;c<this._png.channels;c++)e.data[s+c]=r.data[a+c]}break;case bd.OVER:for(let d=0;d<r.height;d++)for(let l=0;l<r.width;l++){const{index:s,frameIndex:a}=o(d,l);for(let c=0;c<this._png.channels;c++){const u=r.data[a+this._png.channels-1]/n,f=c%(this._png.channels-1)===0?1:r.data[a+c],h=Math.floor(u*f+(1-u)*e.data[s+c]);e.data[s+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==VA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===yd.NO_INTERLACE)this._png.data=GA({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===yd.ADAM7)this._png.data=iC({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:qh.NONE,blendOp:bd.SOURCE,data:e}),this._inflator=new UA,this._writingDataChunks=!1}}function vC(i){if(i!==1&&i!==2&&i!==4&&i!==8&&i!==16)throw new Error(`invalid bit depth: ${i}`);return i}var YA;(function(i){i[i.UNKNOWN=0]="UNKNOWN",i[i.METRE=1]="METRE"})(YA||(YA={}));function yC(i,t){return new mC(i,t).decode()}var fe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function wd(){fe.console&&typeof fe.console.log=="function"&&fe.console.log.apply(fe.console,arguments)}var Ve={log:wd,warn:function(i){fe.console&&(typeof fe.console.warn=="function"?fe.console.warn.apply(fe.console,arguments):wd.call(null,arguments))},error:function(i){fe.console&&(typeof fe.console.error=="function"?fe.console.error.apply(fe.console,arguments):wd(i))}};function _d(i,t,e){var r=new XMLHttpRequest;r.open("GET",i),r.responseType="blob",r.onload=function(){Ra(r.response,t,e)},r.onerror=function(){Ve.error("could not download file")},r.send()}function qA(i){var t=new XMLHttpRequest;t.open("HEAD",i,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Qh(i){try{i.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),i.dispatchEvent(t)}}var Ra=fe.saveAs||((typeof window>"u"?"undefined":Ye(window))!=="object"||window!==fe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(i,t,e){var r=fe.URL||fe.webkitURL,n=document.createElement("a");t=t||i.name||"download",n.download=t,n.rel="noopener",typeof i=="string"?(n.href=i,n.origin!==location.origin?qA(n.href)?_d(i,t,e):Qh(n,n.target="_blank"):Qh(n)):(n.href=r.createObjectURL(i),setTimeout(function(){r.revokeObjectURL(n.href)},4e4),setTimeout(function(){Qh(n)},0))}:"msSaveOrOpenBlob"in navigator?function(i,t,e){if(t=t||i.name||"download",typeof i=="string")if(qA(i))_d(i,t,e);else{var r=document.createElement("a");r.href=i,r.target="_blank",setTimeout(function(){Qh(r)})}else navigator.msSaveOrOpenBlob(function(n,o){return o===void 0?o={autoBom:!1}:Ye(o)!=="object"&&(Ve.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob([String.fromCharCode(65279),n],{type:n.type}):n}(i,e),t)}:function(i,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof i=="string")return _d(i,t,e);var n=i.type==="application/octet-stream",o=/constructor/i.test(fe.HTMLElement)||fe.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent);if((d||n&&o)&&(typeof FileReader>"u"?"undefined":Ye(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var c=l.result;c=d?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},l.readAsDataURL(i)}else{var s=fe.URL||fe.webkitURL,a=s.createObjectURL(i);r?r.location=a:location.href=a,r=null,setTimeout(function(){s.revokeObjectURL(a)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a2(i){var t;i=i||"",this.ok=!1,i.charAt(0)=="#"&&(i=i.substr(1,6)),i={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[i=(i=i.replace(/ /g,"")).toLowerCase()]||i;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<e.length;r++){var n=e[r].re,o=e[r].process,d=n.exec(i);d&&(t=o(d),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),s=this.g.toString(16),a=this.b.toString(16);return l.length==1&&(l="0"+l),s.length==1&&(s="0"+s),a.length==1&&(a="0"+a),"#"+l+s+a}}var ou=fe.atob.bind(fe),QA=fe.btoa.bind(fe);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xd(i,t){var e=i[0],r=i[1],n=i[2],o=i[3];e=Ji(e,r,n,o,t[0],7,-680876936),o=Ji(o,e,r,n,t[1],12,-389564586),n=Ji(n,o,e,r,t[2],17,606105819),r=Ji(r,n,o,e,t[3],22,-1044525330),e=Ji(e,r,n,o,t[4],7,-176418897),o=Ji(o,e,r,n,t[5],12,1200080426),n=Ji(n,o,e,r,t[6],17,-1473231341),r=Ji(r,n,o,e,t[7],22,-45705983),e=Ji(e,r,n,o,t[8],7,1770035416),o=Ji(o,e,r,n,t[9],12,-1958414417),n=Ji(n,o,e,r,t[10],17,-42063),r=Ji(r,n,o,e,t[11],22,-1990404162),e=Ji(e,r,n,o,t[12],7,1804603682),o=Ji(o,e,r,n,t[13],12,-40341101),n=Ji(n,o,e,r,t[14],17,-1502002290),e=Zi(e,r=Ji(r,n,o,e,t[15],22,1236535329),n,o,t[1],5,-165796510),o=Zi(o,e,r,n,t[6],9,-1069501632),n=Zi(n,o,e,r,t[11],14,643717713),r=Zi(r,n,o,e,t[0],20,-373897302),e=Zi(e,r,n,o,t[5],5,-701558691),o=Zi(o,e,r,n,t[10],9,38016083),n=Zi(n,o,e,r,t[15],14,-660478335),r=Zi(r,n,o,e,t[4],20,-405537848),e=Zi(e,r,n,o,t[9],5,568446438),o=Zi(o,e,r,n,t[14],9,-1019803690),n=Zi(n,o,e,r,t[3],14,-187363961),r=Zi(r,n,o,e,t[8],20,1163531501),e=Zi(e,r,n,o,t[13],5,-1444681467),o=Zi(o,e,r,n,t[2],9,-51403784),n=Zi(n,o,e,r,t[7],14,1735328473),e=tr(e,r=Zi(r,n,o,e,t[12],20,-1926607734),n,o,t[5],4,-378558),o=tr(o,e,r,n,t[8],11,-2022574463),n=tr(n,o,e,r,t[11],16,1839030562),r=tr(r,n,o,e,t[14],23,-35309556),e=tr(e,r,n,o,t[1],4,-1530992060),o=tr(o,e,r,n,t[4],11,1272893353),n=tr(n,o,e,r,t[7],16,-155497632),r=tr(r,n,o,e,t[10],23,-1094730640),e=tr(e,r,n,o,t[13],4,681279174),o=tr(o,e,r,n,t[0],11,-358537222),n=tr(n,o,e,r,t[3],16,-722521979),r=tr(r,n,o,e,t[6],23,76029189),e=tr(e,r,n,o,t[9],4,-640364487),o=tr(o,e,r,n,t[12],11,-421815835),n=tr(n,o,e,r,t[15],16,530742520),e=er(e,r=tr(r,n,o,e,t[2],23,-995338651),n,o,t[0],6,-198630844),o=er(o,e,r,n,t[7],10,1126891415),n=er(n,o,e,r,t[14],15,-1416354905),r=er(r,n,o,e,t[5],21,-57434055),e=er(e,r,n,o,t[12],6,1700485571),o=er(o,e,r,n,t[3],10,-1894986606),n=er(n,o,e,r,t[10],15,-1051523),r=er(r,n,o,e,t[1],21,-2054922799),e=er(e,r,n,o,t[8],6,1873313359),o=er(o,e,r,n,t[15],10,-30611744),n=er(n,o,e,r,t[6],15,-1560198380),r=er(r,n,o,e,t[13],21,1309151649),e=er(e,r,n,o,t[4],6,-145523070),o=er(o,e,r,n,t[11],10,-1120210379),n=er(n,o,e,r,t[2],15,718787259),r=er(r,n,o,e,t[9],21,-343485551),i[0]=Zs(e,i[0]),i[1]=Zs(r,i[1]),i[2]=Zs(n,i[2]),i[3]=Zs(o,i[3])}function ef(i,t,e,r,n,o){return t=Zs(Zs(t,i),Zs(r,o)),Zs(t<<n|t>>>32-n,e)}function Ji(i,t,e,r,n,o,d){return ef(t&e|~t&r,i,t,n,o,d)}function Zi(i,t,e,r,n,o,d){return ef(t&r|e&~r,i,t,n,o,d)}function tr(i,t,e,r,n,o,d){return ef(t^e^r,i,t,n,o,d)}function er(i,t,e,r,n,o,d){return ef(e^(t|~r),i,t,n,o,d)}function o2(i){var t,e=i.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=i.length;t+=64)xd(r,bC(i.substring(t-64,t)));i=i.substring(t-64);var n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i.length;t++)n[t>>2]|=i.charCodeAt(t)<<(t%4<<3);if(n[t>>2]|=128<<(t%4<<3),t>55)for(xd(r,n),t=0;t<16;t++)n[t]=0;return n[14]=8*e,xd(r,n),r}function bC(i){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=i.charCodeAt(t)+(i.charCodeAt(t+1)<<8)+(i.charCodeAt(t+2)<<16)+(i.charCodeAt(t+3)<<24);return e}var KA="0123456789abcdef".split("");function wC(i){for(var t="",e=0;e<4;e++)t+=KA[i>>8*e+4&15]+KA[i>>8*e&15];return t}function _C(i){return String.fromCharCode(255&i,(65280&i)>>8,(16711680&i)>>16,(4278190080&i)>>24)}function gp(i){return o2(i).map(_C).join("")}var xC=function(i){for(var t=0;t<i.length;t++)i[t]=wC(i[t]);return i.join("")}(o2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Zs(i,t){if(xC){var e=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(e>>16)<<16|65535&e}return i+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ap(i,t){var e,r,n,o;if(i!==e){for(var d=(n=i,o=1+(256/i.length|0),new Array(o+1).join(n)),l=[],s=0;s<256;s++)l[s]=s;var a=0;for(s=0;s<256;s++){var c=l[s];a=(a+c+d.charCodeAt(s))%256,l[s]=l[a],l[a]=c}e=i,r=l}else l=r;var u=t.length,f=0,h=0,p="";for(s=0;s<u;s++)h=(h+(c=l[f=(f+1)%256]))%256,l[f]=l[h],l[h]=c,d=l[(l[f]+l[h])%256],p+=String.fromCharCode(t.charCodeAt(s)^d);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $A={print:4,modify:8,copy:16,"annot-forms":32};function Io(i,t,e,r){this.v=1,this.r=2;var n=192;i.forEach(function(l){if($A.perm!==void 0)throw new Error("Invalid permission: "+l);n+=$A[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),d=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,d),this.P=-(1+(255^n)),this.encryptionKey=gp(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ap(this.encryptionKey,this.padding)}function Ro(i){if(/[^\u0000-\u00ff]/.test(i))throw new Error("Invalid PDF Name Object: "+i+", Only accept ASCII characters.");for(var t="",e=i.length,r=0;r<e;r++){var n=i.charCodeAt(r);t+=n<33||n===35||n===37||n===40||n===41||n===47||n===60||n===62||n===91||n===93||n===123||n===125||n>126?"#"+("0"+n.toString(16)).slice(-2):i[r]}return t}function JA(i){if(Ye(i)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,typeof e!="string"||typeof r!="function"||typeof n!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var o=Math.random().toString(35);return t[e][o]=[r,!!n],o},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[e]){var d=t[e][o];try{d[0].apply(i,r)}catch(l){fe.console&&Ve.error("jsPDF PubSub Error",l.message,l)}d[1]&&n.push(o)}n.length&&n.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Fu(i){if(!(this instanceof Fu))return new Fu(i);var t="opacity,stroke-opacity".split(",");for(var e in i)i.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=i[e]);this.id="",this.objectNumber=-1}function l2(i,t){this.gState=i,this.matrix=t,this.id="",this.objectNumber=-1}function Xa(i,t,e,r,n){if(!(this instanceof Xa))return new Xa(i,t,e,r,n);this.type=i==="axial"?2:3,this.coords=t,this.colors=e,l2.call(this,r,n)}function Wo(i,t,e,r,n){if(!(this instanceof Wo))return new Wo(i,t,e,r,n);this.boundingBox=i,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,l2.call(this,r,n)}function re(i){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],n=arguments[2],o=arguments[3],d=[],l=1,s=16,a="S",c=null;Ye(i=i||{})==="object"&&(e=i.orientation,r=i.unit||r,n=i.format||n,o=i.compress||i.compressPdf||o,(c=i.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),l=typeof i.userUnit=="number"?Math.abs(i.userUnit):1,i.precision!==void 0&&(t=i.precision),i.floatPrecision!==void 0&&(s=i.floatPrecision),a=i.defaultPathOperation||"S"),d=i.filters||(o===!0?["FlateEncode"]:d),r=r||"mm",e=(""+(e||"P")).toLowerCase();var u=i.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=JA;var p="1.3",A=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(k){p=k};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var m=h.__private__.getPageFormat=function(k){return g[k]};n=n||"a4";var v="compat",y="advanced",w=v;function x(){this.saveGraphicsState(),U(new le(Jt,0,0,-Jt,0,_a()*Jt).toString()+" cm"),this.setFontSize(this.getFontSize()/Jt),a="n",w=y}function L(){this.restoreGraphicsState(),a="S",w=v}var F=h.__private__.combineFontStyleAndFontWeight=function(k,Y){if(k=="bold"&&Y=="normal"||k=="bold"&&Y==400||k=="normal"&&Y=="italic"||k=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(k=Y==400||Y==="normal"?k==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||k!=="normal"?(Y==700?"bold":Y)+""+k:"bold"),k};h.advancedAPI=function(k){var Y=w===v;return Y&&x.call(this),typeof k!="function"||(k(this),Y&&L.call(this)),this},h.compatAPI=function(k){var Y=w===y;return Y&&L.call(this),typeof k!="function"||(k(this),Y&&x.call(this)),this},h.isAdvancedAPI=function(){return w===y};var M,D=function(k){if(w!==y)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},X=h.roundToPrecision=h.__private__.roundToPrecision=function(k,Y){var ft=t||Y;if(isNaN(k)||isNaN(ft))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(ft).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof s=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,s)}:s==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return X(k,16)};var I=h.f2=h.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return X(k,2)},O=h.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return X(k,3)},W=h.scale=h.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return w===v?k*Jt:w===y?k:void 0},C=function(k){return W(function(Y){return w===v?_a()-Y:w===y?Y:void 0}(k))};h.__private__.setPrecision=h.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(t=parseInt(k,10))};var Q,lt="00000000000000000000000000000000",it=h.__private__.getFileId=function(){return lt},et=h.__private__.setFileId=function(k){return lt=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():lt.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Ai=new Io(c.userPermissions,c.userPassword,c.ownerPassword,lt)),lt};h.setFileId=function(k){return et(k),this},h.getFileId=function(){return it()};var B=h.__private__.convertDateToPDFDate=function(k){var Y=k.getTimezoneOffset(),ft=Y<0?"+":"-",mt=Math.floor(Math.abs(Y/60)),Ct=Math.abs(Y%60),Ft=[ft,N(mt),"'",N(Ct),"'"].join("");return["D:",k.getFullYear(),N(k.getMonth()+1),N(k.getDate()),N(k.getHours()),N(k.getMinutes()),N(k.getSeconds()),Ft].join("")},K=h.__private__.convertPDFDateToDate=function(k){var Y=parseInt(k.substr(2,4),10),ft=parseInt(k.substr(6,2),10)-1,mt=parseInt(k.substr(8,2),10),Ct=parseInt(k.substr(10,2),10),Ft=parseInt(k.substr(12,2),10),Rt=parseInt(k.substr(14,2),10);return new Date(Y,ft,mt,Ct,Ft,Rt,0)},z=h.__private__.setCreationDate=function(k){var Y;if(k===void 0&&(k=new Date),k instanceof Date)Y=B(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=k}return Q=Y},S=h.__private__.getCreationDate=function(k){var Y=Q;return k==="jsDate"&&(Y=K(Q)),Y};h.setCreationDate=function(k){return z(k),this},h.getCreationDate=function(k){return S(k)};var j,N=h.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},E=h.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},H=0,Z=[],ot=[],nt=0,dt=[],gt=[],Tt=!1,pt=ot;h.__private__.setCustomOutputDestination=function(k){Tt=!0,pt=k};var T=function(k){Tt||(pt=k)};h.__private__.resetCustomOutputDestination=function(){Tt=!1,pt=ot};var U=h.__private__.out=function(k){return k=k.toString(),nt+=k.length+1,pt.push(k),pt},ct=h.__private__.write=function(k){return U(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},V=h.__private__.getArrayBuffer=function(k){for(var Y=k.length,ft=new ArrayBuffer(Y),mt=new Uint8Array(ft);Y--;)mt[Y]=k.charCodeAt(Y);return ft},G=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return G};var tt=i.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(k){return tt=w===y?k/Jt:k,this};var yt,At=h.__private__.getFontSize=h.getFontSize=function(){return w===v?tt:tt*Jt},st=i.R2L||!1;h.__private__.setR2L=h.setR2L=function(k){return st=k,this},h.__private__.getR2L=h.getR2L=function(){return st};var _t,Dt=h.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))yt=k;else if(isNaN(k)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');yt=k}else yt=parseInt(k,10)};h.__private__.getZoomMode=function(){return yt};var kt,Nt=h.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');_t=k};h.__private__.getPageMode=function(){return _t};var Xt=h.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');kt=k};h.__private__.getLayoutMode=function(){return kt},h.__private__.setDisplayMode=h.setDisplayMode=function(k,Y,ft){return Dt(k),Xt(Y),Nt(ft),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(k){if(Object.keys(Ut).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[k]},h.__private__.getDocumentProperties=function(){return Ut},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(k){for(var Y in Ut)Ut.hasOwnProperty(Y)&&k[Y]&&(Ut[Y]=k[Y]);return this},h.__private__.setDocumentProperty=function(k,Y){if(Object.keys(Ut).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[k]=Y};var Wt,Jt,Ht,ve,ne,Yt={},ce={},Se=[],se={},ke={},pe={},ni={},li=null,Me=0,oe=[],je=new JA(h),ha=i.hotfixes||[],Qi={},Kn={},kn=[],le=function k(Y,ft,mt,Ct,Ft,Rt){if(!(this instanceof k))return new k(Y,ft,mt,Ct,Ft,Rt);isNaN(Y)&&(Y=1),isNaN(ft)&&(ft=0),isNaN(mt)&&(mt=0),isNaN(Ct)&&(Ct=1),isNaN(Ft)&&(Ft=0),isNaN(Rt)&&(Rt=0),this._matrix=[Y,ft,mt,Ct,Ft,Rt]};Object.defineProperty(le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(le.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(le.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(le.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(le.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(le.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(le.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),le.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(k)},le.prototype.multiply=function(k){var Y=k.sx*this.sx+k.shy*this.shx,ft=k.sx*this.shy+k.shy*this.sy,mt=k.shx*this.sx+k.sy*this.shx,Ct=k.shx*this.shy+k.sy*this.sy,Ft=k.tx*this.sx+k.ty*this.shx+this.tx,Rt=k.tx*this.shy+k.ty*this.sy+this.ty;return new le(Y,ft,mt,Ct,Ft,Rt)},le.prototype.decompose=function(){var k=this.sx,Y=this.shy,ft=this.shx,mt=this.sy,Ct=this.tx,Ft=this.ty,Rt=Math.sqrt(k*k+Y*Y),$t=(k/=Rt)*ft+(Y/=Rt)*mt;ft-=k*$t,mt-=Y*$t;var ee=Math.sqrt(ft*ft+mt*mt);return $t/=ee,k*(mt/=ee)<Y*(ft/=ee)&&(k=-k,Y=-Y,$t=-$t,Rt=-Rt),{scale:new le(Rt,0,0,ee,0,0),translate:new le(1,0,0,1,Ct,Ft),rotate:new le(k,Y,-Y,k,0,0),skew:new le(1,0,$t,1,0,0)}},le.prototype.toString=function(k){return this.join(" ")},le.prototype.inversed=function(){var k=this.sx,Y=this.shy,ft=this.shx,mt=this.sy,Ct=this.tx,Ft=this.ty,Rt=1/(k*mt-Y*ft),$t=mt*Rt,ee=-Y*Rt,de=-ft*Rt,Ae=k*Rt;return new le($t,ee,de,Ae,-$t*Ct-de*Ft,-ee*Ct-Ae*Ft)},le.prototype.applyToPoint=function(k){var Y=k.x*this.sx+k.y*this.shx+this.tx,ft=k.x*this.shy+k.y*this.sy+this.ty;return new ba(Y,ft)},le.prototype.applyToRectangle=function(k){var Y=this.applyToPoint(k),ft=this.applyToPoint(new ba(k.x+k.w,k.y+k.h));return new Tl(Y.x,Y.y,ft.x-Y.x,ft.y-Y.y)},le.prototype.clone=function(){var k=this.sx,Y=this.shy,ft=this.shx,mt=this.sy,Ct=this.tx,Ft=this.ty;return new le(k,Y,ft,mt,Ct,Ft)},h.Matrix=le;var $n=h.matrixMult=function(k,Y){return Y.multiply(k)},Jn=new le(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Jn;var qr=function(k,Y){if(!ke[k]){var ft=(Y instanceof Xa?"Sh":"P")+(Object.keys(se).length+1).toString(10);Y.id=ft,ke[k]=ft,se[ft]=Y,je.publish("addPattern",Y)}};h.ShadingPattern=Xa,h.TilingPattern=Wo,h.addShadingPattern=function(k,Y){return D("addShadingPattern()"),qr(k,Y),this},h.beginTilingPattern=function(k){D("beginTilingPattern()"),kl(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},h.endTilingPattern=function(k,Y){D("endTilingPattern()"),Y.stream=gt[j].join(`
`),qr(k,Y),je.publish("endTilingPattern",Y),kn.pop().restore()};var Qr,ci=h.__private__.newObject=function(){var k=Ri();return Wi(k,!0),k},Ri=h.__private__.newObjectDeferred=function(){return H++,Z[H]=function(){return nt},H},Wi=function(k,Y){return Y=typeof Y=="boolean"&&Y,Z[k]=nt,Y&&U(k+" 0 obj"),k},ua=h.__private__.newAdditionalObject=function(){var k={objId:Ri(),content:""};return dt.push(k),k},ks=Ri(),cn=Ri(),Ln=h.__private__.decodeColorString=function(k){var Y=k.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ft=parseFloat(Y[0]);Y=[ft,ft,ft,"r"]}for(var mt="#",Ct=0;Ct<3;Ct++)mt+=("0"+Math.floor(255*parseFloat(Y[Ct])).toString(16)).slice(-2);return mt},hn=h.__private__.encodeColorString=function(k){var Y;typeof k=="string"&&(k={ch1:k});var ft=k.ch1,mt=k.ch2,Ct=k.ch3,Ft=k.ch4,Rt=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ft=="string"&&ft.charAt(0)!=="#"){var $t=new a2(ft);if($t.ok)ft=$t.toHex();else if(!/^\d*\.?\d*$/.test(ft))throw new Error('Invalid color "'+ft+'" passed to jsPDF.encodeColorString.')}if(typeof ft=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ft)&&(ft="#"+ft[1]+ft[1]+ft[2]+ft[2]+ft[3]+ft[3]),typeof ft=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ft)){var ee=parseInt(ft.substr(1),16);ft=ee>>16&255,mt=ee>>8&255,Ct=255&ee}if(mt===void 0||Ft===void 0&&ft===mt&&mt===Ct)Y=typeof ft=="string"?ft+" "+Rt[0]:k.precision===2?I(ft/255)+" "+Rt[0]:O(ft/255)+" "+Rt[0];else if(Ft===void 0||Ye(Ft)==="object"){if(Ft&&!isNaN(Ft.a)&&Ft.a===0)return["1.","1.","1.",Rt[1]].join(" ");Y=typeof ft=="string"?[ft,mt,Ct,Rt[1]].join(" "):k.precision===2?[I(ft/255),I(mt/255),I(Ct/255),Rt[1]].join(" "):[O(ft/255),O(mt/255),O(Ct/255),Rt[1]].join(" ")}else Y=typeof ft=="string"?[ft,mt,Ct,Ft,Rt[2]].join(" "):k.precision===2?[I(ft),I(mt),I(Ct),I(Ft),Rt[2]].join(" "):[O(ft),O(mt),O(Ct),O(Ft),Rt[2]].join(" ");return Y},un=h.__private__.getFilters=function(){return d},Kr=h.__private__.putStream=function(k){var Y=(k=k||{}).data||"",ft=k.filters||un(),mt=k.alreadyAppliedFilters||[],Ct=k.addLength1||!1,Ft=Y.length,Rt=k.objectId,$t=function(Ei){return Ei};if(c!==null&&Rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&($t=Ai.encryptor(Rt,0));var ee={};ft===!0&&(ft=["FlateEncode"]);var de=k.additionalKeyValues||[],Ae=(ee=re.API.processDataByFilters!==void 0?re.API.processDataByFilters(Y,ft):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(mt)?mt.join(" "):mt.toString());if(ee.data.length!==0&&(de.push({key:"Length",value:ee.data.length}),Ct===!0&&de.push({key:"Length1",value:Ft})),Ae.length!=0)if(Ae.split("/").length-1==1)de.push({key:"Filter",value:Ae});else{de.push({key:"Filter",value:"["+Ae+"]"});for(var Be=0;Be<de.length;Be+=1)if(de[Be].key==="DecodeParms"){for(var si=[],ki=0;ki<ee.reverseChain.split("/").length-1;ki+=1)si.push("null");si.push(de[Be].value),de[Be].value="["+si.join(" ")+"]"}}U("<<");for(var Qe=0;Qe<de.length;Qe++)U("/"+de[Qe].key+" "+de[Qe].value);U(">>"),ee.data.length!==0&&(U("stream"),U($t(ee.data)),U("endstream"))},fa=h.__private__.putPage=function(k){var Y=k.number,ft=k.data,mt=k.objId,Ct=k.contentsObjId;Wi(mt,!0),U("<</Type /Page"),U("/Parent "+k.rootDictionaryObjId+" 0 R"),U("/Resources "+k.resourceDictionaryObjId+" 0 R"),U("/MediaBox ["+parseFloat(M(k.mediaBox.bottomLeftX))+" "+parseFloat(M(k.mediaBox.bottomLeftY))+" "+M(k.mediaBox.topRightX)+" "+M(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&U("/CropBox ["+M(k.cropBox.bottomLeftX)+" "+M(k.cropBox.bottomLeftY)+" "+M(k.cropBox.topRightX)+" "+M(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&U("/BleedBox ["+M(k.bleedBox.bottomLeftX)+" "+M(k.bleedBox.bottomLeftY)+" "+M(k.bleedBox.topRightX)+" "+M(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&U("/TrimBox ["+M(k.trimBox.bottomLeftX)+" "+M(k.trimBox.bottomLeftY)+" "+M(k.trimBox.topRightX)+" "+M(k.trimBox.topRightY)+"]"),k.artBox!==null&&U("/ArtBox ["+M(k.artBox.bottomLeftX)+" "+M(k.artBox.bottomLeftY)+" "+M(k.artBox.topRightX)+" "+M(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&U("/UserUnit "+k.userUnit),je.publish("putPage",{objId:mt,pageContext:oe[Y],pageNumber:Y,page:ft}),U("/Contents "+Ct+" 0 R"),U(">>"),U("endobj");var Ft=ft.join(`
`);return w===y&&(Ft+=`
Q`),Wi(Ct,!0),Kr({data:Ft,filters:un(),objectId:Ct}),U("endobj"),mt},Pn=h.__private__.putPages=function(){var k,Y,ft=[];for(k=1;k<=Me;k++)oe[k].objId=Ri(),oe[k].contentsObjId=Ri();for(k=1;k<=Me;k++)ft.push(fa({number:k,data:gt[k],objId:oe[k].objId,contentsObjId:oe[k].contentsObjId,mediaBox:oe[k].mediaBox,cropBox:oe[k].cropBox,bleedBox:oe[k].bleedBox,trimBox:oe[k].trimBox,artBox:oe[k].artBox,userUnit:oe[k].userUnit,rootDictionaryObjId:ks,resourceDictionaryObjId:cn}));Wi(ks,!0),U("<</Type /Pages");var mt="/Kids [";for(Y=0;Y<Me;Y++)mt+=ft[Y]+" 0 R ";U(mt+"]"),U("/Count "+Me),U(">>"),U("endobj"),je.publish("postPutPages")},da=function(k){je.publish("putFont",{font:k,out:U,newObject:ci,putStream:Kr}),k.isAlreadyPutted!==!0&&(k.objectNumber=ci(),U("<<"),U("/Type /Font"),U("/BaseFont /"+Ro(k.postScriptName)),U("/Subtype /Type1"),typeof k.encoding=="string"&&U("/Encoding /"+k.encoding),U("/FirstChar 32"),U("/LastChar 255"),U(">>"),U("endobj"))},fo=function(k){k.objectNumber=ci();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[M(k.x),M(k.y),M(k.x+k.width),M(k.y+k.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var ft=k.pages[1].join(`
`);Kr({data:ft,additionalKeyValues:Y,objectId:k.objectNumber}),U("endobj")},po=function(k,Y){Y||(Y=21);var ft=ci(),mt=function(Rt,$t){var ee,de=[],Ae=1/($t-1);for(ee=0;ee<1;ee+=Ae)de.push(ee);if(de.push(1),Rt[0].offset!=0){var Be={offset:0,color:Rt[0].color};Rt.unshift(Be)}if(Rt[Rt.length-1].offset!=1){var si={offset:1,color:Rt[Rt.length-1].color};Rt.push(si)}for(var ki="",Qe=0,Ei=0;Ei<de.length;Ei++){for(ee=de[Ei];ee>Rt[Qe+1].offset;)Qe++;var Li=Rt[Qe].offset,Xi=(ee-Li)/(Rt[Qe+1].offset-Li),Jr=Rt[Qe].color,mr=Rt[Qe+1].color;ki+=E(Math.round((1-Xi)*Jr[0]+Xi*mr[0]).toString(16))+E(Math.round((1-Xi)*Jr[1]+Xi*mr[1]).toString(16))+E(Math.round((1-Xi)*Jr[2]+Xi*mr[2]).toString(16))}return ki.trim()}(k.colors,Y),Ct=[];Ct.push({key:"FunctionType",value:"0"}),Ct.push({key:"Domain",value:"[0.0 1.0]"}),Ct.push({key:"Size",value:"["+Y+"]"}),Ct.push({key:"BitsPerSample",value:"8"}),Ct.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ct.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Kr({data:mt,additionalKeyValues:Ct,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ft}),U("endobj"),k.objectNumber=ci(),U("<< /ShadingType "+k.type),U("/ColorSpace /DeviceRGB");var Ft="/Coords ["+M(parseFloat(k.coords[0]))+" "+M(parseFloat(k.coords[1]))+" ";k.type===2?Ft+=M(parseFloat(k.coords[2]))+" "+M(parseFloat(k.coords[3])):Ft+=M(parseFloat(k.coords[2]))+" "+M(parseFloat(k.coords[3]))+" "+M(parseFloat(k.coords[4]))+" "+M(parseFloat(k.coords[5])),U(Ft+="]"),k.matrix&&U("/Matrix ["+k.matrix.toString()+"]"),U("/Function "+ft+" 0 R"),U("/Extend [true true]"),U(">>"),U("endobj")},go=function(k,Y){var ft=Ri(),mt=ci();Y.push({resourcesOid:ft,objectOid:mt}),k.objectNumber=mt;var Ct=[];Ct.push({key:"Type",value:"/Pattern"}),Ct.push({key:"PatternType",value:"1"}),Ct.push({key:"PaintType",value:"1"}),Ct.push({key:"TilingType",value:"1"}),Ct.push({key:"BBox",value:"["+k.boundingBox.map(M).join(" ")+"]"}),Ct.push({key:"XStep",value:M(k.xStep)}),Ct.push({key:"YStep",value:M(k.yStep)}),Ct.push({key:"Resources",value:ft+" 0 R"}),k.matrix&&Ct.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Kr({data:k.stream,additionalKeyValues:Ct,objectId:k.objectNumber}),U("endobj")},sf=function(k){for(var Y in k.objectNumber=ci(),U("<<"),k)switch(Y){case"opacity":U("/ca "+I(k[Y]));break;case"stroke-opacity":U("/CA "+I(k[Y]))}U(">>"),U("endobj")},Al=function(k){Wi(k.resourcesOid,!0),U("<<"),U("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Y in U("/Font <<"),Yt)Yt.hasOwnProperty(Y)&&(u===!1||u===!0&&f.hasOwnProperty(Y))&&U("/"+Y+" "+Yt[Y].objectNumber+" 0 R");U(">>")}(),function(){if(Object.keys(se).length>0){for(var Y in U("/Shading <<"),se)se.hasOwnProperty(Y)&&se[Y]instanceof Xa&&se[Y].objectNumber>=0&&U("/"+Y+" "+se[Y].objectNumber+" 0 R");je.publish("putShadingPatternDict"),U(">>")}}(),function(Y){if(Object.keys(se).length>0){for(var ft in U("/Pattern <<"),se)se.hasOwnProperty(ft)&&se[ft]instanceof h.TilingPattern&&se[ft].objectNumber>=0&&se[ft].objectNumber<Y&&U("/"+ft+" "+se[ft].objectNumber+" 0 R");je.publish("putTilingPatternDict"),U(">>")}}(k.objectOid),function(){if(Object.keys(pe).length>0){var Y;for(Y in U("/ExtGState <<"),pe)pe.hasOwnProperty(Y)&&pe[Y].objectNumber>=0&&U("/"+Y+" "+pe[Y].objectNumber+" 0 R");je.publish("putGStateDict"),U(">>")}}(),function(){for(var Y in U("/XObject <<"),Qi)Qi.hasOwnProperty(Y)&&Qi[Y].objectNumber>=0&&U("/"+Y+" "+Qi[Y].objectNumber+" 0 R");je.publish("putXobjectDict"),U(">>")}(),U(">>"),U("endobj")},Rc=function(k){ce[k.fontName]=ce[k.fontName]||{},ce[k.fontName][k.fontStyle]=k.id},jc=function(k,Y,ft,mt,Ct){var Ft={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:k,fontName:Y,fontStyle:ft,encoding:mt,isStandardFont:Ct||!1,metadata:{}};return je.publish("addFont",{font:Ft,instance:this}),Yt[Ft.id]=Ft,Rc(Ft),Ft.id},$r=h.__private__.pdfEscape=h.pdfEscape=function(k,Y){return function(ft,mt){var Ct,Ft,Rt,$t,ee,de,Ae,Be,si;if(Rt=(mt=mt||{}).sourceEncoding||"Unicode",ee=mt.outputEncoding,(mt.autoencode||ee)&&Yt[Wt].metadata&&Yt[Wt].metadata[Rt]&&Yt[Wt].metadata[Rt].encoding&&($t=Yt[Wt].metadata[Rt].encoding,!ee&&Yt[Wt].encoding&&(ee=Yt[Wt].encoding),!ee&&$t.codePages&&(ee=$t.codePages[0]),typeof ee=="string"&&(ee=$t[ee]),ee)){for(Ae=!1,de=[],Ct=0,Ft=ft.length;Ct<Ft;Ct++)(Be=ee[ft.charCodeAt(Ct)])?de.push(String.fromCharCode(Be)):de.push(ft[Ct]),de[Ct].charCodeAt(0)>>8&&(Ae=!0);ft=de.join("")}for(Ct=ft.length;Ae===void 0&&Ct!==0;)ft.charCodeAt(Ct-1)>>8&&(Ae=!0),Ct--;if(!Ae)return ft;for(de=mt.noBOM?[]:[254,255],Ct=0,Ft=ft.length;Ct<Ft;Ct++){if((si=(Be=ft.charCodeAt(Ct))>>8)>>8)throw new Error("Character at position "+Ct+" of string '"+ft+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");de.push(si),de.push(Be-(si<<8))}return String.fromCharCode.apply(void 0,de)}(k,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ml=h.__private__.beginPage=function(k){gt[++Me]=[],oe[Me]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Uc(Me),T(gt[j])},zc=function(k,Y){var ft,mt,Ct;switch(e=Y||e,typeof k=="string"&&(ft=m(k.toLowerCase()),Array.isArray(ft)&&(mt=ft[0],Ct=ft[1])),Array.isArray(k)&&(mt=k[0]*Jt,Ct=k[1]*Jt),isNaN(mt)&&(mt=n[0],Ct=n[1]),(mt>14400||Ct>14400)&&(Ve.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mt=Math.min(14400,mt),Ct=Math.min(14400,Ct)),n=[mt,Ct],e.substr(0,1)){case"l":Ct>mt&&(n=[Ct,mt]);break;case"p":mt>Ct&&(n=[Ct,mt])}ml(n),pf(_l),U(mo),Cl!==0&&U(Cl+" J"),Sl!==0&&U(Sl+" j"),je.publish("addPage",{pageNumber:Me})},vl=function(k){k>0&&k<=Me&&(gt.splice(k,1),oe.splice(k,1),Me--,j>Me&&(j=Me),this.setPage(j))},Uc=function(k){k>0&&k<=Me&&(j=k)},Wc=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return gt.length-1},Xc=function(k,Y,ft){var mt,Ct=void 0;return ft=ft||{},k=k!==void 0?k:Yt[Wt].fontName,Y=Y!==void 0?Y:Yt[Wt].fontStyle,mt=k.toLowerCase(),ce[mt]!==void 0&&ce[mt][Y]!==void 0?Ct=ce[mt][Y]:ce[k]!==void 0&&ce[k][Y]!==void 0?Ct=ce[k][Y]:ft.disableWarning===!1&&Ve.warn("Unable to look up font label for font '"+k+"', '"+Y+"'. Refer to getFontList() for available fonts."),Ct||ft.noFallback||(Ct=ce.times[Y])==null&&(Ct=ce.times.normal),Ct},Ao=h.__private__.putInfo=function(){var k=ci(),Y=function(mt){return mt};for(var ft in c!==null&&(Y=Ai.encryptor(k,0)),U("<<"),U("/Producer ("+$r(Y("jsPDF "+re.version))+")"),Ut)Ut.hasOwnProperty(ft)&&Ut[ft]&&U("/"+ft.substr(0,1).toUpperCase()+ft.substr(1)+" ("+$r(Y(Ut[ft]))+")");U("/CreationDate ("+$r(Y(Q))+")"),U(">>"),U("endobj")},af=h.__private__.putCatalog=function(k){var Y=(k=k||{}).rootDictionaryObjId||ks;switch(ci(),U("<<"),U("/Type /Catalog"),U("/Pages "+Y+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":U("/OpenAction [3 0 R /FitH null]");break;case"fullheight":U("/OpenAction [3 0 R /FitV null]");break;case"fullpage":U("/OpenAction [3 0 R /Fit]");break;case"original":U("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ft=""+yt;ft.substr(ft.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&U("/OpenAction [3 0 R /XYZ null null "+I(yt)+"]")}switch(kt||(kt="continuous"),kt){case"continuous":U("/PageLayout /OneColumn");break;case"single":U("/PageLayout /SinglePage");break;case"two":case"twoleft":U("/PageLayout /TwoColumnLeft");break;case"tworight":U("/PageLayout /TwoColumnRight")}_t&&U("/PageMode /"+_t),je.publish("putCatalog"),U(">>"),U("endobj")},Ti=h.__private__.putTrailer=function(){U("trailer"),U("<<"),U("/Size "+(H+1)),U("/Root "+H+" 0 R"),U("/Info "+(H-1)+" 0 R"),c!==null&&U("/Encrypt "+Ai.oid+" 0 R"),U("/ID [ <"+lt+"> <"+lt+"> ]"),U(">>")},Gc=h.__private__.putHeader=function(){U("%PDF-"+p),U("%")},Hc=h.__private__.putXRef=function(){var k="0000000000";U("xref"),U("0 "+(H+1)),U("0000000000 65535 f ");for(var Y=1;Y<=H;Y++)typeof Z[Y]=="function"?U((k+Z[Y]()).slice(-10)+" 00000 n "):Z[Y]!==void 0?U((k+Z[Y]).slice(-10)+" 00000 n "):U("0000000000 00000 n ")},Zn=h.__private__.buildDocument=function(){var k;H=0,nt=0,ot=[],Z=[],dt=[],ks=Ri(),cn=Ri(),T(ot),je.publish("buildDocument"),Gc(),Pn(),function(){je.publish("putAdditionalObjects");for(var ft=0;ft<dt.length;ft++){var mt=dt[ft];Wi(mt.objId,!0),U(mt.content),U("endobj")}je.publish("postPutAdditionalObjects")}(),k=[],function(){for(var ft in Yt)Yt.hasOwnProperty(ft)&&(u===!1||u===!0&&f.hasOwnProperty(ft))&&da(Yt[ft])}(),function(){var ft;for(ft in pe)pe.hasOwnProperty(ft)&&sf(pe[ft])}(),function(){for(var ft in Qi)Qi.hasOwnProperty(ft)&&fo(Qi[ft])}(),function(ft){var mt;for(mt in se)se.hasOwnProperty(mt)&&(se[mt]instanceof Xa?po(se[mt]):se[mt]instanceof Wo&&go(se[mt],ft))}(k),je.publish("putResources"),k.forEach(Al),Al({resourcesOid:cn,objectOid:Number.MAX_SAFE_INTEGER}),je.publish("postPutResources"),c!==null&&(Ai.oid=ci(),U("<<"),U("/Filter /Standard"),U("/V "+Ai.v),U("/R "+Ai.r),U("/U <"+Ai.toHexString(Ai.U)+">"),U("/O <"+Ai.toHexString(Ai.O)+">"),U("/P "+Ai.P),U(">>"),U("endobj")),Ao(),af();var Y=nt;return Hc(),Ti(),U("startxref"),U(""+Y),U("%%EOF"),T(gt[j]),ot.join(`
`)},pa=h.__private__.getBlob=function(k){return new Blob([V(k)],{type:"application/pdf"})},fn=h.output=h.__private__.output=(Qr=function(k,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",k){case void 0:return Zn();case"save":h.save(Y.filename);break;case"arraybuffer":return V(Zn());case"blob":return pa(Zn());case"bloburi":case"bloburl":if(fe.URL!==void 0&&typeof fe.URL.createObjectURL=="function")return fe.URL&&fe.URL.createObjectURL(pa(Zn()))||void 0;Ve.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ft="",mt=Zn();try{ft=QA(mt)}catch{ft=QA(unescape(encodeURIComponent(mt)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ft;case"pdfobjectnewwindow":if(Object.prototype.toString.call(fe)==="[object Window]"){var Ct="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ft=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Ct=Y.pdfObjectUrl,Ft="");var Rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ct+'"'+Ft+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",$t=fe.open();return $t!==null&&$t.document.write(Rt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(fe)==="[object Window]"){var ee='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',de=fe.open();if(de!==null){de.document.write(ee);var Ae=this;de.document.documentElement.querySelector("#pdfViewer").onload=function(){de.document.title=Y.filename,de.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ae.output("bloburl"))}}return de}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(fe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',si=fe.open();if(si!==null&&(si.document.write(Be),si.document.title=Y.filename),si||typeof safari>"u")return si;break;case"datauri":case"dataurl":return fe.document.location.href=this.output("datauristring",Y);default:return null}},Qr.foo=function(){try{return Qr.apply(this,arguments)}catch(ft){var k=ft.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var Y="Error in function "+k.split(`
`)[0].split("<")[0]+": "+ft.message;if(!fe.console)throw new Error(Y);fe.console.error(Y,ft),fe.alert&&alert(Y)}},Qr.foo.bar=Qr,Qr.foo),ga=function(k){return Array.isArray(ha)===!0&&ha.indexOf(k)>-1};switch(r){case"pt":Jt=1;break;case"mm":Jt=72/25.4;break;case"cm":Jt=72/2.54;break;case"in":Jt=72;break;case"px":Jt=ga("px_scaling")==1?.75:96/72;break;case"pc":case"em":Jt=12;break;case"ex":Jt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Jt=r}var Ai=null;z(),et();var yl=h.__private__.getPageInfo=h.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:oe[k].objId,pageNumber:k,pageContext:oe[k]}},of=h.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in oe)if(oe[Y].objId===k)break;return yl(Y)},lf=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:oe[j].objId,pageNumber:j,pageContext:oe[j]}};h.addPage=function(){return zc.apply(this,arguments),this},h.setPage=function(){return Uc.apply(this,arguments),T.call(this,gt[j]),this},h.insertPage=function(k){return this.addPage(),this.movePage(j,k),this},h.movePage=function(k,Y){var ft,mt;if(k>Y){ft=gt[k],mt=oe[k];for(var Ct=k;Ct>Y;Ct--)gt[Ct]=gt[Ct-1],oe[Ct]=oe[Ct-1];gt[Y]=ft,oe[Y]=mt,this.setPage(Y)}else if(k<Y){ft=gt[k],mt=oe[k];for(var Ft=k;Ft<Y;Ft++)gt[Ft]=gt[Ft+1],oe[Ft]=oe[Ft+1];gt[Y]=ft,oe[Y]=mt,this.setPage(Y)}return this},h.deletePage=function(){return vl.apply(this,arguments),this},h.__private__.text=h.text=function(k,Y,ft,mt,Ct){var Ft,Rt,$t,ee,de,Ae,Be,si,ki,Qe=(mt=mt||{}).scope||this;if(typeof k=="number"&&typeof Y=="number"&&(typeof ft=="string"||Array.isArray(ft))){var Ei=ft;ft=Y,Y=k,k=Ei}if(arguments[3]instanceof le==0?($t=arguments[4],ee=arguments[5],Ye(Be=arguments[3])==="object"&&Be!==null||(typeof $t=="string"&&(ee=$t,$t=null),typeof Be=="string"&&(ee=Be,Be=null),typeof Be=="number"&&($t=Be,Be=null),mt={flags:Be,angle:$t,align:ee})):(D("The transform parameter of text() with a Matrix value"),ki=Ct),isNaN(Y)||isNaN(ft)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return Qe;var Li,Xi="",Jr=typeof mt.lineHeightFactor=="number"?mt.lineHeightFactor:ma,mr=Qe.internal.scaleFactor;function Zc(ze){return ze=ze.split("	").join(Array(mt.TabLen||9).join(" ")),$r(ze,Be)}function wo(ze){for(var Ge,vi=ze.concat(),Mi=[],as=vi.length;as--;)typeof(Ge=vi.shift())=="string"?Mi.push(Ge):Array.isArray(ze)&&(Ge.length===1||Ge[1]===void 0&&Ge[2]===void 0)?Mi.push(Ge[0]):Mi.push([Ge[0],Ge[1],Ge[2]]);return Mi}function xa(ze,Ge){var vi;if(typeof ze=="string")vi=Ge(ze)[0];else if(Array.isArray(ze)){for(var Mi,as,Il=ze.concat(),Co=[],ih=Il.length;ih--;)typeof(Mi=Il.shift())=="string"?Co.push(Ge(Mi)[0]):Array.isArray(Mi)&&typeof Mi[0]=="string"&&(as=Ge(Mi[0],Mi[1],Mi[2]),Co.push([as[0],as[1],as[2]]));vi=Co}return vi}var Os=!1,Ca=!0;if(typeof k=="string")Os=!0;else if(Array.isArray(k)){var Sa=k.concat();Rt=[];for(var Ta,Ki=Sa.length;Ki--;)(typeof(Ta=Sa.shift())!="string"||Array.isArray(Ta)&&typeof Ta[0]!="string")&&(Ca=!1);Os=Ca}if(Os===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var ka=tt/Qe.internal.scaleFactor,La=ka*(Jr-1);switch(mt.baseline){case"bottom":ft-=La;break;case"top":ft+=ka-La;break;case"hanging":ft+=ka-2*La;break;case"middle":ft+=ka/2-La}if((Ae=mt.maxWidth||0)>0&&(typeof k=="string"?k=Qe.splitTextToSize(k,Ae):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(ze,Ge){return ze.concat(Qe.splitTextToSize(Ge,Ae))},[]))),Ft={text:k,x:Y,y:ft,options:mt,mutex:{pdfEscape:$r,activeFontKey:Wt,fonts:Yt,activeFontSize:tt}},je.publish("preProcessText",Ft),k=Ft.text,$t=(mt=Ft.options).angle,ki instanceof le==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,mt.rotationDirection===0&&($t=-$t),w===y&&($t=-$t);var Ll=Math.cos($t),Pl=Math.sin($t);ki=new le(Ll,Pl,-Pl,Ll,0,0)}else $t&&$t instanceof le&&(ki=$t);w!==y||ki||(ki=Jn),(de=mt.charSpace||yo)!==void 0&&(Xi+=M(W(de))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(si=mt.horizontalScale)!==void 0&&(Xi+=M(100*si)+` Tz
`),mt.lang;var hi=-1,ns=mt.renderingMode!==void 0?mt.renderingMode:mt.stroke,_o=Qe.internal.getCurrentPageInfo().pageContext;switch(ns){case 0:case!1:case"fill":hi=0;break;case 1:case!0:case"stroke":hi=1;break;case 2:case"fillThenStroke":hi=2;break;case 3:case"invisible":hi=3;break;case 4:case"fillAndAddForClipping":hi=4;break;case 5:case"strokeAndAddPathForClipping":hi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hi=6;break;case 7:case"addToPathForClipping":hi=7}var th=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;hi!==-1?Xi+=hi+` Tr
`:th!==-1&&(Xi+=`0 Tr
`),hi!==-1&&(_o.usedRenderingMode=hi),ee=mt.align||"left";var Zr,Pa=tt*Jr,Ol=Qe.internal.pageSize.getWidth(),Dl=Yt[Wt];de=mt.charSpace||yo,Ae=mt.maxWidth||0,Be=Object.assign({autoencode:!0,noBOM:!0},mt.flags);var Ds=[],Oa=function(ze){return Qe.getStringUnitWidth(ze,{font:Dl,charSpace:de,fontSize:tt,doKerning:!1})*tt/mr};if(Object.prototype.toString.call(k)==="[object Array]"){var Tr;Rt=wo(k),ee!=="left"&&(Zr=Rt.map(Oa));var kr,Es=0;if(ee==="right"){Y-=Zr[0],k=[],Ki=Rt.length;for(var ss=0;ss<Ki;ss++)ss===0?(kr=ts(Y),Tr=es(ft)):(kr=W(Es-Zr[ss]),Tr=-Pa),k.push([Rt[ss],kr,Tr]),Es=Zr[ss]}else if(ee==="center"){Y-=Zr[0]/2,k=[],Ki=Rt.length;for(var Ms=0;Ms<Ki;Ms++)Ms===0?(kr=ts(Y),Tr=es(ft)):(kr=W((Es-Zr[Ms])/2),Tr=-Pa),k.push([Rt[Ms],kr,Tr]),Es=Zr[Ms]}else if(ee==="left"){k=[],Ki=Rt.length;for(var El=0;El<Ki;El++)k.push(Rt[El])}else if(ee==="justify"&&Dl.encoding==="Identity-H"){k=[],Ki=Rt.length,Ae=Ae!==0?Ae:Ol;for(var xo=0,mi=0;mi<Ki;mi++)if(Tr=mi===0?es(ft):-Pa,kr=mi===0?ts(Y):xo,mi<Ki-1){var eh=W((Ae-Zr[mi])/(Rt[mi].split(" ").length-1)),Dn=Rt[mi].split(" ");k.push([Dn[0]+" ",kr,Tr]),xo=0;for(var En=1;En<Dn.length;En++){var Ml=(Oa(Dn[En-1]+" "+Dn[En])-Oa(Dn[En]))*mr+eh;En==Dn.length-1?k.push([Dn[En],Ml,0]):k.push([Dn[En]+" ",Ml,0]),xo-=Ml}}else k.push([Rt[mi],kr,Tr]);k.push(["",xo,0])}else{if(ee!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Ki=Rt.length,Ae=Ae!==0?Ae:Ol,mi=0;mi<Ki;mi++){Tr=mi===0?es(ft):-Pa,kr=mi===0?ts(Y):0;var Fl=Rt[mi].split(" ").length-1,Nl=Fl>0?(Ae-Zr[mi])/Fl:0;mi<Ki-1?Ds.push(M(W(Nl))):Ds.push(0),k.push([Rt[mi],kr,Tr])}}}(typeof mt.R2L=="boolean"?mt.R2L:st)===!0&&(k=xa(k,function(ze,Ge,vi){return[ze.split("").reverse().join(""),Ge,vi]})),Ft={text:k,x:Y,y:ft,options:mt,mutex:{pdfEscape:$r,activeFontKey:Wt,fonts:Yt,activeFontSize:tt}},je.publish("postProcessText",Ft),k=Ft.text,Li=Ft.mutex.isHex||!1;var Bl=Yt[Wt].encoding;Bl!=="WinAnsiEncoding"&&Bl!=="StandardEncoding"||(k=xa(k,function(ze,Ge,vi){return[Zc(ze),Ge,vi]})),Rt=wo(k),k=[];for(var Fs,Ns,Bs,Da=Array.isArray(Rt[0])?1:0,Is="",Ea=function(ze,Ge,vi){var Mi="";return vi instanceof le?(vi=typeof mt.angle=="number"?$n(vi,new le(1,0,0,1,ze,Ge)):$n(new le(1,0,0,1,ze,Ge),vi),w===y&&(vi=$n(new le(1,0,0,-1,0,0),vi)),Mi=vi.join(" ")+` Tm
`):Mi=M(ze)+" "+M(Ge)+` Td
`,Mi},tn=0;tn<Rt.length;tn++){switch(Is="",Da){case 1:Bs=(Li?"<":"(")+Rt[tn][0]+(Li?">":")"),Fs=parseFloat(Rt[tn][1]),Ns=parseFloat(Rt[tn][2]);break;case 0:Bs=(Li?"<":"(")+Rt[tn]+(Li?">":")"),Fs=ts(Y),Ns=es(ft)}Ds!==void 0&&Ds[tn]!==void 0&&(Is=Ds[tn]+` Tw
`),tn===0?k.push(Is+Ea(Fs,Ns,ki)+Bs):Da===0?k.push(Is+Bs):Da===1&&k.push(Is+Ea(Fs,Ns,ki)+Bs)}k=Da===0?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Mn=`BT
/`;return Mn+=Wt+" "+tt+` Tf
`,Mn+=M(tt*Jr)+` TL
`,Mn+=va+`
`,Mn+=Xi,Mn+=k,U(Mn+="ET"),f[Wt]=!0,Qe};var cf=h.__private__.clip=h.clip=function(k){return U(k==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return cf("evenodd")},h.__private__.discardPath=h.discardPath=function(){return U("n"),this};var On=h.__private__.isValidStyle=function(k){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(Y=!0),Y};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(k){return On(k)&&(a=k),this};var Vc=h.__private__.getStyle=h.getStyle=function(k){var Y=a;switch(k){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=k}return Y},Yc=h.close=function(){return U("h"),this};h.stroke=function(){return U("S"),this},h.fill=function(k){return Ls("f",k),this},h.fillEvenOdd=function(k){return Ls("f*",k),this},h.fillStroke=function(k){return Ls("B",k),this},h.fillStrokeEvenOdd=function(k){return Ls("B*",k),this};var Ls=function(k,Y){Ye(Y)==="object"?uf(Y,k):U(k)},bl=function(k){k===null||w===y&&k===void 0||(k=Vc(k),U(k))};function hf(k,Y,ft,mt,Ct){var Ft=new Wo(Y||this.boundingBox,ft||this.xStep,mt||this.yStep,this.gState,Ct||this.matrix);Ft.stream=this.stream;var Rt=k+"$$"+this.cloneIndex+++"$$";return qr(Rt,Ft),Ft}var uf=function(k,Y){var ft=ke[k.key],mt=se[ft];if(mt instanceof Xa)U("q"),U(ff(Y)),mt.gState&&h.setGState(mt.gState),U(k.matrix.toString()+" cm"),U("/"+ft+" sh"),U("Q");else if(mt instanceof Wo){var Ct=new le(1,0,0,-1,0,_a());k.matrix&&(Ct=Ct.multiply(k.matrix||Jn),ft=hf.call(mt,k.key,k.boundingBox,k.xStep,k.yStep,Ct).id),U("q"),U("/Pattern cs"),U("/"+ft+" scn"),mt.gState&&h.setGState(mt.gState),U(Y),U("Q")}},ff=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},wl=h.moveTo=function(k,Y){return U(M(W(k))+" "+M(C(Y))+" m"),this},Aa=h.lineTo=function(k,Y){return U(M(W(k))+" "+M(C(Y))+" l"),this},Ps=h.curveTo=function(k,Y,ft,mt,Ct,Ft){return U([M(W(k)),M(C(Y)),M(W(ft)),M(C(mt)),M(W(Ct)),M(C(Ft)),"c"].join(" ")),this};h.__private__.line=h.line=function(k,Y,ft,mt,Ct){if(isNaN(k)||isNaN(Y)||isNaN(ft)||isNaN(mt)||!On(Ct))throw new Error("Invalid arguments passed to jsPDF.line");return w===v?this.lines([[ft-k,mt-Y]],k,Y,[1,1],Ct||"S"):this.lines([[ft-k,mt-Y]],k,Y,[1,1]).stroke()},h.__private__.lines=h.lines=function(k,Y,ft,mt,Ct,Ft){var Rt,$t,ee,de,Ae,Be,si,ki,Qe,Ei,Li,Xi;if(typeof k=="number"&&(Xi=ft,ft=Y,Y=k,k=Xi),mt=mt||[1,1],Ft=Ft||!1,isNaN(Y)||isNaN(ft)||!Array.isArray(k)||!Array.isArray(mt)||!On(Ct)||typeof Ft!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wl(Y,ft),Rt=mt[0],$t=mt[1],de=k.length,Ei=Y,Li=ft,ee=0;ee<de;ee++)(Ae=k[ee]).length===2?(Ei=Ae[0]*Rt+Ei,Li=Ae[1]*$t+Li,Aa(Ei,Li)):(Be=Ae[0]*Rt+Ei,si=Ae[1]*$t+Li,ki=Ae[2]*Rt+Ei,Qe=Ae[3]*$t+Li,Ei=Ae[4]*Rt+Ei,Li=Ae[5]*$t+Li,Ps(Be,si,ki,Qe,Ei,Li));return Ft&&Yc(),bl(Ct),this},h.path=function(k){for(var Y=0;Y<k.length;Y++){var ft=k[Y],mt=ft.c;switch(ft.op){case"m":wl(mt[0],mt[1]);break;case"l":Aa(mt[0],mt[1]);break;case"c":Ps.apply(this,mt);break;case"h":Yc()}}return this},h.__private__.rect=h.rect=function(k,Y,ft,mt,Ct){if(isNaN(k)||isNaN(Y)||isNaN(ft)||isNaN(mt)||!On(Ct))throw new Error("Invalid arguments passed to jsPDF.rect");return w===v&&(mt=-mt),U([M(W(k)),M(C(Y)),M(W(ft)),M(W(mt)),"re"].join(" ")),bl(Ct),this},h.__private__.triangle=h.triangle=function(k,Y,ft,mt,Ct,Ft,Rt){if(isNaN(k)||isNaN(Y)||isNaN(ft)||isNaN(mt)||isNaN(Ct)||isNaN(Ft)||!On(Rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ft-k,mt-Y],[Ct-ft,Ft-mt],[k-Ct,Y-Ft]],k,Y,[1,1],Rt,!0),this},h.__private__.roundedRect=h.roundedRect=function(k,Y,ft,mt,Ct,Ft,Rt){if(isNaN(k)||isNaN(Y)||isNaN(ft)||isNaN(mt)||isNaN(Ct)||isNaN(Ft)||!On(Rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return Ct=Math.min(Ct,.5*ft),Ft=Math.min(Ft,.5*mt),this.lines([[ft-2*Ct,0],[Ct*$t,0,Ct,Ft-Ft*$t,Ct,Ft],[0,mt-2*Ft],[0,Ft*$t,-Ct*$t,Ft,-Ct,Ft],[2*Ct-ft,0],[-Ct*$t,0,-Ct,-Ft*$t,-Ct,-Ft],[0,2*Ft-mt],[0,-Ft*$t,Ct*$t,-Ft,Ct,-Ft]],k+Ct,Y,[1,1],Rt,!0),this},h.__private__.ellipse=h.ellipse=function(k,Y,ft,mt,Ct){if(isNaN(k)||isNaN(Y)||isNaN(ft)||isNaN(mt)||!On(Ct))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ft=4/3*(Math.SQRT2-1)*ft,Rt=4/3*(Math.SQRT2-1)*mt;return wl(k+ft,Y),Ps(k+ft,Y-Rt,k+Ft,Y-mt,k,Y-mt),Ps(k-Ft,Y-mt,k-ft,Y-Rt,k-ft,Y),Ps(k-ft,Y+Rt,k-Ft,Y+mt,k,Y+mt),Ps(k+Ft,Y+mt,k+ft,Y+Rt,k+ft,Y),bl(Ct),this},h.__private__.circle=h.circle=function(k,Y,ft,mt){if(isNaN(k)||isNaN(Y)||isNaN(ft)||!On(mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,Y,ft,ft,mt)},h.setFont=function(k,Y,ft){return ft&&(Y=F(Y,ft)),Wt=Xc(k,Y,{disableWarning:!1}),this};var df=h.__private__.getFont=h.getFont=function(){return Yt[Xc.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var k,Y,ft={};for(k in ce)if(ce.hasOwnProperty(k))for(Y in ft[k]=[],ce[k])ce[k].hasOwnProperty(Y)&&ft[k].push(Y);return ft},h.addFont=function(k,Y,ft,mt,Ct){var Ft=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ft.indexOf(arguments[3])!==-1?Ct=arguments[3]:arguments[3]&&Ft.indexOf(arguments[3])==-1&&(ft=F(ft,mt)),jc.call(this,k,Y,ft,Ct=Ct||"Identity-H")};var ma,_l=i.lineWidth||.200025,ge=h.__private__.getLineWidth=h.getLineWidth=function(){return _l},pf=h.__private__.setLineWidth=h.setLineWidth=function(k){return _l=k,U(M(W(k))+" w"),this};h.__private__.setLineDash=re.API.setLineDash=re.API.setLineDashPattern=function(k,Y){if(k=k||[],Y=Y||0,isNaN(Y)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(ft){return M(W(ft))}).join(" "),Y=M(W(Y)),U("["+k+"] "+Y+" d"),this};var gf=h.__private__.getLineHeight=h.getLineHeight=function(){return tt*ma};h.__private__.getLineHeight=h.getLineHeight=function(){return tt*ma};var Af=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(ma=k),this},mf=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ma};Af(i.lineHeight);var ts=h.__private__.getHorizontalCoordinate=function(k){return W(k)},es=h.__private__.getVerticalCoordinate=function(k){return w===y?k:oe[j].mediaBox.topRightY-oe[j].mediaBox.bottomLeftY-W(k)},vf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(k){return M(ts(k))},yf=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(k){return M(es(k))},mo=i.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ln(mo)},h.__private__.setStrokeColor=h.setDrawColor=function(k,Y,ft,mt){return mo=hn({ch1:k,ch2:Y,ch3:ft,ch4:mt,pdfColorType:"draw",precision:2}),U(mo),this};var xl=i.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ln(xl)},h.__private__.setFillColor=h.setFillColor=function(k,Y,ft,mt){return xl=hn({ch1:k,ch2:Y,ch3:ft,ch4:mt,pdfColorType:"fill",precision:2}),U(xl),this};var va=i.textColor||"0 g",vo=h.__private__.getTextColor=h.getTextColor=function(){return Ln(va)};h.__private__.setTextColor=h.setTextColor=function(k,Y,ft,mt){return va=hn({ch1:k,ch2:Y,ch3:ft,ch4:mt,pdfColorType:"text",precision:3}),this};var yo=i.charSpace,bf=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(yo||0)};h.__private__.setCharSpace=h.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return yo=k,this};var Cl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(k){var Y=h.CapJoinStyles[k];if(Y===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Cl=Y,U(Y+" J"),this};var Sl=0;h.__private__.setLineJoin=h.setLineJoin=function(k){var Y=h.CapJoinStyles[k];if(Y===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sl=Y,U(Y+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return U(M(W(k))+" M"),this},h.GState=Fu,h.setGState=function(k){(k=typeof k=="string"?pe[ni[k]]:ya(null,k)).equals(li)||(U("/"+k.id+" gs"),li=k)};var ya=function(k,Y){if(!k||!ni[k]){var ft=!1;for(var mt in pe)if(pe.hasOwnProperty(mt)&&pe[mt].equals(Y)){ft=!0;break}if(ft)Y=pe[mt];else{var Ct="GS"+(Object.keys(pe).length+1).toString(10);pe[Ct]=Y,Y.id=Ct}return k&&(ni[k]=Y.id),je.publish("addGState",Y),Y}};h.addGState=function(k,Y){return ya(k,Y),this},h.saveGraphicsState=function(){return U("q"),Se.push({key:Wt,size:tt,color:va}),this},h.restoreGraphicsState=function(){U("Q");var k=Se.pop();return Wt=k.key,tt=k.size,va=k.color,li=null,this},h.setCurrentTransformationMatrix=function(k){return U(k.toString()+" cm"),this},h.comment=function(k){return U("#"+k),this};var ba=function(k,Y){var ft=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ft},set:function(Ft){isNaN(Ft)||(ft=parseFloat(Ft))}});var mt=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mt},set:function(Ft){isNaN(Ft)||(mt=parseFloat(Ft))}});var Ct="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ct},set:function(Ft){Ct=Ft.toString()}}),this},Tl=function(k,Y,ft,mt){ba.call(this,k,Y),this.type="rect";var Ct=ft||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ct},set:function(Rt){isNaN(Rt)||(Ct=parseFloat(Rt))}});var Ft=mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ft},set:function(Rt){isNaN(Rt)||(Ft=parseFloat(Rt))}}),this},bo=function(){this.page=Me,this.currentPage=j,this.pages=gt.slice(0),this.pagesContext=oe.slice(0),this.x=Ht,this.y=ve,this.matrix=ne,this.width=qc(j),this.height=is(j),this.outputDestination=pt,this.id="",this.objectNumber=-1};bo.prototype.restore=function(){Me=this.page,j=this.currentPage,oe=this.pagesContext,gt=this.pages,Ht=this.x,ve=this.y,ne=this.matrix,Qc(j,this.width),rs(j,this.height),pt=this.outputDestination};var kl=function(k,Y,ft,mt,Ct){kn.push(new bo),Me=j=0,gt=[],Ht=k,ve=Y,ne=Ct,ml([ft,mt])};for(var wa in h.beginFormObject=function(k,Y,ft,mt,Ct){return kl(k,Y,ft,mt,Ct),this},h.endFormObject=function(k){return function(Y){if(Kn[Y])kn.pop().restore();else{var ft=new bo,mt="Xo"+(Object.keys(Qi).length+1).toString(10);ft.id=mt,Kn[Y]=mt,Qi[mt]=ft,je.publish("addFormObject",ft),kn.pop().restore()}}(k),this},h.doFormObject=function(k,Y){var ft=Qi[Kn[k]];return U("q"),U(Y.toString()+" cm"),U("/"+ft.id+" Do"),U("Q"),this},h.getFormObject=function(k){var Y=Qi[Kn[k]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},h.save=function(k,Y){return k=k||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Ra(pa(Zn()),k),typeof Ra.unload=="function"&&fe.setTimeout&&setTimeout(Ra.unload,911),this):new Promise(function(ft,mt){try{var Ct=Ra(pa(Zn()),k);typeof Ra.unload=="function"&&fe.setTimeout&&setTimeout(Ra.unload,911),ft(Ct)}catch(Ft){mt(Ft.message)}})},re.API)re.API.hasOwnProperty(wa)&&(wa==="events"&&re.API.events.length?function(k,Y){var ft,mt,Ct;for(Ct=Y.length-1;Ct!==-1;Ct--)ft=Y[Ct][0],mt=Y[Ct][1],k.subscribe.apply(k,[ft].concat(typeof mt=="function"?[mt]:mt))}(je,re.API.events):h[wa]=re.API[wa]);function qc(k){return oe[k].mediaBox.topRightX-oe[k].mediaBox.bottomLeftX}function Qc(k,Y){oe[k].mediaBox.topRightX=Y+oe[k].mediaBox.bottomLeftX}function is(k){return oe[k].mediaBox.topRightY-oe[k].mediaBox.bottomLeftY}function rs(k,Y){oe[k].mediaBox.topRightY=Y+oe[k].mediaBox.bottomLeftY}var Kc=h.getPageWidth=function(k){return qc(k=k||j)/Jt},$c=h.setPageWidth=function(k,Y){Qc(k,Y*Jt)},_a=h.getPageHeight=function(k){return is(k=k||j)/Jt},Jc=h.setPageHeight=function(k,Y){rs(k,Y*Jt)};return h.internal={pdfEscape:$r,getStyle:Vc,getFont:df,getFontSize:At,getCharSpace:bf,getTextColor:vo,getLineHeight:gf,getLineHeightFactor:mf,getLineWidth:ge,write:ct,getHorizontalCoordinate:ts,getVerticalCoordinate:es,getCoordinateString:vf,getVerticalCoordinateString:yf,collections:{},newObject:ci,newAdditionalObject:ua,newObjectDeferred:Ri,newObjectDeferredBegin:Wi,getFilters:un,putStream:Kr,events:je,scaleFactor:Jt,pageSize:{getWidth:function(){return Kc(j)},setWidth:function(k){$c(j,k)},getHeight:function(){return _a(j)},setHeight:function(k){Jc(j,k)}},encryptionOptions:c,encryption:Ai,getEncryptor:function(k){return c!==null?Ai.encryptor(k,0):function(Y){return Y}},output:fn,getNumberOfPages:Wc,pages:gt,out:U,f2:I,f3:O,getPageInfo:yl,getPageInfoByObjId:of,getCurrentPageInfo:lf,getPDFVersion:A,Point:ba,Rectangle:Tl,Matrix:le,hasHotfix:ga},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Kc(j)},set:function(k){$c(j,k)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return _a(j)},set:function(k){Jc(j,k)},enumerable:!0,configurable:!0}),(function(k){for(var Y=0,ft=G.length;Y<ft;Y++){var mt=jc.call(this,k[Y][0],k[Y][1],k[Y][2],G[Y][3],!0);u===!1&&(f[mt]=!0);var Ct=k[Y][0].split("-");Rc({id:mt,fontName:Ct[0],fontStyle:Ct[1]||""})}je.publish("addFonts",{fonts:Yt,dictionary:ce})}).call(h,G),Wt="F1",zc(n,e),je.publish("initialized"),h}Io.prototype.lsbFirstWord=function(i){return String.fromCharCode(255&i,i>>8&255,i>>16&255,i>>24&255)},Io.prototype.toHexString=function(i){return i.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Io.prototype.hexToBytes=function(i){for(var t=[],e=0;e<i.length;e+=2)t.push(String.fromCharCode(parseInt(i.substr(e,2),16)));return t.join("")},Io.prototype.processOwnerPassword=function(i,t){return Ap(gp(t).substr(0,5),i)},Io.prototype.encryptor=function(i,t){var e=gp(this.encryptionKey+String.fromCharCode(255&i,i>>8&255,i>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ap(e,r)}},Fu.prototype.equals=function(i){var t,e="id,objectNumber,equals";if(!i||Ye(i)!==Ye(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!i.hasOwnProperty(t)||this[t]!==i[t])return!1;r++}for(t in i)i.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},re.API={events:[]},re.version="3.0.3";var di=re.API,fg=1,uo=function(i){return i.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oo=function(i){return i.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},me=function(i){return i.toFixed(2)},Ys=function(i){return i.toFixed(5)};di.__acroform__={};var Sr=function(i,t){i.prototype=Object.create(t.prototype),i.prototype.constructor=i},ZA=function(i){return i*fg},Nn=function(i){var t=new h2,e=Kt.internal.getHeight(i)||0,r=Kt.internal.getWidth(i)||0;return t.BBox=[0,0,Number(me(r)),Number(me(e))],t},CC=di.__acroform__.setBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return i|1<<t},SC=di.__acroform__.clearBit=function(i,t){if(i=i||0,t=t||0,isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return i&~(1<<t)},TC=di.__acroform__.getBit=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return i&1<<t?1:0},xi=di.__acroform__.getBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return TC(i,t-1)},Ci=di.__acroform__.setBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return CC(i,t-1)},Si=di.__acroform__.clearBitForPdf=function(i,t){if(isNaN(i)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return SC(i,t-1)},kC=di.__acroform__.calculateCoordinates=function(i,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,n=i[0],o=i[1],d=i[2],l=i[3],s={};return s.lowerLeft_X=e(n)||0,s.lowerLeft_Y=r(o+l)||0,s.upperRight_X=e(n+d)||0,s.upperRight_Y=r(o)||0,[Number(me(s.lowerLeft_X)),Number(me(s.lowerLeft_Y)),Number(me(s.upperRight_X)),Number(me(s.upperRight_Y))]},LC=function(i){if(i.appearanceStreamContent)return i.appearanceStreamContent;if(i.V||i.DV){var t=[],e=i._V||i.DV,r=mp(i,e),n=i.scope.internal.getFont(i.fontName,i.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(i.scope.__private__.encodeColorString(i.color)),t.push("/"+n+" "+me(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=Nn(i);return o.scope=i.scope,o.stream=t.join(`
`),o}},mp=function(i,t){var e=i.fontSize===0?i.maxFontSize:i.fontSize,r={text:"",fontSize:""},n=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");n=i.multiline?n.map(function(I){return I.split(`
`)}):n.map(function(I){return[I]});var o=e,d=Kt.internal.getHeight(i)||0;d=d<0?-d:d;var l=Kt.internal.getWidth(i)||0;l=l<0?-l:l;var s=function(I,O,W){if(I+1<n.length){var C=O+" "+n[I+1][0];return Kh(C,i,W).width<=l-4}return!1};o++;t:for(;o>0;){t="",o--;var a,c,u=Kh("3",i,o).height,f=i.multiline?d-o:(d-u)/2,h=f+=2,p=0,A=0,g=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+Kh(t,i,o=12).width+", FieldWidth:"+l+`
`;break}for(var m="",v=0,y=0;y<n.length;y++)if(n.hasOwnProperty(y)){var w=!1;if(n[y].length!==1&&g!==n[y].length-1){if((u+2)*(v+2)+2>d)continue t;m+=n[y][g],w=!0,A=y,y--}else{m=(m+=n[y][g]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var x=parseInt(y),L=s(x,m,o),F=y>=n.length-1;if(L&&!F){m+=" ",g=0;continue}if(L||F){if(F)A=x;else if(i.multiline&&(u+2)*(v+2)+2>d)continue t}else{if(!i.multiline||(u+2)*(v+2)+2>d)continue t;A=x}}for(var M="",D=p;D<=A;D++){var X=n[D];if(i.multiline){if(D===A){M+=X[g]+" ",g=(g+1)%X.length;continue}if(D===p){M+=X[X.length-1]+" ";continue}}M+=X[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,c=Kh(M,i,o).width,i.textAlign){case"right":a=l-c-2;break;case"center":a=(l-c)/2;break;default:a=2}t+=me(a)+" "+me(h)+` Td
`,t+="("+uo(M)+`) Tj
`,t+=-me(a)+` 0 Td
`,h=-(o+2),c=0,p=w?A:A+1,v++,m=""}break}return r.text=t,r.fontSize=o,r},Kh=function(i,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),n=t.scope.getStringUnitWidth(i,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:n}},PC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},OC=function(i,t){var e={type:"reference",object:i};t.internal.getPageInfo(i.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(i.page).pageContext.annotations.push(e)},DC=function(i,t){if(t.scope=i,i.internal!==void 0&&(i.internal.acroformPlugin===void 0||i.internal.acroformPlugin.isInitialized===!1)){if(Sn.FieldNum=0,i.internal.acroformPlugin=JSON.parse(JSON.stringify(PC)),i.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fg=i.internal.scaleFactor,i.internal.acroformPlugin.acroFormDictionaryRoot=new u2,i.internal.acroformPlugin.acroFormDictionaryRoot.scope=i,i.internal.acroformPlugin.acroFormDictionaryRoot._eventID=i.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(i)}),i.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];o.objId=void 0,o.hasAnnotation&&OC(o,e)}})(i)}),i.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(i)}),i.internal.events.subscribe("postPutPages",function(e){(function(r,n){var o=!r;for(var d in r||(n.internal.newObjectDeferredBegin(n.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),n.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||n.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(d)){var l=r[d],s=[],a=l.Rect;if(l.Rect&&(l.Rect=kC(l.Rect,n)),n.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Kt.createDefaultAppearanceStream(l),Ye(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(s=l.getKeyValueListForStream()),l.Rect=a,l.hasAppearanceStream&&!l.appearanceStreamContent){var c=LC(l);s.push({key:"AP",value:"<</N "+c+">>"}),n.internal.acroformPlugin.xForms.push(c)}if(l.appearanceStreamContent){var u="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var h=l.appearanceStreamContent[f];if(u+="/"+f+" ",u+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var d in h)if(h.hasOwnProperty(d)){var p=h[d];typeof p=="function"&&(p=p.call(n,l)),u+="/"+d+" "+p+" ",n.internal.acroformPlugin.xForms.indexOf(p)>=0||n.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(n,l)),u+="/"+d+" "+p,n.internal.acroformPlugin.xForms.indexOf(p)>=0||n.internal.acroformPlugin.xForms.push(p);u+=">>"}s.push({key:"AP",value:`<<
`+u+">>"})}n.internal.putStream({additionalKeyValues:s,objectId:l.objId}),n.internal.out("endobj")}o&&function(A,g){for(var m in A)if(A.hasOwnProperty(m)){var v=m,y=A[m];g.internal.newObjectDeferredBegin(y.objId,!0),Ye(y)==="object"&&typeof y.putStream=="function"&&y.putStream(),delete A[v]}}(n.internal.acroformPlugin.xForms,n)})(e,i)}),i.internal.acroformPlugin.isInitialized=!0}},c2=di.__acroform__.arrayToPdfArray=function(i,t,e){var r=function(d){return d};if(Array.isArray(i)){for(var n="[",o=0;o<i.length;o++)switch(o!==0&&(n+=" "),Ye(i[o])){case"boolean":case"number":case"object":n+=i[o].toString();break;case"string":i[o].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),n+="("+uo(r(i[o].toString()))+")"):n+=i[o].toString()}return n+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cd=function(i,t,e){var r=function(n){return n};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(i=i||"").toString(),"("+uo(r(i))+")"},zn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(i){this._objId=i}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zn.prototype.toString=function(){return this.objId+" 0 R"},zn.prototype.putStream=function(){var i=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:i,objectId:this.objId}),this.scope.internal.out("endobj")},zn.prototype.getKeyValueListForStream=function(){var i=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],n=this[r];n&&(Array.isArray(n)?i.push({key:r,value:c2(n,this.objId,this.scope)}):n instanceof zn?(n.scope=this.scope,i.push({key:r,value:n.objId+" 0 R"})):typeof n!="function"&&i.push({key:r,value:n}))}return i};var h2=function(){zn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var i,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){i=e.trim()},get:function(){return i||null}})};Sr(h2,zn);var u2=function(){zn.call(this);var i,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(i){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+uo(e(i))+")"}},set:function(e){i=e}})};Sr(u2,zn);var Sn=function i(){zn.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!xi(t,3)},set:function(m){m?this.F=Ci(t,3):this.F=Si(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');e=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var n="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return n},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":n=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Nu)return;o="FieldObject"+i.FieldNum++}var m=function(v){return v};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+uo(m(o))+")"},set:function(m){o=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(m){o=m}});var d="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return d},set:function(m){d=m}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var s=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return s},set:function(m){s=m}});var a=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return a===void 0?50/fg:a},set:function(m){a=m}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof Nu||this instanceof Za))return Cd(u,this.objId,this.scope)},set:function(m){m=m.toString(),u=m}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof zi==0?Cd(f,this.objId,this.scope):f},set:function(m){m=m.toString(),f=this instanceof zi==0?m.substr(0,1)==="("?Oo(m.substr(1,m.length-2)):Oo(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zi==1?Oo(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof zi==1?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof zi==0?Cd(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof zi==0?m.substr(0,1)==="("?Oo(m.substr(1,m.length-2)):Oo(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zi==1?Oo(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof zi==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,A=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return A},set:function(m){m=!!m,A=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(m){p=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,1)},set:function(m){m?this.Ff=Ci(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,2)},set:function(m){m?this.Ff=Ci(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,3)},set:function(m){m?this.Ff=Ci(this.Ff,3):this.Ff=Si(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');g=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(g){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};Sr(Sn,zn);var Ko=function(){Sn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var i=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return c2(t,this.objId,this.scope)},set:function(e){var r,n;n=[],typeof(r=e)=="string"&&(n=function(o,d,l){l||(l=1);for(var s,a=[];s=d.exec(o);)a.push(s[l]);return a}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,18)},set:function(e){e?this.Ff=Ci(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Ci(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,20)},set:function(e){e?(this.Ff=Ci(this.Ff,20),t.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,22)},set:function(e){e?this.Ff=Ci(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(e){e?this.Ff=Ci(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,27)},set:function(e){e?this.Ff=Ci(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};Sr(Ko,Sn);var $o=function(){Ko.call(this),this.fontName="helvetica",this.combo=!1};Sr($o,Ko);var Jo=function(){$o.call(this),this.combo=!0};Sr(Jo,$o);var lu=function(){Jo.call(this),this.edit=!0};Sr(lu,Jo);var zi=function(){Sn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,15)},set:function(e){e?this.Ff=Ci(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,16)},set:function(e){e?this.Ff=Ci(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,17)},set:function(e){e?this.Ff=Ci(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(e){e?this.Ff=Ci(this.Ff,26):this.Ff=Si(this.Ff,26)}});var i,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(o){return o};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+uo(e(t[r]))+")");return n.push(">>"),n.join(`
`)}},set:function(e){Ye(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return i.substr(1,i.length-1)},set:function(e){i="/"+e}})};Sr(zi,Sn);var cu=function(){zi.call(this),this.pushButton=!0};Sr(cu,zi);var Zo=function(){zi.call(this),this.radio=!0,this.pushButton=!1;var i=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t!==void 0?t:[]}})};Sr(Zo,zi);var Nu=function(){var i,t;Sn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return i},set:function(n){i=n}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(l){return l};this.scope&&(n=this.scope.internal.getEncryptor(this.objId));var o,d=[];for(o in d.push("<<"),r)d.push("/"+o+" ("+uo(n(r[o]))+")");return d.push(">>"),d.join(`
`)},set:function(n){Ye(n)==="object"&&(r=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(n){typeof n=="string"&&(r.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sr(Nu,Sn),Zo.prototype.setAppearance=function(i){if(!("createAppearanceStream"in i)||!("getCA"in i))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=i.createAppearanceStream(e.optionName),e.caption=i.getCA()}},Zo.prototype.createOption=function(i){var t=new Nu;return t.Parent=this,t.optionName=i,this.Kids.push(t),EC.call(this.scope,t),t};var hu=function(){zi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};Sr(hu,zi);var Za=function(){Sn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,13)},set:function(t){t?this.Ff=Ci(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,21)},set:function(t){t?this.Ff=Ci(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,23)},set:function(t){t?this.Ff=Ci(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,24)},set:function(t){t?this.Ff=Ci(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,25)},set:function(t){t?this.Ff=Ci(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,26)},set:function(t){t?this.Ff=Ci(this.Ff,26):this.Ff=Si(this.Ff,26)}});var i=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return i},set:function(t){Number.isInteger(t)&&(i=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sr(Za,Sn);var uu=function(){Za.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!xi(this.Ff,14)},set:function(i){i?this.Ff=Ci(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};Sr(uu,Za);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(i){var t=Nn(i);t.scope=i.scope;var e=[],r=i.scope.internal.getFont(i.fontName,i.fontStyle).id,n=i.scope.__private__.encodeColorString(i.color),o=mp(i,i.caption);return e.push("0.749023 g"),e.push("0 0 "+me(Kt.internal.getWidth(i))+" "+me(Kt.internal.getHeight(i))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+me(o.fontSize)+" Tf "+n),e.push("BT"),e.push(o.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(i){var t=Nn(i);t.scope=i.scope;var e=i.scope.internal.getFont(i.fontName,i.fontStyle).id,r=i.scope.__private__.encodeColorString(i.color),n=[],o=Kt.internal.getHeight(i),d=Kt.internal.getWidth(i),l=mp(i,i.caption);return n.push("1 g"),n.push("0 0 "+me(d)+" "+me(o)+" re"),n.push("f"),n.push("q"),n.push("0 0 1 rg"),n.push("0 0 "+me(d-1)+" "+me(o-1)+" re"),n.push("W"),n.push("n"),n.push("0 g"),n.push("BT"),n.push("/"+e+" "+me(l.fontSize)+" Tf "+r),n.push(l.text),n.push("ET"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(i){var t=Nn(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+me(Kt.internal.getWidth(i))+" "+me(Kt.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(i){var t={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return t.N[i]=Kt.RadioButton.Circle.YesNormal,t.D[i]=Kt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(i){var t=Nn(i);t.scope=i.scope;var e=[],r=Kt.internal.getWidth(i)<=Kt.internal.getHeight(i)?Kt.internal.getWidth(i)/4:Kt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Kt.internal.Bezier_C,o=Number((r*n).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ys(Kt.internal.getWidth(i)/2)+" "+Ys(Kt.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),e.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),e.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),e.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Nn(i);t.scope=i.scope;var e=[],r=Kt.internal.getWidth(i)<=Kt.internal.getHeight(i)?Kt.internal.getWidth(i)/4:Kt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),o=Number((n*Kt.internal.Bezier_C).toFixed(5)),d=Number((r*Kt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ys(Kt.internal.getWidth(i)/2)+" "+Ys(Kt.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ys(Kt.internal.getWidth(i)/2)+" "+Ys(Kt.internal.getHeight(i)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+d+" "+d+" "+r+" 0 "+r+" c"),e.push("-"+d+" "+r+" -"+r+" "+d+" -"+r+" 0 c"),e.push("-"+r+" -"+d+" -"+d+" -"+r+" 0 -"+r+" c"),e.push(d+" -"+r+" "+r+" -"+d+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(i){var t=Nn(i);t.scope=i.scope;var e=[],r=Kt.internal.getWidth(i)<=Kt.internal.getHeight(i)?Kt.internal.getWidth(i)/4:Kt.internal.getHeight(i)/4;r=Number((.9*r).toFixed(5));var n=Number((2*r).toFixed(5)),o=Number((n*Kt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ys(Kt.internal.getWidth(i)/2)+" "+Ys(Kt.internal.getHeight(i)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),e.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),e.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),e.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(i){var t={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return t.N[i]=Kt.RadioButton.Cross.YesNormal,t.D[i]=Kt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(i){var t=Nn(i);t.scope=i.scope;var e=[],r=Kt.internal.calculateCross(i);return e.push("q"),e.push("1 1 "+me(Kt.internal.getWidth(i)-2)+" "+me(Kt.internal.getHeight(i)-2)+" re"),e.push("W"),e.push("n"),e.push(me(r.x1.x)+" "+me(r.x1.y)+" m"),e.push(me(r.x2.x)+" "+me(r.x2.y)+" l"),e.push(me(r.x4.x)+" "+me(r.x4.y)+" m"),e.push(me(r.x3.x)+" "+me(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(i){var t=Nn(i);t.scope=i.scope;var e=Kt.internal.calculateCross(i),r=[];return r.push("0.749023 g"),r.push("0 0 "+me(Kt.internal.getWidth(i))+" "+me(Kt.internal.getHeight(i))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+me(Kt.internal.getWidth(i)-2)+" "+me(Kt.internal.getHeight(i)-2)+" re"),r.push("W"),r.push("n"),r.push(me(e.x1.x)+" "+me(e.x1.y)+" m"),r.push(me(e.x2.x)+" "+me(e.x2.y)+" l"),r.push(me(e.x4.x)+" "+me(e.x4.y)+" m"),r.push(me(e.x3.x)+" "+me(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(i){var t=Nn(i);t.scope=i.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+me(Kt.internal.getWidth(i))+" "+me(Kt.internal.getHeight(i))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(i){var t=i.scope.internal.getFont(i.fontName,i.fontStyle).id,e=i.scope.__private__.encodeColorString(i.color);return"/"+t+" "+i.fontSize+" Tf "+e}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(i){var t=Kt.internal.getWidth(i),e=Kt.internal.getHeight(i),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},Kt.internal.getWidth=function(i){var t=0;return Ye(i)==="object"&&(t=ZA(i.Rect[2])),t},Kt.internal.getHeight=function(i){var t=0;return Ye(i)==="object"&&(t=ZA(i.Rect[3])),t};var EC=di.addField=function(i){if(DC(this,i),!(i instanceof Sn))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=i).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),i.page=i.scope.internal.getCurrentPageInfo().pageNumber,this};di.AcroFormChoiceField=Ko,di.AcroFormListBox=$o,di.AcroFormComboBox=Jo,di.AcroFormEditBox=lu,di.AcroFormButton=zi,di.AcroFormPushButton=cu,di.AcroFormRadioButton=Zo,di.AcroFormCheckBox=hu,di.AcroFormTextField=Za,di.AcroFormPasswordField=uu,di.AcroFormAppearance=Kt,di.AcroForm={ChoiceField:Ko,ListBox:$o,ComboBox:Jo,EditBox:lu,Button:zi,PushButton:cu,RadioButton:Zo,CheckBox:hu,TextField:Za,PasswordField:uu,Appearance:Kt},re.AcroForm={ChoiceField:Ko,ListBox:$o,ComboBox:Jo,EditBox:lu,Button:zi,PushButton:cu,RadioButton:Zo,CheckBox:hu,TextField:Za,PasswordField:uu,Appearance:Kt};function f2(i){return i.reduce(function(t,e,r){return t[e]=r,t},{})}(function(i){var t="addImage_";i.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=i.__addimage__.getImageFileTypeByImageData=function(I,O){var W,C,Q,lt,it,et=e;if((O=O||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(L(I))for(it in r)for(Q=r[it],W=0;W<Q.length;W+=1){for(lt=!0,C=0;C<Q[W].length;C+=1)if(Q[W][C]!==void 0&&Q[W][C]!==I[C]){lt=!1;break}if(lt===!0){et=it;break}}else for(it in r)for(Q=r[it],W=0;W<Q.length;W+=1){for(lt=!0,C=0;C<Q[W].length;C+=1)if(Q[W][C]!==void 0&&Q[W][C]!==I.charCodeAt(C)){lt=!1;break}if(lt===!0){et=it;break}}return et===e&&O!==e&&(et=O),et},o=function I(O){for(var W=this.internal.write,C=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var lt=[];if(lt.push({key:"Type",value:"/XObject"}),lt.push({key:"Subtype",value:"/Image"}),lt.push({key:"Width",value:O.width}),lt.push({key:"Height",value:O.height}),O.colorSpace===m.INDEXED?lt.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(lt.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===m.DEVICE_CMYK&&lt.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),lt.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&lt.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var it="",et=0,B=O.transparency.length;et<B;et++)it+=O.transparency[et]+" "+O.transparency[et]+" ";lt.push({key:"Mask",value:"["+it+"]"})}O.sMask!==void 0&&lt.push({key:"SMask",value:O.objectId+1+" 0 R"});var K=O.filter!==void 0?["/"+O.filter]:void 0;if(C({data:O.data,additionalKeyValues:lt,alreadyAppliedFilters:K,objectId:O.objectId}),W("endobj"),"sMask"in O&&O.sMask!==void 0){var z,S=(z=O.sMaskBitsPerComponent)!==null&&z!==void 0?z:O.bitsPerComponent,j={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:S,data:O.sMask};"filter"in O&&(j.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(S," /Columns ").concat(O.width),j.filter=O.filter),I.call(this,j)}if(O.colorSpace===m.INDEXED){var N=this.internal.newObject();C({data:M(new Uint8Array(O.palette)),objectId:N}),W("endobj")}},d=function(){var I=this.internal.collections[t+"images"];for(var O in I)o.call(this,I[O])},l=function(){var I,O=this.internal.collections[t+"images"],W=this.internal.write;for(var C in O)W("/I"+(I=O[C]).index,I.objectId,"0","R")},s=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",d),this.internal.events.subscribe("putXobjectDict",l))},a=function(){var I=this.internal.collections[t+"images"];return s.call(this),I},c=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(I){return typeof i["process"+I.toUpperCase()]=="function"},f=function(I){return Ye(I)==="object"&&I.nodeType===1},h=function(I,O){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var W=""+I.getAttribute("src");if(W.indexOf("data:image/")===0)return ou(unescape(W).split("base64,").pop());var C=i.loadFile(W,!0);if(C!==void 0)return C}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var Q;switch(O){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return ou(I.toDataURL(Q,1).split("base64,").pop())}},p=function(I){var O=this.internal.collections[t+"images"];if(O){for(var W in O)if(I===O[W].alias)return O[W]}},A=function(I,O,W){return I||O||(I=-96,O=-96),I<0&&(I=-1*W.width*72/I/this.internal.scaleFactor),O<0&&(O=-1*W.height*72/O/this.internal.scaleFactor),I===0&&(I=O*W.width/W.height),O===0&&(O=I*W.height/W.width),[I,O]},g=function(I,O,W,C,Q,lt){var it=A.call(this,W,C,Q),et=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,K=a.call(this);if(W=it[0],C=it[1],K[Q.index]=Q,lt){lt*=Math.PI/180;var z=Math.cos(lt),S=Math.sin(lt),j=function(E){return E.toFixed(4)},N=[j(z),j(S),j(-1*S),j(z),0,0,"cm"]}this.internal.write("q"),lt?(this.internal.write([1,"0","0",1,et(I),B(O+C),"cm"].join(" ")),this.internal.write(N.join(" ")),this.internal.write([et(W),"0","0",et(C),"0","0","cm"].join(" "))):this.internal.write([et(W),"0","0",et(C),et(I),B(O+C),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},m=i.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};i.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var v=i.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=i.__addimage__.sHashCode=function(I){var O,W,C=0;if(typeof I=="string")for(W=I.length,O=0;O<W;O++)C=(C<<5)-C+I.charCodeAt(O),C|=0;else if(L(I))for(W=I.byteLength/2,O=0;O<W;O++)C=(C<<5)-C+I[O],C|=0;return C},w=i.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var O=!0;return I.length===0&&(O=!1),I.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(O=!1),O},x=i.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var O=I.indexOf(",");return O<0?null:I.substring(0,O).trim().endsWith("base64")?I.substring(O+1):null};i.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var L=i.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},F=i.__addimage__.binaryStringToUint8Array=function(I){for(var O=I.length,W=new Uint8Array(O),C=0;C<O;C++)W[C]=I.charCodeAt(C);return W},M=i.__addimage__.arrayBufferToBinaryString=function(I){for(var O="",W=L(I)?I:new Uint8Array(I),C=0;C<W.length;C+=8192)O+=String.fromCharCode.apply(null,W.subarray(C,C+8192));return O};i.addImage=function(){var I,O,W,C,Q,lt,it,et,B;if(typeof arguments[1]=="number"?(O=e,W=arguments[1],C=arguments[2],Q=arguments[3],lt=arguments[4],it=arguments[5],et=arguments[6],B=arguments[7]):(O=arguments[1],W=arguments[2],C=arguments[3],Q=arguments[4],lt=arguments[5],it=arguments[6],et=arguments[7],B=arguments[8]),Ye(I=arguments[0])==="object"&&!f(I)&&"imageData"in I){var K=I;I=K.imageData,O=K.format||O||e,W=K.x||W||0,C=K.y||C||0,Q=K.w||K.width||Q,lt=K.h||K.height||lt,it=K.alias||it,et=K.compression||et,B=K.rotation||K.angle||B}var z=this.internal.getFilters();if(et===void 0&&z.indexOf("FlateEncode")!==-1&&(et="SLOW"),isNaN(W)||isNaN(C))throw new Error("Invalid coordinates passed to jsPDF.addImage");s.call(this);var S=D.call(this,I,O,it,et);return g.call(this,W,C,Q,lt,S,B),this};var D=function(I,O,W,C){var Q,lt,it;if(typeof I=="string"&&n(I)===e){I=unescape(I);var et=X(I,!1);(et!==""||(et=i.loadFile(I,!0))!==void 0)&&(I=et)}if(f(I)&&(I=h(I,O)),O=n(I,O),!u(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((it=W)==null||it.length===0)&&(W=function(B){return typeof B=="string"||L(B)?y(B):L(B.data)?y(B.data):null}(I)),(Q=p.call(this,W))||(I instanceof Uint8Array||O==="RGBA"||(lt=I,I=F(I)),Q=this["process"+O.toUpperCase()](I,c.call(this),W,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in i.image_compression?B:v.NONE}(C),lt)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},X=i.__addimage__.convertBase64ToBinaryString=function(I,O){O=typeof O!="boolean"||O;var W,C="";if(typeof I=="string"){var Q;W=(Q=x(I))!==null&&Q!==void 0?Q:I;try{C=ou(W)}catch(lt){if(O)throw w(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+lt.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return C};i.getImageProperties=function(I){var O,W,C="";if(f(I)&&(I=h(I)),typeof I=="string"&&n(I)===e&&((C=X(I,!1))===""&&(C=i.loadFile(I)||""),I=C),W=n(I),!u(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(I instanceof Uint8Array||(I=F(I)),!(O=this["process"+W.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=W,O}})(re.API),function(i){var t=function(e){if(e!==void 0&&e!="")return!0};re.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),i.events.push(["putPage",function(e){for(var r,n,o,d=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(e.objId),a=e.pageContext.annotations,c=!1,u=0;u<a.length&&!c;u++)switch((r=a[u]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var f=0;f<a.length;f++){r=a[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var A=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(A.objId),v=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(n="/Rect ["+d(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+d(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(m(r.contents))+")",o+=" /Popup "+g.objId+" 0 R",o+=" /P "+s.objId+" 0 R",o+=" /T ("+h(m(v))+") >>",A.content=o;var y=A.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+d(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+d(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+y,r.open&&(o+=" /Open true"),o+=" >>",g.content=o,this.internal.write(A.objId,"0 R",g.objId,"0 R");break;case"freetext":n="/Rect ["+d(r.bounds.x)+" "+l(r.bounds.y)+" "+d(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var w=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(p(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+w+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var x=this.annotations._nameMap[r.options.name];r.options.pageNumber=x.page,r.options.top=x.y}else r.options.top||(r.options.top=0);if(n="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var L=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),i.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},i.link=function(e,r,n,o,d){var l=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:s(e),y:a(r),w:s(e+n),h:a(r+o)},options:d,type:"link"})},i.textWithLink=function(e,r,n,o){var d,l,s=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){l=o.maxWidth;var c=this.splitTextToSize(e,l).length;d=Math.ceil(a*c)}else l=s,d=a;return this.text(e,r,n,o),n+=.2*a,o.align==="center"&&(r-=s/2),o.align==="right"&&(r-=s),this.link(r,n-a,l,d,o),s},i.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(re.API),function(i){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},n=[1570,1571,1573,1575];i.__arabicParser__={};var o=i.__arabicParser__.isInArabicSubstitutionA=function(A){return t[A.charCodeAt(0)]!==void 0},d=i.__arabicParser__.isArabicLetter=function(A){return typeof A=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(A)},l=i.__arabicParser__.isArabicEndLetter=function(A){return d(A)&&o(A)&&t[A.charCodeAt(0)].length<=2},s=i.__arabicParser__.isArabicAlfLetter=function(A){return d(A)&&n.indexOf(A.charCodeAt(0))>=0};i.__arabicParser__.arabicLetterHasIsolatedForm=function(A){return d(A)&&o(A)&&t[A.charCodeAt(0)].length>=1};var a=i.__arabicParser__.arabicLetterHasFinalForm=function(A){return d(A)&&o(A)&&t[A.charCodeAt(0)].length>=2};i.__arabicParser__.arabicLetterHasInitialForm=function(A){return d(A)&&o(A)&&t[A.charCodeAt(0)].length>=3};var c=i.__arabicParser__.arabicLetterHasMedialForm=function(A){return d(A)&&o(A)&&t[A.charCodeAt(0)].length==4},u=i.__arabicParser__.resolveLigatures=function(A){var g=0,m=e,v="",y=0;for(g=0;g<A.length;g+=1)m[A.charCodeAt(g)]!==void 0?(y++,typeof(m=m[A.charCodeAt(g)])=="number"&&(v+=String.fromCharCode(m),m=e,y=0),g===A.length-1&&(m=e,v+=A.charAt(g-(y-1)),g-=y-1,y=0)):(m=e,v+=A.charAt(g-y),g-=y,y=0);return v};i.__arabicParser__.isArabicDiacritic=function(A){return A!==void 0&&r[A.charCodeAt(0)]!==void 0};var f=i.__arabicParser__.getCorrectForm=function(A,g,m){return d(A)?o(A)===!1?-1:!a(A)||!d(g)&&!d(m)||!d(m)&&l(g)||l(A)&&!d(g)||l(A)&&s(g)||l(A)&&l(g)?0:c(A)&&d(g)&&!l(g)&&d(m)&&a(m)?3:l(A)||!d(m)?1:2:-1},h=function(A){var g=0,m=0,v=0,y="",w="",x="",L=(A=A||"").split("\\s+"),F=[];for(g=0;g<L.length;g+=1){for(F.push(""),m=0;m<L[g].length;m+=1)y=L[g][m],w=L[g][m-1],x=L[g][m+1],d(y)?(v=f(y,w,x),F[g]+=v!==-1?String.fromCharCode(t[y.charCodeAt(0)][v]):y):F[g]+=y;F[g]=u(F[g])}return F.join(" ")},p=i.__arabicParser__.processArabic=i.processArabic=function(){var A,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(g)){var v=0;for(m=[],v=0;v<g.length;v+=1)Array.isArray(g[v])?m.push([h(g[v][0]),g[v][1],g[v][2]]):m.push([h(g[v])]);A=m}else A=h(g);return typeof arguments[0]=="string"?A:(arguments[0].text=A,arguments[0])};i.events.push(["preProcessText",p])}(re.API),re.API.autoPrint=function(i){var t;return(i=i||{}).variant=i.variant||"non-conform",i.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(i){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(l){e=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(l){o=l}});var d={};Object.defineProperty(this,"style",{get:function(){return d},set:function(l){d=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var n;if((e=e||"2d")!=="2d")return null;for(n in r)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=r[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},i.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(re.API),function(i){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),n.call(this))},n=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var s=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return s},set:function(A){s=A}});var a=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return a},set:function(A){a=A}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(A){c=A}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(A){u=A}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(A){f=A}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(A){h=A}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(A){p=A}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},i.setHeaderFunction=function(s){return r.call(this),this.internal.__cell__.headerFunction=typeof s=="function"?s:void 0,this},i.getTextDimensions=function(s,a){r.call(this);var c=(a=a||{}).fontSize||this.getFontSize(),u=a.font||this.getFont(),f=a.scaleFactor||this.internal.scaleFactor,h=0,p=0,A=0,g=this;if(!Array.isArray(s)&&typeof s!="string"){if(typeof s!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");s=String(s)}var m=a.maxWidth;m>0?typeof s=="string"?s=this.splitTextToSize(s,m):Object.prototype.toString.call(s)==="[object Array]"&&(s=s.reduce(function(y,w){return y.concat(g.splitTextToSize(w,m))},[])):s=Array.isArray(s)?s:[s];for(var v=0;v<s.length;v++)h<(A=this.getStringUnitWidth(s[v],{font:u})*c)&&(h=A);return h!==0&&(p=s.length),{w:h/=f,h:Math.max((p*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/f,0)}},i.cellAddPage=function(){r.call(this),this.addPage();var s=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(s.left,s.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var d=i.cell=function(){var s;s=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var a=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return a.lineNumber!==void 0&&(a.lineNumber===s.lineNumber?(s.x=(a.x||0)+(a.width||0),s.y=a.y||0):a.y+a.height+s.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),s.y=u.top,h&&f&&(this.printHeaderRow(s.lineNumber,!0),s.y+=f[0].height)):s.y=a.y+a.height||s.y),s.text[0]!==void 0&&(this.rect(s.x,s.y,s.width,s.height,e===!0?"FD":void 0),s.align==="right"?this.text(s.text,s.x+s.width-c,s.y+c,{align:"right",baseline:"top"}):s.align==="center"?this.text(s.text,s.x+s.width/2,s.y+c,{align:"center",baseline:"top",maxWidth:s.width-c-c}):this.text(s.text,s.x+c,s.y+c,{align:"left",baseline:"top",maxWidth:s.width-c-c})),this.internal.__cell__.lastCell=s,this};i.table=function(s,a,c,u,f){if(r.call(this),!c)throw new Error("No data for PDF table.");var h,p,A,g,m=[],v=[],y=[],w={},x={},L=[],F=[],M=(f=f||{}).autoSize||!1,D=f.printHeaders!==!1,X=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,I=f.margins||Object.assign({width:this.getPageWidth()},t),O=typeof f.padding=="number"?f.padding:3,W=f.headerBackgroundColor||"#c8c8c8",C=f.headerTextColor||"#000";if(n.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=C,this.setFontSize(X),u==null)v=m=Object.keys(c[0]),y=m.map(function(){return"left"});else if(Array.isArray(u)&&Ye(u[0])==="object")for(m=u.map(function(K){return K.name}),v=u.map(function(K){return K.prompt||K.name||""}),y=u.map(function(K){return K.align||"left"}),h=0;h<u.length;h+=1)x[u[h].name]=.7499990551181103*u[h].width;else Array.isArray(u)&&typeof u[0]=="string"&&(v=m=u,y=m.map(function(){return"left"}));if(M||Array.isArray(u)&&typeof u[0]=="string")for(h=0;h<m.length;h+=1){for(w[g=m[h]]=c.map(function(K){return K[g]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(v[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=w[g],this.setFont(void 0,"normal"),A=0;A<p.length;A+=1)L.push(this.getTextDimensions(p[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[g]=Math.max.apply(null,L)+O+O,L=[]}if(D){var Q={};for(h=0;h<m.length;h+=1)Q[m[h]]={},Q[m[h]].text=v[h],Q[m[h]].align=y[h];var lt=l.call(this,Q,x);F=m.map(function(K){return new o(s,a,x[K],lt,Q[K].text,void 0,Q[K].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var it=u.reduce(function(K,z){return K[z.name]=z.align,K},{});for(h=0;h<c.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:c[h]},this);var et=l.call(this,c[h],x);for(A=0;A<m.length;A+=1){var B=c[h][m[A]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:A,data:B},this),d.call(this,new o(s,a,x[m[A]],et,B,h+2,it[m[A]]))}}return this.internal.__cell__.table_x=s,this.internal.__cell__.table_y=a,this};var l=function(s,a){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(s).map(function(h){var p=s[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,a[h]-c-c)},this).map(function(h){return this.getLineHeightFactor()*h.length*u/f+c+c},this).reduce(function(h,p){return Math.max(h,p)},0)};i.setTableHeaderRow=function(s){r.call(this),this.internal.__cell__.tableHeaderRow=s},i.printHeaderRow=function(s,a){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){c=this.internal.__cell__.tableHeaderRow[h].clone(),a&&(c.y=this.internal.__cell__.margins.top||0,f.push(c)),c.lineNumber=s;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),d.call(this,c),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),e=!1}}(re.API);var d2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},p2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vp=f2(p2),g2=[100,200,300,400,500,600,700,800,900],MC=f2(g2);function Sd(i){var t=i.family.replace(/"|'/g,"").toLowerCase(),e=function(o){return d2[o=o||"normal"]?o:"normal"}(i.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(i.weight),n=function(o){return typeof vp[o=o||"normal"]=="number"?o:"normal"}(i.stretch);return{family:t,style:e,weight:r,stretch:n,src:i.src||[],ref:i.ref||{name:t,style:[n,e,r].join(" ")}}}function tm(i,t,e,r){var n;for(n=e;n>=0&&n<t.length;n+=r)if(i[t[n]])return i[t[n]];for(n=e;n>=0&&n<t.length;n-=r)if(i[t[n]])return i[t[n]]}var FC={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},em={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function im(i){return[i.stretch,i.style,i.weight,i.family].join(" ")}function rm(i){return i.trimLeft()}function NC(i,t){for(var e=0;e<i.length;){if(i.charAt(e)===t)return[i.substring(0,e),i.substring(e+1)];e+=1}return null}function BC(i){var t=i.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],i.substring(t[0].length)]}var $h,nm,sm,Do,Jh,am,om,lm,Td=["times"];function cm(i,t,e,r,n){var o=4,d=um;switch(n){case re.API.image_compression.FAST:o=1,d=hm;break;case re.API.image_compression.MEDIUM:o=6,d=fm;break;case re.API.image_compression.SLOW:o=9,d=dm}i=function(s,a,c,u){for(var f,h=s.length/a,p=new Uint8Array(s.length+h),A=[IC,hm,um,fm,dm],g=0;g<h;g+=1){var m=g*a,v=s.subarray(m,m+a);if(u)p.set(u(v,c,f),m+g);else{for(var y=A.length,w=[],x=0;x<y;x+=1)w[x]=A[x](v,c,f);var L=jC(w.concat());p.set(w[L],m+g)}f=v}return p}(i,t,Math.ceil(e*r/8),d);var l=sp(i,{level:o});return re.API.__addimage__.arrayBufferToBinaryString(l)}function IC(i){var t=Array.apply([],i);return t.unshift(0),t}function hm(i,t){var e=i.length,r=[];r[0]=1;for(var n=0;n<e;n+=1){var o=i[n-t]||0;r[n+1]=i[n]-o+256&255}return r}function um(i,t,e){var r=i.length,n=[];n[0]=2;for(var o=0;o<r;o+=1){var d=e&&e[o]||0;n[o+1]=i[o]-d+256&255}return n}function fm(i,t,e){var r=i.length,n=[];n[0]=3;for(var o=0;o<r;o+=1){var d=i[o-t]||0,l=e&&e[o]||0;n[o+1]=i[o]+256-(d+l>>>1)&255}return n}function dm(i,t,e){var r=i.length,n=[];n[0]=4;for(var o=0;o<r;o+=1){var d=RC(i[o-t]||0,e&&e[o]||0,e&&e[o-t]||0);n[o+1]=i[o]-d+256&255}return n}function RC(i,t,e){if(i===t&&t===e)return i;var r=Math.abs(t-e),n=Math.abs(i-e),o=Math.abs(i+t-e-e);return r<=n&&r<=o?i:n<=o?t:e}function jC(i){var t=i.map(function(e){return e.reduce(function(r,n){return r+Math.abs(n)},0)});return t.indexOf(Math.min.apply(null,t))}function kd(i,t,e){var r=t*e,n=Math.floor(r/8),o=16-(r-8*n+e),d=(1<<e)-1;return A2(i,n)>>o&d}function pm(i,t,e,r){var n=e*r,o=Math.floor(n/8),d=16-(n-8*o+r),l=(1<<r)-1,s=(t&l)<<d;(function(a,c,u){if(c+1<a.byteLength)a.setUint16(c,u,!1);else{var f=u>>8&255;a.setUint8(c,f)}})(i,o,A2(i,o)&~(l<<d)&65535|s)}function A2(i,t){return t+1<i.byteLength?i.getUint16(t,!1):i.getUint8(t)<<8}function zC(i){var t=0;if(i[t++]!==71||i[t++]!==73||i[t++]!==70||i[t++]!==56||(i[t++]+1&253)!=56||i[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=i[t++]|i[t++]<<8,r=i[t++]|i[t++]<<8,n=i[t++],o=n>>7,d=1<<1+(7&n);i[t++],i[t++];var l=null,s=null;o&&(l=t,s=d,t+=3*d);var a=!0,c=[],u=0,f=null,h=0,p=null;for(this.width=e,this.height=r;a&&t<i.length;)switch(i[t++]){case 33:switch(i[t++]){case 255:if(i[t]!==11||i[t+1]==78&&i[t+2]==69&&i[t+3]==84&&i[t+4]==83&&i[t+5]==67&&i[t+6]==65&&i[t+7]==80&&i[t+8]==69&&i[t+9]==50&&i[t+10]==46&&i[t+11]==48&&i[t+12]==3&&i[t+13]==1&&i[t+16]==0)t+=14,p=i[t++]|i[t++]<<8,t++;else for(t+=12;;){if(!((I=i[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(i[t++]!==4||i[t+4]!==0)throw new Error("Invalid graphics extension block.");var A=i[t++];u=i[t++]|i[t++]<<8,f=i[t++],1&A||(f=null),h=A>>2&7,t++;break;case 254:for(;;){if(!((I=i[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+i[t-1].toString(16))}break;case 44:var g=i[t++]|i[t++]<<8,m=i[t++]|i[t++]<<8,v=i[t++]|i[t++]<<8,y=i[t++]|i[t++]<<8,w=i[t++],x=w>>6&1,L=1<<1+(7&w),F=l,M=s,D=!1;w>>7&&(D=!0,F=t,M=L,t+=3*L);var X=t;for(t++;;){var I;if(!((I=i[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}c.push({x:g,y:m,width:v,height:y,has_local_palette:D,palette_offset:F,palette_size:M,data_offset:X,data_length:t-X,transparent_index:f,interlaced:!!x,delay:u,disposal:h});break;case 59:a=!1;break;default:throw new Error("Unknown gif block: 0x"+i[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(O){if(O<0||O>=c.length)throw new Error("Frame index out of range.");return c[O]},this.decodeAndBlitFrameBGRA=function(O,W){var C=this.frameInfo(O),Q=C.width*C.height,lt=new Uint8Array(Q);gm(i,C.data_offset,lt,Q);var it=C.palette_offset,et=C.transparent_index;et===null&&(et=256);var B=C.width,K=e-B,z=B,S=4*(C.y*e+C.x),j=4*((C.y+C.height)*e+C.x),N=S,E=4*K;C.interlaced===!0&&(E+=4*e*7);for(var H=8,Z=0,ot=lt.length;Z<ot;++Z){var nt=lt[Z];if(z===0&&(z=B,(N+=E)>=j&&(E=4*K+4*e*(H-1),N=S+(B+K)*(H<<1),H>>=1)),nt===et)N+=4;else{var dt=i[it+3*nt],gt=i[it+3*nt+1],Tt=i[it+3*nt+2];W[N++]=Tt,W[N++]=gt,W[N++]=dt,W[N++]=255}--z}},this.decodeAndBlitFrameRGBA=function(O,W){var C=this.frameInfo(O),Q=C.width*C.height,lt=new Uint8Array(Q);gm(i,C.data_offset,lt,Q);var it=C.palette_offset,et=C.transparent_index;et===null&&(et=256);var B=C.width,K=e-B,z=B,S=4*(C.y*e+C.x),j=4*((C.y+C.height)*e+C.x),N=S,E=4*K;C.interlaced===!0&&(E+=4*e*7);for(var H=8,Z=0,ot=lt.length;Z<ot;++Z){var nt=lt[Z];if(z===0&&(z=B,(N+=E)>=j&&(E=4*K+4*e*(H-1),N=S+(B+K)*(H<<1),H>>=1)),nt===et)N+=4;else{var dt=i[it+3*nt],gt=i[it+3*nt+1],Tt=i[it+3*nt+2];W[N++]=dt,W[N++]=gt,W[N++]=Tt,W[N++]=255}--z}}}function gm(i,t,e,r){for(var n=i[t++],o=1<<n,d=o+1,l=d+1,s=n+1,a=(1<<s)-1,c=0,u=0,f=0,h=i[t++],p=new Int32Array(4096),A=null;;){for(;c<16&&h!==0;)u|=i[t++]<<c,c+=8,h===1?h=i[t++]:--h;if(c<s)break;var g=u&a;if(u>>=s,c-=s,g!==o){if(g===d)break;for(var m=g<l?g:A,v=0,y=m;y>o;)y=p[y]>>8,++v;var w=y;if(f+v+(m!==g?1:0)>r)return void Ve.log("Warning, gif stream longer than expected.");e[f++]=w;var x=f+=v;for(m!==g&&(e[f++]=w),y=m;v--;)y=p[y],e[--x]=255&y,y>>=8;A!==null&&l<4096&&(p[l++]=A<<8|w,l>=a+1&&s<12&&(++s,a=a<<1|1)),A=g}else l=d+1,a=(1<<(s=n+1))-1,A=null}return f!==r&&Ve.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ld(i){var t,e,r,n,o,d=Math.floor,l=new Array(64),s=new Array(64),a=new Array(64),c=new Array(64),u=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),A=[],g=0,m=7,v=new Array(64),y=new Array(64),w=new Array(64),x=new Array(256),L=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function lt(S,j){for(var N=0,E=0,H=new Array,Z=1;Z<=16;Z++){for(var ot=1;ot<=S[Z];ot++)H[j[E]]=[],H[j[E]][0]=N,H[j[E]][1]=Z,E++,N++;N*=2}return H}function it(S){for(var j=S[0],N=S[1]-1;N>=0;)j&1<<N&&(g|=1<<m),N--,--m<0&&(g==255?(et(255),et(0)):et(g),m=7,g=0)}function et(S){A.push(S)}function B(S){et(S>>8&255),et(255&S)}function K(S,j,N,E,H){for(var Z,ot=H[0],nt=H[240],dt=function(tt,yt){var At,st,_t,Dt,kt,Nt,Xt,Ut,Wt,Jt,Ht=0;for(Wt=0;Wt<8;++Wt){At=tt[Ht],st=tt[Ht+1],_t=tt[Ht+2],Dt=tt[Ht+3],kt=tt[Ht+4],Nt=tt[Ht+5],Xt=tt[Ht+6];var ve=At+(Ut=tt[Ht+7]),ne=At-Ut,Yt=st+Xt,ce=st-Xt,Se=_t+Nt,se=_t-Nt,ke=Dt+kt,pe=Dt-kt,ni=ve+ke,li=ve-ke,Me=Yt+Se,oe=Yt-Se;tt[Ht]=ni+Me,tt[Ht+4]=ni-Me;var je=.707106781*(oe+li);tt[Ht+2]=li+je,tt[Ht+6]=li-je;var ha=.382683433*((ni=pe+se)-(oe=ce+ne)),Qi=.5411961*ni+ha,Kn=1.306562965*oe+ha,kn=.707106781*(Me=se+ce),le=ne+kn,$n=ne-kn;tt[Ht+5]=$n+Qi,tt[Ht+3]=$n-Qi,tt[Ht+1]=le+Kn,tt[Ht+7]=le-Kn,Ht+=8}for(Ht=0,Wt=0;Wt<8;++Wt){At=tt[Ht],st=tt[Ht+8],_t=tt[Ht+16],Dt=tt[Ht+24],kt=tt[Ht+32],Nt=tt[Ht+40],Xt=tt[Ht+48];var Jn=At+(Ut=tt[Ht+56]),qr=At-Ut,Qr=st+Xt,ci=st-Xt,Ri=_t+Nt,Wi=_t-Nt,ua=Dt+kt,ks=Dt-kt,cn=Jn+ua,Ln=Jn-ua,hn=Qr+Ri,un=Qr-Ri;tt[Ht]=cn+hn,tt[Ht+32]=cn-hn;var Kr=.707106781*(un+Ln);tt[Ht+16]=Ln+Kr,tt[Ht+48]=Ln-Kr;var fa=.382683433*((cn=ks+Wi)-(un=ci+qr)),Pn=.5411961*cn+fa,da=1.306562965*un+fa,fo=.707106781*(hn=Wi+ci),po=qr+fo,go=qr-fo;tt[Ht+40]=go+Pn,tt[Ht+24]=go-Pn,tt[Ht+8]=po+da,tt[Ht+56]=po-da,Ht++}for(Wt=0;Wt<64;++Wt)Jt=tt[Wt]*yt[Wt],h[Wt]=Jt>0?Jt+.5|0:Jt-.5|0;return h}(S,j),gt=0;gt<64;++gt)p[F[gt]]=dt[gt];var Tt=p[0]-N;N=p[0],Tt==0?it(E[0]):(it(E[f[Z=32767+Tt]]),it(u[Z]));for(var pt=63;pt>0&&p[pt]==0;)pt--;if(pt==0)return it(ot),N;for(var T,U=1;U<=pt;){for(var ct=U;p[U]==0&&U<=pt;)++U;var V=U-ct;if(V>=16){T=V>>4;for(var G=1;G<=T;++G)it(nt);V&=15}Z=32767+p[U],it(H[(V<<4)+f[Z]]),it(u[Z]),U++}return pt!=63&&it(ot),N}function z(S){S=Math.min(Math.max(S,1),100),o!=S&&(function(j){for(var N=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],E=0;E<64;E++){var H=d((N[E]*j+50)/100);H=Math.min(Math.max(H,1),255),l[F[E]]=H}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ot=0;ot<64;ot++){var nt=d((Z[ot]*j+50)/100);nt=Math.min(Math.max(nt,1),255),s[F[ot]]=nt}for(var dt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],gt=0,Tt=0;Tt<8;Tt++)for(var pt=0;pt<8;pt++)a[gt]=1/(l[F[gt]]*dt[Tt]*dt[pt]*8),c[gt]=1/(s[F[gt]]*dt[Tt]*dt[pt]*8),gt++}(S<50?Math.floor(5e3/S):Math.floor(200-2*S)),o=S)}this.encode=function(S,j){j&&z(j),A=new Array,g=0,m=7,B(65496),B(65504),B(16),et(74),et(70),et(73),et(70),et(0),et(1),et(1),et(0),B(1),B(1),et(0),et(0),function(){B(65499),B(132),et(0);for(var st=0;st<64;st++)et(l[st]);et(1);for(var _t=0;_t<64;_t++)et(s[_t])}(),function(st,_t){B(65472),B(17),et(8),B(_t),B(st),et(3),et(1),et(17),et(0),et(2),et(17),et(1),et(3),et(17),et(1)}(S.width,S.height),function(){B(65476),B(418),et(0);for(var st=0;st<16;st++)et(M[st+1]);for(var _t=0;_t<=11;_t++)et(D[_t]);et(16);for(var Dt=0;Dt<16;Dt++)et(X[Dt+1]);for(var kt=0;kt<=161;kt++)et(I[kt]);et(1);for(var Nt=0;Nt<16;Nt++)et(O[Nt+1]);for(var Xt=0;Xt<=11;Xt++)et(W[Xt]);et(17);for(var Ut=0;Ut<16;Ut++)et(C[Ut+1]);for(var Wt=0;Wt<=161;Wt++)et(Q[Wt])}(),B(65498),B(12),et(3),et(1),et(0),et(2),et(17),et(3),et(17),et(0),et(63),et(0);var N=0,E=0,H=0;g=0,m=7,this.encode.displayName="_encode_";for(var Z,ot,nt,dt,gt,Tt,pt,T,U,ct=S.data,V=S.width,G=S.height,tt=4*V,yt=0;yt<G;){for(Z=0;Z<tt;){for(gt=tt*yt+Z,pt=-1,T=0,U=0;U<64;U++)Tt=gt+(T=U>>3)*tt+(pt=4*(7&U)),yt+T>=G&&(Tt-=tt*(yt+1+T-G)),Z+pt>=tt&&(Tt-=Z+pt-tt+4),ot=ct[Tt++],nt=ct[Tt++],dt=ct[Tt++],v[U]=(L[ot]+L[nt+256|0]+L[dt+512|0]>>16)-128,y[U]=(L[ot+768|0]+L[nt+1024|0]+L[dt+1280|0]>>16)-128,w[U]=(L[ot+1280|0]+L[nt+1536|0]+L[dt+1792|0]>>16)-128;N=K(v,a,N,t,r),E=K(y,c,E,e,n),H=K(w,c,H,e,n),Z+=32}yt+=8}if(m>=0){var At=[];At[1]=m+1,At[0]=(1<<m+1)-1,it(At)}return B(65497),new Uint8Array(A)},i=i||50,function(){for(var S=String.fromCharCode,j=0;j<256;j++)x[j]=S(j)}(),t=lt(M,D),e=lt(O,W),r=lt(X,I),n=lt(C,Q),function(){for(var S=1,j=2,N=1;N<=15;N++){for(var E=S;E<j;E++)f[32767+E]=N,u[32767+E]=[],u[32767+E][1]=N,u[32767+E][0]=E;for(var H=-(j-1);H<=-S;H++)f[32767+H]=N,u[32767+H]=[],u[32767+H][1]=N,u[32767+H][0]=j-1+H;S<<=1,j<<=1}}(),function(){for(var S=0;S<256;S++)L[S]=19595*S,L[S+256|0]=38470*S,L[S+512|0]=7471*S+32768,L[S+768|0]=-11059*S,L[S+1024|0]=-21709*S,L[S+1280|0]=32768*S+8421375,L[S+1536|0]=-27439*S,L[S+1792|0]=-5329*S}(),z(i)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function mn(i,t){if(this.pos=0,this.buffer=i,this.datav=new DataView(i.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Am(i){function t(D){if(!D)throw Error("assert :P")}function e(D,X,I){for(var O=0;4>O;O++)if(D[X+O]!=I.charCodeAt(O))return!0;return!1}function r(D,X,I,O,W){for(var C=0;C<W;C++)D[X+C]=I[O+C]}function n(D,X,I,O){for(var W=0;W<O;W++)D[X+W]=I}function o(D){return new Int32Array(D)}function d(D,X){for(var I=[],O=0;O<D;O++)I.push(new X);return I}function l(D,X){var I=[];return function O(W,C,Q){for(var lt=Q[C],it=0;it<lt&&(W.push(Q.length>C+1?[]:new X),!(Q.length<C+1));it++)O(W[it],C+1,Q)}(I,0,D),I}var s=function(){var D=this;function X(b,_){for(var P=1<<_-1>>>0;b&P;)P>>>=1;return P?(b&P-1)+P:b}function I(b,_,P,R,q){t(!(R%P));do b[_+(R-=P)]=q;while(0<R)}function O(b,_,P,R,q){if(t(2328>=q),512>=q)var $=o(512);else if(($=o(q))==null)return 0;return function(J,rt,at,ht,bt,Pt){var ut,xt,St=rt,Et=1<<at,Lt=o(16),Mt=o(16);for(t(bt!=0),t(ht!=null),t(J!=null),t(0<at),xt=0;xt<bt;++xt){if(15<ht[xt])return 0;++Lt[ht[xt]]}if(Lt[0]==bt)return 0;for(Mt[1]=0,ut=1;15>ut;++ut){if(Lt[ut]>1<<ut)return 0;Mt[ut+1]=Mt[ut]+Lt[ut]}for(xt=0;xt<bt;++xt)ut=ht[xt],0<ht[xt]&&(Pt[Mt[ut]++]=xt);if(Mt[15]==1)return(ht=new W).g=0,ht.value=Pt[0],I(J,St,1,Et,ht),Et;var Bt,jt=-1,It=Et-1,ie=0,qt=1,xe=1,Zt=1<<at;for(xt=0,ut=1,bt=2;ut<=at;++ut,bt<<=1){if(qt+=xe<<=1,0>(xe-=Lt[ut]))return 0;for(;0<Lt[ut];--Lt[ut])(ht=new W).g=ut,ht.value=Pt[xt++],I(J,St+ie,bt,Zt,ht),ie=X(ie,ut)}for(ut=at+1,bt=2;15>=ut;++ut,bt<<=1){if(qt+=xe<<=1,0>(xe-=Lt[ut]))return 0;for(;0<Lt[ut];--Lt[ut]){if(ht=new W,(ie&It)!=jt){for(St+=Zt,Bt=1<<(jt=ut)-at;15>jt&&!(0>=(Bt-=Lt[jt]));)++jt,Bt<<=1;Et+=Zt=1<<(Bt=jt-at),J[rt+(jt=ie&It)].g=Bt+at,J[rt+jt].value=St-rt-jt}ht.g=ut-at,ht.value=Pt[xt++],I(J,St+(ie>>at),bt,Zt,ht),ie=X(ie,ut)}}return qt!=2*Mt[15]-1?0:Et}(b,_,P,R,q,$)}function W(){this.value=this.g=0}function C(){this.value=this.g=0}function Q(){this.G=d(5,W),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=d(Oa,C)}function lt(b,_,P,R){t(b!=null),t(_!=null),t(2147483648>R),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=_,b.pa=P,b.Jd=_,b.Yc=P+R,b.Zc=4<=R?P+R-4+1:P,ot(b)}function it(b,_){for(var P=0;0<_--;)P|=dt(b,128)<<_;return P}function et(b,_){var P=it(b,_);return nt(b)?-P:P}function B(b,_,P,R){var q,$=0;for(t(b!=null),t(_!=null),t(4294967288>R),b.Sb=R,b.Ra=0,b.u=0,b.h=0,4<R&&(R=4),q=0;q<R;++q)$+=_[P+q]<<8*q;b.Ra=$,b.bb=R,b.oa=_,b.pa=P}function K(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Es-8>>>0,++b.bb,b.u-=8;E(b)&&(b.h=1,b.u=0)}function z(b,_){if(t(0<=_),!b.h&&_<=kr){var P=N(b)&Tr[_];return b.u+=_,K(b),P}return b.h=1,b.u=0}function S(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(b){return b.Ra>>>(b.u&Es-1)>>>0}function E(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Es}function H(b,_){b.u=_,b.h=E(b)}function Z(b){b.u>=ss&&(t(b.u>=ss),K(b))}function ot(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function nt(b){return it(b,1)}function dt(b,_){var P=b.Ca;0>b.b&&ot(b);var R=b.b,q=P*_>>>8,$=(b.I>>>R>q)+0;for($?(P-=q,b.I-=q+1<<R>>>0):P=q+1,R=P,q=0;256<=R;)q+=8,R>>=8;return R=7^q+Ms[R],b.b-=R,b.Ca=(P<<R)-1,$}function gt(b,_,P){b[_+0]=P>>24&255,b[_+1]=P>>16&255,b[_+2]=P>>8&255,b[_+3]=255&P}function Tt(b,_){return b[_+0]|b[_+1]<<8}function pt(b,_){return Tt(b,_)|b[_+2]<<16}function T(b,_){return Tt(b,_)|Tt(b,_+2)<<16}function U(b,_){var P=1<<_;return t(b!=null),t(0<_),b.X=o(P),b.X==null?0:(b.Mb=32-_,b.Xa=_,1)}function ct(b,_){t(b!=null),t(_!=null),t(b.Xa==_.Xa),r(_.X,0,b.X,0,1<<_.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function G(b,_,P,R){t(P!=null),t(R!=null);var q=P[0],$=R[0];return q==0&&(q=(b*$+_/2)/_),$==0&&($=(_*q+b/2)/b),0>=q||0>=$?0:(P[0]=q,R[0]=$,1)}function tt(b,_){return b+(1<<_)-1>>>_}function yt(b,_){return((4278255360&b)+(4278255360&_)>>>0&4278255360)+((16711935&b)+(16711935&_)>>>0&16711935)>>>0}function At(b,_){D[_]=function(P,R,q,$,J,rt,at){var ht;for(ht=0;ht<J;++ht){var bt=D[b](rt[at+ht-1],q,$+ht);rt[at+ht]=yt(P[R+ht],bt)}}}function st(){this.ud=this.hd=this.jd=0}function _t(b,_){return((4278124286&(b^_))>>>1)+(b&_)>>>0}function Dt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function kt(b,_){return Dt(b+(b-_+.5>>1))}function Nt(b,_,P){return Math.abs(_-P)-Math.abs(b-P)}function Xt(b,_,P,R,q,$,J){for(R=$[J-1],P=0;P<q;++P)$[J+P]=R=yt(b[_+P],R)}function Ut(b,_,P,R,q){var $;for($=0;$<P;++$){var J=b[_+$],rt=J>>8&255,at=16711935&(at=(at=16711935&J)+((rt<<16)+rt));R[q+$]=(4278255360&J)+at>>>0}}function Wt(b,_){_.jd=255&b,_.hd=b>>8&255,_.ud=b>>16&255}function Jt(b,_,P,R,q,$){var J;for(J=0;J<R;++J){var rt=_[P+J],at=rt>>>8,ht=rt,bt=255&(bt=(bt=rt>>>16)+((b.jd<<24>>24)*(at<<24>>24)>>>5));ht=255&(ht=(ht+=(b.hd<<24>>24)*(at<<24>>24)>>>5)+((b.ud<<24>>24)*(bt<<24>>24)>>>5)),q[$+J]=(4278255360&rt)+(bt<<16)+ht}}function Ht(b,_,P,R,q){D[_]=function($,J,rt,at,ht,bt,Pt,ut,xt){for(at=Pt;at<ut;++at)for(Pt=0;Pt<xt;++Pt)ht[bt++]=q(rt[R($[J++])])},D[b]=function($,J,rt,at,ht,bt,Pt){var ut=8>>$.b,xt=$.Ea,St=$.K[0],Et=$.w;if(8>ut)for($=(1<<$.b)-1,Et=(1<<ut)-1;J<rt;++J){var Lt,Mt=0;for(Lt=0;Lt<xt;++Lt)Lt&$||(Mt=R(at[ht++])),bt[Pt++]=q(St[Mt&Et]),Mt>>=ut}else D["VP8LMapColor"+P](at,ht,St,Et,bt,Pt,J,rt,xt)}}function ve(b,_,P,R,q){for(P=_+P;_<P;){var $=b[_++];R[q++]=$>>16&255,R[q++]=$>>8&255,R[q++]=255&$}}function ne(b,_,P,R,q){for(P=_+P;_<P;){var $=b[_++];R[q++]=$>>16&255,R[q++]=$>>8&255,R[q++]=255&$,R[q++]=$>>24&255}}function Yt(b,_,P,R,q){for(P=_+P;_<P;){var $=(J=b[_++])>>16&240|J>>12&15,J=240&J|J>>28&15;R[q++]=$,R[q++]=J}}function ce(b,_,P,R,q){for(P=_+P;_<P;){var $=(J=b[_++])>>16&248|J>>13&7,J=J>>5&224|J>>3&31;R[q++]=$,R[q++]=J}}function Se(b,_,P,R,q){for(P=_+P;_<P;){var $=b[_++];R[q++]=255&$,R[q++]=$>>8&255,R[q++]=$>>16&255}}function se(b,_,P,R,q,$){if($==0)for(P=_+P;_<P;)gt(R,(($=b[_++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),q+=32;else r(R,q,b,_,P)}function ke(b,_){D[_][0]=D[b+"0"],D[_][1]=D[b+"1"],D[_][2]=D[b+"2"],D[_][3]=D[b+"3"],D[_][4]=D[b+"4"],D[_][5]=D[b+"5"],D[_][6]=D[b+"6"],D[_][7]=D[b+"7"],D[_][8]=D[b+"8"],D[_][9]=D[b+"9"],D[_][10]=D[b+"10"],D[_][11]=D[b+"11"],D[_][12]=D[b+"12"],D[_][13]=D[b+"13"],D[_][14]=D[b+"0"],D[_][15]=D[b+"0"]}function pe(b){return b==xf||b==Cf||b==lh||b==Sf}function ni(){this.eb=[],this.size=this.A=this.fb=0}function li(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Me(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ni,this.f.kb=new li,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function je(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ha(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Qi(b,_){var P=b.T,R=_.ba.f.RGBA,q=R.eb,$=R.fb+b.ka*R.A,J=rn[_.ba.S],rt=b.y,at=b.O,ht=b.f,bt=b.N,Pt=b.ea,ut=b.W,xt=_.cc,St=_.dc,Et=_.Mc,Lt=_.Nc,Mt=b.ka,Bt=b.ka+b.T,jt=b.U,It=jt+1>>1;for(Mt==0?J(rt,at,null,null,ht,bt,Pt,ut,ht,bt,Pt,ut,q,$,null,null,jt):(J(_.ec,_.fc,rt,at,xt,St,Et,Lt,ht,bt,Pt,ut,q,$-R.A,q,$,jt),++P);Mt+2<Bt;Mt+=2)xt=ht,St=bt,Et=Pt,Lt=ut,bt+=b.Rc,ut+=b.Rc,$+=2*R.A,J(rt,(at+=2*b.fa)-b.fa,rt,at,xt,St,Et,Lt,ht,bt,Pt,ut,q,$-R.A,q,$,jt);return at+=b.fa,b.j+Bt<b.o?(r(_.ec,_.fc,rt,at,jt),r(_.cc,_.dc,ht,bt,It),r(_.Mc,_.Nc,Pt,ut,It),P--):1&Bt||J(rt,at,null,null,ht,bt,Pt,ut,ht,bt,Pt,ut,q,$+R.A,null,null,jt),P}function Kn(b,_,P){var R=b.F,q=[b.J];if(R!=null){var $=b.U,J=_.ba.S,rt=J==oh||J==lh;_=_.ba.f.RGBA;var at=[0],ht=b.ka;at[0]=b.T,b.Kb&&(ht==0?--at[0]:(--ht,q[0]-=b.width),b.j+b.ka+b.T==b.o&&(at[0]=b.o-b.j-ht));var bt=_.eb;ht=_.fb+ht*_.A,b=Cg(R,q[0],b.width,$,at,bt,ht+(rt?0:3),_.A),t(P==at),b&&pe(J)&&Rl(bt,ht,rt,$,at,_.A)}return 0}function kn(b){var _=b.ma,P=_.ba.S,R=11>P,q=P==sh||P==ah||P==oh||P==_f||P==12||pe(P);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!Ol(_.Oa,b,q?11:12))return 0;if(q&&pe(P)&&Zc(),b.da)alert("todo:use_scaling");else{if(R){if(_.Ib=ha,b.Kb){if(P=b.U+1>>1,_.memory=o(b.U+2*P),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+b.U,_.Mc=_.cc,_.Nc=_.dc+P,_.Ib=Qi,Zc()}}else alert("todo:EmitYUV");q&&(_.Jb=Kn,R&&Jr())}if(R&&!Ug){for(b=0;256>b;++b)K2[b]=89858*(b-128)+hh>>ch,Z2[b]=-22014*(b-128)+hh,J2[b]=-45773*(b-128),$2[b]=113618*(b-128)+hh>>ch;for(b=zl;b<Lf;++b)_=76283*(b-16)+hh>>ch,ty[b-zl]=hi(_,255),ey[b-zl]=hi(_+8>>4,15);Ug=1}return 1}function le(b){var _=b.ma,P=b.U,R=b.T;return t(!(1&b.ka)),0>=P||0>=R?0:(P=_.Ib(b,_),_.Jb!=null&&_.Jb(b,_,P),_.Dc+=P,1)}function $n(b){b.ma.memory=null}function Jn(b,_,P,R){return z(b,8)!=47?0:(_[0]=z(b,14)+1,P[0]=z(b,14)+1,R[0]=z(b,1),z(b,3)!=0?0:!b.h)}function qr(b,_){if(4>b)return b+1;var P=b-2>>1;return(2+(1&b)<<P)+z(_,P)+1}function Qr(b,_){return 120<_?_-120:1<=(P=((P=B2[_-1])>>4)*b+(8-(15&P)))?P:1;var P}function ci(b,_,P){var R=N(P),q=b[_+=255&R].g-8;return 0<q&&(H(P,P.u+8),R=N(P),_+=b[_].value,_+=R&(1<<q)-1),H(P,P.u+b[_].g),b[_].value}function Ri(b,_,P){return P.g+=b.g,P.value+=b.value<<_>>>0,t(8>=P.g),b.g}function Wi(b,_,P){var R=b.xc;return t((_=R==0?0:b.vc[b.md*(P>>R)+(_>>R)])<b.Wb),b.Ya[_]}function ua(b,_,P,R){var q=b.ab,$=b.c*_,J=b.C;_=J+_;var rt=P,at=R;for(R=b.Ta,P=b.Ua;0<q--;){var ht=b.gc[q],bt=J,Pt=_,ut=rt,xt=at,St=(at=R,rt=P,ht.Ea);switch(t(bt<Pt),t(Pt<=ht.nc),ht.hc){case 2:mi(ut,xt,(Pt-bt)*St,at,rt);break;case 0:var Et=bt,Lt=Pt,Mt=at,Bt=rt,jt=(Zt=ht).Ea;Et==0&&(El(ut,xt,null,null,1,Mt,Bt),Xt(ut,xt+1,0,0,jt-1,Mt,Bt+1),xt+=jt,Bt+=jt,++Et);for(var It=1<<Zt.b,ie=It-1,qt=tt(jt,Zt.b),xe=Zt.K,Zt=Zt.w+(Et>>Zt.b)*qt;Et<Lt;){var Pe=xe,Fi=Zt,Ce=1;for(xo(ut,xt,Mt,Bt-jt,1,Mt,Bt);Ce<jt;){var te=(Ce&~ie)+It;te>jt&&(te=jt),(0,Fl[Pe[Fi++]>>8&15])(ut,xt+ +Ce,Mt,Bt+Ce-jt,te-Ce,Mt,Bt+Ce),Ce=te}xt+=jt,Bt+=jt,++Et&ie||(Zt+=qt)}Pt!=ht.nc&&r(at,rt-St,at,rt+(Pt-bt-1)*St,St);break;case 1:for(St=ut,Lt=xt,jt=(ut=ht.Ea)-(Bt=ut&~(Mt=(xt=1<<ht.b)-1)),Et=tt(ut,ht.b),It=ht.K,ht=ht.w+(bt>>ht.b)*Et;bt<Pt;){for(ie=It,qt=ht,xe=new st,Zt=Lt+Bt,Pe=Lt+ut;Lt<Zt;)Wt(ie[qt++],xe),Nl(xe,St,Lt,xt,at,rt),Lt+=xt,rt+=xt;Lt<Pe&&(Wt(ie[qt++],xe),Nl(xe,St,Lt,jt,at,rt),Lt+=jt,rt+=jt),++bt&Mt||(ht+=Et)}break;case 3:if(ut==at&&xt==rt&&0<ht.b){for(Lt=at,ut=St=rt+(Pt-bt)*St-(Bt=(Pt-bt)*tt(ht.Ea,ht.b)),xt=at,Mt=rt,Et=[],Bt=(jt=Bt)-1;0<=Bt;--Bt)Et[Bt]=xt[Mt+Bt];for(Bt=jt-1;0<=Bt;--Bt)Lt[ut+Bt]=Et[Bt];eh(ht,bt,Pt,at,St,at,rt)}else eh(ht,bt,Pt,ut,xt,at,rt)}rt=R,at=P}at!=P&&r(R,P,rt,at,$)}function ks(b,_){var P=b.V,R=b.Ba+b.c*b.C,q=_-b.C;if(t(_<=b.l.o),t(16>=q),0<q){var $=b.l,J=b.Ta,rt=b.Ua,at=$.width;if(ua(b,q,P,R),q=rt=[rt],t((P=b.C)<(R=_)),t($.v<$.va),R>$.o&&(R=$.o),P<$.j){var ht=$.j-P;P=$.j,q[0]+=ht*at}if(P>=R?P=0:(q[0]+=4*$.v,$.ka=P-$.j,$.U=$.va-$.v,$.T=R-P,P=1),P){if(rt=rt[0],11>(P=b.ca).S){var bt=P.f.RGBA,Pt=(R=P.S,q=$.U,$=$.T,ht=bt.eb,bt.A),ut=$;for(bt=bt.fb+b.Ma*bt.A;0<ut--;){var xt=J,St=rt,Et=q,Lt=ht,Mt=bt;switch(R){case nh:Bl(xt,St,Et,Lt,Mt);break;case sh:Fs(xt,St,Et,Lt,Mt);break;case xf:Fs(xt,St,Et,Lt,Mt),Rl(Lt,Mt,0,Et,1,0);break;case Dg:Da(xt,St,Et,Lt,Mt);break;case ah:se(xt,St,Et,Lt,Mt,1);break;case Cf:se(xt,St,Et,Lt,Mt,1),Rl(Lt,Mt,0,Et,1,0);break;case oh:se(xt,St,Et,Lt,Mt,0);break;case lh:se(xt,St,Et,Lt,Mt,0),Rl(Lt,Mt,1,Et,1,0);break;case _f:Ns(xt,St,Et,Lt,Mt);break;case Sf:Ns(xt,St,Et,Lt,Mt),xg(Lt,Mt,Et,1,0);break;case Eg:Bs(xt,St,Et,Lt,Mt);break;default:t(0)}rt+=at,bt+=Pt}b.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=P.height)}}b.C=_,t(b.C<=b.i)}function cn(b){var _;if(0<b.ua)return 0;for(_=0;_<b.Wb;++_){var P=b.Ya[_].G,R=b.Ya[_].H;if(0<P[1][R[1]+0].g||0<P[2][R[2]+0].g||0<P[3][R[3]+0].g)return 0}return 1}function Ln(b,_,P,R,q,$){if(b.Z!=0){var J=b.qd,rt=b.rd;for(t(js[b.Z]!=null);_<P;++_)js[b.Z](J,rt,R,q,R,q,$),J=R,rt=q,q+=$;b.qd=J,b.rd=rt}}function hn(b,_){var P=b.l.ma,R=P.Z==0||P.Z==1?b.l.j:b.C;if(R=b.C<R?R:b.C,t(_<=b.l.o),_>R){var q=b.l.width,$=P.ca,J=P.tb+q*R,rt=b.V,at=b.Ba+b.c*R,ht=b.gc;t(b.ab==1),t(ht[0].hc==3),En(ht[0],R,_,rt,at,$,J),Ln(P,R,_,$,J,q)}b.C=b.Ma=_}function un(b,_,P,R,q,$,J){var rt=b.$/R,at=b.$%R,ht=b.m,bt=b.s,Pt=P+b.$,ut=Pt;q=P+R*q;var xt=P+R*$,St=280+bt.ua,Et=b.Pb?rt:16777216,Lt=0<bt.ua?bt.Wa:null,Mt=bt.wc,Bt=Pt<xt?Wi(bt,at,rt):null;t(b.C<$),t(xt<=q);var jt=!1;t:for(;;){for(;jt||Pt<xt;){var It=0;if(rt>=Et){var ie=Pt-P;t((Et=b).Pb),Et.wd=Et.m,Et.xd=ie,0<Et.s.ua&&ct(Et.s.Wa,Et.s.vb),Et=rt+R2}if(at&Mt||(Bt=Wi(bt,at,rt)),t(Bt!=null),Bt.Qb&&(_[Pt]=Bt.qb,jt=!0),!jt)if(Z(ht),Bt.jc){It=ht,ie=_;var qt=Pt,xe=Bt.pd[N(It)&Oa-1];t(Bt.jc),256>xe.g?(H(It,It.u+xe.g),ie[qt]=xe.value,It=0):(H(It,It.u+xe.g-256),t(256<=xe.value),It=xe.value),It==0&&(jt=!0)}else It=ci(Bt.G[0],Bt.H[0],ht);if(ht.h)break;if(jt||256>It){if(!jt)if(Bt.nd)_[Pt]=(Bt.qb|It<<8)>>>0;else{if(Z(ht),jt=ci(Bt.G[1],Bt.H[1],ht),Z(ht),ie=ci(Bt.G[2],Bt.H[2],ht),qt=ci(Bt.G[3],Bt.H[3],ht),ht.h)break;_[Pt]=(qt<<24|jt<<16|It<<8|ie)>>>0}if(jt=!1,++Pt,++at>=R&&(at=0,++rt,J!=null&&rt<=$&&!(rt%16)&&J(b,rt),Lt!=null))for(;ut<Pt;)It=_[ut++],Lt.X[(506832829*It&4294967295)>>>Lt.Mb]=It}else if(280>It){if(It=qr(It-256,ht),ie=ci(Bt.G[4],Bt.H[4],ht),Z(ht),ie=Qr(R,ie=qr(ie,ht)),ht.h)break;if(Pt-P<ie||q-Pt<It)break t;for(qt=0;qt<It;++qt)_[Pt+qt]=_[Pt+qt-ie];for(Pt+=It,at+=It;at>=R;)at-=R,++rt,J!=null&&rt<=$&&!(rt%16)&&J(b,rt);if(t(Pt<=q),at&Mt&&(Bt=Wi(bt,at,rt)),Lt!=null)for(;ut<Pt;)It=_[ut++],Lt.X[(506832829*It&4294967295)>>>Lt.Mb]=It}else{if(!(It<St))break t;for(jt=It-280,t(Lt!=null);ut<Pt;)It=_[ut++],Lt.X[(506832829*It&4294967295)>>>Lt.Mb]=It;It=Pt,t(!(jt>>>(ie=Lt).Xa)),_[It]=ie.X[jt],jt=!0}jt||t(ht.h==E(ht))}if(b.Pb&&ht.h&&Pt<q)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ct(b.s.vb,b.s.Wa);else{if(ht.h)break t;J!=null&&J(b,rt>$?$:rt),b.a=0,b.$=Pt-P}return 1}return b.a=3,0}function Kr(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var _=b.Wa;_!=null&&(_.X=null),b.vb=null,t(b!=null)}function fa(){var b=new ee;return b==null?null:(b.a=0,b.xb=Ng,ke("Predictor","VP8LPredictors"),ke("Predictor","VP8LPredictors_C"),ke("PredictorAdd","VP8LPredictorsAdd"),ke("PredictorAdd","VP8LPredictorsAdd_C"),mi=Ut,Nl=Jt,Bl=ve,Fs=ne,Ns=Yt,Bs=ce,Da=Se,D.VP8LMapColor32b=Dn,D.VP8LMapColor8b=Ml,b)}function Pn(b,_,P,R,q){var $=1,J=[b],rt=[_],at=R.m,ht=R.s,bt=null,Pt=0;t:for(;;){if(P)for(;$&&z(at,1);){var ut=J,xt=rt,St=R,Et=1,Lt=St.m,Mt=St.gc[St.ab],Bt=z(Lt,2);if(St.Oc&1<<Bt)$=0;else{switch(St.Oc|=1<<Bt,Mt.hc=Bt,Mt.Ea=ut[0],Mt.nc=xt[0],Mt.K=[null],++St.ab,t(4>=St.ab),Bt){case 0:case 1:Mt.b=z(Lt,3)+2,Et=Pn(tt(Mt.Ea,Mt.b),tt(Mt.nc,Mt.b),0,St,Mt.K),Mt.K=Mt.K[0];break;case 3:var jt,It=z(Lt,8)+1,ie=16<It?0:4<It?1:2<It?2:3;if(ut[0]=tt(Mt.Ea,ie),Mt.b=ie,jt=Et=Pn(It,1,0,St,Mt.K)){var qt,xe=It,Zt=Mt,Pe=1<<(8>>Zt.b),Fi=o(Pe);if(Fi==null)jt=0;else{var Ce=Zt.K[0],te=Zt.w;for(Fi[0]=Zt.K[0][0],qt=1;qt<1*xe;++qt)Fi[qt]=yt(Ce[te+qt],Fi[qt-1]);for(;qt<4*Pe;++qt)Fi[qt]=0;Zt.K[0]=null,Zt.K[0]=Fi,jt=1}}Et=jt;break;case 2:break;default:t(0)}$=Et}}if(J=J[0],rt=rt[0],$&&z(at,1)&&!($=1<=(Pt=z(at,4))&&11>=Pt)){R.a=3;break t}var Gt;if(Gt=$)e:{var yi,ye,Ee,$e=R,Gi=J,sr=rt,ui=Pt,$i=P,ar=$e.m,Ni=$e.s,Fe=[null],We=1,fi=0,Xe=I2[ui];i:for(;;){if($i&&z(ar,1)){var Hi=z(ar,3)+2,pn=tt(Gi,Hi),bi=tt(sr,Hi),vr=pn*bi;if(!Pn(pn,bi,0,$e,Fe))break i;for(Fe=Fe[0],Ni.xc=Hi,yi=0;yi<vr;++yi){var He=Fe[yi]>>8&65535;Fe[yi]=He,He>=We&&(We=He+1)}}if(ar.h)break i;for(ye=0;5>ye;++ye){var Bi=Mg[ye];!ye&&0<ui&&(Bi+=1<<ui),fi<Bi&&(fi=Bi)}var Pr=d(We*Xe,W),or=We,Or=d(or,Q);if(Or==null)var Dr=null;else t(65536>=or),Dr=Or;var yr=o(fi);if(Dr==null||yr==null||Pr==null){$e.a=1;break i}var Er=Pr;for(yi=Ee=0;yi<We;++yi){var Ke=Dr[yi],Mr=Ke.G,gn=Ke.H,Ma=0,ls=1,Vi=0;for(ye=0;5>ye;++ye){Bi=Mg[ye],Mr[ye]=Er,gn[ye]=Ee,!ye&&0<ui&&(Bi+=1<<ui);n:{var fh,Pf=Bi,dh=$e,Ul=yr,ny=Er,sy=Ee,Of=0,zs=dh.m,ay=z(zs,1);if(n(Ul,0,0,Pf),ay){var oy=z(zs,1)+1,ly=z(zs,1),Gg=z(zs,ly==0?1:8);Ul[Gg]=1,oy==2&&(Ul[Gg=z(zs,8)]=1);var ph=1}else{var Hg=o(19),Vg=z(zs,4)+4;if(19<Vg){dh.a=3;var gh=0;break n}for(fh=0;fh<Vg;++fh)Hg[N2[fh]]=z(zs,3);var Df=void 0,Wl=void 0,Yg=dh,cy=Hg,Ah=Pf,qg=Ul,Ef=0,Us=Yg.m,Qg=8,Kg=d(128,W);r:for(;O(Kg,0,7,cy,19);){if(z(Us,1)){var hy=2+2*z(Us,3);if((Df=2+z(Us,hy))>Ah)break r}else Df=Ah;for(Wl=0;Wl<Ah&&Df--;){Z(Us);var $g=Kg[0+(127&N(Us))];H(Us,Us.u+$g.g);var So=$g.value;if(16>So)qg[Wl++]=So,So!=0&&(Qg=So);else{var uy=So==16,Jg=So-16,fy=M2[Jg],Zg=z(Us,E2[Jg])+fy;if(Wl+Zg>Ah)break r;for(var dy=uy?Qg:0;0<Zg--;)qg[Wl++]=dy}}Ef=1;break r}Ef||(Yg.a=3),ph=Ef}(ph=ph&&!zs.h)&&(Of=O(ny,sy,8,Ul,Pf)),ph&&Of!=0?gh=Of:(dh.a=3,gh=0)}if(gh==0)break i;if(ls&&F2[ye]==1&&(ls=Er[Ee].g==0),Ma+=Er[Ee].g,Ee+=gh,3>=ye){var Xl,Mf=yr[0];for(Xl=1;Xl<Bi;++Xl)yr[Xl]>Mf&&(Mf=yr[Xl]);Vi+=Mf}}if(Ke.nd=ls,Ke.Qb=0,ls&&(Ke.qb=(Mr[3][gn[3]+0].value<<24|Mr[1][gn[1]+0].value<<16|Mr[2][gn[2]+0].value)>>>0,Ma==0&&256>Mr[0][gn[0]+0].value&&(Ke.Qb=1,Ke.qb+=Mr[0][gn[0]+0].value<<8)),Ke.jc=!Ke.Qb&&6>Vi,Ke.jc){var mh,cs=Ke;for(mh=0;mh<Oa;++mh){var Ws=mh,Xs=cs.pd[Ws],vh=cs.G[0][cs.H[0]+Ws];256<=vh.value?(Xs.g=vh.g+256,Xs.value=vh.value):(Xs.g=0,Xs.value=0,Ws>>=Ri(vh,8,Xs),Ws>>=Ri(cs.G[1][cs.H[1]+Ws],16,Xs),Ws>>=Ri(cs.G[2][cs.H[2]+Ws],0,Xs),Ri(cs.G[3][cs.H[3]+Ws],24,Xs))}}}Ni.vc=Fe,Ni.Wb=We,Ni.Ya=Dr,Ni.yc=Pr,Gt=1;break e}Gt=0}if(!($=Gt)){R.a=3;break t}if(0<Pt){if(ht.ua=1<<Pt,!U(ht.Wa,Pt)){R.a=1,$=0;break t}}else ht.ua=0;var Ff=R,t0=J,py=rt,Nf=Ff.s,Bf=Nf.xc;if(Ff.c=t0,Ff.i=py,Nf.md=tt(t0,Bf),Nf.wc=Bf==0?-1:(1<<Bf)-1,P){R.xb=H2;break t}if((bt=o(J*rt))==null){R.a=1,$=0;break t}$=($=un(R,bt,0,J,rt,rt,null))&&!at.h;break t}return $?(q!=null?q[0]=bt:(t(bt==null),t(P)),R.$=0,P||Kr(ht)):Kr(ht),$}function da(b,_){var P=b.c*b.i,R=P+_+16*_;return t(b.c<=_),b.V=o(R),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+P+_,1)}function fo(b,_){var P=b.C,R=_-P,q=b.V,$=b.Ba+b.c*P;for(t(_<=b.l.o);0<R;){var J=16<R?16:R,rt=b.l.ma,at=b.l.width,ht=at*J,bt=rt.ca,Pt=rt.tb+at*P,ut=b.Ta,xt=b.Ua;ua(b,J,q,$),Sg(ut,xt,bt,Pt,ht),Ln(rt,P,P+J,bt,Pt,at),R-=J,q+=J*b.c,P+=J}t(P==_),b.C=b.Ma=_}function po(){this.ub=this.yd=this.td=this.Rb=0}function go(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function sf(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Al(){this.Yb=function(){var b=[];return function _(P,R,q){for(var $=q[R],J=0;J<$&&(P.push(q.length>R+1?[]:0),!(q.length<R+1));J++)_(P[J],R+1,q)}(b,0,[3,11]),b}()}function Rc(){this.jb=o(3),this.Wc=l([4,8],Al),this.Xc=l([4,17],Al)}function jc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function $r(){this.ld=this.La=this.dd=this.tc=0}function ml(){this.Na=this.la=0}function zc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vl(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Uc(){this.uc=this.M=this.Nb=0,this.wa=Array(new $r),this.Y=0,this.ya=Array(new vl),this.aa=0,this.l=new Ao}function Wc(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xc(){this.cb=this.a=0,this.sc="",this.m=new S,this.Od=new po,this.Kc=new go,this.ed=new jc,this.Qa=new sf,this.Ic=this.$c=this.Aa=0,this.D=new Uc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=d(8,S),this.ia=0,this.pb=d(4,zc),this.Pa=new Rc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wc),this.Hd=0,this.rb=Array(new ml),this.sb=0,this.wa=Array(new $r),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vl),this.L=this.aa=0,this.gd=l([4,2],$r),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ao(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function af(){var b=new Xc;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,jl||(jl=Zn)),b}function Ti(b,_,P){return b.a==0&&(b.a=_,b.sc=P,b.cb=0),0}function Gc(b,_,P){return 3<=P&&b[_+0]==157&&b[_+1]==1&&b[_+2]==42}function Hc(b,_){if(b==null)return 0;if(b.a=0,b.sc="OK",_==null)return Ti(b,2,"null VP8Io passed to VP8GetHeaders()");var P=_.data,R=_.w,q=_.ha;if(4>q)return Ti(b,7,"Truncated header.");var $=P[R+0]|P[R+1]<<8|P[R+2]<<16,J=b.Od;if(J.Rb=!(1&$),J.td=$>>1&7,J.yd=$>>4&1,J.ub=$>>5,3<J.td)return Ti(b,3,"Incorrect keyframe parameters.");if(!J.yd)return Ti(b,4,"Frame not displayable.");R+=3,q-=3;var rt=b.Kc;if(J.Rb){if(7>q)return Ti(b,7,"cannot parse picture header");if(!Gc(P,R,q))return Ti(b,3,"Bad code word");rt.c=16383&(P[R+4]<<8|P[R+3]),rt.Td=P[R+4]>>6,rt.i=16383&(P[R+6]<<8|P[R+5]),rt.Ud=P[R+6]>>6,R+=7,q-=7,b.za=rt.c+15>>4,b.Ub=rt.i+15>>4,_.width=rt.c,_.height=rt.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,n(($=b.Pa).jb,0,255,$.jb.length),t(($=b.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,n($.Zb,0,0,$.Zb.length),n($.Lb,0,0,$.Lb)}if(J.ub>q)return Ti(b,7,"bad partition length");lt($=b.m,P,R,J.ub),R+=J.ub,q-=J.ub,J.Rb&&(rt.Ld=nt($),rt.Kd=nt($)),rt=b.Qa;var at,ht=b.Pa;if(t($!=null),t(rt!=null),rt.Cb=nt($),rt.Cb){if(rt.Bb=nt($),nt($)){for(rt.Fb=nt($),at=0;4>at;++at)rt.Zb[at]=nt($)?et($,7):0;for(at=0;4>at;++at)rt.Lb[at]=nt($)?et($,6):0}if(rt.Bb)for(at=0;3>at;++at)ht.jb[at]=nt($)?it($,8):255}else rt.Bb=0;if($.Ka)return Ti(b,3,"cannot parse segment header");if((rt=b.ed).zd=nt($),rt.Tb=it($,6),rt.wb=it($,3),rt.Pc=nt($),rt.Pc&&nt($)){for(ht=0;4>ht;++ht)nt($)&&(rt.vd[ht]=et($,6));for(ht=0;4>ht;++ht)nt($)&&(rt.od[ht]=et($,6))}if(b.L=rt.Tb==0?0:rt.zd?1:2,$.Ka)return Ti(b,3,"cannot parse filter header");var bt=q;if(q=at=R,R=at+bt,rt=bt,b.Xb=(1<<it(b.m,2))-1,bt<3*(ht=b.Xb))P=7;else{for(at+=3*ht,rt-=3*ht,bt=0;bt<ht;++bt){var Pt=P[q+0]|P[q+1]<<8|P[q+2]<<16;Pt>rt&&(Pt=rt),lt(b.Jc[+bt],P,at,Pt),at+=Pt,rt-=Pt,q+=3}lt(b.Jc[+ht],P,at,rt),P=at<R?0:5}if(P!=0)return Ti(b,P,"cannot parse partitions");for(P=it(at=b.m,7),q=nt(at)?et(at,4):0,R=nt(at)?et(at,4):0,rt=nt(at)?et(at,4):0,ht=nt(at)?et(at,4):0,at=nt(at)?et(at,4):0,bt=b.Qa,Pt=0;4>Pt;++Pt){if(bt.Cb){var ut=bt.Zb[Pt];bt.Fb||(ut+=P)}else{if(0<Pt){b.pb[Pt]=b.pb[0];continue}ut=P}var xt=b.pb[Pt];xt.Sc[0]=Tf[hi(ut+q,127)],xt.Sc[1]=kf[hi(ut+0,127)],xt.Eb[0]=2*Tf[hi(ut+R,127)],xt.Eb[1]=101581*kf[hi(ut+rt,127)]>>16,8>xt.Eb[1]&&(xt.Eb[1]=8),xt.Qc[0]=Tf[hi(ut+ht,117)],xt.Qc[1]=kf[hi(ut+at,127)],xt.lc=ut+at}if(!J.Rb)return Ti(b,4,"Not a key frame.");for(nt($),J=b.Pa,P=0;4>P;++P){for(q=0;8>q;++q)for(R=0;3>R;++R)for(rt=0;11>rt;++rt)ht=dt($,X2[P][q][R][rt])?it($,8):U2[P][q][R][rt],J.Wc[P][q].Yb[R][rt]=ht;for(q=0;17>q;++q)J.Xc[P][q]=J.Wc[P][G2[q]]}return b.kc=nt($),b.kc&&(b.Bd=it($,8)),b.cb=1}function Zn(b,_,P,R,q,$,J){var rt=_[q].Yb[P];for(P=0;16>q;++q){if(!dt(b,rt[P+0]))return q;for(;!dt(b,rt[P+1]);)if(rt=_[++q].Yb[0],P=0,q==16)return 16;var at=_[q+1].Yb;if(dt(b,rt[P+2])){var ht=b,bt=0;if(dt(ht,(ut=rt)[(Pt=P)+3]))if(dt(ht,ut[Pt+6])){for(rt=0,Pt=2*(bt=dt(ht,ut[Pt+8]))+(ut=dt(ht,ut[Pt+9+bt])),bt=0,ut=j2[Pt];ut[rt];++rt)bt+=bt+dt(ht,ut[rt]);bt+=3+(8<<Pt)}else dt(ht,ut[Pt+7])?(bt=7+2*dt(ht,165),bt+=dt(ht,145)):bt=5+dt(ht,159);else bt=dt(ht,ut[Pt+4])?3+dt(ht,ut[Pt+5]):2;rt=at[2]}else bt=1,rt=at[1];at=J+z2[q],0>(ht=b).b&&ot(ht);var Pt,ut=ht.b,xt=(Pt=ht.Ca>>1)-(ht.I>>ut)>>31;--ht.b,ht.Ca+=xt,ht.Ca|=1,ht.I-=(Pt+1&xt)<<ut,$[at]=((bt^xt)-xt)*R[(0<q)+0]}return 16}function pa(b){var _=b.rb[b.sb-1];_.la=0,_.Na=0,n(b.zc,0,0,b.zc.length),b.ja=0}function fn(b,_,P,R,q){q=b[_+P+32*R]+(q>>3),b[_+P+32*R]=-256&q?0>q?0:255:q}function ga(b,_,P,R,q,$){fn(b,_,0,P,R+q),fn(b,_,1,P,R+$),fn(b,_,2,P,R-$),fn(b,_,3,P,R-q)}function Ai(b){return(20091*b>>16)+b}function yl(b,_,P,R){var q,$=0,J=o(16);for(q=0;4>q;++q){var rt=b[_+0]+b[_+8],at=b[_+0]-b[_+8],ht=(35468*b[_+4]>>16)-Ai(b[_+12]),bt=Ai(b[_+4])+(35468*b[_+12]>>16);J[$+0]=rt+bt,J[$+1]=at+ht,J[$+2]=at-ht,J[$+3]=rt-bt,$+=4,_++}for(q=$=0;4>q;++q)rt=(b=J[$+0]+4)+J[$+8],at=b-J[$+8],ht=(35468*J[$+4]>>16)-Ai(J[$+12]),fn(P,R,0,0,rt+(bt=Ai(J[$+4])+(35468*J[$+12]>>16))),fn(P,R,1,0,at+ht),fn(P,R,2,0,at-ht),fn(P,R,3,0,rt-bt),$++,R+=32}function of(b,_,P,R){var q=b[_+0]+4,$=35468*b[_+4]>>16,J=Ai(b[_+4]),rt=35468*b[_+1]>>16;ga(P,R,0,q+J,b=Ai(b[_+1]),rt),ga(P,R,1,q+$,b,rt),ga(P,R,2,q-$,b,rt),ga(P,R,3,q-J,b,rt)}function lf(b,_,P,R,q){yl(b,_,P,R),q&&yl(b,_+16,P,R+4)}function cf(b,_,P,R){Ea(b,_+0,P,R,1),Ea(b,_+32,P,R+128,1)}function On(b,_,P,R){var q;for(b=b[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)fn(P,R,_,q,b)}function Vc(b,_,P,R){b[_+0]&&ze(b,_+0,P,R),b[_+16]&&ze(b,_+16,P,R+4),b[_+32]&&ze(b,_+32,P,R+128),b[_+48]&&ze(b,_+48,P,R+128+4)}function Yc(b,_,P,R){var q,$=o(16);for(q=0;4>q;++q){var J=b[_+0+q]+b[_+12+q],rt=b[_+4+q]+b[_+8+q],at=b[_+4+q]-b[_+8+q],ht=b[_+0+q]-b[_+12+q];$[0+q]=J+rt,$[8+q]=J-rt,$[4+q]=ht+at,$[12+q]=ht-at}for(q=0;4>q;++q)J=(b=$[0+4*q]+3)+$[3+4*q],rt=$[1+4*q]+$[2+4*q],at=$[1+4*q]-$[2+4*q],ht=b-$[3+4*q],P[R+0]=J+rt>>3,P[R+16]=ht+at>>3,P[R+32]=J-rt>>3,P[R+48]=ht-at>>3,R+=64}function Ls(b,_,P){var R,q=_-32,$=Lr,J=255-b[q-1];for(R=0;R<P;++R){var rt,at=$,ht=J+b[_-1];for(rt=0;rt<P;++rt)b[_+rt]=at[ht+b[q+rt]];_+=32}}function bl(b,_){Ls(b,_,4)}function hf(b,_){Ls(b,_,8)}function uf(b,_){Ls(b,_,16)}function ff(b,_){var P;for(P=0;16>P;++P)r(b,_+32*P,b,_-32,16)}function wl(b,_){var P;for(P=16;0<P;--P)n(b,_,b[_-1],16),_+=32}function Aa(b,_,P){var R;for(R=0;16>R;++R)n(_,P+32*R,b,16)}function Ps(b,_){var P,R=16;for(P=0;16>P;++P)R+=b[_-1+32*P]+b[_+P-32];Aa(R>>5,b,_)}function df(b,_){var P,R=8;for(P=0;16>P;++P)R+=b[_-1+32*P];Aa(R>>4,b,_)}function ma(b,_){var P,R=8;for(P=0;16>P;++P)R+=b[_+P-32];Aa(R>>4,b,_)}function _l(b,_){Aa(128,b,_)}function ge(b,_,P){return b+2*_+P+2>>2}function pf(b,_){var P,R=_-32;for(R=new Uint8Array([ge(b[R-1],b[R+0],b[R+1]),ge(b[R+0],b[R+1],b[R+2]),ge(b[R+1],b[R+2],b[R+3]),ge(b[R+2],b[R+3],b[R+4])]),P=0;4>P;++P)r(b,_+32*P,R,0,R.length)}function gf(b,_){var P=b[_-1],R=b[_-1+32],q=b[_-1+64],$=b[_-1+96];gt(b,_+0,16843009*ge(b[_-1-32],P,R)),gt(b,_+32,16843009*ge(P,R,q)),gt(b,_+64,16843009*ge(R,q,$)),gt(b,_+96,16843009*ge(q,$,$))}function Af(b,_){var P,R=4;for(P=0;4>P;++P)R+=b[_+P-32]+b[_-1+32*P];for(R>>=3,P=0;4>P;++P)n(b,_+32*P,R,4)}function mf(b,_){var P=b[_-1+0],R=b[_-1+32],q=b[_-1+64],$=b[_-1-32],J=b[_+0-32],rt=b[_+1-32],at=b[_+2-32],ht=b[_+3-32];b[_+0+96]=ge(R,q,b[_-1+96]),b[_+1+96]=b[_+0+64]=ge(P,R,q),b[_+2+96]=b[_+1+64]=b[_+0+32]=ge($,P,R),b[_+3+96]=b[_+2+64]=b[_+1+32]=b[_+0+0]=ge(J,$,P),b[_+3+64]=b[_+2+32]=b[_+1+0]=ge(rt,J,$),b[_+3+32]=b[_+2+0]=ge(at,rt,J),b[_+3+0]=ge(ht,at,rt)}function ts(b,_){var P=b[_+1-32],R=b[_+2-32],q=b[_+3-32],$=b[_+4-32],J=b[_+5-32],rt=b[_+6-32],at=b[_+7-32];b[_+0+0]=ge(b[_+0-32],P,R),b[_+1+0]=b[_+0+32]=ge(P,R,q),b[_+2+0]=b[_+1+32]=b[_+0+64]=ge(R,q,$),b[_+3+0]=b[_+2+32]=b[_+1+64]=b[_+0+96]=ge(q,$,J),b[_+3+32]=b[_+2+64]=b[_+1+96]=ge($,J,rt),b[_+3+64]=b[_+2+96]=ge(J,rt,at),b[_+3+96]=ge(rt,at,at)}function es(b,_){var P=b[_-1+0],R=b[_-1+32],q=b[_-1+64],$=b[_-1-32],J=b[_+0-32],rt=b[_+1-32],at=b[_+2-32],ht=b[_+3-32];b[_+0+0]=b[_+1+64]=$+J+1>>1,b[_+1+0]=b[_+2+64]=J+rt+1>>1,b[_+2+0]=b[_+3+64]=rt+at+1>>1,b[_+3+0]=at+ht+1>>1,b[_+0+96]=ge(q,R,P),b[_+0+64]=ge(R,P,$),b[_+0+32]=b[_+1+96]=ge(P,$,J),b[_+1+32]=b[_+2+96]=ge($,J,rt),b[_+2+32]=b[_+3+96]=ge(J,rt,at),b[_+3+32]=ge(rt,at,ht)}function vf(b,_){var P=b[_+0-32],R=b[_+1-32],q=b[_+2-32],$=b[_+3-32],J=b[_+4-32],rt=b[_+5-32],at=b[_+6-32],ht=b[_+7-32];b[_+0+0]=P+R+1>>1,b[_+1+0]=b[_+0+64]=R+q+1>>1,b[_+2+0]=b[_+1+64]=q+$+1>>1,b[_+3+0]=b[_+2+64]=$+J+1>>1,b[_+0+32]=ge(P,R,q),b[_+1+32]=b[_+0+96]=ge(R,q,$),b[_+2+32]=b[_+1+96]=ge(q,$,J),b[_+3+32]=b[_+2+96]=ge($,J,rt),b[_+3+64]=ge(J,rt,at),b[_+3+96]=ge(rt,at,ht)}function yf(b,_){var P=b[_-1+0],R=b[_-1+32],q=b[_-1+64],$=b[_-1+96];b[_+0+0]=P+R+1>>1,b[_+2+0]=b[_+0+32]=R+q+1>>1,b[_+2+32]=b[_+0+64]=q+$+1>>1,b[_+1+0]=ge(P,R,q),b[_+3+0]=b[_+1+32]=ge(R,q,$),b[_+3+32]=b[_+1+64]=ge(q,$,$),b[_+3+64]=b[_+2+64]=b[_+0+96]=b[_+1+96]=b[_+2+96]=b[_+3+96]=$}function mo(b,_){var P=b[_-1+0],R=b[_-1+32],q=b[_-1+64],$=b[_-1+96],J=b[_-1-32],rt=b[_+0-32],at=b[_+1-32],ht=b[_+2-32];b[_+0+0]=b[_+2+32]=P+J+1>>1,b[_+0+32]=b[_+2+64]=R+P+1>>1,b[_+0+64]=b[_+2+96]=q+R+1>>1,b[_+0+96]=$+q+1>>1,b[_+3+0]=ge(rt,at,ht),b[_+2+0]=ge(J,rt,at),b[_+1+0]=b[_+3+32]=ge(P,J,rt),b[_+1+32]=b[_+3+64]=ge(R,P,J),b[_+1+64]=b[_+3+96]=ge(q,R,P),b[_+1+96]=ge($,q,R)}function xl(b,_){var P;for(P=0;8>P;++P)r(b,_+32*P,b,_-32,8)}function va(b,_){var P;for(P=0;8>P;++P)n(b,_,b[_-1],8),_+=32}function vo(b,_,P){var R;for(R=0;8>R;++R)n(_,P+32*R,b,8)}function yo(b,_){var P,R=8;for(P=0;8>P;++P)R+=b[_+P-32]+b[_-1+32*P];vo(R>>4,b,_)}function bf(b,_){var P,R=4;for(P=0;8>P;++P)R+=b[_+P-32];vo(R>>3,b,_)}function Cl(b,_){var P,R=4;for(P=0;8>P;++P)R+=b[_-1+32*P];vo(R>>3,b,_)}function Sl(b,_){vo(128,b,_)}function ya(b,_,P){var R=b[_-P],q=b[_+0],$=3*(q-R)+wf[1020+b[_-2*P]-b[_+P]],J=rh[112+($+4>>3)];b[_-P]=Lr[255+R+rh[112+($+3>>3)]],b[_+0]=Lr[255+q-J]}function ba(b,_,P,R){var q=b[_+0],$=b[_+P];return en[255+b[_-2*P]-b[_-P]]>R||en[255+$-q]>R}function Tl(b,_,P,R){return 4*en[255+b[_-P]-b[_+0]]+en[255+b[_-2*P]-b[_+P]]<=R}function bo(b,_,P,R,q){var $=b[_-3*P],J=b[_-2*P],rt=b[_-P],at=b[_+0],ht=b[_+P],bt=b[_+2*P],Pt=b[_+3*P];return 4*en[255+rt-at]+en[255+J-ht]>R?0:en[255+b[_-4*P]-$]<=q&&en[255+$-J]<=q&&en[255+J-rt]<=q&&en[255+Pt-bt]<=q&&en[255+bt-ht]<=q&&en[255+ht-at]<=q}function kl(b,_,P,R){var q=2*R+1;for(R=0;16>R;++R)Tl(b,_+R,P,q)&&ya(b,_+R,P)}function wa(b,_,P,R){var q=2*R+1;for(R=0;16>R;++R)Tl(b,_+R*P,1,q)&&ya(b,_+R*P,1)}function qc(b,_,P,R){var q;for(q=3;0<q;--q)kl(b,_+=4*P,P,R)}function Qc(b,_,P,R){var q;for(q=3;0<q;--q)wa(b,_+=4,P,R)}function is(b,_,P,R,q,$,J,rt){for($=2*$+1;0<q--;){if(bo(b,_,P,$,J))if(ba(b,_,P,rt))ya(b,_,P);else{var at=b,ht=_,bt=P,Pt=at[ht-2*bt],ut=at[ht-bt],xt=at[ht+0],St=at[ht+bt],Et=at[ht+2*bt],Lt=27*(Bt=wf[1020+3*(xt-ut)+wf[1020+Pt-St]])+63>>7,Mt=18*Bt+63>>7,Bt=9*Bt+63>>7;at[ht-3*bt]=Lr[255+at[ht-3*bt]+Bt],at[ht-2*bt]=Lr[255+Pt+Mt],at[ht-bt]=Lr[255+ut+Lt],at[ht+0]=Lr[255+xt-Lt],at[ht+bt]=Lr[255+St-Mt],at[ht+2*bt]=Lr[255+Et-Bt]}_+=R}}function rs(b,_,P,R,q,$,J,rt){for($=2*$+1;0<q--;){if(bo(b,_,P,$,J))if(ba(b,_,P,rt))ya(b,_,P);else{var at=b,ht=_,bt=P,Pt=at[ht-bt],ut=at[ht+0],xt=at[ht+bt],St=rh[112+(4+(Et=3*(ut-Pt))>>3)],Et=rh[112+(Et+3>>3)],Lt=St+1>>1;at[ht-2*bt]=Lr[255+at[ht-2*bt]+Lt],at[ht-bt]=Lr[255+Pt+Et],at[ht+0]=Lr[255+ut-St],at[ht+bt]=Lr[255+xt-Lt]}_+=R}}function Kc(b,_,P,R,q,$){is(b,_,P,1,16,R,q,$)}function $c(b,_,P,R,q,$){is(b,_,1,P,16,R,q,$)}function _a(b,_,P,R,q,$){var J;for(J=3;0<J;--J)rs(b,_+=4*P,P,1,16,R,q,$)}function Jc(b,_,P,R,q,$){var J;for(J=3;0<J;--J)rs(b,_+=4,1,P,16,R,q,$)}function k(b,_,P,R,q,$,J,rt){is(b,_,q,1,8,$,J,rt),is(P,R,q,1,8,$,J,rt)}function Y(b,_,P,R,q,$,J,rt){is(b,_,1,q,8,$,J,rt),is(P,R,1,q,8,$,J,rt)}function ft(b,_,P,R,q,$,J,rt){rs(b,_+4*q,q,1,8,$,J,rt),rs(P,R+4*q,q,1,8,$,J,rt)}function mt(b,_,P,R,q,$,J,rt){rs(b,_+4,1,q,8,$,J,rt),rs(P,R+4,1,q,8,$,J,rt)}function Ct(){this.ba=new Me,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new je,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ft(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $t(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new W}function ee(){this.xb=this.a=0,this.l=new Ao,this.ca=new Me,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $t,this.ab=0,this.gc=d(4,Rt),this.Oc=0}function de(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ao,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ae(b,_,P,R,q,$,J){for(b=b==null?0:b[_+0],_=0;_<J;++_)q[$+_]=b+P[R+_]&255,b=q[$+_]}function Be(b,_,P,R,q,$,J){var rt;if(b==null)Ae(null,null,P,R,q,$,J);else for(rt=0;rt<J;++rt)q[$+rt]=b[_+rt]+P[R+rt]&255}function si(b,_,P,R,q,$,J){if(b==null)Ae(null,null,P,R,q,$,J);else{var rt,at=b[_+0],ht=at,bt=at;for(rt=0;rt<J;++rt)ht=bt+(at=b[_+rt])-ht,bt=P[R+rt]+(-256&ht?0>ht?0:255:ht)&255,ht=at,q[$+rt]=bt}}function ki(b,_,P,R){var q=_.width,$=_.o;if(t(b!=null&&_!=null),0>P||0>=R||P+R>$)return null;if(!b.Cc){if(b.ga==null){var J;if(b.ga=new de,(J=b.ga==null)||(J=_.width*_.o,t(b.Gb.length==0),b.Gb=o(J),b.Uc=0,b.Gb==null?J=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,J=1),J=!J),!J){J=b.ga;var rt=b.Fa,at=b.P,ht=b.qc,bt=b.mb,Pt=b.nb,ut=at+1,xt=ht-1,St=J.l;if(t(rt!=null&&bt!=null&&_!=null),js[0]=null,js[1]=Ae,js[2]=Be,js[3]=si,J.ca=bt,J.tb=Pt,J.c=_.width,J.i=_.height,t(0<J.c&&0<J.i),1>=ht)_=0;else if(J.$a=3&rt[at+0],J.Z=rt[at+0]>>2&3,J.Lc=rt[at+0]>>4&3,at=rt[at+0]>>6&3,0>J.$a||1<J.$a||4<=J.Z||1<J.Lc||at)_=0;else if(St.put=le,St.ac=kn,St.bc=$n,St.ma=J,St.width=_.width,St.height=_.height,St.Da=_.Da,St.v=_.v,St.va=_.va,St.j=_.j,St.o=_.o,J.$a)t:{t(J.$a==1),_=fa();e:for(;;){if(_==null){_=0;break t}if(t(J!=null),J.mc=_,_.c=J.c,_.i=J.i,_.l=J.l,_.l.ma=J,_.l.width=J.c,_.l.height=J.i,_.a=0,B(_.m,rt,ut,xt),!Pn(J.c,J.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&cn(_.s)?(J.ic=1,rt=_.c*_.i,_.Ta=null,_.Ua=0,_.V=o(rt),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(J.ic=0,_=da(_,J.c)),!_))break e;_=1;break t}J.mc=null,_=0}else _=xt>=J.c*J.i;J=!_}if(J)return null;b.ga.Lc!=1?b.Ga=0:R=$-P}t(b.ga!=null),t(P+R<=$);t:{if(_=(rt=b.ga).c,$=rt.l.o,rt.$a==0){if(ut=b.rc,xt=b.Vc,St=b.Fa,at=b.P+1+P*_,ht=b.mb,bt=b.nb+P*_,t(at<=b.P+b.qc),rt.Z!=0)for(t(js[rt.Z]!=null),J=0;J<R;++J)js[rt.Z](ut,xt,St,at,ht,bt,_),ut=ht,xt=bt,bt+=_,at+=_;else for(J=0;J<R;++J)r(ht,bt,St,at,_),ut=ht,xt=bt,bt+=_,at+=_;b.rc=ut,b.Vc=xt}else{if(t(rt.mc!=null),_=P+R,t((J=rt.mc)!=null),t(_<=J.i),J.C>=_)_=1;else if(rt.ic||Jr(),rt.ic){rt=J.V,ut=J.Ba,xt=J.c;var Et=J.i,Lt=(St=1,at=J.$/xt,ht=J.$%xt,bt=J.m,Pt=J.s,J.$),Mt=xt*Et,Bt=xt*_,jt=Pt.wc,It=Lt<Bt?Wi(Pt,ht,at):null;t(Lt<=Mt),t(_<=Et),t(cn(Pt));e:for(;;){for(;!bt.h&&Lt<Bt;){if(ht&jt||(It=Wi(Pt,ht,at)),t(It!=null),Z(bt),256>(Et=ci(It.G[0],It.H[0],bt)))rt[ut+Lt]=Et,++Lt,++ht>=xt&&(ht=0,++at<=_&&!(at%16)&&hn(J,at));else{if(!(280>Et)){St=0;break e}Et=qr(Et-256,bt);var ie,qt=ci(It.G[4],It.H[4],bt);if(Z(bt),!(Lt>=(qt=Qr(xt,qt=qr(qt,bt)))&&Mt-Lt>=Et)){St=0;break e}for(ie=0;ie<Et;++ie)rt[ut+Lt+ie]=rt[ut+Lt+ie-qt];for(Lt+=Et,ht+=Et;ht>=xt;)ht-=xt,++at<=_&&!(at%16)&&hn(J,at);Lt<Bt&&ht&jt&&(It=Wi(Pt,ht,at))}t(bt.h==E(bt))}hn(J,at>_?_:at);break e}!St||bt.h&&Lt<Mt?(St=0,J.a=bt.h?5:3):J.$=Lt,_=St}else _=un(J,J.V,J.Ba,J.c,J.i,_,fo);if(!_){R=0;break t}}P+R>=$&&(b.Cc=1),R=1}if(!R)return null;if(b.Cc&&((R=b.ga)!=null&&(R.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+P*q}function Qe(b,_,P,R,q,$){for(;0<q--;){var J,rt=b,at=_+(P?1:0),ht=b,bt=_+(P?0:3);for(J=0;J<R;++J){var Pt=ht[bt+4*J];Pt!=255&&(Pt*=32897,rt[at+4*J+0]=rt[at+4*J+0]*Pt>>23,rt[at+4*J+1]=rt[at+4*J+1]*Pt>>23,rt[at+4*J+2]=rt[at+4*J+2]*Pt>>23)}_+=$}}function Ei(b,_,P,R,q){for(;0<R--;){var $;for($=0;$<P;++$){var J=b[_+2*$+0],rt=15&(ht=b[_+2*$+1]),at=4369*rt,ht=(240&ht|ht>>4)*at>>16;b[_+2*$+0]=(240&J|J>>4)*at>>16&240|(15&J|J<<4)*at>>16>>4&15,b[_+2*$+1]=240&ht|rt}_+=q}}function Li(b,_,P,R,q,$,J,rt){var at,ht,bt=255;for(ht=0;ht<q;++ht){for(at=0;at<R;++at){var Pt=b[_+at];$[J+4*at]=Pt,bt&=Pt}_+=P,J+=rt}return bt!=255}function Xi(b,_,P,R,q){var $;for($=0;$<q;++$)P[R+$]=b[_+$]>>8}function Jr(){Rl=Qe,xg=Ei,Cg=Li,Sg=Xi}function mr(b,_,P){D[b]=function(R,q,$,J,rt,at,ht,bt,Pt,ut,xt,St,Et,Lt,Mt,Bt,jt){var It,ie=jt-1>>1,qt=rt[at+0]|ht[bt+0]<<16,xe=Pt[ut+0]|xt[St+0]<<16;t(R!=null);var Zt=3*qt+xe+131074>>2;for(_(R[q+0],255&Zt,Zt>>16,Et,Lt),$!=null&&(Zt=3*xe+qt+131074>>2,_($[J+0],255&Zt,Zt>>16,Mt,Bt)),It=1;It<=ie;++It){var Pe=rt[at+It]|ht[bt+It]<<16,Fi=Pt[ut+It]|xt[St+It]<<16,Ce=qt+Pe+xe+Fi+524296,te=Ce+2*(Pe+xe)>>3;Zt=te+qt>>1,qt=(Ce=Ce+2*(qt+Fi)>>3)+Pe>>1,_(R[q+2*It-1],255&Zt,Zt>>16,Et,Lt+(2*It-1)*P),_(R[q+2*It-0],255&qt,qt>>16,Et,Lt+(2*It-0)*P),$!=null&&(Zt=Ce+xe>>1,qt=te+Fi>>1,_($[J+2*It-1],255&Zt,Zt>>16,Mt,Bt+(2*It-1)*P),_($[J+2*It+0],255&qt,qt>>16,Mt,Bt+(2*It+0)*P)),qt=Pe,xe=Fi}1&jt||(Zt=3*qt+xe+131074>>2,_(R[q+jt-1],255&Zt,Zt>>16,Et,Lt+(jt-1)*P),$!=null&&(Zt=3*xe+qt+131074>>2,_($[J+jt-1],255&Zt,Zt>>16,Mt,Bt+(jt-1)*P)))}}function Zc(){rn[nh]=V2,rn[sh]=Bg,rn[Dg]=Y2,rn[ah]=Ig,rn[oh]=Rg,rn[_f]=jg,rn[Eg]=q2,rn[xf]=Bg,rn[Cf]=Ig,rn[lh]=Rg,rn[Sf]=jg}function wo(b){return b&~Q2?0>b?0:255:b>>zg}function xa(b,_){return wo((19077*b>>8)+(26149*_>>8)-14234)}function Os(b,_,P){return wo((19077*b>>8)-(6419*_>>8)-(13320*P>>8)+8708)}function Ca(b,_){return wo((19077*b>>8)+(33050*_>>8)-17685)}function Sa(b,_,P,R,q){R[q+0]=xa(b,P),R[q+1]=Os(b,_,P),R[q+2]=Ca(b,_)}function Ta(b,_,P,R,q){R[q+0]=Ca(b,_),R[q+1]=Os(b,_,P),R[q+2]=xa(b,P)}function Ki(b,_,P,R,q){var $=Os(b,_,P);_=$<<3&224|Ca(b,_)>>3,R[q+0]=248&xa(b,P)|$>>5,R[q+1]=_}function ka(b,_,P,R,q){var $=240&Ca(b,_)|15;R[q+0]=240&xa(b,P)|Os(b,_,P)>>4,R[q+1]=$}function La(b,_,P,R,q){R[q+0]=255,Sa(b,_,P,R,q+1)}function Ll(b,_,P,R,q){Ta(b,_,P,R,q),R[q+3]=255}function Pl(b,_,P,R,q){Sa(b,_,P,R,q),R[q+3]=255}function hi(b,_){return 0>b?0:b>_?_:b}function ns(b,_,P){D[b]=function(R,q,$,J,rt,at,ht,bt,Pt){for(var ut=bt+(-2&Pt)*P;bt!=ut;)_(R[q+0],$[J+0],rt[at+0],ht,bt),_(R[q+1],$[J+0],rt[at+0],ht,bt+P),q+=2,++J,++at,bt+=2*P;1&Pt&&_(R[q+0],$[J+0],rt[at+0],ht,bt)}}function _o(b,_,P){return P==0?b==0?_==0?6:5:_==0?4:0:P}function th(b,_,P,R,q){switch(b>>>30){case 3:Ea(_,P,R,q,0);break;case 2:tn(_,P,R,q);break;case 1:ze(_,P,R,q)}}function Zr(b,_){var P,R,q=_.M,$=_.Nb,J=b.oc,rt=b.pc+40,at=b.oc,ht=b.pc+584,bt=b.oc,Pt=b.pc+600;for(P=0;16>P;++P)J[rt+32*P-1]=129;for(P=0;8>P;++P)at[ht+32*P-1]=129,bt[Pt+32*P-1]=129;for(0<q?J[rt-1-32]=at[ht-1-32]=bt[Pt-1-32]=129:(n(J,rt-32-1,127,21),n(at,ht-32-1,127,9),n(bt,Pt-32-1,127,9)),R=0;R<b.za;++R){var ut=_.ya[_.aa+R];if(0<R){for(P=-1;16>P;++P)r(J,rt+32*P-4,J,rt+32*P+12,4);for(P=-1;8>P;++P)r(at,ht+32*P-4,at,ht+32*P+4,4),r(bt,Pt+32*P-4,bt,Pt+32*P+4,4)}var xt=b.Gd,St=b.Hd+R,Et=ut.ad,Lt=ut.Hc;if(0<q&&(r(J,rt-32,xt[St].y,0,16),r(at,ht-32,xt[St].f,0,8),r(bt,Pt-32,xt[St].ea,0,8)),ut.Za){var Mt=J,Bt=rt-32+16;for(0<q&&(R>=b.za-1?n(Mt,Bt,xt[St].y[15],4):r(Mt,Bt,xt[St+1].y,0,4)),P=0;4>P;P++)Mt[Bt+128+P]=Mt[Bt+256+P]=Mt[Bt+384+P]=Mt[Bt+0+P];for(P=0;16>P;++P,Lt<<=2)Mt=J,Bt=rt+Wg[P],dn[ut.Ob[P]](Mt,Bt),th(Lt,Et,16*+P,Mt,Bt)}else if(Mt=_o(R,q,ut.Ob[0]),Rs[Mt](J,rt),Lt!=0)for(P=0;16>P;++P,Lt<<=2)th(Lt,Et,16*+P,J,rt+Wg[P]);for(P=ut.Gc,Mt=_o(R,q,ut.Dd),os[Mt](at,ht),os[Mt](bt,Pt),Lt=Et,Mt=at,Bt=ht,255&(ut=0|P)&&(170&ut?Mn(Lt,256,Mt,Bt):Ge(Lt,256,Mt,Bt)),ut=bt,Lt=Pt,255&(P>>=8)&&(170&P?Mn(Et,320,ut,Lt):Ge(Et,320,ut,Lt)),q<b.Ub-1&&(r(xt[St].y,0,J,rt+480,16),r(xt[St].f,0,at,ht+224,8),r(xt[St].ea,0,bt,Pt+224,8)),P=8*$*b.B,xt=b.sa,St=b.ta+16*R+16*$*b.R,Et=b.qa,ut=b.ra+8*R+P,Lt=b.Ha,Mt=b.Ia+8*R+P,P=0;16>P;++P)r(xt,St+P*b.R,J,rt+32*P,16);for(P=0;8>P;++P)r(Et,ut+P*b.B,at,ht+32*P,8),r(Lt,Mt+P*b.B,bt,Pt+32*P,8)}}function Pa(b,_,P,R,q,$,J,rt,at){var ht=[0],bt=[0],Pt=0,ut=at!=null?at.kd:0,xt=at??new Ft;if(b==null||12>P)return 7;xt.data=b,xt.w=_,xt.ha=P,_=[_],P=[P],xt.gb=[xt.gb];t:{var St=_,Et=P,Lt=xt.gb;if(t(b!=null),t(Et!=null),t(Lt!=null),Lt[0]=0,12<=Et[0]&&!e(b,St[0],"RIFF")){if(e(b,St[0]+8,"WEBP")){Lt=3;break t}var Mt=T(b,St[0]+4);if(12>Mt||4294967286<Mt){Lt=3;break t}if(ut&&Mt>Et[0]-8){Lt=7;break t}Lt[0]=Mt,St[0]+=12,Et[0]-=12}Lt=0}if(Lt!=0)return Lt;for(Mt=0<xt.gb[0],P=P[0];;){t:{var Bt=b;Et=_,Lt=P;var jt=ht,It=bt,ie=St=[0];if((Zt=Pt=[Pt])[0]=0,8>Lt[0])Lt=7;else{if(!e(Bt,Et[0],"VP8X")){if(T(Bt,Et[0]+4)!=10){Lt=3;break t}if(18>Lt[0]){Lt=7;break t}var qt=T(Bt,Et[0]+8),xe=1+pt(Bt,Et[0]+12);if(2147483648<=xe*(Bt=1+pt(Bt,Et[0]+15))){Lt=3;break t}ie!=null&&(ie[0]=qt),jt!=null&&(jt[0]=xe),It!=null&&(It[0]=Bt),Et[0]+=18,Lt[0]-=18,Zt[0]=1}Lt=0}}if(Pt=Pt[0],St=St[0],Lt!=0)return Lt;if(Et=!!(2&St),!Mt&&Pt)return 3;if($!=null&&($[0]=!!(16&St)),J!=null&&(J[0]=Et),rt!=null&&(rt[0]=0),J=ht[0],St=bt[0],Pt&&Et&&at==null){Lt=0;break}if(4>P){Lt=7;break}if(Mt&&Pt||!Mt&&!Pt&&!e(b,_[0],"ALPH")){P=[P],xt.na=[xt.na],xt.P=[xt.P],xt.Sa=[xt.Sa];t:{qt=b,Lt=_,Mt=P;var Zt=xt.gb;jt=xt.na,It=xt.P,ie=xt.Sa,xe=22,t(qt!=null),t(Mt!=null),Bt=Lt[0];var Pe=Mt[0];for(t(jt!=null),t(ie!=null),jt[0]=null,It[0]=null,ie[0]=0;;){if(Lt[0]=Bt,Mt[0]=Pe,8>Pe){Lt=7;break t}var Fi=T(qt,Bt+4);if(4294967286<Fi){Lt=3;break t}var Ce=8+Fi+1&-2;if(xe+=Ce,0<Zt&&xe>Zt){Lt=3;break t}if(!e(qt,Bt,"VP8 ")||!e(qt,Bt,"VP8L")){Lt=0;break t}if(Pe[0]<Ce){Lt=7;break t}e(qt,Bt,"ALPH")||(jt[0]=qt,It[0]=Bt+8,ie[0]=Fi),Bt+=Ce,Pe-=Ce}}if(P=P[0],xt.na=xt.na[0],xt.P=xt.P[0],xt.Sa=xt.Sa[0],Lt!=0)break}P=[P],xt.Ja=[xt.Ja],xt.xa=[xt.xa];t:if(Zt=b,Lt=_,Mt=P,jt=xt.gb[0],It=xt.Ja,ie=xt.xa,qt=Lt[0],Bt=!e(Zt,qt,"VP8 "),xe=!e(Zt,qt,"VP8L"),t(Zt!=null),t(Mt!=null),t(It!=null),t(ie!=null),8>Mt[0])Lt=7;else{if(Bt||xe){if(Zt=T(Zt,qt+4),12<=jt&&Zt>jt-12){Lt=3;break t}if(ut&&Zt>Mt[0]-8){Lt=7;break t}It[0]=Zt,Lt[0]+=8,Mt[0]-=8,ie[0]=xe}else ie[0]=5<=Mt[0]&&Zt[qt+0]==47&&!(Zt[qt+4]>>5),It[0]=Mt[0];Lt=0}if(P=P[0],xt.Ja=xt.Ja[0],xt.xa=xt.xa[0],_=_[0],Lt!=0)break;if(4294967286<xt.Ja)return 3;if(rt==null||Et||(rt[0]=xt.xa?2:1),J=[J],St=[St],xt.xa){if(5>P){Lt=7;break}rt=J,ut=St,Et=$,b==null||5>P?b=0:5<=P&&b[_+0]==47&&!(b[_+4]>>5)?(Mt=[0],Zt=[0],jt=[0],B(It=new j,b,_,P),Jn(It,Mt,Zt,jt)?(rt!=null&&(rt[0]=Mt[0]),ut!=null&&(ut[0]=Zt[0]),Et!=null&&(Et[0]=jt[0]),b=1):b=0):b=0}else{if(10>P){Lt=7;break}rt=St,b==null||10>P||!Gc(b,_+3,P-3)?b=0:(ut=b[_+0]|b[_+1]<<8|b[_+2]<<16,Et=16383&(b[_+7]<<8|b[_+6]),b=16383&(b[_+9]<<8|b[_+8]),1&ut||3<(ut>>1&7)||!(ut>>4&1)||ut>>5>=xt.Ja||!Et||!b?b=0:(J&&(J[0]=Et),rt&&(rt[0]=b),b=1))}if(!b||(J=J[0],St=St[0],Pt&&(ht[0]!=J||bt[0]!=St)))return 3;at!=null&&(at[0]=xt,at.offset=_-at.w,t(4294967286>_-at.w),t(at.offset==at.ha-P));break}return Lt==0||Lt==7&&Pt&&at==null?($!=null&&($[0]|=xt.na!=null&&0<xt.na.length),R!=null&&(R[0]=J),q!=null&&(q[0]=St),0):Lt}function Ol(b,_,P){var R=_.width,q=_.height,$=0,J=0,rt=R,at=q;if(_.Da=b!=null&&0<b.Da,_.Da&&(rt=b.cd,at=b.bd,$=b.v,J=b.j,11>P||($&=-2,J&=-2),0>$||0>J||0>=rt||0>=at||$+rt>R||J+at>q))return 0;if(_.v=$,_.j=J,_.va=$+rt,_.o=J+at,_.U=rt,_.T=at,_.da=b!=null&&0<b.da,_.da){if(!G(rt,at,P=[b.ib],$=[b.hb]))return 0;_.ib=P[0],_.hb=$[0]}return _.ob=b!=null&&b.ob,_.Kb=b==null||!b.Sd,_.da&&(_.ob=_.ib<3*R/4&&_.hb<3*q/4,_.Kb=0),1}function Dl(b){if(b==null)return 2;if(11>b.S){var _=b.f.RGBA;_.fb+=(b.height-1)*_.A,_.A=-_.A}else _=b.f.kb,b=b.height,_.O+=(b-1)*_.fa,_.fa=-_.fa,_.N+=(b-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(b-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(b-1)*_.lb,_.lb=-_.lb);return 0}function Ds(b,_,P,R){if(R==null||0>=b||0>=_)return 2;if(P!=null){if(P.Da){var q=P.cd,$=P.bd,J=-2&P.v,rt=-2&P.j;if(0>J||0>rt||0>=q||0>=$||J+q>b||rt+$>_)return 2;b=q,_=$}if(P.da){if(!G(b,_,q=[P.ib],$=[P.hb]))return 2;b=q[0],_=$[0]}}R.width=b,R.height=_;t:{var at=R.width,ht=R.height;if(b=R.S,0>=at||0>=ht||!(b>=nh&&13>b))b=2;else{if(0>=R.Rd&&R.sd==null){J=$=q=_=0;var bt=(rt=at*Xg[b])*ht;if(11>b||($=(ht+1)/2*(_=(at+1)/2),b==12&&(J=(q=at)*ht)),(ht=o(bt+2*$+J))==null){b=1;break t}R.sd=ht,11>b?((at=R.f.RGBA).eb=ht,at.fb=0,at.A=rt,at.size=bt):((at=R.f.kb).y=ht,at.O=0,at.fa=rt,at.Fd=bt,at.f=ht,at.N=0+bt,at.Ab=_,at.Cd=$,at.ea=ht,at.W=0+bt+$,at.Db=_,at.Ed=$,b==12&&(at.F=ht,at.J=0+bt+2*$),at.Tc=J,at.lb=q)}if(_=1,q=R.S,$=R.width,J=R.height,q>=nh&&13>q)if(11>q)b=R.f.RGBA,_&=(rt=Math.abs(b.A))*(J-1)+$<=b.size,_&=rt>=$*Xg[q],_&=b.eb!=null;else{b=R.f.kb,rt=($+1)/2,bt=(J+1)/2,at=Math.abs(b.fa),ht=Math.abs(b.Ab);var Pt=Math.abs(b.Db),ut=Math.abs(b.lb),xt=ut*(J-1)+$;_&=at*(J-1)+$<=b.Fd,_&=ht*(bt-1)+rt<=b.Cd,_=(_&=Pt*(bt-1)+rt<=b.Ed)&at>=$&ht>=rt&Pt>=rt,_&=b.y!=null,_&=b.f!=null,_&=b.ea!=null,q==12&&(_&=ut>=$,_&=xt<=b.Tc,_&=b.F!=null)}else _=0;b=_?0:2}}return b!=0||P!=null&&P.fd&&(b=Dl(R)),b}var Oa=64,Tr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],kr=24,Es=32,ss=8,Ms=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];At("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,_,P){return _[P+0]},D.Predictor3=function(b,_,P){return _[P+1]},D.Predictor4=function(b,_,P){return _[P-1]},D.Predictor5=function(b,_,P){return _t(_t(b,_[P+1]),_[P+0])},D.Predictor6=function(b,_,P){return _t(b,_[P-1])},D.Predictor7=function(b,_,P){return _t(b,_[P+0])},D.Predictor8=function(b,_,P){return _t(_[P-1],_[P+0])},D.Predictor9=function(b,_,P){return _t(_[P+0],_[P+1])},D.Predictor10=function(b,_,P){return _t(_t(b,_[P-1]),_t(_[P+0],_[P+1]))},D.Predictor11=function(b,_,P){var R=_[P+0];return 0>=Nt(R>>24&255,b>>24&255,(_=_[P-1])>>24&255)+Nt(R>>16&255,b>>16&255,_>>16&255)+Nt(R>>8&255,b>>8&255,_>>8&255)+Nt(255&R,255&b,255&_)?R:b},D.Predictor12=function(b,_,P){var R=_[P+0];return(Dt((b>>24&255)+(R>>24&255)-((_=_[P-1])>>24&255))<<24|Dt((b>>16&255)+(R>>16&255)-(_>>16&255))<<16|Dt((b>>8&255)+(R>>8&255)-(_>>8&255))<<8|Dt((255&b)+(255&R)-(255&_)))>>>0},D.Predictor13=function(b,_,P){var R=_[P-1];return(kt((b=_t(b,_[P+0]))>>24&255,R>>24&255)<<24|kt(b>>16&255,R>>16&255)<<16|kt(b>>8&255,R>>8&255)<<8|kt(255&b,255&R))>>>0};var El=D.PredictorAdd0;D.PredictorAdd1=Xt,At("Predictor2","PredictorAdd2"),At("Predictor3","PredictorAdd3"),At("Predictor4","PredictorAdd4"),At("Predictor5","PredictorAdd5"),At("Predictor6","PredictorAdd6"),At("Predictor7","PredictorAdd7"),At("Predictor8","PredictorAdd8"),At("Predictor9","PredictorAdd9"),At("Predictor10","PredictorAdd10"),At("Predictor11","PredictorAdd11"),At("Predictor12","PredictorAdd12"),At("Predictor13","PredictorAdd13");var xo=D.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var mi,eh=D.ColorIndexInverseTransform,Dn=D.MapARGB,En=D.VP8LColorIndexInverseTransformAlpha,Ml=D.MapAlpha,Fl=D.VP8LPredictorsAdd=[];Fl.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Nl,Bl,Fs,Ns,Bs,Da,Is,Ea,tn,Mn,ze,Ge,vi,Mi,as,Il,Co,ih,mg,vg,yg,bg,wg,_g,Rl,xg,Cg,Sg,Tg=o(511),kg=o(2041),Lg=o(225),Pg=o(767),Og=0,wf=kg,rh=Lg,Lr=Pg,en=Tg,nh=0,sh=1,Dg=2,ah=3,oh=4,_f=5,Eg=6,xf=7,Cf=8,lh=9,Sf=10,E2=[2,3,7],M2=[3,3,11],Mg=[280,256,256,256,40],F2=[0,1,1,1,0],N2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],B2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],I2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],R2=8,Tf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],kf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],jl=null,j2=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],z2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Fg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],U2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],W2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],X2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],G2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rs=[],dn=[],os=[],H2=1,Ng=2,js=[],rn=[];mr("UpsampleRgbLinePair",Sa,3),mr("UpsampleBgrLinePair",Ta,3),mr("UpsampleRgbaLinePair",Pl,4),mr("UpsampleBgraLinePair",Ll,4),mr("UpsampleArgbLinePair",La,4),mr("UpsampleRgba4444LinePair",ka,2),mr("UpsampleRgb565LinePair",Ki,2);var V2=D.UpsampleRgbLinePair,Y2=D.UpsampleBgrLinePair,Bg=D.UpsampleRgbaLinePair,Ig=D.UpsampleBgraLinePair,Rg=D.UpsampleArgbLinePair,jg=D.UpsampleRgba4444LinePair,q2=D.UpsampleRgb565LinePair,ch=16,hh=1<<ch-1,zl=-227,Lf=482,zg=6,Q2=(256<<zg)-1,Ug=0,K2=o(256),$2=o(256),J2=o(256),Z2=o(256),ty=o(Lf-zl),ey=o(Lf-zl);ns("YuvToRgbRow",Sa,3),ns("YuvToBgrRow",Ta,3),ns("YuvToRgbaRow",Pl,4),ns("YuvToBgraRow",Ll,4),ns("YuvToArgbRow",La,4),ns("YuvToRgba4444Row",ka,2),ns("YuvToRgb565Row",Ki,2);var Wg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uh=[0,2,8],iy=[8,7,6,4,4,2,2,2,1,1,1,1],ry=1;this.WebPDecodeRGBA=function(b,_,P,R,q){var $=sh,J=new Ct,rt=new Me;J.ba=rt,rt.S=$,rt.width=[rt.width],rt.height=[rt.height];var at=rt.width,ht=rt.height,bt=new oe;if(bt==null||b==null)var Pt=2;else t(bt!=null),Pt=Pa(b,_,P,bt.width,bt.height,bt.Pd,bt.Qd,bt.format,null);if(Pt!=0?at=0:(at!=null&&(at[0]=bt.width[0]),ht!=null&&(ht[0]=bt.height[0]),at=1),at){rt.width=rt.width[0],rt.height=rt.height[0],R!=null&&(R[0]=rt.width),q!=null&&(q[0]=rt.height);t:{if(R=new Ao,(q=new Ft).data=b,q.w=_,q.ha=P,q.kd=1,_=[0],t(q!=null),((b=Pa(q.data,q.w,q.ha,null,null,null,_,null,q))==0||b==7)&&_[0]&&(b=4),(_=b)==0){if(t(J!=null),R.data=q.data,R.w=q.w+q.offset,R.ha=q.ha-q.offset,R.put=le,R.ac=kn,R.bc=$n,R.ma=J,q.xa){if((b=fa())==null){J=1;break t}if(function(ut,xt){var St=[0],Et=[0],Lt=[0];e:for(;;){if(ut==null)return 0;if(xt==null)return ut.a=2,0;if(ut.l=xt,ut.a=0,B(ut.m,xt.data,xt.w,xt.ha),!Jn(ut.m,St,Et,Lt)){ut.a=3;break e}if(ut.xb=Ng,xt.width=St[0],xt.height=Et[0],!Pn(St[0],Et[0],1,ut,null))break e;return 1}return t(ut.a!=0),0}(b,R)){if(R=(_=Ds(R.width,R.height,J.Oa,J.ba))==0){e:{R=b;i:for(;;){if(R==null){R=0;break e}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((P=R.l)!=null),t((q=P.ma)!=null),R.xb!=0){if(R.ca=q.ba,R.tb=q.tb,t(R.ca!=null),!Ol(q.Oa,P,ah)){R.a=2;break i}if(!da(R,P.width)||P.da)break i;if((P.da||pe(R.ca.S))&&Jr(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Jr()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!U(R.s.vb,R.s.Wa.Xa)){R.a=1;break i}R.xb=0}if(!un(R,R.V,R.Ba,R.c,R.i,P.o,ks))break i;q.Dc=R.Ma,R=1;break e}t(R.a!=0),R=0}R=!R}R&&(_=b.a)}else _=b.a}else{if((b=new af)==null){J=1;break t}if(b.Fa=q.na,b.P=q.P,b.qc=q.Sa,Hc(b,R)){if((_=Ds(R.width,R.height,J.Oa,J.ba))==0){if(b.Aa=0,P=J.Oa,t((q=b)!=null),P!=null){if(0<(at=0>(at=P.Md)?0:100<at?255:255*at/100)){for(ht=bt=0;4>ht;++ht)12>(Pt=q.pb[ht]).lc&&(Pt.ia=at*iy[0>Pt.lc?0:Pt.lc]>>3),bt|=Pt.ia;bt&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=P.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}(function(ut,xt){if(ut==null)return 0;if(xt==null)return Ti(ut,2,"NULL VP8Io parameter in VP8Decode().");if(!ut.cb&&!Hc(ut,xt))return 0;if(t(ut.cb),xt.ac==null||xt.ac(xt)){xt.ob&&(ut.L=0);var St=uh[ut.L];if(ut.L==2?(ut.yb=0,ut.zb=0):(ut.yb=xt.v-St>>4,ut.zb=xt.j-St>>4,0>ut.yb&&(ut.yb=0),0>ut.zb&&(ut.zb=0)),ut.Va=xt.o+15+St>>4,ut.Hb=xt.va+15+St>>4,ut.Hb>ut.za&&(ut.Hb=ut.za),ut.Va>ut.Ub&&(ut.Va=ut.Ub),0<ut.L){var Et=ut.ed;for(St=0;4>St;++St){var Lt;if(ut.Qa.Cb){var Mt=ut.Qa.Lb[St];ut.Qa.Fb||(Mt+=Et.Tb)}else Mt=Et.Tb;for(Lt=0;1>=Lt;++Lt){var Bt=ut.gd[St][Lt],jt=Mt;if(Et.Pc&&(jt+=Et.vd[0],Lt&&(jt+=Et.od[0])),0<(jt=0>jt?0:63<jt?63:jt)){var It=jt;0<Et.wb&&(It=4<Et.wb?It>>2:It>>1)>9-Et.wb&&(It=9-Et.wb),1>It&&(It=1),Bt.dd=It,Bt.tc=2*jt+It,Bt.ld=40<=jt?2:15<=jt?1:0}else Bt.tc=0;Bt.La=Lt}}}St=0}else Ti(ut,6,"Frame setup failed"),St=ut.a;if(St=St==0){if(St){ut.$c=0,0<ut.Aa||(ut.Ic=ry);e:{St=ut.Ic,Et=4*(It=ut.za);var ie=32*It,qt=It+1,xe=0<ut.L?It*(0<ut.Aa?2:1):0,Zt=(ut.Aa==2?2:1)*It;if((Bt=Et+832+(Lt=3*(16*St+uh[ut.L])/2*ie)+(Mt=ut.Fa!=null&&0<ut.Fa.length?ut.Kc.c*ut.Kc.i:0))!=Bt)St=0;else{if(Bt>ut.Vb){if(ut.Vb=0,ut.Ec=o(Bt),ut.Fc=0,ut.Ec==null){St=Ti(ut,1,"no memory during frame initialization.");break e}ut.Vb=Bt}Bt=ut.Ec,jt=ut.Fc,ut.Ac=Bt,ut.Bc=jt,jt+=Et,ut.Gd=d(ie,Wc),ut.Hd=0,ut.rb=d(qt+1,ml),ut.sb=1,ut.wa=xe?d(xe,$r):null,ut.Y=0,ut.D.Nb=0,ut.D.wa=ut.wa,ut.D.Y=ut.Y,0<ut.Aa&&(ut.D.Y+=It),t(!0),ut.oc=Bt,ut.pc=jt,jt+=832,ut.ya=d(Zt,vl),ut.aa=0,ut.D.ya=ut.ya,ut.D.aa=ut.aa,ut.Aa==2&&(ut.D.aa+=It),ut.R=16*It,ut.B=8*It,It=(ie=uh[ut.L])*ut.R,ie=ie/2*ut.B,ut.sa=Bt,ut.ta=jt+It,ut.qa=ut.sa,ut.ra=ut.ta+16*St*ut.R+ie,ut.Ha=ut.qa,ut.Ia=ut.ra+8*St*ut.B+ie,ut.$c=0,jt+=Lt,ut.mb=Mt?Bt:null,ut.nb=Mt?jt:null,t(jt+Mt<=ut.Fc+ut.Vb),pa(ut),n(ut.Ac,ut.Bc,0,Et),St=1}}if(St){if(xt.ka=0,xt.y=ut.sa,xt.O=ut.ta,xt.f=ut.qa,xt.N=ut.ra,xt.ea=ut.Ha,xt.Vd=ut.Ia,xt.fa=ut.R,xt.Rc=ut.B,xt.F=null,xt.J=0,!Og){for(St=-255;255>=St;++St)Tg[255+St]=0>St?-St:St;for(St=-1020;1020>=St;++St)kg[1020+St]=-128>St?-128:127<St?127:St;for(St=-112;112>=St;++St)Lg[112+St]=-16>St?-16:15<St?15:St;for(St=-255;510>=St;++St)Pg[255+St]=0>St?0:255<St?255:St;Og=1}Is=Yc,Ea=lf,Mn=cf,ze=On,Ge=Vc,tn=of,vi=Kc,Mi=$c,as=k,Il=Y,Co=_a,ih=Jc,mg=ft,vg=mt,yg=kl,bg=wa,wg=qc,_g=Qc,dn[0]=Af,dn[1]=bl,dn[2]=pf,dn[3]=gf,dn[4]=mf,dn[5]=es,dn[6]=ts,dn[7]=vf,dn[8]=mo,dn[9]=yf,Rs[0]=Ps,Rs[1]=uf,Rs[2]=ff,Rs[3]=wl,Rs[4]=df,Rs[5]=ma,Rs[6]=_l,os[0]=yo,os[1]=hf,os[2]=xl,os[3]=va,os[4]=Cl,os[5]=bf,os[6]=Sl,St=1}else St=0}St&&(St=function(Pe,Fi){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Ce,te=Pe.Jc[Pe.M&Pe.Xb],Gt=Pe.m,yi=Pe;for(Ce=0;Ce<yi.za;++Ce){var ye=Gt,Ee=yi,$e=Ee.Ac,Gi=Ee.Bc+4*Ce,sr=Ee.zc,ui=Ee.ya[Ee.aa+Ce];if(Ee.Qa.Bb?ui.$b=dt(ye,Ee.Pa.jb[0])?2+dt(ye,Ee.Pa.jb[2]):dt(ye,Ee.Pa.jb[1]):ui.$b=0,Ee.kc&&(ui.Ad=dt(ye,Ee.Bd)),ui.Za=!dt(ye,145)+0,ui.Za){var $i=ui.Ob,ar=0;for(Ee=0;4>Ee;++Ee){var Ni,Fe=sr[0+Ee];for(Ni=0;4>Ni;++Ni){Fe=W2[$e[Gi+Ni]][Fe];for(var We=Fg[dt(ye,Fe[0])];0<We;)We=Fg[2*We+dt(ye,Fe[We])];Fe=-We,$e[Gi+Ni]=Fe}r($i,ar,$e,Gi,4),ar+=4,sr[0+Ee]=Fe}}else Fe=dt(ye,156)?dt(ye,128)?1:3:dt(ye,163)?2:0,ui.Ob[0]=Fe,n($e,Gi,Fe,4),n(sr,0,Fe,4);ui.Dd=dt(ye,142)?dt(ye,114)?dt(ye,183)?1:3:2:0}if(yi.m.Ka)return Ti(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(yi=te,ye=(Gt=Pe).rb[Gt.sb-1],$e=Gt.rb[Gt.sb+Gt.ja],Ce=Gt.ya[Gt.aa+Gt.ja],Gi=Gt.kc?Ce.Ad:0)ye.la=$e.la=0,Ce.Za||(ye.Na=$e.Na=0),Ce.Hc=0,Ce.Gc=0,Ce.ia=0;else{var fi,Xe;if(ye=$e,$e=yi,Gi=Gt.Pa.Xc,sr=Gt.ya[Gt.aa+Gt.ja],ui=Gt.pb[sr.$b],Ee=sr.ad,$i=0,ar=Gt.rb[Gt.sb-1],Fe=Ni=0,n(Ee,$i,0,384),sr.Za)var Hi=0,pn=Gi[3];else{We=o(16);var bi=ye.Na+ar.Na;if(bi=jl($e,Gi[1],bi,ui.Eb,0,We,0),ye.Na=ar.Na=(0<bi)+0,1<bi)Is(We,0,Ee,$i);else{var vr=We[0]+3>>3;for(We=0;256>We;We+=16)Ee[$i+We]=vr}Hi=1,pn=Gi[0]}var He=15&ye.la,Bi=15&ar.la;for(We=0;4>We;++We){var Pr=1&Bi;for(vr=Xe=0;4>vr;++vr)He=He>>1|(Pr=(bi=jl($e,pn,bi=Pr+(1&He),ui.Sc,Hi,Ee,$i))>Hi)<<7,Xe=Xe<<2|(3<bi?3:1<bi?2:Ee[$i+0]!=0),$i+=16;He>>=4,Bi=Bi>>1|Pr<<7,Ni=(Ni<<8|Xe)>>>0}for(pn=He,Hi=Bi>>4,fi=0;4>fi;fi+=2){for(Xe=0,He=ye.la>>4+fi,Bi=ar.la>>4+fi,We=0;2>We;++We){for(Pr=1&Bi,vr=0;2>vr;++vr)bi=Pr+(1&He),He=He>>1|(Pr=0<(bi=jl($e,Gi[2],bi,ui.Qc,0,Ee,$i)))<<3,Xe=Xe<<2|(3<bi?3:1<bi?2:Ee[$i+0]!=0),$i+=16;He>>=2,Bi=Bi>>1|Pr<<5}Fe|=Xe<<4*fi,pn|=He<<4<<fi,Hi|=(240&Bi)<<fi}ye.la=pn,ar.la=Hi,sr.Hc=Ni,sr.Gc=Fe,sr.ia=43690&Fe?0:ui.ia,Gi=!(Ni|Fe)}if(0<Gt.L&&(Gt.wa[Gt.Y+Gt.ja]=Gt.gd[Ce.$b][Ce.Za],Gt.wa[Gt.Y+Gt.ja].La|=!Gi),yi.Ka)return Ti(Pe,7,"Premature end-of-file encountered.")}if(pa(Pe),Gt=Fi,yi=1,Ce=(te=Pe).D,ye=0<te.L&&te.M>=te.zb&&te.M<=te.Va,te.Aa==0)e:{if(Ce.M=te.M,Ce.uc=ye,Zr(te,Ce),yi=1,Ce=(Xe=te.D).Nb,ye=(Fe=uh[te.L])*te.R,$e=Fe/2*te.B,We=16*Ce*te.R,vr=8*Ce*te.B,Gi=te.sa,sr=te.ta-ye+We,ui=te.qa,Ee=te.ra-$e+vr,$i=te.Ha,ar=te.Ia-$e+vr,Bi=(He=Xe.M)==0,Ni=He>=te.Va-1,te.Aa==2&&Zr(te,Xe),Xe.uc)for(Pr=(bi=te).D.M,t(bi.D.uc),Xe=bi.yb;Xe<bi.Hb;++Xe){Hi=Xe,pn=Pr;var or=(Or=(Vi=bi).D).Nb;fi=Vi.R;var Or=Or.wa[Or.Y+Hi],Dr=Vi.sa,yr=Vi.ta+16*or*fi+16*Hi,Er=Or.dd,Ke=Or.tc;if(Ke!=0)if(t(3<=Ke),Vi.L==1)0<Hi&&bg(Dr,yr,fi,Ke+4),Or.La&&_g(Dr,yr,fi,Ke),0<pn&&yg(Dr,yr,fi,Ke+4),Or.La&&wg(Dr,yr,fi,Ke);else{var Mr=Vi.B,gn=Vi.qa,Ma=Vi.ra+8*or*Mr+8*Hi,ls=Vi.Ha,Vi=Vi.Ia+8*or*Mr+8*Hi;or=Or.ld,0<Hi&&(Mi(Dr,yr,fi,Ke+4,Er,or),Il(gn,Ma,ls,Vi,Mr,Ke+4,Er,or)),Or.La&&(ih(Dr,yr,fi,Ke,Er,or),vg(gn,Ma,ls,Vi,Mr,Ke,Er,or)),0<pn&&(vi(Dr,yr,fi,Ke+4,Er,or),as(gn,Ma,ls,Vi,Mr,Ke+4,Er,or)),Or.La&&(Co(Dr,yr,fi,Ke,Er,or),mg(gn,Ma,ls,Vi,Mr,Ke,Er,or))}}if(te.ia&&alert("todo:DitherRow"),Gt.put!=null){if(Xe=16*He,He=16*(He+1),Bi?(Gt.y=te.sa,Gt.O=te.ta+We,Gt.f=te.qa,Gt.N=te.ra+vr,Gt.ea=te.Ha,Gt.W=te.Ia+vr):(Xe-=Fe,Gt.y=Gi,Gt.O=sr,Gt.f=ui,Gt.N=Ee,Gt.ea=$i,Gt.W=ar),Ni||(He-=Fe),He>Gt.o&&(He=Gt.o),Gt.F=null,Gt.J=null,te.Fa!=null&&0<te.Fa.length&&Xe<He&&(Gt.J=ki(te,Gt,Xe,He-Xe),Gt.F=te.mb,Gt.F==null&&Gt.F.length==0)){yi=Ti(te,3,"Could not decode alpha data.");break e}Xe<Gt.j&&(Fe=Gt.j-Xe,Xe=Gt.j,t(!(1&Fe)),Gt.O+=te.R*Fe,Gt.N+=te.B*(Fe>>1),Gt.W+=te.B*(Fe>>1),Gt.F!=null&&(Gt.J+=Gt.width*Fe)),Xe<He&&(Gt.O+=Gt.v,Gt.N+=Gt.v>>1,Gt.W+=Gt.v>>1,Gt.F!=null&&(Gt.J+=Gt.v),Gt.ka=Xe-Gt.j,Gt.U=Gt.va-Gt.v,Gt.T=He-Xe,yi=Gt.put(Gt))}Ce+1!=te.Ic||Ni||(r(te.sa,te.ta-ye,Gi,sr+16*te.R,ye),r(te.qa,te.ra-$e,ui,Ee+8*te.B,$e),r(te.Ha,te.Ia-$e,$i,ar+8*te.B,$e))}if(!yi)return Ti(Pe,6,"Output aborted.")}return 1}(ut,xt)),xt.bc!=null&&xt.bc(xt),St&=1}return St?(ut.cb=0,St):0})(b,R)||(_=b.a)}}else _=b.a}_==0&&J.Oa!=null&&J.Oa.fd&&(_=Dl(J.ba))}J=_}$=J!=0?null:11>$?rt.f.RGBA.eb:rt.f.kb.y}else $=null;return $};var Xg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function a(D,X){for(var I="",O=0;O<4;O++)I+=String.fromCharCode(D[X++]);return I}function c(D,X){return D[X+0]|D[X+1]<<8}function u(D,X){return(D[X+0]|D[X+1]<<8|D[X+2]<<16)>>>0}function f(D,X){return(D[X+0]|D[X+1]<<8|D[X+2]<<16|D[X+3]<<24)>>>0}new s;var h=[0],p=[0],A=[],g=new s,m=i,v=function(D,X){var I={},O=0,W=!1,C=0,Q=0;if(I.frames=[],!function(S,j){for(var N=0;N<4;N++)if(S[j+N]!="RIFF".charCodeAt(N))return!0;return!1}(D,X)){for(f(D,X+=4),X+=8;X<D.length;){var lt=a(D,X),it=f(D,X+=4);X+=4;var et=it+(1&it);switch(lt){case"VP8 ":case"VP8L":I.frames[O]===void 0&&(I.frames[O]={}),(z=I.frames[O]).src_off=W?Q:X-8,z.src_size=C+it+8,O++,W&&(W=!1,C=0,Q=0);break;case"VP8X":(z=I.header={}).feature_flags=D[X];var B=X+4;z.canvas_width=1+u(D,B),B+=3,z.canvas_height=1+u(D,B),B+=3;break;case"ALPH":W=!0,C=et+8,Q=X-8;break;case"ANIM":(z=I.header).bgcolor=f(D,X),B=X+4,z.loop_count=c(D,B),B+=2;break;case"ANMF":var K,z;(z=I.frames[O]={}).offset_x=2*u(D,X),X+=3,z.offset_y=2*u(D,X),X+=3,z.width=1+u(D,X),X+=3,z.height=1+u(D,X),X+=3,z.duration=u(D,X),X+=3,K=D[X++],z.dispose=1&K,z.blend=K>>1&1}lt!="ANMF"&&(X+=et)}return I}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,w=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var x=0;x<w.length&&w[x].blend!=0;x++);}var L=w[0],F=g.WebPDecodeRGBA(m,L.src_off,L.src_size,p,h);L.rgba=F,L.imgwidth=p[0],L.imgheight=h[0];for(var M=0;M<p[0]*h[0]*4;M++)A[M]=F[M];return this.width=p,this.height=h,this.data=A,this}(function(i){var t,e,r,n,o,d,l,s,a,c=function(S){return S=S||{},this.isStrokeTransparent=S.isStrokeTransparent||!1,this.strokeOpacity=S.strokeOpacity||1,this.strokeStyle=S.strokeStyle||"#000000",this.fillStyle=S.fillStyle||"#000000",this.isFillTransparent=S.isFillTransparent||!1,this.fillOpacity=S.fillOpacity||1,this.font=S.font||"10px sans-serif",this.textBaseline=S.textBaseline||"alphabetic",this.textAlign=S.textAlign||"left",this.lineWidth=S.lineWidth||1,this.lineJoin=S.lineJoin||"miter",this.lineCap=S.lineCap||"butt",this.path=S.path||[],this.transform=S.transform!==void 0?S.transform.clone():new s,this.globalCompositeOperation=S.globalCompositeOperation||"normal",this.globalAlpha=S.globalAlpha||1,this.clip_path=S.clip_path||[],this.currentPoint=S.currentPoint||new d,this.miterLimit=S.miterLimit||10,this.lastPoint=S.lastPoint||new d,this.lineDashOffset=S.lineDashOffset||0,this.lineDash=S.lineDash||[],this.margin=S.margin||[0,0,0,0],this.prevPageLastElemOffset=S.prevPageLastElemOffset||0,this.ignoreClearRect=typeof S.ignoreClearRect!="boolean"||S.ignoreClearRect,this};i.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,n=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,d=this.internal.Point,l=this.internal.Rectangle,s=this.internal.Matrix,a=new c}]);var u=function(S){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var j=S;Object.defineProperty(this,"pdf",{get:function(){return j}});var N=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return N},set:function(T){N=!!T}});var E=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return E},set:function(T){E=!!T}});var H=0;Object.defineProperty(this,"posX",{get:function(){return H},set:function(T){isNaN(T)||(H=T)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(T){isNaN(T)||(Z=T)}}),Object.defineProperty(this,"margin",{get:function(){return a.margin},set:function(T){var U;typeof T=="number"?U=[T,T,T,T]:((U=new Array(4))[0]=T[0],U[1]=T.length>=2?T[1]:U[0],U[2]=T.length>=3?T[2]:U[0],U[3]=T.length>=4?T[3]:U[1]),a.margin=U}});var ot=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ot},set:function(T){ot=T}});var nt=0;Object.defineProperty(this,"lastBreak",{get:function(){return nt},set:function(T){nt=T}});var dt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return dt},set:function(T){dt=T}}),Object.defineProperty(this,"ctx",{get:function(){return a},set:function(T){T instanceof c&&(a=T)}}),Object.defineProperty(this,"path",{get:function(){return a.path},set:function(T){a.path=T}});var gt=[];Object.defineProperty(this,"ctxStack",{get:function(){return gt},set:function(T){gt=T}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(T){var U;U=f(T),this.ctx.fillStyle=U.style,this.ctx.isFillTransparent=U.a===0,this.ctx.fillOpacity=U.a,this.pdf.setFillColor(U.r,U.g,U.b,{a:U.a}),this.pdf.setTextColor(U.r,U.g,U.b,{a:U.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(T){var U=f(T);this.ctx.strokeStyle=U.style,this.ctx.isStrokeTransparent=U.a===0,this.ctx.strokeOpacity=U.a,U.a===0?this.pdf.setDrawColor(255,255,255):(U.a,this.pdf.setDrawColor(U.r,U.g,U.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(T){["butt","round","square"].indexOf(T)!==-1&&(this.ctx.lineCap=T,this.pdf.setLineCap(T))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(T){isNaN(T)||(this.ctx.lineWidth=T,this.pdf.setLineWidth(T))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(T){["bevel","round","miter"].indexOf(T)!==-1&&(this.ctx.lineJoin=T,this.pdf.setLineJoin(T))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(T){isNaN(T)||(this.ctx.miterLimit=T,this.pdf.setMiterLimit(T))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(T){this.ctx.textBaseline=T}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(T){["right","end","center","left","start"].indexOf(T)!==-1&&(this.ctx.textAlign=T)}});var Tt=null,pt=null;Object.defineProperty(this,"fontFaces",{get:function(){return pt},set:function(T){Tt=null,pt=T}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(T){var U;if(this.ctx.font=T,(U=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(T))!==null){var ct=U[1];U[2];var V=U[3],G=U[4];U[5];var tt=U[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(G)[2];G=Math.floor(yt==="px"?parseFloat(G)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(G)*this.pdf.getFontSize():parseFloat(G)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(G);var At=function(Jt){var Ht,ve,ne=[],Yt=Jt.trim();if(Yt==="")return Td;if(Yt in em)return[em[Yt]];for(;Yt!=="";){switch(ve=null,Ht=(Yt=rm(Yt)).charAt(0)){case'"':case"'":ve=NC(Yt.substring(1),Ht);break;default:ve=BC(Yt)}if(ve===null||(ne.push(ve[0]),(Yt=rm(ve[1]))!==""&&Yt.charAt(0)!==","))return Td;Yt=Yt.replace(/^,/,"")}return ne}(tt);if(this.fontFaces){var st=function(Jt,Ht){if(Tt===null){var ve=function(ne){var Yt=[];return Object.keys(ne).forEach(function(ce){ne[ce].forEach(function(Se){var se=null;switch(Se){case"bold":se={family:ce,weight:"bold"};break;case"italic":se={family:ce,style:"italic"};break;case"bolditalic":se={family:ce,weight:"bold",style:"italic"};break;case"":case"normal":se={family:ce}}se!==null&&(se.ref={name:ce,style:Se},Yt.push(se))})}),Yt}(Jt.getFontList());Tt=function(ne){for(var Yt={},ce=0;ce<ne.length;++ce){var Se=Sd(ne[ce]),se=Se.family,ke=Se.stretch,pe=Se.style,ni=Se.weight;Yt[se]=Yt[se]||{},Yt[se][ke]=Yt[se][ke]||{},Yt[se][ke][pe]=Yt[se][ke][pe]||{},Yt[se][ke][pe][ni]=Se}return Yt}(ve.concat(Ht))}return Tt}(this.pdf,this.fontFaces),_t=At.map(function(Jt){return{family:Jt,stretch:"normal",weight:V,style:ct}}),Dt=function(Jt,Ht,ve){for(var ne=(ve=ve||{}).defaultFontFamily||"times",Yt=Object.assign({},FC,ve.genericFontFamilies||{}),ce=null,Se=null,se=0;se<Ht.length;++se)if(Yt[(ce=Sd(Ht[se])).family]&&(ce.family=Yt[ce.family]),Jt.hasOwnProperty(ce.family)){Se=Jt[ce.family];break}if(!(Se=Se||Jt[ne]))throw new Error("Could not find a font-family for the rule '"+im(ce)+"' and default family '"+ne+"'.");if(Se=function(ke,pe){if(pe[ke])return pe[ke];var ni=vp[ke],li=ni<=vp.normal?-1:1,Me=tm(pe,p2,ni,li);if(!Me)throw new Error("Could not find a matching font-stretch value for "+ke);return Me}(ce.stretch,Se),Se=function(ke,pe){if(pe[ke])return pe[ke];for(var ni=d2[ke],li=0;li<ni.length;++li)if(pe[ni[li]])return pe[ni[li]];throw new Error("Could not find a matching font-style for "+ke)}(ce.style,Se),!(Se=function(ke,pe){if(pe[ke])return pe[ke];if(ke===400&&pe[500])return pe[500];if(ke===500&&pe[400])return pe[400];var ni=MC[ke],li=tm(pe,g2,ni,ke<400?-1:1);if(!li)throw new Error("Could not find a matching font-weight for value "+ke);return li}(ce.weight,Se)))throw new Error("Failed to resolve a font for the rule '"+im(ce)+"'.");return Se}(st,_t);this.pdf.setFont(Dt.ref.name,Dt.ref.style)}else{var kt="";(V==="bold"||parseInt(V,10)>=700||ct==="bold")&&(kt="bold"),ct==="italic"&&(kt+="italic"),kt.length===0&&(kt="normal");for(var Nt="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ut=0;Ut<At.length;Ut++){if(this.pdf.internal.getFont(At[Ut],kt,{noFallback:!0,disableWarning:!0})!==void 0){Nt=At[Ut];break}if(kt==="bolditalic"&&this.pdf.internal.getFont(At[Ut],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Nt=At[Ut],kt="bold";else if(this.pdf.internal.getFont(At[Ut],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Nt=At[Ut],kt="normal";break}}if(Nt===""){for(var Wt=0;Wt<At.length;Wt++)if(Xt[At[Wt]]){Nt=Xt[At[Wt]];break}}Nt=Nt===""?"Times":Nt,this.pdf.setFont(Nt,kt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(T){this.ctx.globalCompositeOperation=T}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(T){this.ctx.globalAlpha=T}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(T){this.ctx.lineDashOffset=T,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(T){this.ctx.lineDash=T,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(T){this.ctx.ignoreClearRect=!!T}})};u.prototype.setLineDash=function(S){this.lineDash=S},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(S,j){if(isNaN(S)||isNaN(j))throw Ve.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var N=this.ctx.transform.applyToPoint(new d(S,j));this.path.push({type:"mt",x:N.x,y:N.y}),this.ctx.lastPoint=new d(S,j)},u.prototype.closePath=function(){var S=new d(0,0),j=0;for(j=this.path.length-1;j!==-1;j--)if(this.path[j].type==="begin"&&Ye(this.path[j+1])==="object"&&typeof this.path[j+1].x=="number"){S=new d(this.path[j+1].x,this.path[j+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new d(S.x,S.y)},u.prototype.lineTo=function(S,j){if(isNaN(S)||isNaN(j))throw Ve.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var N=this.ctx.transform.applyToPoint(new d(S,j));this.path.push({type:"lt",x:N.x,y:N.y}),this.ctx.lastPoint=new d(N.x,N.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(S,j,N,E){if(isNaN(N)||isNaN(E)||isNaN(S)||isNaN(j))throw Ve.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var H=this.ctx.transform.applyToPoint(new d(N,E)),Z=this.ctx.transform.applyToPoint(new d(S,j));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:H.x,y:H.y}),this.ctx.lastPoint=new d(H.x,H.y)},u.prototype.bezierCurveTo=function(S,j,N,E,H,Z){if(isNaN(H)||isNaN(Z)||isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E))throw Ve.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ot=this.ctx.transform.applyToPoint(new d(H,Z)),nt=this.ctx.transform.applyToPoint(new d(S,j)),dt=this.ctx.transform.applyToPoint(new d(N,E));this.path.push({type:"bct",x1:nt.x,y1:nt.y,x2:dt.x,y2:dt.y,x:ot.x,y:ot.y}),this.ctx.lastPoint=new d(ot.x,ot.y)},u.prototype.arc=function(S,j,N,E,H,Z){if(isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E)||isNaN(H))throw Ve.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var ot=this.ctx.transform.applyToPoint(new d(S,j));S=ot.x,j=ot.y;var nt=this.ctx.transform.applyToPoint(new d(0,N)),dt=this.ctx.transform.applyToPoint(new d(0,0));N=Math.sqrt(Math.pow(nt.x-dt.x,2)+Math.pow(nt.y-dt.y,2))}Math.abs(H-E)>=2*Math.PI&&(E=0,H=2*Math.PI),this.path.push({type:"arc",x:S,y:j,radius:N,startAngle:E,endAngle:H,counterclockwise:Z})},u.prototype.arcTo=function(S,j,N,E,H){throw new Error("arcTo not implemented.")},u.prototype.rect=function(S,j,N,E){if(isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E))throw Ve.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(S,j),this.lineTo(S+N,j),this.lineTo(S+N,j+E),this.lineTo(S,j+E),this.lineTo(S,j),this.lineTo(S+N,j),this.lineTo(S,j)},u.prototype.fillRect=function(S,j,N,E){if(isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E))throw Ve.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var H={};this.lineCap!=="butt"&&(H.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(H.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(S,j,N,E),this.fill(),H.hasOwnProperty("lineCap")&&(this.lineCap=H.lineCap),H.hasOwnProperty("lineJoin")&&(this.lineJoin=H.lineJoin)}},u.prototype.strokeRect=function(S,j,N,E){if(isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E))throw Ve.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(S,j,N,E),this.stroke())},u.prototype.clearRect=function(S,j,N,E){if(isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E))throw Ve.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(S,j,N,E))},u.prototype.save=function(S){S=typeof S!="boolean"||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,N=0;N<this.pdf.internal.getNumberOfPages();N++)this.pdf.setPage(N+1),this.pdf.internal.out("q");if(this.pdf.setPage(j),S){this.ctx.fontSize=this.pdf.internal.getFontSize();var E=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=E}},u.prototype.restore=function(S){S=typeof S!="boolean"||S;for(var j=this.pdf.internal.getCurrentPageInfo().pageNumber,N=0;N<this.pdf.internal.getNumberOfPages();N++)this.pdf.setPage(N+1),this.pdf.internal.out("Q");this.pdf.setPage(j),S&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(S){var j,N,E,H;if(S.isCanvasGradient===!0&&(S=S.getColor()),!S)return{r:0,g:0,b:0,a:0,style:S};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(S))j=0,N=0,E=0,H=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(S);if(Z!==null)j=parseInt(Z[1]),N=parseInt(Z[2]),E=parseInt(Z[3]),H=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(S))!==null)j=parseInt(Z[1]),N=parseInt(Z[2]),E=parseInt(Z[3]),H=parseFloat(Z[4]);else{if(H=1,typeof S=="string"&&S.charAt(0)!=="#"){var ot=new a2(S);S=ot.ok?ot.toHex():"#000000"}S.length===4?(j=S.substring(1,2),j+=j,N=S.substring(2,3),N+=N,E=S.substring(3,4),E+=E):(j=S.substring(1,3),N=S.substring(3,5),E=S.substring(5,7)),j=parseInt(j,16),N=parseInt(N,16),E=parseInt(E,16)}}return{r:j,g:N,b:E,a:H,style:S}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(S,j,N,E){if(isNaN(j)||isNaN(N)||typeof S!="string")throw Ve.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(E=isNaN(E)?void 0:E,!h.call(this)){var H=et(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;O.call(this,{text:S,x:j,y:N,scale:Z,angle:H,align:this.textAlign,maxWidth:E})}},u.prototype.strokeText=function(S,j,N,E){if(isNaN(j)||isNaN(N)||typeof S!="string")throw Ve.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){E=isNaN(E)?void 0:E;var H=et(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;O.call(this,{text:S,x:j,y:N,scale:Z,renderingMode:"stroke",angle:H,align:this.textAlign,maxWidth:E})}},u.prototype.measureText=function(S){if(typeof S!="string")throw Ve.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var j=this.pdf,N=this.pdf.internal.scaleFactor,E=j.internal.getFontSize(),H=j.getStringUnitWidth(S)*E/j.internal.scaleFactor;return new function(Z){var ot=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ot}}),this}({width:H*=Math.round(96*N/72*1e4)/1e4})},u.prototype.scale=function(S,j){if(isNaN(S)||isNaN(j))throw Ve.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var N=new s(S,0,0,j,0,0);this.ctx.transform=this.ctx.transform.multiply(N)},u.prototype.rotate=function(S){if(isNaN(S))throw Ve.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var j=new s(Math.cos(S),Math.sin(S),-Math.sin(S),Math.cos(S),0,0);this.ctx.transform=this.ctx.transform.multiply(j)},u.prototype.translate=function(S,j){if(isNaN(S)||isNaN(j))throw Ve.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var N=new s(1,0,0,1,S,j);this.ctx.transform=this.ctx.transform.multiply(N)},u.prototype.transform=function(S,j,N,E,H,Z){if(isNaN(S)||isNaN(j)||isNaN(N)||isNaN(E)||isNaN(H)||isNaN(Z))throw Ve.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ot=new s(S,j,N,E,H,Z);this.ctx.transform=this.ctx.transform.multiply(ot)},u.prototype.setTransform=function(S,j,N,E,H,Z){S=isNaN(S)?1:S,j=isNaN(j)?0:j,N=isNaN(N)?0:N,E=isNaN(E)?1:E,H=isNaN(H)?0:H,Z=isNaN(Z)?0:Z,this.ctx.transform=new s(S,j,N,E,H,Z)};var A=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(S,j,N,E,H,Z,ot,nt,dt){var gt=this.pdf.getImageProperties(S),Tt=1,pt=1,T=1,U=1;E!==void 0&&nt!==void 0&&(T=nt/E,U=dt/H,Tt=gt.width/E*nt/E,pt=gt.height/H*dt/H),Z===void 0&&(Z=j,ot=N,j=0,N=0),E!==void 0&&nt===void 0&&(nt=E,dt=H),E===void 0&&nt===void 0&&(nt=gt.width,dt=gt.height);for(var ct,V=this.ctx.transform.decompose(),G=et(V.rotate.shx),tt=new s,yt=(tt=(tt=(tt=tt.multiply(V.translate)).multiply(V.skew)).multiply(V.scale)).applyToRectangle(new l(Z-j*T,ot-N*U,E*Tt,H*pt)),At=g.call(this,yt),st=[],_t=0;_t<At.length;_t+=1)st.indexOf(At[_t])===-1&&st.push(At[_t]);if(y(st),this.autoPaging)for(var Dt=st[0],kt=st[st.length-1],Nt=Dt;Nt<kt+1;Nt++){this.pdf.setPage(Nt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ut=Nt===1?this.posY+this.margin[0]:this.margin[0],Wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ht=Nt===1?0:Wt+(Nt-2)*Jt;if(this.ctx.clip_path.length!==0){var ve=this.path;ct=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(ct,this.posX+this.margin[3],-Ht+Ut+this.ctx.prevPageLastElemOffset),x.call(this,"fill",!0),this.path=ve}var ne=JSON.parse(JSON.stringify(yt));ne=v([ne],this.posX+this.margin[3],-Ht+Ut+this.ctx.prevPageLastElemOffset)[0];var Yt=(Nt>Dt||Nt<kt)&&A.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,Jt,null).clip().discardPath()),this.pdf.addImage(S,"JPEG",ne.x,ne.y,ne.w,ne.h,null,null,G),Yt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(S,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,G)};var g=function(S,j,N){var E=[];j=j||this.pdf.internal.pageSize.width,N=N||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var H=this.posY+this.ctx.prevPageLastElemOffset;switch(S.type){default:case"mt":case"lt":E.push(Math.floor((S.y+H)/N)+1);break;case"arc":E.push(Math.floor((S.y+H-S.radius)/N)+1),E.push(Math.floor((S.y+H+S.radius)/N)+1);break;case"qct":var Z=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x,S.y);E.push(Math.floor((Z.y+H)/N)+1),E.push(Math.floor((Z.y+Z.h+H)/N)+1);break;case"bct":var ot=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,S.x1,S.y1,S.x2,S.y2,S.x,S.y);E.push(Math.floor((ot.y+H)/N)+1),E.push(Math.floor((ot.y+ot.h+H)/N)+1);break;case"rect":E.push(Math.floor((S.y+H)/N)+1),E.push(Math.floor((S.y+S.h+H)/N)+1)}for(var nt=0;nt<E.length;nt+=1)for(;this.pdf.internal.getNumberOfPages()<E[nt];)m.call(this);return E},m=function(){var S=this.fillStyle,j=this.strokeStyle,N=this.font,E=this.lineCap,H=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=S,this.strokeStyle=j,this.font=N,this.lineCap=E,this.lineWidth=H,this.lineJoin=Z},v=function(S,j,N){for(var E=0;E<S.length;E++)switch(S[E].type){case"bct":S[E].x2+=j,S[E].y2+=N;case"qct":S[E].x1+=j,S[E].y1+=N;default:S[E].x+=j,S[E].y+=N}return S},y=function(S){return S.sort(function(j,N){return j-N})},w=function(S,j){for(var N,E,H=this.fillStyle,Z=this.strokeStyle,ot=this.lineCap,nt=this.lineWidth,dt=Math.abs(nt*this.ctx.transform.scaleX),gt=this.lineJoin,Tt=JSON.parse(JSON.stringify(this.path)),pt=JSON.parse(JSON.stringify(this.path)),T=[],U=0;U<pt.length;U++)if(pt[U].x!==void 0)for(var ct=g.call(this,pt[U]),V=0;V<ct.length;V+=1)T.indexOf(ct[V])===-1&&T.push(ct[V]);for(var G=0;G<T.length;G++)for(;this.pdf.internal.getNumberOfPages()<T[G];)m.call(this);if(y(T),this.autoPaging)for(var tt=T[0],yt=T[T.length-1],At=tt;At<yt+1;At++){this.pdf.setPage(At),this.fillStyle=H,this.strokeStyle=Z,this.lineCap=ot,this.lineWidth=dt,this.lineJoin=gt;var st=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=At===1?this.posY+this.margin[0]:this.margin[0],Dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nt=At===1?0:Dt+(At-2)*kt;if(this.ctx.clip_path.length!==0){var Xt=this.path;N=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(N,this.posX+this.margin[3],-Nt+_t+this.ctx.prevPageLastElemOffset),x.call(this,S,!0),this.path=Xt}if(E=JSON.parse(JSON.stringify(Tt)),this.path=v(E,this.posX+this.margin[3],-Nt+_t+this.ctx.prevPageLastElemOffset),j===!1||At===0){var Ut=(At>tt||At<yt)&&A.call(this);Ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,kt,null).clip().discardPath()),x.call(this,S,j),Ut&&this.pdf.restoreGraphicsState()}this.lineWidth=nt}else this.lineWidth=dt,x.call(this,S,j),this.lineWidth=nt;this.path=Tt},x=function(S,j){if((S!=="stroke"||j||!p.call(this))&&(S==="stroke"||j||!h.call(this))){for(var N,E,H=[],Z=this.path,ot=0;ot<Z.length;ot++){var nt=Z[ot];switch(nt.type){case"begin":H.push({begin:!0});break;case"close":H.push({close:!0});break;case"mt":H.push({start:nt,deltas:[],abs:[]});break;case"lt":var dt=H.length;if(Z[ot-1]&&!isNaN(Z[ot-1].x)&&(N=[nt.x-Z[ot-1].x,nt.y-Z[ot-1].y],dt>0)){for(;dt>=0;dt--)if(H[dt-1].close!==!0&&H[dt-1].begin!==!0){H[dt-1].deltas.push(N),H[dt-1].abs.push(nt);break}}break;case"bct":N=[nt.x1-Z[ot-1].x,nt.y1-Z[ot-1].y,nt.x2-Z[ot-1].x,nt.y2-Z[ot-1].y,nt.x-Z[ot-1].x,nt.y-Z[ot-1].y],H[H.length-1].deltas.push(N);break;case"qct":var gt=Z[ot-1].x+2/3*(nt.x1-Z[ot-1].x),Tt=Z[ot-1].y+2/3*(nt.y1-Z[ot-1].y),pt=nt.x+2/3*(nt.x1-nt.x),T=nt.y+2/3*(nt.y1-nt.y),U=nt.x,ct=nt.y;N=[gt-Z[ot-1].x,Tt-Z[ot-1].y,pt-Z[ot-1].x,T-Z[ot-1].y,U-Z[ot-1].x,ct-Z[ot-1].y],H[H.length-1].deltas.push(N);break;case"arc":H.push({deltas:[],abs:[],arc:!0}),Array.isArray(H[H.length-1].abs)&&H[H.length-1].abs.push(nt)}}E=j?null:S==="stroke"?"stroke":"fill";for(var V=!1,G=0;G<H.length;G++)if(H[G].arc)for(var tt=H[G].abs,yt=0;yt<tt.length;yt++){var At=tt[yt];At.type==="arc"?M.call(this,At.x,At.y,At.radius,At.startAngle,At.endAngle,At.counterclockwise,void 0,j,!V):W.call(this,At.x,At.y),V=!0}else if(H[G].close===!0)this.pdf.internal.out("h"),V=!1;else if(H[G].begin!==!0){var st=H[G].start.x,_t=H[G].start.y;C.call(this,H[G].deltas,st,_t),V=!0}E&&D.call(this,E),j&&X.call(this)}},L=function(S){var j=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,N=j*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return S-N;case"top":return S+j-N;case"hanging":return S+j-2*N;case"middle":return S+j/2-N;default:return S}},F=function(S){return S+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var S=function(){};return S.colorStops=[],S.addColorStop=function(j,N){this.colorStops.push([j,N])},S.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},S.isCanvasGradient=!0,S},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(S,j,N,E,H,Z,ot,nt,dt){for(var gt=lt.call(this,N,E,H,Z),Tt=0;Tt<gt.length;Tt++){var pt=gt[Tt];Tt===0&&(dt?I.call(this,pt.x1+S,pt.y1+j):W.call(this,pt.x1+S,pt.y1+j)),Q.call(this,S,j,pt.x2,pt.y2,pt.x3,pt.y3,pt.x4,pt.y4)}nt?X.call(this):D.call(this,ot)},D=function(S){switch(S){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(S,j){this.pdf.internal.out(e(S)+" "+r(j)+" m")},O=function(S){var j;switch(S.align){case"right":case"end":j="right";break;case"center":j="center";break;default:j="left"}var N=this.pdf.getTextDimensions(S.text),E=L.call(this,S.y),H=F.call(this,E)-N.h,Z=this.ctx.transform.applyToPoint(new d(S.x,E)),ot=this.ctx.transform.decompose(),nt=new s;nt=(nt=(nt=nt.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale);for(var dt,gt,Tt,pt=this.ctx.transform.applyToRectangle(new l(S.x,E,N.w,N.h)),T=nt.applyToRectangle(new l(S.x,H,N.w,N.h)),U=g.call(this,T),ct=[],V=0;V<U.length;V+=1)ct.indexOf(U[V])===-1&&ct.push(U[V]);if(y(ct),this.autoPaging)for(var G=ct[0],tt=ct[ct.length-1],yt=G;yt<tt+1;yt++){this.pdf.setPage(yt);var At=yt===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[2],Dt=_t-this.margin[0],kt=this.pdf.internal.pageSize.width-this.margin[1],Nt=kt-this.margin[3],Xt=yt===1?0:st+(yt-2)*Dt;if(this.ctx.clip_path.length!==0){var Ut=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(dt,this.posX+this.margin[3],-1*Xt+At),x.call(this,"fill",!0),this.path=Ut}var Wt=v([JSON.parse(JSON.stringify(T))],this.posX+this.margin[3],-Xt+At+this.ctx.prevPageLastElemOffset)[0];S.scale>=.01&&(gt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(gt*S.scale),Tt=this.lineWidth,this.lineWidth=Tt*S.scale);var Jt=this.autoPaging!=="text";if(Jt||Wt.y+Wt.h<=_t){if(Jt||Wt.y>=At&&Wt.x<=kt){var Ht=Jt?S.text:this.pdf.splitTextToSize(S.text,S.maxWidth||kt-Wt.x)[0],ve=v([JSON.parse(JSON.stringify(pt))],this.posX+this.margin[3],-Xt+At+this.ctx.prevPageLastElemOffset)[0],ne=Jt&&(yt>G||yt<tt)&&A.call(this);ne&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Dt,null).clip().discardPath()),this.pdf.text(Ht,ve.x,ve.y,{angle:S.angle,align:j,renderingMode:S.renderingMode}),ne&&this.pdf.restoreGraphicsState()}}else Wt.y<_t&&(this.ctx.prevPageLastElemOffset+=_t-Wt.y);S.scale>=.01&&(this.pdf.setFontSize(gt),this.lineWidth=Tt)}else S.scale>=.01&&(gt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(gt*S.scale),Tt=this.lineWidth,this.lineWidth=Tt*S.scale),this.pdf.text(S.text,Z.x+this.posX,Z.y+this.posY,{angle:S.angle,align:j,renderingMode:S.renderingMode,maxWidth:S.maxWidth}),S.scale>=.01&&(this.pdf.setFontSize(gt),this.lineWidth=Tt)},W=function(S,j,N,E){N=N||0,E=E||0,this.pdf.internal.out(e(S+N)+" "+r(j+E)+" l")},C=function(S,j,N){return this.pdf.lines(S,j,N,null,null)},Q=function(S,j,N,E,H,Z,ot,nt){this.pdf.internal.out([t(n(N+S)),t(o(E+j)),t(n(H+S)),t(o(Z+j)),t(n(ot+S)),t(o(nt+j)),"c"].join(" "))},lt=function(S,j,N,E){for(var H=2*Math.PI,Z=Math.PI/2;j>N;)j-=H;var ot=Math.abs(N-j);ot<H&&E&&(ot=H-ot);for(var nt=[],dt=E?-1:1,gt=j;ot>1e-5;){var Tt=gt+dt*Math.min(ot,Z);nt.push(it.call(this,S,gt,Tt)),ot-=Math.abs(Tt-gt),gt=Tt}return nt},it=function(S,j,N){var E=(N-j)/2,H=S*Math.cos(E),Z=S*Math.sin(E),ot=H,nt=-Z,dt=ot*ot+nt*nt,gt=dt+ot*H+nt*Z,Tt=4/3*(Math.sqrt(2*dt*gt)-gt)/(ot*Z-nt*H),pt=ot-Tt*nt,T=nt+Tt*ot,U=pt,ct=-T,V=E+j,G=Math.cos(V),tt=Math.sin(V);return{x1:S*Math.cos(j),y1:S*Math.sin(j),x2:pt*G-T*tt,y2:pt*tt+T*G,x3:U*G-ct*tt,y3:U*tt+ct*G,x4:S*Math.cos(N),y4:S*Math.sin(N)}},et=function(S){return 180*S/Math.PI},B=function(S,j,N,E,H,Z){var ot=S+.5*(N-S),nt=j+.5*(E-j),dt=H+.5*(N-H),gt=Z+.5*(E-Z),Tt=Math.min(S,H,ot,dt),pt=Math.max(S,H,ot,dt),T=Math.min(j,Z,nt,gt),U=Math.max(j,Z,nt,gt);return new l(Tt,T,pt-Tt,U-T)},K=function(S,j,N,E,H,Z,ot,nt){var dt,gt,Tt,pt,T,U,ct,V,G,tt,yt,At,st,_t,Dt=N-S,kt=E-j,Nt=H-N,Xt=Z-E,Ut=ot-H,Wt=nt-Z;for(gt=0;gt<41;gt++)G=(ct=(Tt=S+(dt=gt/40)*Dt)+dt*((T=N+dt*Nt)-Tt))+dt*(T+dt*(H+dt*Ut-T)-ct),tt=(V=(pt=j+dt*kt)+dt*((U=E+dt*Xt)-pt))+dt*(U+dt*(Z+dt*Wt-U)-V),gt==0?(yt=G,At=tt,st=G,_t=tt):(yt=Math.min(yt,G),At=Math.min(At,tt),st=Math.max(st,G),_t=Math.max(_t,tt));return new l(Math.round(yt),Math.round(At),Math.round(st-yt),Math.round(_t-At))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var S,j,N=(S=this.ctx.lineDash,j=this.ctx.lineDashOffset,JSON.stringify({lineDash:S,lineDashOffset:j}));this.prevLineDash!==N&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=N)}}})(re.API),function(i){var t=function(d){var l,s,a,c,u,f,h,p,A,g;for(s=[],a=0,c=(d+=l="\0\0\0\0".slice(d.length%4||4)).length;c>a;a+=4)(u=(d.charCodeAt(a)<<24)+(d.charCodeAt(a+1)<<16)+(d.charCodeAt(a+2)<<8)+d.charCodeAt(a+3))!==0?(f=(u=((u=((u=((u=(u-(g=u%85))/85)-(A=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)%85,s.push(f+33,h+33,p+33,A+33,g+33)):s.push(122);return function(m,v){for(var y=v;y>0;y--)m.pop()}(s,l.length),String.fromCharCode.apply(String,s)+"~>"},e=function(d){var l,s,a,c,u,f=String,h="length",p=255,A="charCodeAt",g="slice",m="replace";for(d[g](-2),d=d[g](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),a=[],c=0,u=(d+=l="uuuuu"[g](d[h]%5||5))[h];u>c;c+=5)s=52200625*(d[A](c)-33)+614125*(d[A](c+1)-33)+7225*(d[A](c+2)-33)+85*(d[A](c+3)-33)+(d[A](c+4)-33),a.push(p&s>>24,p&s>>16,p&s>>8,p&s);return function(v,y){for(var w=y;w>0;w--)v.pop()}(a,l[h]),f.fromCharCode.apply(f,a)},r=function(d){return d.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},n=function(d){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((d=d.replace(/\s/g,"")).indexOf(">")!==-1&&(d=d.substr(0,d.indexOf(">"))),d.length%2&&(d+="0"),l.test(d)===!1)return"";for(var s="",a=0;a<d.length;a+=2)s+=String.fromCharCode("0x"+(d[a]+d[a+1]));return s},o=function(d){for(var l=new Uint8Array(d.length),s=d.length;s--;)l[s]=d.charCodeAt(s);return(l=sp(l)).reduce(function(a,c){return a+String.fromCharCode(c)},"")};i.processDataByFilters=function(d,l){var s=0,a=d||"",c=[];for(typeof(l=l||[])=="string"&&(l=[l]),s=0;s<l.length;s+=1)switch(l[s]){case"ASCII85Decode":case"/ASCII85Decode":a=e(a),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=r(a),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=o(a),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[s]+'" is not implemented')}return{data:a,reverseChain:c.reverse().join(" ")}}}(re.API),function(i){i.loadFile=function(t,e,r){return function(n,o,d){o=o!==!1,d=typeof d=="function"?d:function(){};var l=void 0;try{l=function(s,a,c){var u=new XMLHttpRequest,f=0,h=function(p){var A=p.length,g=[],m=String.fromCharCode;for(f=0;f<A;f+=1)g.push(m(255&p.charCodeAt(f)));return g.join("")};if(u.open("GET",s,!a),u.overrideMimeType("text/plain; charset=x-user-defined"),a===!1&&(u.onload=function(){u.status===200?c(h(this.responseText)):c(void 0)}),u.send(null),a&&u.status===200)return h(u.responseText)}(n,o,d)}catch{}return l}(t,e,r)},i.loadImageFile=i.loadFile}(re.API),function(i){function t(){return(fe.html2canvas?Promise.resolve(fe.html2canvas):Un(()=>import("./html2canvas.esm-71958c39.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function e(){return(fe.DOMPurify?Promise.resolve(fe.DOMPurify):Un(()=>import("./purify.es-df048df3.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var s=Ye(l);return s==="undefined"?"undefined":s==="string"||l instanceof String?"string":s==="number"||l instanceof Number?"number":s==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":s==="object"?"object":"unknown"},n=function(l,s){var a=document.createElement(l);for(var c in s.className&&(a.className=s.className),s.innerHTML&&s.dompurify&&(a.innerHTML=s.dompurify.sanitize(s.innerHTML)),s.style)a.style[c]=s.style[c];return a},o=function l(s,a){for(var c=s.nodeType===3?document.createTextNode(s.nodeValue):s.cloneNode(!1),u=s.firstChild;u;u=u.nextSibling)a!==!0&&u.nodeType===1&&u.nodeName==="SCRIPT"||c.appendChild(l(u,a));return s.nodeType===1&&(s.nodeName==="CANVAS"?(c.width=s.width,c.height=s.height,c.getContext("2d").drawImage(s,0,0)):s.nodeName!=="TEXTAREA"&&s.nodeName!=="SELECT"||(c.value=s.value),c.addEventListener("load",function(){c.scrollTop=s.scrollTop,c.scrollLeft=s.scrollLeft},!0)),c},d=function l(s){var a=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),c=l.convert(Promise.resolve(),a);return(c=c.setProgress(1,l,1,[l])).set(s)};(d.prototype=Object.create(Promise.prototype)).constructor=d,d.convert=function(l,s){return l.__proto__=s||d.prototype,l},d.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},d.prototype.from=function(l,s){return this.then(function(){switch(s=s||function(a){switch(r(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),s){case"string":return this.then(e).then(function(a){return this.set({src:n("div",{innerHTML:l,dompurify:a})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},d.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},d.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},s=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);s.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=n("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=n("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(s),this.prop.container.firstChild.appendChild(n("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},d.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(s){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,s(this.prop.container,a)}).then(function(s){(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},d.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(s){var a=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var p=c[h],A=p.src.find(function(g){return g.format==="truetype"});A&&a.addFont(A.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,a.context2d.save(!0),s(this.prop.container,f)}).then(function(s){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(s),this.prop.canvas=s,document.body.removeChild(this.prop.overlay)})},d.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},d.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},d.prototype.output=function(l,s,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(l,s):this.outputPdf(l,s)},d.prototype.outputPdf=function(l,s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,s)})},d.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},d.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},d.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},d.prototype.set=function(l){if(r(l)!=="object")return this;var s=Object.keys(l||{}).map(function(a){if(a in d.template.prop)return function(){this.prop[a]=l[a]};switch(a){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[a]=l[a]}}},this);return this.then(function(){return this.thenList(s)})},d.prototype.get=function(l,s){return this.then(function(){var a=l in d.template.prop?this.prop[l]:this.opt[l];return s?s(a):a})},d.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},d.prototype.setPageSize=function(l){function s(a,c){return Math.floor(a*c/72*96)}return this.then(function(){(l=l||re.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:s(l.inner.width,l.k),height:s(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},d.prototype.setProgress=function(l,s,a,c){return l!=null&&(this.progress.val=l),s!=null&&(this.progress.state=s),a!=null&&(this.progress.n=a),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},d.prototype.updateProgress=function(l,s,a,c){return this.setProgress(l?this.progress.val+l:null,s||null,a?this.progress.n+a:null,c?this.progress.stack.concat(c):null)},d.prototype.then=function(l,s){var a=this;return this.thenCore(l,s,function(c,u){return a.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return a.updateProgress(null,c),f}).then(c,u).then(function(f){return a.updateProgress(1),f})})},d.prototype.thenCore=function(l,s,a){a=a||Promise.prototype.then;var c=this;l&&(l=l.bind(c)),s&&(s=s.bind(c));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?c:d.convert(Object.assign({},c),Promise.prototype),f=a.call(u,l,s);return d.convert(f,c.__proto__)},d.prototype.thenExternal=function(l,s){return Promise.prototype.then.call(this,l,s)},d.prototype.thenList=function(l){var s=this;return l.forEach(function(a){s=s.thenCore(a)}),s},d.prototype.catch=function(l){l&&(l=l.bind(this));var s=Promise.prototype.catch.call(this,l);return d.convert(s,this)},d.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},d.prototype.error=function(l){return this.then(function(){throw new Error(l)})},d.prototype.using=d.prototype.set,d.prototype.saveAs=d.prototype.save,d.prototype.export=d.prototype.output,d.prototype.run=d.prototype.then,re.getPageSize=function(l,s,a){if(Ye(l)==="object"){var c=l;l=c.orientation,s=c.unit||s,a=c.format||a}s=s||"mm",a=a||"a4",l=(""+(l||"P")).toLowerCase();var u,f=(""+a).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(s){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+s}var p,A=0,g=0;if(h.hasOwnProperty(f))A=h[f][1]/u,g=h[f][0]/u;else try{A=a[1],g=a[0]}catch{throw new Error("Invalid format: "+a)}if(l==="p"||l==="portrait")l="p",g>A&&(p=g,g=A,A=p);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",A>g&&(p=g,g=A,A=p)}return{width:g,height:A,unit:s,k:u,orientation:l}},i.html=function(l,s){(s=s||{}).callback=s.callback||function(){},s.html2canvas=s.html2canvas||{},s.html2canvas.canvas=s.html2canvas.canvas||this.canvas,s.jsPDF=s.jsPDF||this,s.fontFaces=s.fontFaces?s.fontFaces.map(Sd):null;var a=new d(s);return s.worker?a:a.from(l).doCallback()}}(re.API),re.API.addJS=function(i){return sm=i,this.internal.events.subscribe("postPutResources",function(){$h=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($h+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),nm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+sm+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$h!==void 0&&nm!==void 0&&this.internal.out("/Names <</JavaScript "+$h+" 0 R>>")}),this},function(i){var t;i.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),o=0;o<n.length;o++){var d=n[o],l=r.exec(d);if(l!=null){var s=l[1];e.internal.newObjectDeferredBegin(s,!1)}e.internal.write(d)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,c=[];for(o=0;o<a;o++){var u=e.internal.newObject();c.push(u);var f=e.internal.getPageInfo(o+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),o=0;o<c.length;o++)e.internal.write("(page_"+(o+1)+")"+c[o]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),i.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),i.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,n,o){var d={title:n,options:o,children:[]};return r==null&&(r=this.root),r.children.push(d),d},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var n=0;n<r.children.length;n++)this.genIds_r(r.children[n])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var d=r.children[o];this.objStart(d),this.line("/Title "+this.makeString(d.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),d.children.length>0&&(this.line("/First "+this.makeRef(d.children[0])),this.line("/Last "+this.makeRef(d.children[d.children.length-1])));var l=this.count=this.count_r({count:0},d);if(l>0&&this.line("/Count "+l),d.options&&d.options.pageNumber){var s=e.internal.getPageInfo(d.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<r.children.length;a++)this.renderItems(r.children[a])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,n){for(var o=0;o<n.children.length;o++)r.count++,this.count_r(r,n.children[o]);return r.count}}])}(re.API),function(i){var t=[192,193,194,195,196,197,198,199];i.processJPEG=function(e,r,n,o,d,l){var s,a=this.decode.DCT_DECODE,c=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=d||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,s=function(u){for(var f,h=256*u.charCodeAt(4)+u.charCodeAt(5),p=u.length,A={width:0,height:0,numcomponents:1},g=4;g<p;g+=2){if(g+=h,t.indexOf(u.charCodeAt(g+1))!==-1){f=256*u.charCodeAt(g+5)+u.charCodeAt(g+6),A={width:256*u.charCodeAt(g+7)+u.charCodeAt(g+8),height:f,numcomponents:u.charCodeAt(g+9)};break}h=256*u.charCodeAt(g+2)+u.charCodeAt(g+3)}return A}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),s.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}c={data:e,width:s.width,height:s.height,colorSpace:l,bitsPerComponent:8,filter:a,index:r,alias:n}}return c}}(re.API),re.API.processPNG=function(i,t,e,r){if(this.__addimage__.isArrayBuffer(i)&&(i=new Uint8Array(i)),this.__addimage__.isArrayBufferView(i)){var n,o=yC(i,{checkCrc:!0}),d=o.width,l=o.height,s=o.channels,a=o.palette,c=o.depth;n=a&&s===1?function(M){for(var D=M.width,X=M.height,I=M.data,O=M.palette,W=M.depth,C=!1,Q=[],lt=[],it=void 0,et=!1,B=0,K=0;K<O.length;K++){var z=e0(O[K],4),S=z[0],j=z[1],N=z[2],E=z[3];Q.push(S,j,N),E!=null&&(E===0?(B++,lt.length<1&&lt.push(K)):E<255&&(et=!0))}if(et||B>1){C=!0,lt=void 0;var H=D*X;it=new Uint8Array(H);for(var Z=new DataView(I.buffer),ot=0;ot<H;ot++){var nt=kd(Z,ot,W),dt=e0(O[nt],4)[3];it[ot]=dt}}else B===0&&(lt=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:C?8:void 0,colorBytes:I,alphaBytes:it,needSMask:C,palette:Q,mask:lt}}(o):s===2||s===4?function(M){for(var D=M.data,X=M.width,I=M.height,O=M.channels,W=M.depth,C=O===2?"DeviceGray":"DeviceRGB",Q=O-1,lt=X*I,it=Q,et=lt*it,B=1*lt,K=Math.ceil(et*W/8),z=Math.ceil(B*W/8),S=new Uint8Array(K),j=new Uint8Array(z),N=new DataView(D.buffer),E=new DataView(S.buffer),H=new DataView(j.buffer),Z=!1,ot=0;ot<lt;ot++){for(var nt=ot*O,dt=0;dt<it;dt++)pm(E,kd(N,nt+dt,W),ot*it+dt,W);var gt=kd(N,nt+it,W);gt<(1<<W)-1&&(Z=!0),pm(H,gt,1*ot,W)}return{colorSpace:C,colorsPerPixel:Q,sMaskBitsPerComponent:Z?W:void 0,colorBytes:S,alphaBytes:j,needSMask:Z}}(o):function(M){var D=M.data,X=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:X,colorsPerPixel:X==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?function(I){for(var O=I.length,W=new Uint8Array(2*O),C=new DataView(W.buffer,W.byteOffset,W.byteLength),Q=0;Q<O;Q++)C.setUint16(2*Q,I[Q],!1);return W}(D):D,needSMask:!1}}(o);var u,f,h,p=n,A=p.colorSpace,g=p.colorsPerPixel,m=p.sMaskBitsPerComponent,v=p.colorBytes,y=p.alphaBytes,w=p.needSMask,x=p.palette,L=p.mask,F=null;return r!==re.API.image_compression.NONE&&typeof sp=="function"?(F=function(M){var D;switch(M){case re.API.image_compression.FAST:D=11;break;case re.API.image_compression.MEDIUM:D=13;break;case re.API.image_compression.SLOW:D=14;break;default:D=12}return D}(r),u=this.decode.FLATE_DECODE,f="/Predictor ".concat(F," /Colors ").concat(g," /BitsPerComponent ").concat(c," /Columns ").concat(d),i=cm(v,Math.ceil(d*g*c/8),g,c,r),w&&(h=cm(y,Math.ceil(d*m/8),1,m,r))):(u=void 0,f=void 0,i=v,w&&(h=y)),(this.__addimage__.isArrayBuffer(i)||this.__addimage__.isArrayBufferView(i))&&(i=this.__addimage__.arrayBufferToBinaryString(i)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:e,data:i,index:t,filter:u,decodeParameters:f,transparency:L,palette:x,sMask:h,predictor:F,width:d,height:l,bitsPerComponent:c,sMaskBitsPerComponent:m,colorSpace:A}}},function(i){i.processGIF89A=function(t,e,r,n){var o=new zC(t),d=o.width,l=o.height,s=[];o.decodeAndBlitFrameRGBA(0,s);var a={data:s,width:d,height:l},c=new Ld(100).encode(a,100);return i.processJPEG.call(this,c,e,r,n)},i.processGIF87A=i.processGIF89A}(re.API),mn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var i=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(i);for(var t=0;t<i;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:n,green:r,blue:e,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},mn.prototype.parseBGR=function(){this.pos=this.offset;try{var i="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[i]()}catch(e){Ve.log("bit decode error:"+e)}},mn.prototype.bit1=function(){var i,t=Math.ceil(this.width/8),e=t%4;for(i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,n=0;n<t;n++)for(var o=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+8*n*4,l=0;l<8&&8*n+l<this.width;l++){var s=this.palette[o>>7-l&1];this.data[d+4*l]=s.blue,this.data[d+4*l+1]=s.green,this.data[d+4*l+2]=s.red,this.data[d+4*l+3]=255}e!==0&&(this.pos+=4-e)}},mn.prototype.bit4=function(){for(var i=Math.ceil(this.width/2),t=i%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<i;n++){var o=this.datav.getUint8(this.pos++,!0),d=r*this.width*4+2*n*4,l=o>>4,s=15&o,a=this.palette[l];if(this.data[d]=a.blue,this.data[d+1]=a.green,this.data[d+2]=a.red,this.data[d+3]=255,2*n+1>=this.width)break;a=this.palette[s],this.data[d+4]=a.blue,this.data[d+4+1]=a.green,this.data[d+4+2]=a.red,this.data[d+4+3]=255}t!==0&&(this.pos+=4-t)}},mn.prototype.bit8=function(){for(var i=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;if(n<this.palette.length){var d=this.palette[n];this.data[o]=d.red,this.data[o+1]=d.green,this.data[o+2]=d.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}i!==0&&(this.pos+=4-i)}},mn.prototype.bit15=function(){for(var i=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var d=(o&t)/t*255|0,l=(o>>5&t)/t*255|0,s=(o>>10&t)/t*255|0,a=o>>15?255:0,c=r*this.width*4+4*n;this.data[c]=s,this.data[c+1]=l,this.data[c+2]=d,this.data[c+3]=a}this.pos+=i}},mn.prototype.bit16=function(){for(var i=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var d=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(d&t)/t*255|0,s=(d>>5&e)/e*255|0,a=(d>>11)/t*255|0,c=n*this.width*4+4*o;this.data[c]=a,this.data[c+1]=s,this.data[c+2]=l,this.data[c+3]=255}this.pos+=i}},mn.prototype.bit24=function(){for(var i=this.height-1;i>=0;i--){for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=t*this.width*4+4*e;this.data[d]=o,this.data[d+1]=n,this.data[d+2]=r,this.data[d+3]=255}this.pos+=this.width%4}},mn.prototype.bit32=function(){for(var i=this.height-1;i>=0;i--)for(var t=this.bottom_up?i:this.height-1-i,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),d=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*e;this.data[l]=o,this.data[l+1]=n,this.data[l+2]=r,this.data[l+3]=d}},mn.prototype.getData=function(){return this.data},function(i){i.processBMP=function(t,e,r,n){var o=new mn(t,!1),d=o.width,l=o.height,s={data:o.getData(),width:d,height:l},a=new Ld(100).encode(s,100);return i.processJPEG.call(this,a,e,r,n)}}(re.API),Am.prototype.getData=function(){return this.data},function(i){i.processWEBP=function(t,e,r,n){var o=new Am(t),d=o.width,l=o.height,s={data:o.getData(),width:d,height:l},a=new Ld(100).encode(s,100);return i.processJPEG.call(this,a,e,r,n)}}(re.API),re.API.processRGBA=function(i,t,e){for(var r=i.data,n=r.length,o=new Uint8Array(n/4*3),d=new Uint8Array(n/4),l=0,s=0,a=0;a<n;a+=4){var c=r[a],u=r[a+1],f=r[a+2],h=r[a+3];o[l++]=c,o[l++]=u,o[l++]=f,d[s++]=h}var p=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(d),data:p,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:i.width,height:i.height}},re.API.setLanguage=function(i){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[i]!==void 0&&(this.internal.languageSettings.languageCode=i,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Do=re.API,Jh=Do.getCharWidthsArray=function(i,t){var e,r,n=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),d=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:n.metadata.Unicode.widths,s=l.fof?l.fof:1,a=t.kerning?t.kerning:n.metadata.Unicode.kerning,c=a.fof?a.fof:1,u=t.doKerning!==!1,f=0,h=i.length,p=0,A=l[0]||s,g=[];for(e=0;e<h;e++)r=i.charCodeAt(e),typeof n.metadata.widthOfString=="function"?g.push((n.metadata.widthOfGlyph(n.metadata.characterToGlyph(r))+d*(1e3/o)||0)/1e3):(f=u&&Ye(a[r])==="object"&&!isNaN(parseInt(a[r][p],10))?a[r][p]/c:0,g.push((l[r]||A)/s+f)),p=r;return g},am=Do.getStringUnitWidth=function(i,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),n=t.charSpace||this.internal.getCharSpace();return Do.processArabic&&(i=Do.processArabic(i)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(i,e,n)/e:Jh.apply(this,arguments).reduce(function(o,d){return o+d},0)},om=function(i,t,e,r){for(var n=[],o=0,d=i.length,l=0;o!==d&&l+t[o]<e;)l+=t[o],o++;n.push(i.slice(0,o));var s=o;for(l=0;o!==d;)l+t[o]>r&&(n.push(i.slice(s,o)),l=0,s=o),l+=t[o],o++;return s!==o&&n.push(i.slice(s,o)),n},lm=function(i,t,e){e||(e={});var r,n,o,d,l,s,a,c=[],u=[c],f=e.textIndent||0,h=0,p=0,A=i.split(" "),g=Jh.apply(this,[" ",e])[0];if(s=e.lineIndent===-1?A[0].length+2:e.lineIndent||0){var m=Array(s).join(" "),v=[];A.map(function(w){(w=w.split(/\s*\n/)).length>1?v=v.concat(w.map(function(x,L){return(L&&x.length?`
`:"")+x})):v.push(w[0])}),A=v,s=am.apply(this,[m,e])}for(o=0,d=A.length;o<d;o++){var y=0;if(r=A[o],s&&r[0]==`
`&&(r=r.substr(1),y=1),f+h+(p=(n=Jh.apply(this,[r,e])).reduce(function(w,x){return w+x},0))>t||y){if(p>t){for(l=om.apply(this,[r,n,t-(f+h),t]),c.push(l.shift()),c=[l.pop()];l.length;)u.push([l.shift()]);p=n.slice(r.length-(c[0]?c[0].length:0)).reduce(function(w,x){return w+x},0)}else c=[r];u.push(c),f=p+s,h=g}else c.push(r),f+=h+p,h=g}return a=s?function(w,x){return(x?m:"")+w.join(" ")}:function(w){return w.join(" ")},u.map(a)},Do.splitTextToSize=function(i,t,e){var r,n=(e=e||{}).fontSize||this.internal.getFontSize(),o=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle),f="Unicode";return u.metadata[f]?{widths:u.metadata[f].widths||{0:1},kerning:u.metadata[f].kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(i)?i:String(i).split(/\r?\n/);var d=1*this.internal.scaleFactor*t/n;o.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/n:0,o.lineIndent=e.lineIndent;var l,s,a=[];for(l=0,s=r.length;l<s;l++)a=a.concat(lm.apply(this,[r[l],d,o]));return a},function(i){i.__fontmetrics__=i.__fontmetrics__||{};for(var t="0123456789abcdef",e="klmnopqrstuvwxyz",r={},n={},o=0;o<16;o++)r[e[o]]=t[o],n[t[o]]=e[o];var d=function(f){return"0x"+parseInt(f,10).toString(16)},l=i.__fontmetrics__.compress=function(f){var h,p,A,g,m=["{"];for(var v in f){if(h=f[v],isNaN(parseInt(v,10))?p="'"+v+"'":(v=parseInt(v,10),p=(p=d(v).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof h=="number")h<0?(A=d(h).slice(3),g="-"):(A=d(h).slice(2),g=""),A=g+A.slice(0,-1)+n[A.slice(-1)];else{if(Ye(h)!=="object")throw new Error("Don't know what to do with value type "+Ye(h)+".");A=l(h)}m.push(p+A)}return m.push("}"),m.join("")},s=i.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,p,A,g,m={},v=1,y=m,w=[],x="",L="",F=f.length-1,M=1;M<F;M+=1)(g=f[M])=="'"?h?(A=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(w.push([y,A]),y={},A=void 0):g=="}"?((p=w.pop())[0][p[1]]=y,A=void 0,y=p[0]):g=="-"?v=-1:A===void 0?r.hasOwnProperty(g)?(x+=r[g],A=parseInt(x,16)*v,v=1,x=""):x+=g:r.hasOwnProperty(g)?(L+=r[g],y[A]=parseInt(L,16)*v,v=1,A=void 0,L=""):L+=g;return m},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:s("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},u={Unicode:{"Courier-Oblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":s("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":s("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:s("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":s("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:s("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":s("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":s("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":s("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":s("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};i.events.push(["addFont",function(f){var h=f.font,p=u.Unicode[h.postScriptName];p&&(h.metadata.Unicode={},h.metadata.Unicode.widths=p.widths,h.metadata.Unicode.kerning=p.kerning);var A=c.Unicode[h.postScriptName];A&&(h.metadata.Unicode.encoding=A,h.encoding=A.codePages[0])}])}(re.API),function(i){var t=function(e){for(var r=e.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=e.charCodeAt(o);return n};i.API.events.push(["addFont",function(e){var r=void 0,n=e.font,o=e.instance;if(!n.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");if(typeof(r=o.existsFileInVFS(n.postScriptName)===!1?o.loadFile(n.postScriptName):o.getFileFromVFS(n.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+n.postScriptName+"').");(function(d,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(ou(l)),d.metadata=i.API.TTFFont.open(l),d.metadata.Unicode=d.metadata.Unicode||{encoding:{},kerning:{},widths:[]},d.metadata.glyIdsUsed=[0]})(n,r)}}])}(re),re.API.addSvgAsImage=function(i,t,e,r,n,o,d,l){if(isNaN(t)||isNaN(e))throw Ve.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(n))throw Ve.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var s=document.createElement("canvas");s.width=r,s.height=n;var a=s.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,s.width,s.height);var c={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(fe.canvg?Promise.resolve(fe.canvg):Un(()=>import("./index.es-1b6e4fef.js"),["assets/index.es-1b6e4fef.js","assets/index-626914f7.js","assets/index-e511f767.css"])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(a,i,c)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(c)}).then(function(){u.addImage(s.toDataURL("image/jpeg",1),t,e,r,n,d,l)})},re.API.putTotalPages=function(i){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(i,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(i,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var n=0;n<this.internal.pages[r].length;n++)this.internal.pages[r][n]=this.internal.pages[r][n].replace(t,e);return this},re.API.viewerPreferences=function(i,t){var e;i=i||{},t=t||!1;var r,n,o,d={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(d),s=[],a=0,c=0,u=0;function f(p,A){var g,m=!1;for(g=0;g<p.length;g+=1)p[g]===A&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(d)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,i==="reset"||t===!0){var h=l.length;for(u=0;u<h;u+=1)e[l[u]].value=e[l[u]].defaultValue,e[l[u]].explicitSet=!1}if(Ye(i)==="object"){for(n in i)if(o=i[n],f(l,n)&&o!==void 0){if(e[n].type==="boolean"&&typeof o=="boolean")e[n].value=o;else if(e[n].type==="name"&&f(e[n].valueSet,o))e[n].value=o;else if(e[n].type==="integer"&&Number.isInteger(o))e[n].value=o;else if(e[n].type==="array"){for(a=0;a<o.length;a+=1)if(r=!0,o[a].length===1&&typeof o[a][0]=="number")s.push(String(o[a]-1));else if(o[a].length>1){for(c=0;c<o[a].length;c+=1)typeof o[a][c]!="number"&&(r=!1);r===!0&&s.push([o[a][0]-1,o[a][1]-1].join(" "))}e[n].value="["+s.join(" ")+"]"}else e[n].value=e[n].defaultValue;e[n].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,A=[];for(p in e)e[p].explicitSet===!0&&(e[p].type==="name"?A.push("/"+p+" /"+e[p].value):A.push("/"+p+" "+e[p].value));A.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+A.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(i){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',n=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),d=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),a=o.length+d.length+l.length+n.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+a+" >>"),this.internal.write("stream"),this.internal.write(n+o+d+l+s),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};i.addMetadata=function(r,n){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(re.API),function(i){var t=i.API,e=t.pdfEscape16=function(o,d){for(var l,s=d.metadata.Unicode.widths,a=["","0","00","000","0000"],c=[""],u=0,f=o.length;u<f;++u){if(l=d.metadata.characterToGlyph(o.charCodeAt(u)),d.metadata.glyIdsUsed.push(l),d.metadata.toUnicode[l]=o.charCodeAt(u),s.indexOf(l)==-1&&(s.push(l),s.push([parseInt(d.metadata.widthOfGlyph(l),10)])),l=="0")return c.join("");l=l.toString(16),c.push(a[4-l.length],l)}return c.join("")},r=function(o){var d,l,s,a,c,u,f;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,s=[],u=0,f=(l=Object.keys(o).sort(function(h,p){return h-p})).length;u<f;u++)d=l[u],s.length>=100&&(c+=`
`+s.length+` beginbfchar
`+s.join(`
`)+`
endbfchar`,s=[]),o[d]!==void 0&&o[d]!==null&&typeof o[d].toString=="function"&&(a=("0000"+o[d].toString(16)).slice(-4),d=("0000"+(+d).toString(16)).slice(-4),s.push("<"+d+"><"+a+">"));return s.length&&(c+=`
`+s.length+` beginbfchar
`+s.join(`
`)+`
endbfchar
`),c+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(d){var l=d.font,s=d.out,a=d.newObject,c=d.putStream;if(l.metadata instanceof i.API.TTFFont&&l.encoding==="Identity-H"){for(var u=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var A=a();c({data:h,addLength1:!0,objectId:A}),s("endobj");var g=a();c({data:r(l.metadata.toUnicode),addLength1:!0,objectId:g}),s("endobj");var m=a();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Ro(l.fontName)),s("/FontFile2 "+A+" 0 R"),s("/FontBBox "+i.API.PDFObject.convert(l.metadata.bbox)),s("/Flags "+l.metadata.flags),s("/StemV "+l.metadata.stemV),s("/ItalicAngle "+l.metadata.italicAngle),s("/Ascent "+l.metadata.ascender),s("/Descent "+l.metadata.decender),s("/CapHeight "+l.metadata.capHeight),s(">>"),s("endobj");var v=a();s("<<"),s("/Type /Font"),s("/BaseFont /"+Ro(l.fontName)),s("/FontDescriptor "+m+" 0 R"),s("/W "+i.API.PDFObject.convert(u)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+l.encoding+")"),s(">>"),s(">>"),s("endobj"),l.objectNumber=a(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+g+" 0 R"),s("/BaseFont /"+Ro(l.fontName)),s("/Encoding /"+l.encoding),s("/DescendantFonts ["+v+" 0 R]"),s(">>"),s("endobj"),l.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(d){var l=d.font,s=d.out,a=d.newObject,c=d.putStream;if(l.metadata instanceof i.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var u=l.metadata.rawData,f="",h=0;h<u.length;h++)f+=String.fromCharCode(u[h]);var p=a();c({data:f,addLength1:!0,objectId:p}),s("endobj");var A=a();c({data:r(l.metadata.toUnicode),addLength1:!0,objectId:A}),s("endobj");var g=a();s("<<"),s("/Descent "+l.metadata.decender),s("/CapHeight "+l.metadata.capHeight),s("/StemV "+l.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+p+" 0 R"),s("/Flags 96"),s("/FontBBox "+i.API.PDFObject.convert(l.metadata.bbox)),s("/FontName /"+Ro(l.fontName)),s("/ItalicAngle "+l.metadata.italicAngle),s("/Ascent "+l.metadata.ascender),s(">>"),s("endobj"),l.objectNumber=a();for(var m=0;m<l.metadata.hmtx.widths.length;m++)l.metadata.hmtx.widths[m]=parseInt(l.metadata.hmtx.widths[m]*(1e3/l.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+Ro(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+i.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),s("endobj"),l.isAlreadyPutted=!0}})(o)}]);var n=function(o){var d,l=o.text||"",s=o.x,a=o.y,c=o.options||{},u=o.mutex||{},f=u.pdfEscape,h=u.activeFontKey,p=u.fonts,A=h,g="",m=0,v="",y=p[A].encoding;if(p[A].encoding!=="Identity-H")return{text:l,x:s,y:a,options:c,mutex:u};for(v=l,A=h,Array.isArray(l)&&(v=l[0]),m=0;m<v.length;m+=1)p[A].metadata.hasOwnProperty("cmap")&&(d=p[A].metadata.cmap.unicode.codeMap[v[m].charCodeAt(0)]),d||v[m].charCodeAt(0)<256&&p[A].metadata.hasOwnProperty("Unicode")?g+=v[m]:g+="";var w="";return parseInt(A.slice(1))<14||y==="WinAnsiEncoding"?w=f(g,A).split("").map(function(x){return x.charCodeAt(0).toString(16)}).join(""):y==="Identity-H"&&(w=e(g,p[A])),u.isHex=!0,{text:w,x:s,y:a,options:c,mutex:u}};t.events.push(["postProcessText",function(o){var d=o.text||"",l=[],s={text:d,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(d)){var a=0;for(a=0;a<d.length;a+=1)Array.isArray(d[a])&&d[a].length===3?l.push([n(Object.assign({},s,{text:d[a][0]})).text,d[a][1],d[a][2]]):l.push(n(Object.assign({},s,{text:d[a]})).text);o.text=l}else o.text=n(Object.assign({},s,{text:d})).text}])}(re),function(i){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};i.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},i.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},i.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(re.API),function(i){i.__bidiEngine__=i.prototype.__bidiEngine__=function(r){var n,o,d,l,s,a,c,u=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,y=0;this.__bidiEngine__={};var w=function(I){var O=I.charCodeAt(),W=O>>8,C=A[W];return C!==void 0?u[256*C+(255&O)]:W===252||W===253?"AL":m.test(W)?"L":W===8?"R":"N"},x=function(I){for(var O,W=0;W<I.length;W++){if((O=w(I.charAt(W)))==="L")return!1;if(O==="R")return!0}return!1},L=function(I,O,W,C){var Q,lt,it,et,B=O[C];switch(B){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"N":case"AN":break;case"EN":v&&(B="AN");break;case"AL":v=!0,B="R";break;case"WS":case"BN":B="N";break;case"CS":C<1||C+1>=O.length||(Q=W[C-1])!=="EN"&&Q!=="AN"||(lt=O[C+1])!=="EN"&&lt!=="AN"?B="N":v&&(lt="AN"),B=lt===Q?lt:"N";break;case"ES":B=(Q=C>0?W[C-1]:"B")==="EN"&&C+1<O.length&&O[C+1]==="EN"?"EN":"N";break;case"ET":if(C>0&&W[C-1]==="EN"){B="EN";break}if(v){B="N";break}for(it=C+1,et=O.length;it<et&&O[it]==="ET";)it++;B=it<et&&O[it]==="EN"?"EN":"N";break;case"NSM":if(d&&!l){for(et=O.length,it=C+1;it<et&&O[it]==="NSM";)it++;if(it<et){var K=I[C],z=K>=1425&&K<=2303||K===64286;if(Q=O[it],z&&(Q==="R"||Q==="AL")){B="R";break}}}B=C<1||(Q=O[C-1])==="B"?"N":W[C-1];break;case"B":v=!1,n=!0,B=y;break;case"S":o=!0,B="N"}return B},F=function(I,O,W){var C=I.split("");return W&&M(C,W,{hiLevel:y}),C.reverse(),O&&O.reverse(),C.join("")},M=function(I,O,W){var C,Q,lt,it,et,B=-1,K=I.length,z=0,S=[],j=y?h:f,N=[];for(v=!1,n=!1,o=!1,Q=0;Q<K;Q++)N[Q]=w(I[Q]);for(lt=0;lt<K;lt++){if(et=z,S[lt]=L(I,N,S,lt),C=240&(z=j[et][p[S[lt]]]),z&=15,O[lt]=it=j[z][5],C>0)if(C===16){for(Q=B;Q<lt;Q++)O[Q]=1;B=-1}else B=-1;if(j[z][6])B===-1&&(B=lt);else if(B>-1){for(Q=B;Q<lt;Q++)O[Q]=it;B=-1}N[lt]==="B"&&(O[lt]=0),W.hiLevel|=it}o&&function(E,H,Z){for(var ot=0;ot<Z;ot++)if(E[ot]==="S"){H[ot]=y;for(var nt=ot-1;nt>=0&&E[nt]==="WS";nt--)H[nt]=y}}(N,O,K)},D=function(I,O,W,C,Q){if(!(Q.hiLevel<I)){if(I===1&&y===1&&!n)return O.reverse(),void(W&&W.reverse());for(var lt,it,et,B,K=O.length,z=0;z<K;){if(C[z]>=I){for(et=z+1;et<K&&C[et]>=I;)et++;for(B=z,it=et-1;B<it;B++,it--)lt=O[B],O[B]=O[it],O[it]=lt,W&&(lt=W[B],W[B]=W[it],W[it]=lt);z=et}z++}}},X=function(I,O,W){var C=I.split(""),Q={hiLevel:y};return W||(W=[]),M(C,W,Q),function(lt,it,et){if(et.hiLevel!==0&&c)for(var B,K=0;K<lt.length;K++)it[K]===1&&(B=g.indexOf(lt[K]))>=0&&(lt[K]=g[B+1])}(C,W,Q),D(2,C,O,W,Q),D(1,C,O,W,Q),C.join("")};return this.__bidiEngine__.doBidiReorder=function(I,O,W){if(function(Q,lt){if(lt)for(var it=0;it<Q.length;it++)lt[it]=it;l===void 0&&(l=x(Q)),a===void 0&&(a=x(Q))}(I,O),d||!s||a)if(d&&s&&l^a)y=l?1:0,I=F(I,O,W);else if(!d&&s&&a)y=l?1:0,I=X(I,O,W),I=F(I,O);else if(!d||l||s||a){if(d&&!s&&l^a)I=F(I,O),l?(y=0,I=X(I,O,W)):(y=1,I=X(I,O,W),I=F(I,O));else if(d&&l&&!s&&a)y=1,I=X(I,O,W),I=F(I,O);else if(!d&&!s&&l^a){var C=c;l?(y=1,I=X(I,O,W),y=0,c=!1,I=X(I,O,W),c=C):(y=0,I=X(I,O,W),I=F(I,O),y=1,c=!1,I=X(I,O,W),c=C,I=F(I,O))}}else y=0,I=X(I,O,W);else y=l?1:0,I=X(I,O,W);return I},this.__bidiEngine__.setOptions=function(I){I&&(d=I.isInputVisual,s=I.isOutputVisual,l=I.isInputRtl,a=I.isOutputRtl,c=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new i.__bidiEngine__({isInputVisual:!0});i.API.events.push(["postProcessText",function(r){var n=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var d=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,e.setOptions(o),Object.prototype.toString.call(n)==="[object Array]"){var l=0;for(d=[],l=0;l<n.length;l+=1)Object.prototype.toString.call(n[l])==="[object Array]"?d.push([e.doBidiReorder(n[l][0]),n[l][1],n[l][2]]):d.push([e.doBidiReorder(n[l])]);r.text=d}else r.text=e.doBidiReorder(n);e.setOptions({isInputVisual:!0})}])}(re),re.API.TTFFont=function(){function i(t){var e;if(this.rawData=t,e=this.contents=new aa(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new eS(this),this.registerTTF()}return i.open=function(t){return new i(t)},i.prototype.parse=function(){return this.directory=new UC(this.contents),this.head=new XC(this),this.name=new qC(this),this.cmap=new m2(this),this.toUnicode={},this.hhea=new GC(this),this.maxp=new QC(this),this.hmtx=new KC(this),this.post=new VC(this),this.os2=new HC(this),this.loca=new tS(this),this.glyf=new $C(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},i.prototype.registerTTF=function(){var t,e,r,n,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var d,l,s,a;for(a=[],d=0,l=(s=this.bbox).length;d<l;d++)t=s[d],a.push(Math.round(t*this.scaleFactor));return a}).call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(e=n>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},i.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},i.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},i.prototype.widthOfString=function(t,e,r){var n,o,d,l;for(d=0,o=0,l=(t=""+t).length;0<=l?o<l:o>l;o=0<=l?++o:--o)n=t.charCodeAt(o),d+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/e)||0;return d*(e/1e3)},i.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},i}();var Tn,aa=function(){function i(t){this.data=t??[],this.pos=0,this.length=this.data.length}return i.prototype.readByte=function(){return this.data[this.pos++]},i.prototype.writeByte=function(t){return this.data[this.pos++]=t},i.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},i.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},i.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},i.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},i.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},i.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},i.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},i.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},i.prototype.writeString=function(t){var e,r,n;for(n=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)n.push(this.writeByte(t.charCodeAt(e)));return n},i.prototype.readShort=function(){return this.readInt16()},i.prototype.writeShort=function(t){return this.writeInt16(t)},i.prototype.readLongLong=function(){var t,e,r,n,o,d,l,s;return t=this.readByte(),e=this.readByte(),r=this.readByte(),n=this.readByte(),o=this.readByte(),d=this.readByte(),l=this.readByte(),s=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^o)+65536*(255^d)+256*(255^l)+(255^s)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*n+16777216*o+65536*d+256*l+s},i.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},i.prototype.readInt=function(){return this.readInt32()},i.prototype.writeInt=function(t){return this.writeInt32(t)},i.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},i.prototype.write=function(t){var e,r,n,o;for(o=[],r=0,n=t.length;r<n;r++)e=t[r],o.push(this.writeByte(e));return o},i}(),UC=function(){var i;function t(e){var r,n,o;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,o=this.tableCount;0<=o?n<o:n>o;n=0<=o?++n:--n)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,n,o,d,l,s,a,c,u,f,h,p,A;for(A in h=Object.keys(e).length,s=Math.log(2),u=16*Math.floor(Math.log(h)/s),d=Math.floor(u/s),c=16*h-u,(n=new aa).writeInt(this.scalarType),n.writeShort(h),n.writeShort(u),n.writeShort(d),n.writeShort(c),o=16*h,a=n.pos+o,l=null,p=[],e)for(f=e[A],n.writeString(A),n.writeInt(i(f)),n.writeInt(a),n.writeInt(f.length),p=p.concat(f),A==="head"&&(l=a),a+=f.length;a%4;)p.push(0),a++;return n.write(p),r=2981146554-i(n.data),n.pos=l+8,n.writeUInt32(r),n.data},i=function(e){var r,n,o,d;for(e=v2.call(e);e.length%4;)e.push(0);for(o=new aa(e),n=0,r=0,d=e.length;r<d;r=r+=4)n+=o.readUInt32();return 4294967295&n},t}(),WC={}.hasOwnProperty,Qn=function(i,t){for(var e in t)WC.call(t,e)&&(i[e]=t[e]);function r(){this.constructor=i}return r.prototype=t.prototype,i.prototype=new r,i.__super__=t.prototype,i};Tn=function(){function i(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return i.prototype.parse=function(){},i.prototype.encode=function(){},i.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},i}();var XC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="head",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},i.prototype.encode=function(t){var e;return(e=new aa).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},i}(),mm=function(){function i(t,e){var r,n,o,d,l,s,a,c,u,f,h,p,A,g,m,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),u=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(s=0;s<256;++s)this.codeMap[s]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,o=function(){var w,x;for(x=[],s=w=0;0<=f?w<f:w>f;s=0<=f?++w:--w)x.push(t.readUInt16());return x}(),t.pos+=2,A=function(){var w,x;for(x=[],s=w=0;0<=f?w<f:w>f;s=0<=f?++w:--w)x.push(t.readUInt16());return x}(),a=function(){var w,x;for(x=[],s=w=0;0<=f?w<f:w>f;s=0<=f?++w:--w)x.push(t.readUInt16());return x}(),c=function(){var w,x;for(x=[],s=w=0;0<=f?w<f:w>f;s=0<=f?++w:--w)x.push(t.readUInt16());return x}(),n=(this.length-t.pos+this.offset)/2,l=function(){var w,x;for(x=[],s=w=0;0<=n?w<n:w>n;s=0<=n?++w:--w)x.push(t.readUInt16());return x}(),s=m=0,y=o.length;m<y;s=++m)for(g=o[s],r=v=p=A[s];p<=g?v<=g:v>=g;r=p<=g?++v:--v)c[s]===0?d=r+a[s]:(d=l[c[s]/2+(r-p)-(f-s)]||0)!==0&&(d+=a[s]),this.codeMap[r]=65535&d}t.pos=u}return i.encode=function(t,e){var r,n,o,d,l,s,a,c,u,f,h,p,A,g,m,v,y,w,x,L,F,M,D,X,I,O,W,C,Q,lt,it,et,B,K,z,S,j,N,E,H,Z,ot,nt,dt,gt,Tt;switch(C=new aa,d=Object.keys(t).sort(function(pt,T){return pt-T}),e){case"macroman":for(A=0,g=function(){var pt=[];for(p=0;p<256;++p)pt.push(0);return pt}(),v={0:0},o={},Q=0,B=d.length;Q<B;Q++)v[nt=t[n=d[Q]]]==null&&(v[nt]=++A),o[n]={old:t[n],new:v[t[n]]},g[n]=v[t[n]];return C.writeUInt16(1),C.writeUInt16(0),C.writeUInt32(12),C.writeUInt16(0),C.writeUInt16(262),C.writeUInt16(0),C.write(g),{charMap:o,subtable:C.data,maxGlyphID:A+1};case"unicode":for(O=[],u=[],y=0,v={},r={},m=a=null,lt=0,K=d.length;lt<K;lt++)v[x=t[n=d[lt]]]==null&&(v[x]=++y),r[n]={old:x,new:v[x]},l=v[x]-n,m!=null&&l===a||(m&&u.push(m),O.push(n),a=l),m=n;for(m&&u.push(m),u.push(65535),O.push(65535),X=2*(D=O.length),M=2*Math.pow(Math.log(D)/Math.LN2,2),f=Math.log(M/2)/Math.LN2,F=2*D-M,s=[],L=[],h=[],p=it=0,z=O.length;it<z;p=++it){if(I=O[p],c=u[p],I===65535){s.push(0),L.push(0);break}if(I-(W=r[I].new)>=32768)for(s.push(0),L.push(2*(h.length+D-p)),n=et=I;I<=c?et<=c:et>=c;n=I<=c?++et:--et)h.push(r[n].new);else s.push(W-I),L.push(0)}for(C.writeUInt16(3),C.writeUInt16(1),C.writeUInt32(12),C.writeUInt16(4),C.writeUInt16(16+8*D+2*h.length),C.writeUInt16(0),C.writeUInt16(X),C.writeUInt16(M),C.writeUInt16(f),C.writeUInt16(F),Z=0,S=u.length;Z<S;Z++)n=u[Z],C.writeUInt16(n);for(C.writeUInt16(0),ot=0,j=O.length;ot<j;ot++)n=O[ot],C.writeUInt16(n);for(dt=0,N=s.length;dt<N;dt++)l=s[dt],C.writeUInt16(l);for(gt=0,E=L.length;gt<E;gt++)w=L[gt],C.writeUInt16(w);for(Tt=0,H=h.length;Tt<H;Tt++)A=h[Tt],C.writeUInt16(A);return{charMap:r,subtable:C.data,maxGlyphID:y+1}}},i}(),m2=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="cmap",i.prototype.parse=function(t){var e,r,n;for(t.pos=this.offset,this.version=t.readUInt16(),n=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)e=new mm(t,this.offset),this.tables.push(e),e.isUnicode&&this.unicode==null&&(this.unicode=e);return!0},i.encode=function(t,e){var r,n;return e==null&&(e="macroman"),r=mm.encode(t,e),(n=new aa).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},i}(),GC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="hhea",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},i}(),HC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="OS/2",i.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,r;for(r=[],e=0;e<10;++e)r.push(t.readByte());return r}(),this.charRange=function(){var e,r;for(r=[],e=0;e<4;++e)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,r;for(r=[],e=0;e<2;e=++e)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},i}(),VC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="post",i.prototype.parse=function(t){var e,r,n;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],n=[];t.pos<this.offset+this.length;)e=t.readByte(),n.push(this.names.push(t.readString(e)));return n;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var d,l,s;for(s=[],o=d=0,l=this.file.maxp.numGlyphs;0<=l?d<l:d>l;o=0<=l?++d:--d)s.push(t.readUInt32());return s}).call(this)}},i}(),YC=function(i,t){this.raw=i,this.length=i.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},qC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="name",i.prototype.parse=function(t){var e,r,n,o,d,l,s,a,c,u,f;for(t.pos=this.offset,t.readShort(),e=t.readShort(),l=t.readShort(),r=[],o=0;0<=e?o<e:o>e;o=0<=e?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(s={},o=c=0,u=r.length;c<u;o=++c)n=r[o],t.pos=n.offset,a=t.readString(n.length),d=new YC(a,n),s[f=n.nameID]==null&&(s[f]=[]),s[n.nameID].push(d);this.strings=s,this.copyright=s[0],this.fontFamily=s[1],this.fontSubfamily=s[2],this.uniqueSubfamily=s[3],this.fontName=s[4],this.version=s[5];try{this.postscriptName=s[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=s[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s[7],this.manufacturer=s[8],this.designer=s[9],this.description=s[10],this.vendorUrl=s[11],this.designerUrl=s[12],this.license=s[13],this.licenseUrl=s[14],this.preferredFamily=s[15],this.preferredSubfamily=s[17],this.compatibleFull=s[18],this.sampleText=s[19]},i}(),QC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="maxp",i.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},i}(),KC=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="hmtx",i.prototype.parse=function(t){var e,r,n,o,d,l,s;for(t.pos=this.offset,this.metrics=[],e=0,l=this.file.hhea.numberOfMetrics;0<=l?e<l:e>l;e=0<=l?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var a,c;for(c=[],e=a=0;0<=n?a<n:a>n;e=0<=n?++a:--a)c.push(t.readInt16());return c}(),this.widths=(function(){var a,c,u,f;for(f=[],a=0,c=(u=this.metrics).length;a<c;a++)o=u[a],f.push(o.advance);return f}).call(this),r=this.widths[this.widths.length-1],s=[],e=d=0;0<=n?d<n:d>n;e=0<=n?++d:--d)s.push(this.widths.push(r));return s},i.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},i}(),v2=[].slice,$C=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="glyf",i.prototype.parse=function(){return this.cache={}},i.prototype.glyphFor=function(t){var e,r,n,o,d,l,s,a,c,u;return t in this.cache?this.cache[t]:(o=this.file.loca,e=this.file.contents,r=o.indexOf(t),(n=o.lengthOf(t))===0?this.cache[t]=null:(e.pos=this.offset+r,d=(l=new aa(e.read(n))).readShort(),a=l.readShort(),u=l.readShort(),s=l.readShort(),c=l.readShort(),this.cache[t]=d===-1?new ZC(l,a,u,s,c):new JC(l,d,a,u,s,c),this.cache[t]))},i.prototype.encode=function(t,e,r){var n,o,d,l,s;for(d=[],o=[],l=0,s=e.length;l<s;l++)n=t[e[l]],o.push(d.length),n&&(d=d.concat(n.encode(r)));return o.push(d.length),{table:d,offsets:o}},i}(),JC=function(){function i(t,e,r,n,o,d){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=n,this.xMax=o,this.yMax=d,this.compound=!1}return i.prototype.encode=function(){return this.raw.data},i}(),ZC=function(){function i(t,e,r,n,o){var d,l;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=n,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],d=this.raw;l=d.readShort(),this.glyphOffsets.push(d.pos),this.glyphIDs.push(d.readUInt16()),32&l;)d.pos+=1&l?4:2,128&l?d.pos+=8:64&l?d.pos+=4:8&l&&(d.pos+=2)}return i.prototype.encode=function(){var t,e,r;for(e=new aa(v2.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},i}(),tS=function(){function i(){return i.__super__.constructor.apply(this,arguments)}return Qn(i,Tn),i.prototype.tag="loca",i.prototype.parse=function(t){var e,r;return t.pos=this.offset,e=this.file.head.indexToLocFormat,this.offsets=e===0?(function(){var n,o;for(o=[],r=0,n=this.length;r<n;r+=2)o.push(2*t.readUInt16());return o}).call(this):(function(){var n,o;for(o=[],r=0,n=this.length;r<n;r+=4)o.push(t.readUInt32());return o}).call(this)},i.prototype.indexOf=function(t){return this.offsets[t]},i.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},i.prototype.encode=function(t,e){for(var r=new Uint32Array(this.offsets.length),n=0,o=0,d=0;d<r.length;++d)if(r[d]=n,o<e.length&&e[o]==d){++o,r[d]=n;var l=this.offsets[d],s=this.offsets[d+1]-l;s>0&&(n+=s)}for(var a=new Array(4*r.length),c=0;c<r.length;++c)a[4*c+3]=255&r[c],a[4*c+2]=(65280&r[c])>>8,a[4*c+1]=(16711680&r[c])>>16,a[4*c]=(4278190080&r[c])>>24;return a},i}(),eS=function(){function i(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return i.prototype.generateCmap=function(){var t,e,r,n,o;for(e in n=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[e],t[e]=n[r];return t},i.prototype.glyphsFor=function(t){var e,r,n,o,d,l,s;for(n={},d=0,l=t.length;d<l;d++)n[o=t[d]]=this.font.glyf.glyphFor(o);for(o in e=[],n)(r=n[o])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(o in s=this.glyphsFor(e))r=s[o],n[o]=r;return n},i.prototype.encode=function(t,e){var r,n,o,d,l,s,a,c,u,f,h,p,A,g,m;for(n in r=m2.encode(this.generateCmap(),"unicode"),d=this.glyphsFor(t),h={0:0},m=r.charMap)h[(s=m[n]).old]=s.new;for(p in f=r.maxGlyphID,d)p in h||(h[p]=f++);return c=function(v){var y,w;for(y in w={},v)w[v[y]]=y;return w}(h),u=Object.keys(c).sort(function(v,y){return v-y}),A=function(){var v,y,w;for(w=[],v=0,y=u.length;v<y;v++)l=u[v],w.push(c[l]);return w}(),o=this.font.glyf.encode(d,A,h),a=this.font.loca.encode(o.offsets,A),g={cmap:this.font.cmap.raw(),glyf:o.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},i}();re.API.PDFObject=function(){var i;function t(){}return i=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,n,o,d;if(Array.isArray(e))return"["+function(){var l,s,a;for(a=[],l=0,s=e.length;l<s;l++)r=e[l],a.push(t.convert(r));return a}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+i(e.getUTCFullYear(),4)+i(e.getUTCMonth(),2)+i(e.getUTCDate(),2)+i(e.getUTCHours(),2)+i(e.getUTCMinutes(),2)+i(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(n in o=["<<"],e)d=e[n],o.push("/"+n+" "+t.convert(d));return o.push(">>"),o.join(`
`)}return""+e},t}();function Zh(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var y2={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,t){(function(e){i.exports=e()})(function(){return function e(r,n,o){function d(a,c){if(!n[a]){if(!r[a]){var u=typeof Zh=="function"&&Zh;if(!c&&u)return u(a,!0);if(l)return l(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var h=n[a]={exports:{}};r[a][0].call(h.exports,function(p){var A=r[a][1][p];return d(A||p)},h,h.exports,e,r,n,o)}return n[a].exports}for(var l=typeof Zh=="function"&&Zh,s=0;s<o.length;s++)d(o[s]);return d}({1:[function(e,r,n){var o=e("./utils"),d=e("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(s){for(var a,c,u,f,h,p,A,g=[],m=0,v=s.length,y=v,w=o.getTypeOf(s)!=="string";m<s.length;)y=v-m,u=w?(a=s[m++],c=m<v?s[m++]:0,m<v?s[m++]:0):(a=s.charCodeAt(m++),c=m<v?s.charCodeAt(m++):0,m<v?s.charCodeAt(m++):0),f=a>>2,h=(3&a)<<4|c>>4,p=1<y?(15&c)<<2|u>>6:64,A=2<y?63&u:64,g.push(l.charAt(f)+l.charAt(h)+l.charAt(p)+l.charAt(A));return g.join("")},n.decode=function(s){var a,c,u,f,h,p,A=0,g=0,m="data:";if(s.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var v,y=3*(s=s.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(s.charAt(s.length-1)===l.charAt(64)&&y--,s.charAt(s.length-2)===l.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=d.uint8array?new Uint8Array(0|y):new Array(0|y);A<s.length;)a=l.indexOf(s.charAt(A++))<<2|(f=l.indexOf(s.charAt(A++)))>>4,c=(15&f)<<4|(h=l.indexOf(s.charAt(A++)))>>2,u=(3&h)<<6|(p=l.indexOf(s.charAt(A++))),v[g++]=a,h!==64&&(v[g++]=c),p!==64&&(v[g++]=u);return v}},{"./support":30,"./utils":32}],2:[function(e,r,n){var o=e("./external"),d=e("./stream/DataWorker"),l=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(c,u,f,h,p){this.compressedSize=c,this.uncompressedSize=u,this.crc32=f,this.compression=h,this.compressedContent=p}a.prototype={getContentWorker:function(){var c=new d(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),u=this;return c.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new d(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(c,u,f){return c.pipe(new l).pipe(new s("uncompressedSize")).pipe(u.compressWorker(f)).pipe(new s("compressedSize")).withStreamInfo("compression",u)},r.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,r,n){var o=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new o("STORE compression")},uncompressWorker:function(){return new o("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,r,n){var o=e("./utils"),d=function(){for(var l,s=[],a=0;a<256;a++){l=a;for(var c=0;c<8;c++)l=1&l?3988292384^l>>>1:l>>>1;s[a]=l}return s}();r.exports=function(l,s){return l!==void 0&&l.length?o.getTypeOf(l)!=="string"?function(a,c,u,f){var h=d,p=f+u;a^=-1;for(var A=f;A<p;A++)a=a>>>8^h[255&(a^c[A])];return-1^a}(0|s,l,l.length,0):function(a,c,u,f){var h=d,p=f+u;a^=-1;for(var A=f;A<p;A++)a=a>>>8^h[255&(a^c.charCodeAt(A))];return-1^a}(0|s,l,l.length,0):0}},{"./utils":32}],5:[function(e,r,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,r,n){var o=null;o=typeof Promise<"u"?Promise:e("lie"),r.exports={Promise:o}},{lie:37}],7:[function(e,r,n){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",d=e("pako"),l=e("./utils"),s=e("./stream/GenericWorker"),a=o?"uint8array":"array";function c(u,f){s.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=f,this.meta={}}n.magic="\b\0",l.inherits(c,s),c.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(a,u.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new d[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(f){u.push({data:f,meta:u.meta})}},n.compressWorker=function(u){return new c("Deflate",u)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,r,n){function o(h,p){var A,g="";for(A=0;A<p;A++)g+=String.fromCharCode(255&h),h>>>=8;return g}function d(h,p,A,g,m,v){var y,w,x=h.file,L=h.compression,F=v!==a.utf8encode,M=l.transformTo("string",v(x.name)),D=l.transformTo("string",a.utf8encode(x.name)),X=x.comment,I=l.transformTo("string",v(X)),O=l.transformTo("string",a.utf8encode(X)),W=D.length!==x.name.length,C=O.length!==X.length,Q="",lt="",it="",et=x.dir,B=x.date,K={crc32:0,compressedSize:0,uncompressedSize:0};p&&!A||(K.crc32=h.crc32,K.compressedSize=h.compressedSize,K.uncompressedSize=h.uncompressedSize);var z=0;p&&(z|=8),F||!W&&!C||(z|=2048);var S=0,j=0;et&&(S|=16),m==="UNIX"?(j=798,S|=function(E,H){var Z=E;return E||(Z=H?16893:33204),(65535&Z)<<16}(x.unixPermissions,et)):(j=20,S|=function(E){return 63&(E||0)}(x.dosPermissions)),y=B.getUTCHours(),y<<=6,y|=B.getUTCMinutes(),y<<=5,y|=B.getUTCSeconds()/2,w=B.getUTCFullYear()-1980,w<<=4,w|=B.getUTCMonth()+1,w<<=5,w|=B.getUTCDate(),W&&(lt=o(1,1)+o(c(M),4)+D,Q+="up"+o(lt.length,2)+lt),C&&(it=o(1,1)+o(c(I),4)+O,Q+="uc"+o(it.length,2)+it);var N="";return N+=`
\0`,N+=o(z,2),N+=L.magic,N+=o(y,2),N+=o(w,2),N+=o(K.crc32,4),N+=o(K.compressedSize,4),N+=o(K.uncompressedSize,4),N+=o(M.length,2),N+=o(Q.length,2),{fileRecord:u.LOCAL_FILE_HEADER+N+M+Q,dirRecord:u.CENTRAL_FILE_HEADER+o(j,2)+N+o(I.length,2)+"\0\0\0\0"+o(S,4)+o(g,4)+M+Q+I}}var l=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),c=e("../crc32"),u=e("../signature");function f(h,p,A,g){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=A,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(f,s),f.prototype.push=function(h){var p=h.meta.percent||0,A=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,s.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:A?(p+100*(A-g-1))/A:100}}))},f.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var p=this.streamFiles&&!h.file.dir;if(p){var A=d(h,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:A.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(h){this.accumulate=!1;var p=this.streamFiles&&!h.file.dir,A=d(h,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(A.dirRecord),p)this.push({data:function(g){return u.DATA_DESCRIPTOR+o(g.crc32,4)+o(g.compressedSize,4)+o(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:A.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var h=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var A=this.bytesWritten-h,g=function(m,v,y,w,x){var L=l.transformTo("string",x(w));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+o(m,2)+o(m,2)+o(v,4)+o(y,4)+o(L.length,2)+L}(this.dirRecords.length,A,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(h){this._sources.push(h);var p=this;return h.on("data",function(A){p.processChunk(A)}),h.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),h.on("error",function(A){p.error(A)}),this},f.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(h){var p=this._sources;if(!s.prototype.error.call(this,h))return!1;for(var A=0;A<p.length;A++)try{p[A].error(h)}catch{}return!0},f.prototype.lock=function(){s.prototype.lock.call(this);for(var h=this._sources,p=0;p<h.length;p++)h[p].lock()},r.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,r,n){var o=e("../compressions"),d=e("./ZipFileWorker");n.generateWorker=function(l,s,a){var c=new d(s.streamFiles,a,s.platform,s.encodeFileName),u=0;try{l.forEach(function(f,h){u++;var p=function(v,y){var w=v||y,x=o[w];if(!x)throw new Error(w+" is not a valid compression method !");return x}(h.options.compression,s.compression),A=h.options.compressionOptions||s.compressionOptions||{},g=h.dir,m=h.date;h._compressWorker(p,A).withStreamInfo("file",{name:f,dir:g,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(c)}),c.entriesCount=u}catch(f){c.error(f)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,r,n){function o(){if(!(this instanceof o))return new o;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var d=new o;for(var l in this)typeof this[l]!="function"&&(d[l]=this[l]);return d}}(o.prototype=e("./object")).loadAsync=e("./load"),o.support=e("./support"),o.defaults=e("./defaults"),o.version="3.10.1",o.loadAsync=function(d,l){return new o().loadAsync(d,l)},o.external=e("./external"),r.exports=o},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,r,n){var o=e("./utils"),d=e("./external"),l=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function u(f){return new d.Promise(function(h,p){var A=f.decompressed.getContentWorker().pipe(new a);A.on("error",function(g){p(g)}).on("end",function(){A.streamInfo.crc32!==f.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}r.exports=function(f,h){var p=this;return h=o.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),c.isNode&&c.isStream(f)?d.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",f,!0,h.optimizedBinaryString,h.base64).then(function(A){var g=new s(h);return g.load(A),g}).then(function(A){var g=[d.Promise.resolve(A)],m=A.files;if(h.checkCRC32)for(var v=0;v<m.length;v++)g.push(u(m[v]));return d.Promise.all(g)}).then(function(A){for(var g=A.shift(),m=g.files,v=0;v<m.length;v++){var y=m[v],w=y.fileNameStr,x=o.resolve(y.fileNameStr);p.file(x,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:h.createFolders}),y.dir||(p.file(x).unsafeOriginalName=w)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,r,n){var o=e("../utils"),d=e("../stream/GenericWorker");function l(s,a){d.call(this,"Nodejs stream input adapter for "+s),this._upstreamEnded=!1,this._bindStream(a)}o.inherits(l,d),l.prototype._bindStream=function(s){var a=this;(this._stream=s).pause(),s.on("data",function(c){a.push({data:c,meta:{percent:0}})}).on("error",function(c){a.isPaused?this.generatedError=c:a.error(c)}).on("end",function(){a.isPaused?a._upstreamEnded=!0:a.end()})},l.prototype.pause=function(){return!!d.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,r,n){var o=e("readable-stream").Readable;function d(l,s,a){o.call(this,s),this._helper=l;var c=this;l.on("data",function(u,f){c.push(u)||c._helper.pause(),a&&a(f)}).on("error",function(u){c.emit("error",u)}).on("end",function(){c.push(null)})}e("../utils").inherits(d,o),d.prototype._read=function(){this._helper.resume()},r.exports=d},{"../utils":32,"readable-stream":16}],14:[function(e,r,n){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(o,d){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(o,d);if(typeof o=="number")throw new Error('The "data" argument must not be a number');return new Buffer(o,d)},allocBuffer:function(o){if(Buffer.alloc)return Buffer.alloc(o);var d=new Buffer(o);return d.fill(0),d},isBuffer:function(o){return Buffer.isBuffer(o)},isStream:function(o){return o&&typeof o.on=="function"&&typeof o.pause=="function"&&typeof o.resume=="function"}}},{}],15:[function(e,r,n){function o(x,L,F){var M,D=l.getTypeOf(L),X=l.extend(F||{},c);X.date=X.date||new Date,X.compression!==null&&(X.compression=X.compression.toUpperCase()),typeof X.unixPermissions=="string"&&(X.unixPermissions=parseInt(X.unixPermissions,8)),X.unixPermissions&&16384&X.unixPermissions&&(X.dir=!0),X.dosPermissions&&16&X.dosPermissions&&(X.dir=!0),X.dir&&(x=m(x)),X.createFolders&&(M=g(x))&&v.call(this,M,!0);var I=D==="string"&&X.binary===!1&&X.base64===!1;F&&F.binary!==void 0||(X.binary=!I),(L instanceof u&&L.uncompressedSize===0||X.dir||!L||L.length===0)&&(X.base64=!1,X.binary=!0,L="",X.compression="STORE",D="string");var O=null;O=L instanceof u||L instanceof s?L:p.isNode&&p.isStream(L)?new A(x,L):l.prepareContent(x,L,X.binary,X.optimizedBinaryString,X.base64);var W=new f(x,O,X);this.files[x]=W}var d=e("./utf8"),l=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),c=e("./defaults"),u=e("./compressedObject"),f=e("./zipObject"),h=e("./generate"),p=e("./nodejsUtils"),A=e("./nodejs/NodejsStreamInputAdapter"),g=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var L=x.lastIndexOf("/");return 0<L?x.substring(0,L):""},m=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},v=function(x,L){return L=L!==void 0?L:c.createFolders,x=m(x),this.files[x]||o.call(this,x,null,{dir:!0,createFolders:L}),this.files[x]};function y(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var L,F,M;for(L in this.files)M=this.files[L],(F=L.slice(this.root.length,L.length))&&L.slice(0,this.root.length)===this.root&&x(F,M)},filter:function(x){var L=[];return this.forEach(function(F,M){x(F,M)&&L.push(M)}),L},file:function(x,L,F){if(arguments.length!==1)return x=this.root+x,o.call(this,x,L,F),this;if(y(x)){var M=x;return this.filter(function(X,I){return!I.dir&&M.test(X)})}var D=this.files[this.root+x];return D&&!D.dir?D:null},folder:function(x){if(!x)return this;if(y(x))return this.filter(function(D,X){return X.dir&&x.test(D)});var L=this.root+x,F=v.call(this,L),M=this.clone();return M.root=F.name,M},remove:function(x){x=this.root+x;var L=this.files[x];if(L||(x.slice(-1)!=="/"&&(x+="/"),L=this.files[x]),L&&!L.dir)delete this.files[x];else for(var F=this.filter(function(D,X){return X.name.slice(0,x.length)===x}),M=0;M<F.length;M++)delete this.files[F[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var L,F={};try{if((F=l.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");l.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var M=F.comment||this.comment||"";L=h.generateWorker(this,F,M)}catch(D){(L=new s("error")).error(D)}return new a(L,F.type||"string",F.mimeType)},generateAsync:function(x,L){return this.generateInternalStream(x).accumulate(L)},generateNodeStream:function(x,L){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(L)}};r.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,r,n){r.exports=e("stream")},{stream:void 0}],17:[function(e,r,n){var o=e("./DataReader");function d(l){o.call(this,l);for(var s=0;s<this.data.length;s++)l[s]=255&l[s]}e("../utils").inherits(d,o),d.prototype.byteAt=function(l){return this.data[this.zero+l]},d.prototype.lastIndexOfSignature=function(l){for(var s=l.charCodeAt(0),a=l.charCodeAt(1),c=l.charCodeAt(2),u=l.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===s&&this.data[f+1]===a&&this.data[f+2]===c&&this.data[f+3]===u)return f-this.zero;return-1},d.prototype.readAndCheckSignature=function(l){var s=l.charCodeAt(0),a=l.charCodeAt(1),c=l.charCodeAt(2),u=l.charCodeAt(3),f=this.readData(4);return s===f[0]&&a===f[1]&&c===f[2]&&u===f[3]},d.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=d},{"../utils":32,"./DataReader":18}],18:[function(e,r,n){var o=e("../utils");function d(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}d.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var s,a=0;for(this.checkOffset(l),s=this.index+l-1;s>=this.index;s--)a=(a<<8)+this.byteAt(s);return this.index+=l,a},readString:function(l){return o.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},r.exports=d},{"../utils":32}],19:[function(e,r,n){var o=e("./Uint8ArrayReader");function d(l){o.call(this,l)}e("../utils").inherits(d,o),d.prototype.readData=function(l){this.checkOffset(l);var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=d},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,r,n){var o=e("./DataReader");function d(l){o.call(this,l)}e("../utils").inherits(d,o),d.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},d.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},d.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},d.prototype.readData=function(l){this.checkOffset(l);var s=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=d},{"../utils":32,"./DataReader":18}],21:[function(e,r,n){var o=e("./ArrayReader");function d(l){o.call(this,l)}e("../utils").inherits(d,o),d.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var s=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,s},r.exports=d},{"../utils":32,"./ArrayReader":17}],22:[function(e,r,n){var o=e("../utils"),d=e("../support"),l=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");r.exports=function(u){var f=o.getTypeOf(u);return o.checkSupport(f),f!=="string"||d.uint8array?f==="nodebuffer"?new a(u):d.uint8array?new c(o.transformTo("uint8array",u)):new l(o.transformTo("array",u)):new s(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,r,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,r,n){var o=e("./GenericWorker"),d=e("../utils");function l(s){o.call(this,"ConvertWorker to "+s),this.destType=s}d.inherits(l,o),l.prototype.processChunk=function(s){this.push({data:d.transformTo(this.destType,s.data),meta:s.meta})},r.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(e,r,n){var o=e("./GenericWorker"),d=e("../crc32");function l(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(l,o),l.prototype.processChunk=function(s){this.streamInfo.crc32=d(s.data,this.streamInfo.crc32||0),this.push(s)},r.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,r,n){var o=e("../utils"),d=e("./GenericWorker");function l(s){d.call(this,"DataLengthProbe for "+s),this.propName=s,this.withStreamInfo(s,0)}o.inherits(l,d),l.prototype.processChunk=function(s){if(s){var a=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=a+s.data.length}d.prototype.processChunk.call(this,s)},r.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(e,r,n){var o=e("../utils"),d=e("./GenericWorker");function l(s){d.call(this,"DataWorker");var a=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,s.then(function(c){a.dataIsReady=!0,a.data=c,a.max=c&&c.length||0,a.type=o.getTypeOf(c),a.isPaused||a._tickAndRepeat()},function(c){a.error(c)})}o.inherits(l,d),l.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var s=null,a=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":s=this.data.substring(this.index,a);break;case"uint8array":s=this.data.subarray(this.index,a);break;case"array":case"nodebuffer":s=this.data.slice(this.index,a)}return this.index=a,this.push({data:s,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(e,r,n){function o(d){this.name=d||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}o.prototype={push:function(d){this.emit("data",d)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(d){this.emit("error",d)}return!0},error:function(d){return!this.isFinished&&(this.isPaused?this.generatedError=d:(this.isFinished=!0,this.emit("error",d),this.previous&&this.previous.error(d),this.cleanUp()),!0)},on:function(d,l){return this._listeners[d].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(d,l){if(this._listeners[d])for(var s=0;s<this._listeners[d].length;s++)this._listeners[d][s].call(this,l)},pipe:function(d){return d.registerPrevious(this)},registerPrevious:function(d){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=d.streamInfo,this.mergeStreamInfo(),this.previous=d;var l=this;return d.on("data",function(s){l.processChunk(s)}),d.on("end",function(){l.end()}),d.on("error",function(s){l.error(s)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var d=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),d=!0),this.previous&&this.previous.resume(),!d},flush:function(){},processChunk:function(d){this.push(d)},withStreamInfo:function(d,l){return this.extraStreamInfo[d]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var d in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,d)&&(this.streamInfo[d]=this.extraStreamInfo[d])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var d="Worker "+this.name;return this.previous?this.previous+" -> "+d:d}},r.exports=o},{}],29:[function(e,r,n){var o=e("../utils"),d=e("./ConvertWorker"),l=e("./GenericWorker"),s=e("../base64"),a=e("../support"),c=e("../external"),u=null;if(a.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(p,A){return new c.Promise(function(g,m){var v=[],y=p._internalType,w=p._outputType,x=p._mimeType;p.on("data",function(L,F){v.push(L),A&&A(F)}).on("error",function(L){v=[],m(L)}).on("end",function(){try{var L=function(F,M,D){switch(F){case"blob":return o.newBlob(o.transformTo("arraybuffer",M),D);case"base64":return s.encode(M);default:return o.transformTo(F,M)}}(w,function(F,M){var D,X=0,I=null,O=0;for(D=0;D<M.length;D++)O+=M[D].length;switch(F){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(I=new Uint8Array(O),D=0;D<M.length;D++)I.set(M[D],X),X+=M[D].length;return I;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+F+"'")}}(y,v),x);g(L)}catch(F){m(F)}v=[]}).resume()})}function h(p,A,g){var m=A;switch(A){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=A,this._mimeType=g,o.checkSupport(m),this._worker=p.pipe(new d(m)),p.lock()}catch(v){this._worker=new l("error"),this._worker.error(v)}}h.prototype={accumulate:function(p){return f(this,p)},on:function(p,A){var g=this;return p==="data"?this._worker.on(p,function(m){A.call(g,m.data,m.meta)}):this._worker.on(p,function(){o.delay(A,arguments,g)}),this},resume:function(){return o.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(o.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,r,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var o=new ArrayBuffer(0);try{n.blob=new Blob([o],{type:"application/zip"}).size===0}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);d.append(o),n.blob=d.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(e,r,n){for(var o=e("./utils"),d=e("./support"),l=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;a[254]=a[254]=1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function f(){s.call(this,"utf-8 encode")}n.utf8encode=function(h){return d.nodebuffer?l.newBufferFrom(h,"utf-8"):function(p){var A,g,m,v,y,w=p.length,x=0;for(v=0;v<w;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<w&&(64512&(m=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),v++),x+=g<128?1:g<2048?2:g<65536?3:4;for(A=d.uint8array?new Uint8Array(x):new Array(x),v=y=0;y<x;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<w&&(64512&(m=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),v++),g<128?A[y++]=g:(g<2048?A[y++]=192|g>>>6:(g<65536?A[y++]=224|g>>>12:(A[y++]=240|g>>>18,A[y++]=128|g>>>12&63),A[y++]=128|g>>>6&63),A[y++]=128|63&g);return A}(h)},n.utf8decode=function(h){return d.nodebuffer?o.transformTo("nodebuffer",h).toString("utf-8"):function(p){var A,g,m,v,y=p.length,w=new Array(2*y);for(A=g=0;A<y;)if((m=p[A++])<128)w[g++]=m;else if(4<(v=a[m]))w[g++]=65533,A+=v-1;else{for(m&=v===2?31:v===3?15:7;1<v&&A<y;)m=m<<6|63&p[A++],v--;1<v?w[g++]=65533:m<65536?w[g++]=m:(m-=65536,w[g++]=55296|m>>10&1023,w[g++]=56320|1023&m)}return w.length!==g&&(w.subarray?w=w.subarray(0,g):w.length=g),o.applyFromCharCode(w)}(h=o.transformTo(d.uint8array?"uint8array":"array",h))},o.inherits(u,s),u.prototype.processChunk=function(h){var p=o.transformTo(d.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(d.uint8array){var A=p;(p=new Uint8Array(A.length+this.leftOver.length)).set(this.leftOver,0),p.set(A,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=function(v,y){var w;for((y=y||v.length)>v.length&&(y=v.length),w=y-1;0<=w&&(192&v[w])==128;)w--;return w<0||w===0?y:w+a[v[w]]>y?w:y}(p),m=p;g!==p.length&&(d.uint8array?(m=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(m=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:n.utf8decode(m),meta:h.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,o.inherits(f,s),f.prototype.processChunk=function(h){this.push({data:n.utf8encode(h.data),meta:h.meta})},n.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,r,n){var o=e("./support"),d=e("./base64"),l=e("./nodejsUtils"),s=e("./external");function a(A){return A}function c(A,g){for(var m=0;m<A.length;++m)g[m]=255&A.charCodeAt(m);return g}e("setimmediate"),n.newBlob=function(A,g){n.checkSupport("blob");try{return new Blob([A],{type:g})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(A),m.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(A,g,m){var v=[],y=0,w=A.length;if(w<=m)return String.fromCharCode.apply(null,A);for(;y<w;)g==="array"||g==="nodebuffer"?v.push(String.fromCharCode.apply(null,A.slice(y,Math.min(y+m,w)))):v.push(String.fromCharCode.apply(null,A.subarray(y,Math.min(y+m,w)))),y+=m;return v.join("")},stringifyByChar:function(A){for(var g="",m=0;m<A.length;m++)g+=String.fromCharCode(A[m]);return g},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function f(A){var g=65536,m=n.getTypeOf(A),v=!0;if(m==="uint8array"?v=u.applyCanBeUsed.uint8array:m==="nodebuffer"&&(v=u.applyCanBeUsed.nodebuffer),v)for(;1<g;)try{return u.stringifyByChunk(A,m,g)}catch{g=Math.floor(g/2)}return u.stringifyByChar(A)}function h(A,g){for(var m=0;m<A.length;m++)g[m]=A[m];return g}n.applyFromCharCode=f;var p={};p.string={string:a,array:function(A){return c(A,new Array(A.length))},arraybuffer:function(A){return p.string.uint8array(A).buffer},uint8array:function(A){return c(A,new Uint8Array(A.length))},nodebuffer:function(A){return c(A,l.allocBuffer(A.length))}},p.array={string:f,array:a,arraybuffer:function(A){return new Uint8Array(A).buffer},uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return l.newBufferFrom(A)}},p.arraybuffer={string:function(A){return f(new Uint8Array(A))},array:function(A){return h(new Uint8Array(A),new Array(A.byteLength))},arraybuffer:a,uint8array:function(A){return new Uint8Array(A)},nodebuffer:function(A){return l.newBufferFrom(new Uint8Array(A))}},p.uint8array={string:f,array:function(A){return h(A,new Array(A.length))},arraybuffer:function(A){return A.buffer},uint8array:a,nodebuffer:function(A){return l.newBufferFrom(A)}},p.nodebuffer={string:f,array:function(A){return h(A,new Array(A.length))},arraybuffer:function(A){return p.nodebuffer.uint8array(A).buffer},uint8array:function(A){return h(A,new Uint8Array(A.length))},nodebuffer:a},n.transformTo=function(A,g){if(g=g||"",!A)return g;n.checkSupport(A);var m=n.getTypeOf(g);return p[m][A](g)},n.resolve=function(A){for(var g=A.split("/"),m=[],v=0;v<g.length;v++){var y=g[v];y==="."||y===""&&v!==0&&v!==g.length-1||(y===".."?m.pop():m.push(y))}return m.join("/")},n.getTypeOf=function(A){return typeof A=="string"?"string":Object.prototype.toString.call(A)==="[object Array]"?"array":o.nodebuffer&&l.isBuffer(A)?"nodebuffer":o.uint8array&&A instanceof Uint8Array?"uint8array":o.arraybuffer&&A instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(A){if(!o[A.toLowerCase()])throw new Error(A+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(A){var g,m,v="";for(m=0;m<(A||"").length;m++)v+="\\x"+((g=A.charCodeAt(m))<16?"0":"")+g.toString(16).toUpperCase();return v},n.delay=function(A,g,m){setImmediate(function(){A.apply(m||null,g||[])})},n.inherits=function(A,g){function m(){}m.prototype=g.prototype,A.prototype=new m},n.extend=function(){var A,g,m={};for(A=0;A<arguments.length;A++)for(g in arguments[A])Object.prototype.hasOwnProperty.call(arguments[A],g)&&m[g]===void 0&&(m[g]=arguments[A][g]);return m},n.prepareContent=function(A,g,m,v,y){return s.Promise.resolve(g).then(function(w){return o.blob&&(w instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(w))!==-1)&&typeof FileReader<"u"?new s.Promise(function(x,L){var F=new FileReader;F.onload=function(M){x(M.target.result)},F.onerror=function(M){L(M.target.error)},F.readAsArrayBuffer(w)}):w}).then(function(w){var x=n.getTypeOf(w);return x?(x==="arraybuffer"?w=n.transformTo("uint8array",w):x==="string"&&(y?w=d.decode(w):m&&v!==!0&&(w=function(L){return c(L,o.uint8array?new Uint8Array(L.length):new Array(L.length))}(w))),w):s.Promise.reject(new Error("Can't read the data of '"+A+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,r,n){var o=e("./reader/readerFor"),d=e("./utils"),l=e("./signature"),s=e("./zipEntry"),a=e("./support");function c(u){this.files=[],this.loadOptions=u}c.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+d.pretty(f)+", expected "+d.pretty(u)+")")}},isSignature:function(u,f){var h=this.reader.index;this.reader.setIndex(u);var p=this.reader.readString(4)===f;return this.reader.setIndex(h),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),f=a.uint8array?"uint8array":"array",h=d.transformTo(f,u);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,f,h,p=this.zip64EndOfCentralSize-44;0<p;)u=this.reader.readInt(2),f=this.reader.readInt(4),h=this.reader.readData(f),this.zip64ExtensibleData[u]={id:u,length:f,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,f;for(u=0;u<this.files.length;u++)f=this.files[u],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(u=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var f=u;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===d.MAX_VALUE_16BITS||this.diskWithCentralDirStart===d.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===d.MAX_VALUE_16BITS||this.centralDirRecords===d.MAX_VALUE_16BITS||this.centralDirSize===d.MAX_VALUE_32BITS||this.centralDirOffset===d.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var p=f-h;if(0<p)this.isSignature(f,l.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(u){this.reader=o(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,r,n){var o=e("./reader/readerFor"),d=e("./utils"),l=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),c=e("./compressions"),u=e("./support");function f(h,p){this.options=h,this.loadOptions=p}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var p,A;if(h.skip(22),this.fileNameLength=h.readInt(2),A=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(A),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(g){for(var m in c)if(Object.prototype.hasOwnProperty.call(c,m)&&c[m].magic===g)return c[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+d.pretty(this.compressionMethod)+" unknown (inner file : "+d.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,p,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var p=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(p),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=o(this.extraFields[1].value);this.uncompressedSize===d.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===d.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===d.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===d.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var p,A,g,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)p=h.readInt(2),A=h.readInt(2),g=h.readData(A),this.extraFields[p]={id:p,length:A,value:g};h.setIndex(m)},handleUTF8:function(){var h=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var A=d.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(A)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var m=d.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var p=o(h.value);return p.readInt(1)!==1||s(this.fileName)!==p.readInt(4)?null:a.utf8decode(p.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var p=o(h.value);return p.readInt(1)!==1||s(this.fileComment)!==p.readInt(4)?null:a.utf8decode(p.readData(h.length-5))}return null}},r.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,r,n){function o(p,A,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=A,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var d=e("./stream/StreamHelper"),l=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),c=e("./stream/GenericWorker");o.prototype={internalStream:function(p){var A=null,g="string";try{if(!p)throw new Error("No output type specified.");var m=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),A=this._decompressWorker();var v=!this._dataBinary;v&&!m&&(A=A.pipe(new s.Utf8EncodeWorker)),!v&&m&&(A=A.pipe(new s.Utf8DecodeWorker))}catch(y){(A=new c("error")).error(y)}return new d(A,g,"")},async:function(p,A){return this.internalStream(p).accumulate(A)},nodeStream:function(p,A){return this.internalStream(p||"nodebuffer").toNodejsStream(A)},_compressWorker:function(p,A){if(this._data instanceof a&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(g,p,A)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof c?this._data:new l(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)o.prototype[u[h]]=f;r.exports=o},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,r,n){(function(o){var d,l,s=o.MutationObserver||o.WebKitMutationObserver;if(s){var a=0,c=new s(p),u=o.document.createTextNode("");c.observe(u,{characterData:!0}),d=function(){u.data=a=++a%2}}else if(o.setImmediate||o.MessageChannel===void 0)d="document"in o&&"onreadystatechange"in o.document.createElement("script")?function(){var A=o.document.createElement("script");A.onreadystatechange=function(){p(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},o.document.documentElement.appendChild(A)}:function(){setTimeout(p,0)};else{var f=new o.MessageChannel;f.port1.onmessage=p,d=function(){f.port2.postMessage(0)}}var h=[];function p(){var A,g;l=!0;for(var m=h.length;m;){for(g=h,h=[],A=-1;++A<m;)g[A]();m=h.length}l=!1}r.exports=function(A){h.push(A)!==1||l||d()}}).call(this,typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e,r,n){var o=e("immediate");function d(){}var l={},s=["REJECTED"],a=["FULFILLED"],c=["PENDING"];function u(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,m!==d&&A(this,m)}function f(m,v,y){this.promise=m,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function h(m,v,y){o(function(){var w;try{w=v(y)}catch(x){return l.reject(m,x)}w===m?l.reject(m,new TypeError("Cannot resolve promise with itself")):l.resolve(m,w)})}function p(m){var v=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof v=="function")return function(){v.apply(m,arguments)}}function A(m,v){var y=!1;function w(F){y||(y=!0,l.reject(m,F))}function x(F){y||(y=!0,l.resolve(m,F))}var L=g(function(){v(x,w)});L.status==="error"&&w(L.value)}function g(m,v){var y={};try{y.value=m(v),y.status="success"}catch(w){y.status="error",y.value=w}return y}(r.exports=u).prototype.finally=function(m){if(typeof m!="function")return this;var v=this.constructor;return this.then(function(y){return v.resolve(m()).then(function(){return y})},function(y){return v.resolve(m()).then(function(){throw y})})},u.prototype.catch=function(m){return this.then(null,m)},u.prototype.then=function(m,v){if(typeof m!="function"&&this.state===a||typeof v!="function"&&this.state===s)return this;var y=new this.constructor(d);return this.state!==c?h(y,this.state===a?m:v,this.outcome):this.queue.push(new f(y,m,v)),y},f.prototype.callFulfilled=function(m){l.resolve(this.promise,m)},f.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},f.prototype.callRejected=function(m){l.reject(this.promise,m)},f.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},l.resolve=function(m,v){var y=g(p,v);if(y.status==="error")return l.reject(m,y.value);var w=y.value;if(w)A(m,w);else{m.state=a,m.outcome=v;for(var x=-1,L=m.queue.length;++x<L;)m.queue[x].callFulfilled(v)}return m},l.reject=function(m,v){m.state=s,m.outcome=v;for(var y=-1,w=m.queue.length;++y<w;)m.queue[y].callRejected(v);return m},u.resolve=function(m){return m instanceof this?m:l.resolve(new this(d),m)},u.reject=function(m){var v=new this(d);return l.reject(v,m)},u.all=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=m.length,w=!1;if(!y)return this.resolve([]);for(var x=new Array(y),L=0,F=-1,M=new this(d);++F<y;)D(m[F],F);return M;function D(X,I){v.resolve(X).then(function(O){x[I]=O,++L!==y||w||(w=!0,l.resolve(M,x))},function(O){w||(w=!0,l.reject(M,O))})}},u.race=function(m){var v=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=m.length,w=!1;if(!y)return this.resolve([]);for(var x=-1,L=new this(d);++x<y;)F=m[x],v.resolve(F).then(function(M){w||(w=!0,l.resolve(L,M))},function(M){w||(w=!0,l.reject(L,M))});var F;return L}},{immediate:36}],38:[function(e,r,n){var o={};(0,e("./lib/utils/common").assign)(o,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),r.exports=o},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,r,n){var o=e("./zlib/deflate"),d=e("./utils/common"),l=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),c=Object.prototype.toString,u=0,f=-1,h=0,p=8;function A(m){if(!(this instanceof A))return new A(m);this.options=d.assign({level:f,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var y=o.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(y!==u)throw new Error(s[y]);if(v.header&&o.deflateSetHeader(this.strm,v.header),v.dictionary){var w;if(w=typeof v.dictionary=="string"?l.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(y=o.deflateSetDictionary(this.strm,w))!==u)throw new Error(s[y]);this._dict_set=!0}}function g(m,v){var y=new A(v);if(y.push(m,!0),y.err)throw y.msg||s[y.err];return y.result}A.prototype.push=function(m,v){var y,w,x=this.strm,L=this.options.chunkSize;if(this.ended)return!1;w=v===~~v?v:v===!0?4:0,typeof m=="string"?x.input=l.string2buf(m):c.call(m)==="[object ArrayBuffer]"?x.input=new Uint8Array(m):x.input=m,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new d.Buf8(L),x.next_out=0,x.avail_out=L),(y=o.deflate(x,w))!==1&&y!==u)return this.onEnd(y),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||w!==4&&w!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(d.shrinkBuf(x.output,x.next_out))):this.onData(d.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&y!==1);return w===4?(y=o.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===u):w!==2||(this.onEnd(u),!(x.avail_out=0))},A.prototype.onData=function(m){this.chunks.push(m)},A.prototype.onEnd=function(m){m===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},n.Deflate=A,n.deflate=g,n.deflateRaw=function(m,v){return(v=v||{}).raw=!0,g(m,v)},n.gzip=function(m,v){return(v=v||{}).gzip=!0,g(m,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,r,n){var o=e("./zlib/inflate"),d=e("./utils/common"),l=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),f=Object.prototype.toString;function h(A){if(!(this instanceof h))return new h(A);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},A||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||A&&A.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var m=o.inflateInit2(this.strm,g.windowBits);if(m!==s.Z_OK)throw new Error(a[m]);this.header=new u,o.inflateGetHeader(this.strm,this.header)}function p(A,g){var m=new h(g);if(m.push(A,!0),m.err)throw m.msg||a[m.err];return m.result}h.prototype.push=function(A,g){var m,v,y,w,x,L,F=this.strm,M=this.options.chunkSize,D=this.options.dictionary,X=!1;if(this.ended)return!1;v=g===~~g?g:g===!0?s.Z_FINISH:s.Z_NO_FLUSH,typeof A=="string"?F.input=l.binstring2buf(A):f.call(A)==="[object ArrayBuffer]"?F.input=new Uint8Array(A):F.input=A,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new d.Buf8(M),F.next_out=0,F.avail_out=M),(m=o.inflate(F,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&D&&(L=typeof D=="string"?l.string2buf(D):f.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,m=o.inflateSetDictionary(this.strm,L)),m===s.Z_BUF_ERROR&&X===!0&&(m=s.Z_OK,X=!1),m!==s.Z_STREAM_END&&m!==s.Z_OK)return this.onEnd(m),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&m!==s.Z_STREAM_END&&(F.avail_in!==0||v!==s.Z_FINISH&&v!==s.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=l.utf8border(F.output,F.next_out),w=F.next_out-y,x=l.buf2string(F.output,y),F.next_out=w,F.avail_out=M-w,w&&d.arraySet(F.output,F.output,y,w,0),this.onData(x)):this.onData(d.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(X=!0)}while((0<F.avail_in||F.avail_out===0)&&m!==s.Z_STREAM_END);return m===s.Z_STREAM_END&&(v=s.Z_FINISH),v===s.Z_FINISH?(m=o.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===s.Z_OK):v!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(F.avail_out=0))},h.prototype.onData=function(A){this.chunks.push(A)},h.prototype.onEnd=function(A){A===s.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg},n.Inflate=h,n.inflate=p,n.inflateRaw=function(A,g){return(g=g||{}).raw=!0,p(A,g)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,r,n){var o=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(s){for(var a=Array.prototype.slice.call(arguments,1);a.length;){var c=a.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)c.hasOwnProperty(u)&&(s[u]=c[u])}}return s},n.shrinkBuf=function(s,a){return s.length===a?s:s.subarray?s.subarray(0,a):(s.length=a,s)};var d={arraySet:function(s,a,c,u,f){if(a.subarray&&s.subarray)s.set(a.subarray(c,c+u),f);else for(var h=0;h<u;h++)s[f+h]=a[c+h]},flattenChunks:function(s){var a,c,u,f,h,p;for(a=u=0,c=s.length;a<c;a++)u+=s[a].length;for(p=new Uint8Array(u),a=f=0,c=s.length;a<c;a++)h=s[a],p.set(h,f),f+=h.length;return p}},l={arraySet:function(s,a,c,u,f){for(var h=0;h<u;h++)s[f+h]=a[c+h]},flattenChunks:function(s){return[].concat.apply([],s)}};n.setTyped=function(s){s?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,d)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,l))},n.setTyped(o)},{}],42:[function(e,r,n){var o=e("./common"),d=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var s=new o.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function c(u,f){if(f<65537&&(u.subarray&&l||!u.subarray&&d))return String.fromCharCode.apply(null,o.shrinkBuf(u,f));for(var h="",p=0;p<f;p++)h+=String.fromCharCode(u[p]);return h}s[254]=s[254]=1,n.string2buf=function(u){var f,h,p,A,g,m=u.length,v=0;for(A=0;A<m;A++)(64512&(h=u.charCodeAt(A)))==55296&&A+1<m&&(64512&(p=u.charCodeAt(A+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),A++),v+=h<128?1:h<2048?2:h<65536?3:4;for(f=new o.Buf8(v),A=g=0;g<v;A++)(64512&(h=u.charCodeAt(A)))==55296&&A+1<m&&(64512&(p=u.charCodeAt(A+1)))==56320&&(h=65536+(h-55296<<10)+(p-56320),A++),h<128?f[g++]=h:(h<2048?f[g++]=192|h>>>6:(h<65536?f[g++]=224|h>>>12:(f[g++]=240|h>>>18,f[g++]=128|h>>>12&63),f[g++]=128|h>>>6&63),f[g++]=128|63&h);return f},n.buf2binstring=function(u){return c(u,u.length)},n.binstring2buf=function(u){for(var f=new o.Buf8(u.length),h=0,p=f.length;h<p;h++)f[h]=u.charCodeAt(h);return f},n.buf2string=function(u,f){var h,p,A,g,m=f||u.length,v=new Array(2*m);for(h=p=0;h<m;)if((A=u[h++])<128)v[p++]=A;else if(4<(g=s[A]))v[p++]=65533,h+=g-1;else{for(A&=g===2?31:g===3?15:7;1<g&&h<m;)A=A<<6|63&u[h++],g--;1<g?v[p++]=65533:A<65536?v[p++]=A:(A-=65536,v[p++]=55296|A>>10&1023,v[p++]=56320|1023&A)}return c(v,p)},n.utf8border=function(u,f){var h;for((f=f||u.length)>u.length&&(f=u.length),h=f-1;0<=h&&(192&u[h])==128;)h--;return h<0||h===0?f:h+s[u[h]]>f?h:f}},{"./common":41}],43:[function(e,r,n){r.exports=function(o,d,l,s){for(var a=65535&o|0,c=o>>>16&65535|0,u=0;l!==0;){for(l-=u=2e3<l?2e3:l;c=c+(a=a+d[s++]|0)|0,--u;);a%=65521,c%=65521}return a|c<<16|0}},{}],44:[function(e,r,n){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,r,n){var o=function(){for(var d,l=[],s=0;s<256;s++){d=s;for(var a=0;a<8;a++)d=1&d?3988292384^d>>>1:d>>>1;l[s]=d}return l}();r.exports=function(d,l,s,a){var c=o,u=a+s;d^=-1;for(var f=a;f<u;f++)d=d>>>8^c[255&(d^l[f])];return-1^d}},{}],46:[function(e,r,n){var o,d=e("../utils/common"),l=e("./trees"),s=e("./adler32"),a=e("./crc32"),c=e("./messages"),u=0,f=4,h=0,p=-2,A=-1,g=4,m=2,v=8,y=9,w=286,x=30,L=19,F=2*w+1,M=15,D=3,X=258,I=X+D+1,O=42,W=113,C=1,Q=2,lt=3,it=4;function et(T,U){return T.msg=c[U],U}function B(T){return(T<<1)-(4<T?9:0)}function K(T){for(var U=T.length;0<=--U;)T[U]=0}function z(T){var U=T.state,ct=U.pending;ct>T.avail_out&&(ct=T.avail_out),ct!==0&&(d.arraySet(T.output,U.pending_buf,U.pending_out,ct,T.next_out),T.next_out+=ct,U.pending_out+=ct,T.total_out+=ct,T.avail_out-=ct,U.pending-=ct,U.pending===0&&(U.pending_out=0))}function S(T,U){l._tr_flush_block(T,0<=T.block_start?T.block_start:-1,T.strstart-T.block_start,U),T.block_start=T.strstart,z(T.strm)}function j(T,U){T.pending_buf[T.pending++]=U}function N(T,U){T.pending_buf[T.pending++]=U>>>8&255,T.pending_buf[T.pending++]=255&U}function E(T,U){var ct,V,G=T.max_chain_length,tt=T.strstart,yt=T.prev_length,At=T.nice_match,st=T.strstart>T.w_size-I?T.strstart-(T.w_size-I):0,_t=T.window,Dt=T.w_mask,kt=T.prev,Nt=T.strstart+X,Xt=_t[tt+yt-1],Ut=_t[tt+yt];T.prev_length>=T.good_match&&(G>>=2),At>T.lookahead&&(At=T.lookahead);do if(_t[(ct=U)+yt]===Ut&&_t[ct+yt-1]===Xt&&_t[ct]===_t[tt]&&_t[++ct]===_t[tt+1]){tt+=2,ct++;do;while(_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&_t[++tt]===_t[++ct]&&tt<Nt);if(V=X-(Nt-tt),tt=Nt-X,yt<V){if(T.match_start=U,At<=(yt=V))break;Xt=_t[tt+yt-1],Ut=_t[tt+yt]}}while((U=kt[U&Dt])>st&&--G!=0);return yt<=T.lookahead?yt:T.lookahead}function H(T){var U,ct,V,G,tt,yt,At,st,_t,Dt,kt=T.w_size;do{if(G=T.window_size-T.lookahead-T.strstart,T.strstart>=kt+(kt-I)){for(d.arraySet(T.window,T.window,kt,kt,0),T.match_start-=kt,T.strstart-=kt,T.block_start-=kt,U=ct=T.hash_size;V=T.head[--U],T.head[U]=kt<=V?V-kt:0,--ct;);for(U=ct=kt;V=T.prev[--U],T.prev[U]=kt<=V?V-kt:0,--ct;);G+=kt}if(T.strm.avail_in===0)break;if(yt=T.strm,At=T.window,st=T.strstart+T.lookahead,_t=G,Dt=void 0,Dt=yt.avail_in,_t<Dt&&(Dt=_t),ct=Dt===0?0:(yt.avail_in-=Dt,d.arraySet(At,yt.input,yt.next_in,Dt,st),yt.state.wrap===1?yt.adler=s(yt.adler,At,Dt,st):yt.state.wrap===2&&(yt.adler=a(yt.adler,At,Dt,st)),yt.next_in+=Dt,yt.total_in+=Dt,Dt),T.lookahead+=ct,T.lookahead+T.insert>=D)for(tt=T.strstart-T.insert,T.ins_h=T.window[tt],T.ins_h=(T.ins_h<<T.hash_shift^T.window[tt+1])&T.hash_mask;T.insert&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[tt+D-1])&T.hash_mask,T.prev[tt&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=tt,tt++,T.insert--,!(T.lookahead+T.insert<D)););}while(T.lookahead<I&&T.strm.avail_in!==0)}function Z(T,U){for(var ct,V;;){if(T.lookahead<I){if(H(T),T.lookahead<I&&U===u)return C;if(T.lookahead===0)break}if(ct=0,T.lookahead>=D&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+D-1])&T.hash_mask,ct=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),ct!==0&&T.strstart-ct<=T.w_size-I&&(T.match_length=E(T,ct)),T.match_length>=D)if(V=l._tr_tally(T,T.strstart-T.match_start,T.match_length-D),T.lookahead-=T.match_length,T.match_length<=T.max_lazy_match&&T.lookahead>=D){for(T.match_length--;T.strstart++,T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+D-1])&T.hash_mask,ct=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart,--T.match_length!=0;);T.strstart++}else T.strstart+=T.match_length,T.match_length=0,T.ins_h=T.window[T.strstart],T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+1])&T.hash_mask;else V=l._tr_tally(T,0,T.window[T.strstart]),T.lookahead--,T.strstart++;if(V&&(S(T,!1),T.strm.avail_out===0))return C}return T.insert=T.strstart<D-1?T.strstart:D-1,U===f?(S(T,!0),T.strm.avail_out===0?lt:it):T.last_lit&&(S(T,!1),T.strm.avail_out===0)?C:Q}function ot(T,U){for(var ct,V,G;;){if(T.lookahead<I){if(H(T),T.lookahead<I&&U===u)return C;if(T.lookahead===0)break}if(ct=0,T.lookahead>=D&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+D-1])&T.hash_mask,ct=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),T.prev_length=T.match_length,T.prev_match=T.match_start,T.match_length=D-1,ct!==0&&T.prev_length<T.max_lazy_match&&T.strstart-ct<=T.w_size-I&&(T.match_length=E(T,ct),T.match_length<=5&&(T.strategy===1||T.match_length===D&&4096<T.strstart-T.match_start)&&(T.match_length=D-1)),T.prev_length>=D&&T.match_length<=T.prev_length){for(G=T.strstart+T.lookahead-D,V=l._tr_tally(T,T.strstart-1-T.prev_match,T.prev_length-D),T.lookahead-=T.prev_length-1,T.prev_length-=2;++T.strstart<=G&&(T.ins_h=(T.ins_h<<T.hash_shift^T.window[T.strstart+D-1])&T.hash_mask,ct=T.prev[T.strstart&T.w_mask]=T.head[T.ins_h],T.head[T.ins_h]=T.strstart),--T.prev_length!=0;);if(T.match_available=0,T.match_length=D-1,T.strstart++,V&&(S(T,!1),T.strm.avail_out===0))return C}else if(T.match_available){if((V=l._tr_tally(T,0,T.window[T.strstart-1]))&&S(T,!1),T.strstart++,T.lookahead--,T.strm.avail_out===0)return C}else T.match_available=1,T.strstart++,T.lookahead--}return T.match_available&&(V=l._tr_tally(T,0,T.window[T.strstart-1]),T.match_available=0),T.insert=T.strstart<D-1?T.strstart:D-1,U===f?(S(T,!0),T.strm.avail_out===0?lt:it):T.last_lit&&(S(T,!1),T.strm.avail_out===0)?C:Q}function nt(T,U,ct,V,G){this.good_length=T,this.max_lazy=U,this.nice_length=ct,this.max_chain=V,this.func=G}function dt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*F),this.dyn_dtree=new d.Buf16(2*(2*x+1)),this.bl_tree=new d.Buf16(2*(2*L+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(M+1),this.heap=new d.Buf16(2*w+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*w+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function gt(T){var U;return T&&T.state?(T.total_in=T.total_out=0,T.data_type=m,(U=T.state).pending=0,U.pending_out=0,U.wrap<0&&(U.wrap=-U.wrap),U.status=U.wrap?O:W,T.adler=U.wrap===2?0:1,U.last_flush=u,l._tr_init(U),h):et(T,p)}function Tt(T){var U=gt(T);return U===h&&function(ct){ct.window_size=2*ct.w_size,K(ct.head),ct.max_lazy_match=o[ct.level].max_lazy,ct.good_match=o[ct.level].good_length,ct.nice_match=o[ct.level].nice_length,ct.max_chain_length=o[ct.level].max_chain,ct.strstart=0,ct.block_start=0,ct.lookahead=0,ct.insert=0,ct.match_length=ct.prev_length=D-1,ct.match_available=0,ct.ins_h=0}(T.state),U}function pt(T,U,ct,V,G,tt){if(!T)return p;var yt=1;if(U===A&&(U=6),V<0?(yt=0,V=-V):15<V&&(yt=2,V-=16),G<1||y<G||ct!==v||V<8||15<V||U<0||9<U||tt<0||g<tt)return et(T,p);V===8&&(V=9);var At=new dt;return(T.state=At).strm=T,At.wrap=yt,At.gzhead=null,At.w_bits=V,At.w_size=1<<At.w_bits,At.w_mask=At.w_size-1,At.hash_bits=G+7,At.hash_size=1<<At.hash_bits,At.hash_mask=At.hash_size-1,At.hash_shift=~~((At.hash_bits+D-1)/D),At.window=new d.Buf8(2*At.w_size),At.head=new d.Buf16(At.hash_size),At.prev=new d.Buf16(At.w_size),At.lit_bufsize=1<<G+6,At.pending_buf_size=4*At.lit_bufsize,At.pending_buf=new d.Buf8(At.pending_buf_size),At.d_buf=1*At.lit_bufsize,At.l_buf=3*At.lit_bufsize,At.level=U,At.strategy=tt,At.method=ct,Tt(T)}o=[new nt(0,0,0,0,function(T,U){var ct=65535;for(ct>T.pending_buf_size-5&&(ct=T.pending_buf_size-5);;){if(T.lookahead<=1){if(H(T),T.lookahead===0&&U===u)return C;if(T.lookahead===0)break}T.strstart+=T.lookahead,T.lookahead=0;var V=T.block_start+ct;if((T.strstart===0||T.strstart>=V)&&(T.lookahead=T.strstart-V,T.strstart=V,S(T,!1),T.strm.avail_out===0)||T.strstart-T.block_start>=T.w_size-I&&(S(T,!1),T.strm.avail_out===0))return C}return T.insert=0,U===f?(S(T,!0),T.strm.avail_out===0?lt:it):(T.strstart>T.block_start&&(S(T,!1),T.strm.avail_out),C)}),new nt(4,4,8,4,Z),new nt(4,5,16,8,Z),new nt(4,6,32,32,Z),new nt(4,4,16,16,ot),new nt(8,16,32,32,ot),new nt(8,16,128,128,ot),new nt(8,32,128,256,ot),new nt(32,128,258,1024,ot),new nt(32,258,258,4096,ot)],n.deflateInit=function(T,U){return pt(T,U,v,15,8,0)},n.deflateInit2=pt,n.deflateReset=Tt,n.deflateResetKeep=gt,n.deflateSetHeader=function(T,U){return T&&T.state?T.state.wrap!==2?p:(T.state.gzhead=U,h):p},n.deflate=function(T,U){var ct,V,G,tt;if(!T||!T.state||5<U||U<0)return T?et(T,p):p;if(V=T.state,!T.output||!T.input&&T.avail_in!==0||V.status===666&&U!==f)return et(T,T.avail_out===0?-5:p);if(V.strm=T,ct=V.last_flush,V.last_flush=U,V.status===O)if(V.wrap===2)T.adler=0,j(V,31),j(V,139),j(V,8),V.gzhead?(j(V,(V.gzhead.text?1:0)+(V.gzhead.hcrc?2:0)+(V.gzhead.extra?4:0)+(V.gzhead.name?8:0)+(V.gzhead.comment?16:0)),j(V,255&V.gzhead.time),j(V,V.gzhead.time>>8&255),j(V,V.gzhead.time>>16&255),j(V,V.gzhead.time>>24&255),j(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),j(V,255&V.gzhead.os),V.gzhead.extra&&V.gzhead.extra.length&&(j(V,255&V.gzhead.extra.length),j(V,V.gzhead.extra.length>>8&255)),V.gzhead.hcrc&&(T.adler=a(T.adler,V.pending_buf,V.pending,0)),V.gzindex=0,V.status=69):(j(V,0),j(V,0),j(V,0),j(V,0),j(V,0),j(V,V.level===9?2:2<=V.strategy||V.level<2?4:0),j(V,3),V.status=W);else{var yt=v+(V.w_bits-8<<4)<<8;yt|=(2<=V.strategy||V.level<2?0:V.level<6?1:V.level===6?2:3)<<6,V.strstart!==0&&(yt|=32),yt+=31-yt%31,V.status=W,N(V,yt),V.strstart!==0&&(N(V,T.adler>>>16),N(V,65535&T.adler)),T.adler=1}if(V.status===69)if(V.gzhead.extra){for(G=V.pending;V.gzindex<(65535&V.gzhead.extra.length)&&(V.pending!==V.pending_buf_size||(V.gzhead.hcrc&&V.pending>G&&(T.adler=a(T.adler,V.pending_buf,V.pending-G,G)),z(T),G=V.pending,V.pending!==V.pending_buf_size));)j(V,255&V.gzhead.extra[V.gzindex]),V.gzindex++;V.gzhead.hcrc&&V.pending>G&&(T.adler=a(T.adler,V.pending_buf,V.pending-G,G)),V.gzindex===V.gzhead.extra.length&&(V.gzindex=0,V.status=73)}else V.status=73;if(V.status===73)if(V.gzhead.name){G=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>G&&(T.adler=a(T.adler,V.pending_buf,V.pending-G,G)),z(T),G=V.pending,V.pending===V.pending_buf_size)){tt=1;break}tt=V.gzindex<V.gzhead.name.length?255&V.gzhead.name.charCodeAt(V.gzindex++):0,j(V,tt)}while(tt!==0);V.gzhead.hcrc&&V.pending>G&&(T.adler=a(T.adler,V.pending_buf,V.pending-G,G)),tt===0&&(V.gzindex=0,V.status=91)}else V.status=91;if(V.status===91)if(V.gzhead.comment){G=V.pending;do{if(V.pending===V.pending_buf_size&&(V.gzhead.hcrc&&V.pending>G&&(T.adler=a(T.adler,V.pending_buf,V.pending-G,G)),z(T),G=V.pending,V.pending===V.pending_buf_size)){tt=1;break}tt=V.gzindex<V.gzhead.comment.length?255&V.gzhead.comment.charCodeAt(V.gzindex++):0,j(V,tt)}while(tt!==0);V.gzhead.hcrc&&V.pending>G&&(T.adler=a(T.adler,V.pending_buf,V.pending-G,G)),tt===0&&(V.status=103)}else V.status=103;if(V.status===103&&(V.gzhead.hcrc?(V.pending+2>V.pending_buf_size&&z(T),V.pending+2<=V.pending_buf_size&&(j(V,255&T.adler),j(V,T.adler>>8&255),T.adler=0,V.status=W)):V.status=W),V.pending!==0){if(z(T),T.avail_out===0)return V.last_flush=-1,h}else if(T.avail_in===0&&B(U)<=B(ct)&&U!==f)return et(T,-5);if(V.status===666&&T.avail_in!==0)return et(T,-5);if(T.avail_in!==0||V.lookahead!==0||U!==u&&V.status!==666){var At=V.strategy===2?function(st,_t){for(var Dt;;){if(st.lookahead===0&&(H(st),st.lookahead===0)){if(_t===u)return C;break}if(st.match_length=0,Dt=l._tr_tally(st,0,st.window[st.strstart]),st.lookahead--,st.strstart++,Dt&&(S(st,!1),st.strm.avail_out===0))return C}return st.insert=0,_t===f?(S(st,!0),st.strm.avail_out===0?lt:it):st.last_lit&&(S(st,!1),st.strm.avail_out===0)?C:Q}(V,U):V.strategy===3?function(st,_t){for(var Dt,kt,Nt,Xt,Ut=st.window;;){if(st.lookahead<=X){if(H(st),st.lookahead<=X&&_t===u)return C;if(st.lookahead===0)break}if(st.match_length=0,st.lookahead>=D&&0<st.strstart&&(kt=Ut[Nt=st.strstart-1])===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]){Xt=st.strstart+X;do;while(kt===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]&&kt===Ut[++Nt]&&Nt<Xt);st.match_length=X-(Xt-Nt),st.match_length>st.lookahead&&(st.match_length=st.lookahead)}if(st.match_length>=D?(Dt=l._tr_tally(st,1,st.match_length-D),st.lookahead-=st.match_length,st.strstart+=st.match_length,st.match_length=0):(Dt=l._tr_tally(st,0,st.window[st.strstart]),st.lookahead--,st.strstart++),Dt&&(S(st,!1),st.strm.avail_out===0))return C}return st.insert=0,_t===f?(S(st,!0),st.strm.avail_out===0?lt:it):st.last_lit&&(S(st,!1),st.strm.avail_out===0)?C:Q}(V,U):o[V.level].func(V,U);if(At!==lt&&At!==it||(V.status=666),At===C||At===lt)return T.avail_out===0&&(V.last_flush=-1),h;if(At===Q&&(U===1?l._tr_align(V):U!==5&&(l._tr_stored_block(V,0,0,!1),U===3&&(K(V.head),V.lookahead===0&&(V.strstart=0,V.block_start=0,V.insert=0))),z(T),T.avail_out===0))return V.last_flush=-1,h}return U!==f?h:V.wrap<=0?1:(V.wrap===2?(j(V,255&T.adler),j(V,T.adler>>8&255),j(V,T.adler>>16&255),j(V,T.adler>>24&255),j(V,255&T.total_in),j(V,T.total_in>>8&255),j(V,T.total_in>>16&255),j(V,T.total_in>>24&255)):(N(V,T.adler>>>16),N(V,65535&T.adler)),z(T),0<V.wrap&&(V.wrap=-V.wrap),V.pending!==0?h:1)},n.deflateEnd=function(T){var U;return T&&T.state?(U=T.state.status)!==O&&U!==69&&U!==73&&U!==91&&U!==103&&U!==W&&U!==666?et(T,p):(T.state=null,U===W?et(T,-3):h):p},n.deflateSetDictionary=function(T,U){var ct,V,G,tt,yt,At,st,_t,Dt=U.length;if(!T||!T.state||(tt=(ct=T.state).wrap)===2||tt===1&&ct.status!==O||ct.lookahead)return p;for(tt===1&&(T.adler=s(T.adler,U,Dt,0)),ct.wrap=0,Dt>=ct.w_size&&(tt===0&&(K(ct.head),ct.strstart=0,ct.block_start=0,ct.insert=0),_t=new d.Buf8(ct.w_size),d.arraySet(_t,U,Dt-ct.w_size,ct.w_size,0),U=_t,Dt=ct.w_size),yt=T.avail_in,At=T.next_in,st=T.input,T.avail_in=Dt,T.next_in=0,T.input=U,H(ct);ct.lookahead>=D;){for(V=ct.strstart,G=ct.lookahead-(D-1);ct.ins_h=(ct.ins_h<<ct.hash_shift^ct.window[V+D-1])&ct.hash_mask,ct.prev[V&ct.w_mask]=ct.head[ct.ins_h],ct.head[ct.ins_h]=V,V++,--G;);ct.strstart=V,ct.lookahead=D-1,H(ct)}return ct.strstart+=ct.lookahead,ct.block_start=ct.strstart,ct.insert=ct.lookahead,ct.lookahead=0,ct.match_length=ct.prev_length=D-1,ct.match_available=0,T.next_in=At,T.input=st,T.avail_in=yt,ct.wrap=tt,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,r,n){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,r,n){r.exports=function(o,d){var l,s,a,c,u,f,h,p,A,g,m,v,y,w,x,L,F,M,D,X,I,O,W,C,Q;l=o.state,s=o.next_in,C=o.input,a=s+(o.avail_in-5),c=o.next_out,Q=o.output,u=c-(d-o.avail_out),f=c+(o.avail_out-257),h=l.dmax,p=l.wsize,A=l.whave,g=l.wnext,m=l.window,v=l.hold,y=l.bits,w=l.lencode,x=l.distcode,L=(1<<l.lenbits)-1,F=(1<<l.distbits)-1;t:do{y<15&&(v+=C[s++]<<y,y+=8,v+=C[s++]<<y,y+=8),M=w[v&L];e:for(;;){if(v>>>=D=M>>>24,y-=D,(D=M>>>16&255)===0)Q[c++]=65535&M;else{if(!(16&D)){if(!(64&D)){M=w[(65535&M)+(v&(1<<D)-1)];continue e}if(32&D){l.mode=12;break t}o.msg="invalid literal/length code",l.mode=30;break t}X=65535&M,(D&=15)&&(y<D&&(v+=C[s++]<<y,y+=8),X+=v&(1<<D)-1,v>>>=D,y-=D),y<15&&(v+=C[s++]<<y,y+=8,v+=C[s++]<<y,y+=8),M=x[v&F];i:for(;;){if(v>>>=D=M>>>24,y-=D,!(16&(D=M>>>16&255))){if(!(64&D)){M=x[(65535&M)+(v&(1<<D)-1)];continue i}o.msg="invalid distance code",l.mode=30;break t}if(I=65535&M,y<(D&=15)&&(v+=C[s++]<<y,(y+=8)<D&&(v+=C[s++]<<y,y+=8)),h<(I+=v&(1<<D)-1)){o.msg="invalid distance too far back",l.mode=30;break t}if(v>>>=D,y-=D,(D=c-u)<I){if(A<(D=I-D)&&l.sane){o.msg="invalid distance too far back",l.mode=30;break t}if(W=m,(O=0)===g){if(O+=p-D,D<X){for(X-=D;Q[c++]=m[O++],--D;);O=c-I,W=Q}}else if(g<D){if(O+=p+g-D,(D-=g)<X){for(X-=D;Q[c++]=m[O++],--D;);if(O=0,g<X){for(X-=D=g;Q[c++]=m[O++],--D;);O=c-I,W=Q}}}else if(O+=g-D,D<X){for(X-=D;Q[c++]=m[O++],--D;);O=c-I,W=Q}for(;2<X;)Q[c++]=W[O++],Q[c++]=W[O++],Q[c++]=W[O++],X-=3;X&&(Q[c++]=W[O++],1<X&&(Q[c++]=W[O++]))}else{for(O=c-I;Q[c++]=Q[O++],Q[c++]=Q[O++],Q[c++]=Q[O++],2<(X-=3););X&&(Q[c++]=Q[O++],1<X&&(Q[c++]=Q[O++]))}break}}break}}while(s<a&&c<f);s-=X=y>>3,v&=(1<<(y-=X<<3))-1,o.next_in=s,o.next_out=c,o.avail_in=s<a?a-s+5:5-(s-a),o.avail_out=c<f?f-c+257:257-(c-f),l.hold=v,l.bits=y}},{}],49:[function(e,r,n){var o=e("../utils/common"),d=e("./adler32"),l=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),c=1,u=2,f=0,h=-2,p=1,A=852,g=592;function m(O){return(O>>>24&255)+(O>>>8&65280)+((65280&O)<<8)+((255&O)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new o.Buf16(320),this.work=new o.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(O){var W;return O&&O.state?(W=O.state,O.total_in=O.total_out=W.total=0,O.msg="",W.wrap&&(O.adler=1&W.wrap),W.mode=p,W.last=0,W.havedict=0,W.dmax=32768,W.head=null,W.hold=0,W.bits=0,W.lencode=W.lendyn=new o.Buf32(A),W.distcode=W.distdyn=new o.Buf32(g),W.sane=1,W.back=-1,f):h}function w(O){var W;return O&&O.state?((W=O.state).wsize=0,W.whave=0,W.wnext=0,y(O)):h}function x(O,W){var C,Q;return O&&O.state?(Q=O.state,W<0?(C=0,W=-W):(C=1+(W>>4),W<48&&(W&=15)),W&&(W<8||15<W)?h:(Q.window!==null&&Q.wbits!==W&&(Q.window=null),Q.wrap=C,Q.wbits=W,w(O))):h}function L(O,W){var C,Q;return O?(Q=new v,(O.state=Q).window=null,(C=x(O,W))!==f&&(O.state=null),C):h}var F,M,D=!0;function X(O){if(D){var W;for(F=new o.Buf32(512),M=new o.Buf32(32),W=0;W<144;)O.lens[W++]=8;for(;W<256;)O.lens[W++]=9;for(;W<280;)O.lens[W++]=7;for(;W<288;)O.lens[W++]=8;for(a(c,O.lens,0,288,F,0,O.work,{bits:9}),W=0;W<32;)O.lens[W++]=5;a(u,O.lens,0,32,M,0,O.work,{bits:5}),D=!1}O.lencode=F,O.lenbits=9,O.distcode=M,O.distbits=5}function I(O,W,C,Q){var lt,it=O.state;return it.window===null&&(it.wsize=1<<it.wbits,it.wnext=0,it.whave=0,it.window=new o.Buf8(it.wsize)),Q>=it.wsize?(o.arraySet(it.window,W,C-it.wsize,it.wsize,0),it.wnext=0,it.whave=it.wsize):(Q<(lt=it.wsize-it.wnext)&&(lt=Q),o.arraySet(it.window,W,C-Q,lt,it.wnext),(Q-=lt)?(o.arraySet(it.window,W,C-Q,Q,0),it.wnext=Q,it.whave=it.wsize):(it.wnext+=lt,it.wnext===it.wsize&&(it.wnext=0),it.whave<it.wsize&&(it.whave+=lt))),0}n.inflateReset=w,n.inflateReset2=x,n.inflateResetKeep=y,n.inflateInit=function(O){return L(O,15)},n.inflateInit2=L,n.inflate=function(O,W){var C,Q,lt,it,et,B,K,z,S,j,N,E,H,Z,ot,nt,dt,gt,Tt,pt,T,U,ct,V,G=0,tt=new o.Buf8(4),yt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!O||!O.state||!O.output||!O.input&&O.avail_in!==0)return h;(C=O.state).mode===12&&(C.mode=13),et=O.next_out,lt=O.output,K=O.avail_out,it=O.next_in,Q=O.input,B=O.avail_in,z=C.hold,S=C.bits,j=B,N=K,U=f;t:for(;;)switch(C.mode){case p:if(C.wrap===0){C.mode=13;break}for(;S<16;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(2&C.wrap&&z===35615){tt[C.check=0]=255&z,tt[1]=z>>>8&255,C.check=l(C.check,tt,2,0),S=z=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&z)<<8)+(z>>8))%31){O.msg="incorrect header check",C.mode=30;break}if((15&z)!=8){O.msg="unknown compression method",C.mode=30;break}if(S-=4,T=8+(15&(z>>>=4)),C.wbits===0)C.wbits=T;else if(T>C.wbits){O.msg="invalid window size",C.mode=30;break}C.dmax=1<<T,O.adler=C.check=1,C.mode=512&z?10:12,S=z=0;break;case 2:for(;S<16;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(C.flags=z,(255&C.flags)!=8){O.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){O.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=z>>8&1),512&C.flags&&(tt[0]=255&z,tt[1]=z>>>8&255,C.check=l(C.check,tt,2,0)),S=z=0,C.mode=3;case 3:for(;S<32;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}C.head&&(C.head.time=z),512&C.flags&&(tt[0]=255&z,tt[1]=z>>>8&255,tt[2]=z>>>16&255,tt[3]=z>>>24&255,C.check=l(C.check,tt,4,0)),S=z=0,C.mode=4;case 4:for(;S<16;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}C.head&&(C.head.xflags=255&z,C.head.os=z>>8),512&C.flags&&(tt[0]=255&z,tt[1]=z>>>8&255,C.check=l(C.check,tt,2,0)),S=z=0,C.mode=5;case 5:if(1024&C.flags){for(;S<16;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}C.length=z,C.head&&(C.head.extra_len=z),512&C.flags&&(tt[0]=255&z,tt[1]=z>>>8&255,C.check=l(C.check,tt,2,0)),S=z=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(B<(E=C.length)&&(E=B),E&&(C.head&&(T=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),o.arraySet(C.head.extra,Q,it,E,T)),512&C.flags&&(C.check=l(C.check,Q,E,it)),B-=E,it+=E,C.length-=E),C.length))break t;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(B===0)break t;for(E=0;T=Q[it+E++],C.head&&T&&C.length<65536&&(C.head.name+=String.fromCharCode(T)),T&&E<B;);if(512&C.flags&&(C.check=l(C.check,Q,E,it)),B-=E,it+=E,T)break t}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(B===0)break t;for(E=0;T=Q[it+E++],C.head&&T&&C.length<65536&&(C.head.comment+=String.fromCharCode(T)),T&&E<B;);if(512&C.flags&&(C.check=l(C.check,Q,E,it)),B-=E,it+=E,T)break t}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;S<16;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(z!==(65535&C.check)){O.msg="header crc mismatch",C.mode=30;break}S=z=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),O.adler=C.check=0,C.mode=12;break;case 10:for(;S<32;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}O.adler=C.check=m(z),S=z=0,C.mode=11;case 11:if(C.havedict===0)return O.next_out=et,O.avail_out=K,O.next_in=it,O.avail_in=B,C.hold=z,C.bits=S,2;O.adler=C.check=1,C.mode=12;case 12:if(W===5||W===6)break t;case 13:if(C.last){z>>>=7&S,S-=7&S,C.mode=27;break}for(;S<3;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}switch(C.last=1&z,S-=1,3&(z>>>=1)){case 0:C.mode=14;break;case 1:if(X(C),C.mode=20,W!==6)break;z>>>=2,S-=2;break t;case 2:C.mode=17;break;case 3:O.msg="invalid block type",C.mode=30}z>>>=2,S-=2;break;case 14:for(z>>>=7&S,S-=7&S;S<32;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if((65535&z)!=(z>>>16^65535)){O.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&z,S=z=0,C.mode=15,W===6)break t;case 15:C.mode=16;case 16:if(E=C.length){if(B<E&&(E=B),K<E&&(E=K),E===0)break t;o.arraySet(lt,Q,it,E,et),B-=E,it+=E,K-=E,et+=E,C.length-=E;break}C.mode=12;break;case 17:for(;S<14;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(C.nlen=257+(31&z),z>>>=5,S-=5,C.ndist=1+(31&z),z>>>=5,S-=5,C.ncode=4+(15&z),z>>>=4,S-=4,286<C.nlen||30<C.ndist){O.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;S<3;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}C.lens[yt[C.have++]]=7&z,z>>>=3,S-=3}for(;C.have<19;)C.lens[yt[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ct={bits:C.lenbits},U=a(0,C.lens,0,19,C.lencode,0,C.work,ct),C.lenbits=ct.bits,U){O.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;nt=(G=C.lencode[z&(1<<C.lenbits)-1])>>>16&255,dt=65535&G,!((ot=G>>>24)<=S);){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(dt<16)z>>>=ot,S-=ot,C.lens[C.have++]=dt;else{if(dt===16){for(V=ot+2;S<V;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(z>>>=ot,S-=ot,C.have===0){O.msg="invalid bit length repeat",C.mode=30;break}T=C.lens[C.have-1],E=3+(3&z),z>>>=2,S-=2}else if(dt===17){for(V=ot+3;S<V;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}S-=ot,T=0,E=3+(7&(z>>>=ot)),z>>>=3,S-=3}else{for(V=ot+7;S<V;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}S-=ot,T=0,E=11+(127&(z>>>=ot)),z>>>=7,S-=7}if(C.have+E>C.nlen+C.ndist){O.msg="invalid bit length repeat",C.mode=30;break}for(;E--;)C.lens[C.have++]=T}}if(C.mode===30)break;if(C.lens[256]===0){O.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ct={bits:C.lenbits},U=a(c,C.lens,0,C.nlen,C.lencode,0,C.work,ct),C.lenbits=ct.bits,U){O.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ct={bits:C.distbits},U=a(u,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ct),C.distbits=ct.bits,U){O.msg="invalid distances set",C.mode=30;break}if(C.mode=20,W===6)break t;case 20:C.mode=21;case 21:if(6<=B&&258<=K){O.next_out=et,O.avail_out=K,O.next_in=it,O.avail_in=B,C.hold=z,C.bits=S,s(O,N),et=O.next_out,lt=O.output,K=O.avail_out,it=O.next_in,Q=O.input,B=O.avail_in,z=C.hold,S=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;nt=(G=C.lencode[z&(1<<C.lenbits)-1])>>>16&255,dt=65535&G,!((ot=G>>>24)<=S);){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(nt&&!(240&nt)){for(gt=ot,Tt=nt,pt=dt;nt=(G=C.lencode[pt+((z&(1<<gt+Tt)-1)>>gt)])>>>16&255,dt=65535&G,!(gt+(ot=G>>>24)<=S);){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}z>>>=gt,S-=gt,C.back+=gt}if(z>>>=ot,S-=ot,C.back+=ot,C.length=dt,nt===0){C.mode=26;break}if(32&nt){C.back=-1,C.mode=12;break}if(64&nt){O.msg="invalid literal/length code",C.mode=30;break}C.extra=15&nt,C.mode=22;case 22:if(C.extra){for(V=C.extra;S<V;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}C.length+=z&(1<<C.extra)-1,z>>>=C.extra,S-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;nt=(G=C.distcode[z&(1<<C.distbits)-1])>>>16&255,dt=65535&G,!((ot=G>>>24)<=S);){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(!(240&nt)){for(gt=ot,Tt=nt,pt=dt;nt=(G=C.distcode[pt+((z&(1<<gt+Tt)-1)>>gt)])>>>16&255,dt=65535&G,!(gt+(ot=G>>>24)<=S);){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}z>>>=gt,S-=gt,C.back+=gt}if(z>>>=ot,S-=ot,C.back+=ot,64&nt){O.msg="invalid distance code",C.mode=30;break}C.offset=dt,C.extra=15&nt,C.mode=24;case 24:if(C.extra){for(V=C.extra;S<V;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}C.offset+=z&(1<<C.extra)-1,z>>>=C.extra,S-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){O.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(K===0)break t;if(E=N-K,C.offset>E){if((E=C.offset-E)>C.whave&&C.sane){O.msg="invalid distance too far back",C.mode=30;break}H=E>C.wnext?(E-=C.wnext,C.wsize-E):C.wnext-E,E>C.length&&(E=C.length),Z=C.window}else Z=lt,H=et-C.offset,E=C.length;for(K<E&&(E=K),K-=E,C.length-=E;lt[et++]=Z[H++],--E;);C.length===0&&(C.mode=21);break;case 26:if(K===0)break t;lt[et++]=C.length,K--,C.mode=21;break;case 27:if(C.wrap){for(;S<32;){if(B===0)break t;B--,z|=Q[it++]<<S,S+=8}if(N-=K,O.total_out+=N,C.total+=N,N&&(O.adler=C.check=C.flags?l(C.check,lt,N,et-N):d(C.check,lt,N,et-N)),N=K,(C.flags?z:m(z))!==C.check){O.msg="incorrect data check",C.mode=30;break}S=z=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;S<32;){if(B===0)break t;B--,z+=Q[it++]<<S,S+=8}if(z!==(4294967295&C.total)){O.msg="incorrect length check",C.mode=30;break}S=z=0}C.mode=29;case 29:U=1;break t;case 30:U=-3;break t;case 31:return-4;case 32:default:return h}return O.next_out=et,O.avail_out=K,O.next_in=it,O.avail_in=B,C.hold=z,C.bits=S,(C.wsize||N!==O.avail_out&&C.mode<30&&(C.mode<27||W!==4))&&I(O,O.output,O.next_out,N-O.avail_out)?(C.mode=31,-4):(j-=O.avail_in,N-=O.avail_out,O.total_in+=j,O.total_out+=N,C.total+=N,C.wrap&&N&&(O.adler=C.check=C.flags?l(C.check,lt,N,O.next_out-N):d(C.check,lt,N,O.next_out-N)),O.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(j==0&&N===0||W===4)&&U===f&&(U=-5),U)},n.inflateEnd=function(O){if(!O||!O.state)return h;var W=O.state;return W.window&&(W.window=null),O.state=null,f},n.inflateGetHeader=function(O,W){var C;return O&&O.state&&2&(C=O.state).wrap?((C.head=W).done=!1,f):h},n.inflateSetDictionary=function(O,W){var C,Q=W.length;return O&&O.state?(C=O.state).wrap!==0&&C.mode!==11?h:C.mode===11&&d(1,W,Q,0)!==C.check?-3:I(O,W,Q,Q)?(C.mode=31,-4):(C.havedict=1,f):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,r,n){var o=e("../utils/common"),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,u,f,h,p,A,g,m){var v,y,w,x,L,F,M,D,X,I=m.bits,O=0,W=0,C=0,Q=0,lt=0,it=0,et=0,B=0,K=0,z=0,S=null,j=0,N=new o.Buf16(16),E=new o.Buf16(16),H=null,Z=0;for(O=0;O<=15;O++)N[O]=0;for(W=0;W<h;W++)N[u[f+W]]++;for(lt=I,Q=15;1<=Q&&N[Q]===0;Q--);if(Q<lt&&(lt=Q),Q===0)return p[A++]=20971520,p[A++]=20971520,m.bits=1,0;for(C=1;C<Q&&N[C]===0;C++);for(lt<C&&(lt=C),O=B=1;O<=15;O++)if(B<<=1,(B-=N[O])<0)return-1;if(0<B&&(c===0||Q!==1))return-1;for(E[1]=0,O=1;O<15;O++)E[O+1]=E[O]+N[O];for(W=0;W<h;W++)u[f+W]!==0&&(g[E[u[f+W]]++]=W);if(F=c===0?(S=H=g,19):c===1?(S=d,j-=257,H=l,Z-=257,256):(S=s,H=a,-1),O=C,L=A,et=W=z=0,w=-1,x=(K=1<<(it=lt))-1,c===1&&852<K||c===2&&592<K)return 1;for(;;){for(M=O-et,X=g[W]<F?(D=0,g[W]):g[W]>F?(D=H[Z+g[W]],S[j+g[W]]):(D=96,0),v=1<<O-et,C=y=1<<it;p[L+(z>>et)+(y-=v)]=M<<24|D<<16|X|0,y!==0;);for(v=1<<O-1;z&v;)v>>=1;if(v!==0?(z&=v-1,z+=v):z=0,W++,--N[O]==0){if(O===Q)break;O=u[f+g[W]]}if(lt<O&&(z&x)!==w){for(et===0&&(et=lt),L+=C,B=1<<(it=O-et);it+et<Q&&!((B-=N[it+et])<=0);)it++,B<<=1;if(K+=1<<it,c===1&&852<K||c===2&&592<K)return 1;p[w=z&x]=lt<<24|it<<16|L-A|0}}return z!==0&&(p[L+z]=O-et<<24|64<<16|0),m.bits=lt,0}},{"../utils/common":41}],51:[function(e,r,n){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,r,n){var o=e("../utils/common"),d=0,l=1;function s(G){for(var tt=G.length;0<=--tt;)G[tt]=0}var a=0,c=29,u=256,f=u+1+c,h=30,p=19,A=2*f+1,g=15,m=16,v=7,y=256,w=16,x=17,L=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(f+2));s(I);var O=new Array(2*h);s(O);var W=new Array(512);s(W);var C=new Array(256);s(C);var Q=new Array(c);s(Q);var lt,it,et,B=new Array(h);function K(G,tt,yt,At,st){this.static_tree=G,this.extra_bits=tt,this.extra_base=yt,this.elems=At,this.max_length=st,this.has_stree=G&&G.length}function z(G,tt){this.dyn_tree=G,this.max_code=0,this.stat_desc=tt}function S(G){return G<256?W[G]:W[256+(G>>>7)]}function j(G,tt){G.pending_buf[G.pending++]=255&tt,G.pending_buf[G.pending++]=tt>>>8&255}function N(G,tt,yt){G.bi_valid>m-yt?(G.bi_buf|=tt<<G.bi_valid&65535,j(G,G.bi_buf),G.bi_buf=tt>>m-G.bi_valid,G.bi_valid+=yt-m):(G.bi_buf|=tt<<G.bi_valid&65535,G.bi_valid+=yt)}function E(G,tt,yt){N(G,yt[2*tt],yt[2*tt+1])}function H(G,tt){for(var yt=0;yt|=1&G,G>>>=1,yt<<=1,0<--tt;);return yt>>>1}function Z(G,tt,yt){var At,st,_t=new Array(g+1),Dt=0;for(At=1;At<=g;At++)_t[At]=Dt=Dt+yt[At-1]<<1;for(st=0;st<=tt;st++){var kt=G[2*st+1];kt!==0&&(G[2*st]=H(_t[kt]++,kt))}}function ot(G){var tt;for(tt=0;tt<f;tt++)G.dyn_ltree[2*tt]=0;for(tt=0;tt<h;tt++)G.dyn_dtree[2*tt]=0;for(tt=0;tt<p;tt++)G.bl_tree[2*tt]=0;G.dyn_ltree[2*y]=1,G.opt_len=G.static_len=0,G.last_lit=G.matches=0}function nt(G){8<G.bi_valid?j(G,G.bi_buf):0<G.bi_valid&&(G.pending_buf[G.pending++]=G.bi_buf),G.bi_buf=0,G.bi_valid=0}function dt(G,tt,yt,At){var st=2*tt,_t=2*yt;return G[st]<G[_t]||G[st]===G[_t]&&At[tt]<=At[yt]}function gt(G,tt,yt){for(var At=G.heap[yt],st=yt<<1;st<=G.heap_len&&(st<G.heap_len&&dt(tt,G.heap[st+1],G.heap[st],G.depth)&&st++,!dt(tt,At,G.heap[st],G.depth));)G.heap[yt]=G.heap[st],yt=st,st<<=1;G.heap[yt]=At}function Tt(G,tt,yt){var At,st,_t,Dt,kt=0;if(G.last_lit!==0)for(;At=G.pending_buf[G.d_buf+2*kt]<<8|G.pending_buf[G.d_buf+2*kt+1],st=G.pending_buf[G.l_buf+kt],kt++,At===0?E(G,st,tt):(E(G,(_t=C[st])+u+1,tt),(Dt=F[_t])!==0&&N(G,st-=Q[_t],Dt),E(G,_t=S(--At),yt),(Dt=M[_t])!==0&&N(G,At-=B[_t],Dt)),kt<G.last_lit;);E(G,y,tt)}function pt(G,tt){var yt,At,st,_t=tt.dyn_tree,Dt=tt.stat_desc.static_tree,kt=tt.stat_desc.has_stree,Nt=tt.stat_desc.elems,Xt=-1;for(G.heap_len=0,G.heap_max=A,yt=0;yt<Nt;yt++)_t[2*yt]!==0?(G.heap[++G.heap_len]=Xt=yt,G.depth[yt]=0):_t[2*yt+1]=0;for(;G.heap_len<2;)_t[2*(st=G.heap[++G.heap_len]=Xt<2?++Xt:0)]=1,G.depth[st]=0,G.opt_len--,kt&&(G.static_len-=Dt[2*st+1]);for(tt.max_code=Xt,yt=G.heap_len>>1;1<=yt;yt--)gt(G,_t,yt);for(st=Nt;yt=G.heap[1],G.heap[1]=G.heap[G.heap_len--],gt(G,_t,1),At=G.heap[1],G.heap[--G.heap_max]=yt,G.heap[--G.heap_max]=At,_t[2*st]=_t[2*yt]+_t[2*At],G.depth[st]=(G.depth[yt]>=G.depth[At]?G.depth[yt]:G.depth[At])+1,_t[2*yt+1]=_t[2*At+1]=st,G.heap[1]=st++,gt(G,_t,1),2<=G.heap_len;);G.heap[--G.heap_max]=G.heap[1],function(Ut,Wt){var Jt,Ht,ve,ne,Yt,ce,Se=Wt.dyn_tree,se=Wt.max_code,ke=Wt.stat_desc.static_tree,pe=Wt.stat_desc.has_stree,ni=Wt.stat_desc.extra_bits,li=Wt.stat_desc.extra_base,Me=Wt.stat_desc.max_length,oe=0;for(ne=0;ne<=g;ne++)Ut.bl_count[ne]=0;for(Se[2*Ut.heap[Ut.heap_max]+1]=0,Jt=Ut.heap_max+1;Jt<A;Jt++)Me<(ne=Se[2*Se[2*(Ht=Ut.heap[Jt])+1]+1]+1)&&(ne=Me,oe++),Se[2*Ht+1]=ne,se<Ht||(Ut.bl_count[ne]++,Yt=0,li<=Ht&&(Yt=ni[Ht-li]),ce=Se[2*Ht],Ut.opt_len+=ce*(ne+Yt),pe&&(Ut.static_len+=ce*(ke[2*Ht+1]+Yt)));if(oe!==0){do{for(ne=Me-1;Ut.bl_count[ne]===0;)ne--;Ut.bl_count[ne]--,Ut.bl_count[ne+1]+=2,Ut.bl_count[Me]--,oe-=2}while(0<oe);for(ne=Me;ne!==0;ne--)for(Ht=Ut.bl_count[ne];Ht!==0;)se<(ve=Ut.heap[--Jt])||(Se[2*ve+1]!==ne&&(Ut.opt_len+=(ne-Se[2*ve+1])*Se[2*ve],Se[2*ve+1]=ne),Ht--)}}(G,tt),Z(_t,Xt,G.bl_count)}function T(G,tt,yt){var At,st,_t=-1,Dt=tt[1],kt=0,Nt=7,Xt=4;for(Dt===0&&(Nt=138,Xt=3),tt[2*(yt+1)+1]=65535,At=0;At<=yt;At++)st=Dt,Dt=tt[2*(At+1)+1],++kt<Nt&&st===Dt||(kt<Xt?G.bl_tree[2*st]+=kt:st!==0?(st!==_t&&G.bl_tree[2*st]++,G.bl_tree[2*w]++):kt<=10?G.bl_tree[2*x]++:G.bl_tree[2*L]++,_t=st,Xt=(kt=0)===Dt?(Nt=138,3):st===Dt?(Nt=6,3):(Nt=7,4))}function U(G,tt,yt){var At,st,_t=-1,Dt=tt[1],kt=0,Nt=7,Xt=4;for(Dt===0&&(Nt=138,Xt=3),At=0;At<=yt;At++)if(st=Dt,Dt=tt[2*(At+1)+1],!(++kt<Nt&&st===Dt)){if(kt<Xt)for(;E(G,st,G.bl_tree),--kt!=0;);else st!==0?(st!==_t&&(E(G,st,G.bl_tree),kt--),E(G,w,G.bl_tree),N(G,kt-3,2)):kt<=10?(E(G,x,G.bl_tree),N(G,kt-3,3)):(E(G,L,G.bl_tree),N(G,kt-11,7));_t=st,Xt=(kt=0)===Dt?(Nt=138,3):st===Dt?(Nt=6,3):(Nt=7,4)}}s(B);var ct=!1;function V(G,tt,yt,At){N(G,(a<<1)+(At?1:0),3),function(st,_t,Dt,kt){nt(st),kt&&(j(st,Dt),j(st,~Dt)),o.arraySet(st.pending_buf,st.window,_t,Dt,st.pending),st.pending+=Dt}(G,tt,yt,!0)}n._tr_init=function(G){ct||(function(){var tt,yt,At,st,_t,Dt=new Array(g+1);for(st=At=0;st<c-1;st++)for(Q[st]=At,tt=0;tt<1<<F[st];tt++)C[At++]=st;for(C[At-1]=st,st=_t=0;st<16;st++)for(B[st]=_t,tt=0;tt<1<<M[st];tt++)W[_t++]=st;for(_t>>=7;st<h;st++)for(B[st]=_t<<7,tt=0;tt<1<<M[st]-7;tt++)W[256+_t++]=st;for(yt=0;yt<=g;yt++)Dt[yt]=0;for(tt=0;tt<=143;)I[2*tt+1]=8,tt++,Dt[8]++;for(;tt<=255;)I[2*tt+1]=9,tt++,Dt[9]++;for(;tt<=279;)I[2*tt+1]=7,tt++,Dt[7]++;for(;tt<=287;)I[2*tt+1]=8,tt++,Dt[8]++;for(Z(I,f+1,Dt),tt=0;tt<h;tt++)O[2*tt+1]=5,O[2*tt]=H(tt,5);lt=new K(I,F,u+1,f,g),it=new K(O,M,0,h,g),et=new K(new Array(0),D,0,p,v)}(),ct=!0),G.l_desc=new z(G.dyn_ltree,lt),G.d_desc=new z(G.dyn_dtree,it),G.bl_desc=new z(G.bl_tree,et),G.bi_buf=0,G.bi_valid=0,ot(G)},n._tr_stored_block=V,n._tr_flush_block=function(G,tt,yt,At){var st,_t,Dt=0;0<G.level?(G.strm.data_type===2&&(G.strm.data_type=function(kt){var Nt,Xt=4093624447;for(Nt=0;Nt<=31;Nt++,Xt>>>=1)if(1&Xt&&kt.dyn_ltree[2*Nt]!==0)return d;if(kt.dyn_ltree[18]!==0||kt.dyn_ltree[20]!==0||kt.dyn_ltree[26]!==0)return l;for(Nt=32;Nt<u;Nt++)if(kt.dyn_ltree[2*Nt]!==0)return l;return d}(G)),pt(G,G.l_desc),pt(G,G.d_desc),Dt=function(kt){var Nt;for(T(kt,kt.dyn_ltree,kt.l_desc.max_code),T(kt,kt.dyn_dtree,kt.d_desc.max_code),pt(kt,kt.bl_desc),Nt=p-1;3<=Nt&&kt.bl_tree[2*X[Nt]+1]===0;Nt--);return kt.opt_len+=3*(Nt+1)+5+5+4,Nt}(G),st=G.opt_len+3+7>>>3,(_t=G.static_len+3+7>>>3)<=st&&(st=_t)):st=_t=yt+5,yt+4<=st&&tt!==-1?V(G,tt,yt,At):G.strategy===4||_t===st?(N(G,2+(At?1:0),3),Tt(G,I,O)):(N(G,4+(At?1:0),3),function(kt,Nt,Xt,Ut){var Wt;for(N(kt,Nt-257,5),N(kt,Xt-1,5),N(kt,Ut-4,4),Wt=0;Wt<Ut;Wt++)N(kt,kt.bl_tree[2*X[Wt]+1],3);U(kt,kt.dyn_ltree,Nt-1),U(kt,kt.dyn_dtree,Xt-1)}(G,G.l_desc.max_code+1,G.d_desc.max_code+1,Dt+1),Tt(G,G.dyn_ltree,G.dyn_dtree)),ot(G),At&&nt(G)},n._tr_tally=function(G,tt,yt){return G.pending_buf[G.d_buf+2*G.last_lit]=tt>>>8&255,G.pending_buf[G.d_buf+2*G.last_lit+1]=255&tt,G.pending_buf[G.l_buf+G.last_lit]=255&yt,G.last_lit++,tt===0?G.dyn_ltree[2*yt]++:(G.matches++,tt--,G.dyn_ltree[2*(C[yt]+u+1)]++,G.dyn_dtree[2*S(tt)]++),G.last_lit===G.lit_bufsize-1},n._tr_align=function(G){N(G,2,3),E(G,y,I),function(tt){tt.bi_valid===16?(j(tt,tt.bi_buf),tt.bi_buf=0,tt.bi_valid=0):8<=tt.bi_valid&&(tt.pending_buf[tt.pending++]=255&tt.bi_buf,tt.bi_buf>>=8,tt.bi_valid-=8)}(G)}},{"../utils/common":41}],53:[function(e,r,n){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,r,n){(function(o){(function(d,l){if(!d.setImmediate){var s,a,c,u,f=1,h={},p=!1,A=d.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(d);g=g&&g.setTimeout?g:d,s={}.toString.call(d.process)==="[object process]"?function(w){process.nextTick(function(){v(w)})}:function(){if(d.postMessage&&!d.importScripts){var w=!0,x=d.onmessage;return d.onmessage=function(){w=!1},d.postMessage("","*"),d.onmessage=x,w}}()?(u="setImmediate$"+Math.random()+"$",d.addEventListener?d.addEventListener("message",y,!1):d.attachEvent("onmessage",y),function(w){d.postMessage(u+w,"*")}):d.MessageChannel?((c=new MessageChannel).port1.onmessage=function(w){v(w.data)},function(w){c.port2.postMessage(w)}):A&&"onreadystatechange"in A.createElement("script")?(a=A.documentElement,function(w){var x=A.createElement("script");x.onreadystatechange=function(){v(w),x.onreadystatechange=null,a.removeChild(x),x=null},a.appendChild(x)}):function(w){setTimeout(v,0,w)},g.setImmediate=function(w){typeof w!="function"&&(w=new Function(""+w));for(var x=new Array(arguments.length-1),L=0;L<x.length;L++)x[L]=arguments[L+1];var F={callback:w,args:x};return h[f]=F,s(f),f++},g.clearImmediate=m}function m(w){delete h[w]}function v(w){if(p)setTimeout(v,0,w);else{var x=h[w];if(x){p=!0;try{(function(L){var F=L.callback,M=L.args;switch(M.length){case 0:F();break;case 1:F(M[0]);break;case 2:F(M[0],M[1]);break;case 3:F(M[0],M[1],M[2]);break;default:F.apply(l,M)}})(x)}finally{m(w),p=!1}}}}function y(w){w.source===d&&typeof w.data=="string"&&w.data.indexOf(u)===0&&v(+w.data.slice(u.length))}})(typeof self>"u"?o===void 0?this:o:self)}).call(this,typeof yh<"u"?yh:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(y2);var iS=y2.exports;const b2=Pm(iS);function zr(i,t,e,r){function n(o){return o instanceof e?o:new e(function(d){d(o)})}return new(e||(e=Promise))(function(o,d){function l(c){try{a(r.next(c))}catch(u){d(u)}}function s(c){try{a(r.throw(c))}catch(u){d(u)}}function a(c){c.done?o(c.value):n(c.value).then(l,s)}a((r=r.apply(i,t||[])).next())})}const Ze=914400,Ic=12700,Ui=`\r
`,rS=2147483649,Pd=/^[0-9a-fA-F]{6}$/,nS=1.67,sS=27,Eo={type:"solid",color:"666666",pt:1},w2=[.05,.1,.05,.1],Mo={color:"363636",pt:1},Ka={color:"888888",style:"solid",size:1,cap:"flat"},Ur="000000",on=12,aS=18,Fo="LAYOUT_16x9",yp="DEFAULT",_2="333333",Fa={type:"outer",blur:3,offset:23e3/12700,angle:90,color:"000000",opacity:.35,rotateWithShape:!0},Lc=[.5,.5,.5,.5],vm={color:"000000"},oS={size:8,color:"FFFFFF",opacity:.75},ds="2094734552",fu="2094734553",rc="2094734554",bp="2094734555",x2="2094734556",Ql="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),nc=["C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360","C0504D","4F81BD","9BBB59","8064A2","4BACC6","F79646","628FC6","C86360"],lS=["5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7","5DA5DA","FAA43A","60BD68","F17CB0","B2912F","B276B2","DECF3F","F15854","A7A7A7"];var Xo;(function(i){i.left="left",i.center="center",i.right="right",i.justify="justify"})(Xo||(Xo={}));var Go;(function(i){i.b="b",i.ctr="ctr",i.t="t"})(Go||(Go={}));const C2="{F7021451-1387-4CA6-816F-3879F97B5CBC}";var wp;(function(i){i.arraybuffer="arraybuffer",i.base64="base64",i.binarystring="binarystring",i.blob="blob",i.nodebuffer="nodebuffer",i.uint8array="uint8array"})(wp||(wp={}));var _p;(function(i){i.area="area",i.bar="bar",i.bar3d="bar3D",i.bubble="bubble",i.bubble3d="bubble3D",i.doughnut="doughnut",i.line="line",i.pie="pie",i.radar="radar",i.scatter="scatter"})(_p||(_p={}));var xp;(function(i){i.accentBorderCallout1="accentBorderCallout1",i.accentBorderCallout2="accentBorderCallout2",i.accentBorderCallout3="accentBorderCallout3",i.accentCallout1="accentCallout1",i.accentCallout2="accentCallout2",i.accentCallout3="accentCallout3",i.actionButtonBackPrevious="actionButtonBackPrevious",i.actionButtonBeginning="actionButtonBeginning",i.actionButtonBlank="actionButtonBlank",i.actionButtonDocument="actionButtonDocument",i.actionButtonEnd="actionButtonEnd",i.actionButtonForwardNext="actionButtonForwardNext",i.actionButtonHelp="actionButtonHelp",i.actionButtonHome="actionButtonHome",i.actionButtonInformation="actionButtonInformation",i.actionButtonMovie="actionButtonMovie",i.actionButtonReturn="actionButtonReturn",i.actionButtonSound="actionButtonSound",i.arc="arc",i.bentArrow="bentArrow",i.bentUpArrow="bentUpArrow",i.bevel="bevel",i.blockArc="blockArc",i.borderCallout1="borderCallout1",i.borderCallout2="borderCallout2",i.borderCallout3="borderCallout3",i.bracePair="bracePair",i.bracketPair="bracketPair",i.callout1="callout1",i.callout2="callout2",i.callout3="callout3",i.can="can",i.chartPlus="chartPlus",i.chartStar="chartStar",i.chartX="chartX",i.chevron="chevron",i.chord="chord",i.circularArrow="circularArrow",i.cloud="cloud",i.cloudCallout="cloudCallout",i.corner="corner",i.cornerTabs="cornerTabs",i.cube="cube",i.curvedDownArrow="curvedDownArrow",i.curvedLeftArrow="curvedLeftArrow",i.curvedRightArrow="curvedRightArrow",i.curvedUpArrow="curvedUpArrow",i.custGeom="custGeom",i.decagon="decagon",i.diagStripe="diagStripe",i.diamond="diamond",i.dodecagon="dodecagon",i.donut="donut",i.doubleWave="doubleWave",i.downArrow="downArrow",i.downArrowCallout="downArrowCallout",i.ellipse="ellipse",i.ellipseRibbon="ellipseRibbon",i.ellipseRibbon2="ellipseRibbon2",i.flowChartAlternateProcess="flowChartAlternateProcess",i.flowChartCollate="flowChartCollate",i.flowChartConnector="flowChartConnector",i.flowChartDecision="flowChartDecision",i.flowChartDelay="flowChartDelay",i.flowChartDisplay="flowChartDisplay",i.flowChartDocument="flowChartDocument",i.flowChartExtract="flowChartExtract",i.flowChartInputOutput="flowChartInputOutput",i.flowChartInternalStorage="flowChartInternalStorage",i.flowChartMagneticDisk="flowChartMagneticDisk",i.flowChartMagneticDrum="flowChartMagneticDrum",i.flowChartMagneticTape="flowChartMagneticTape",i.flowChartManualInput="flowChartManualInput",i.flowChartManualOperation="flowChartManualOperation",i.flowChartMerge="flowChartMerge",i.flowChartMultidocument="flowChartMultidocument",i.flowChartOfflineStorage="flowChartOfflineStorage",i.flowChartOffpageConnector="flowChartOffpageConnector",i.flowChartOnlineStorage="flowChartOnlineStorage",i.flowChartOr="flowChartOr",i.flowChartPredefinedProcess="flowChartPredefinedProcess",i.flowChartPreparation="flowChartPreparation",i.flowChartProcess="flowChartProcess",i.flowChartPunchedCard="flowChartPunchedCard",i.flowChartPunchedTape="flowChartPunchedTape",i.flowChartSort="flowChartSort",i.flowChartSummingJunction="flowChartSummingJunction",i.flowChartTerminator="flowChartTerminator",i.folderCorner="folderCorner",i.frame="frame",i.funnel="funnel",i.gear6="gear6",i.gear9="gear9",i.halfFrame="halfFrame",i.heart="heart",i.heptagon="heptagon",i.hexagon="hexagon",i.homePlate="homePlate",i.horizontalScroll="horizontalScroll",i.irregularSeal1="irregularSeal1",i.irregularSeal2="irregularSeal2",i.leftArrow="leftArrow",i.leftArrowCallout="leftArrowCallout",i.leftBrace="leftBrace",i.leftBracket="leftBracket",i.leftCircularArrow="leftCircularArrow",i.leftRightArrow="leftRightArrow",i.leftRightArrowCallout="leftRightArrowCallout",i.leftRightCircularArrow="leftRightCircularArrow",i.leftRightRibbon="leftRightRibbon",i.leftRightUpArrow="leftRightUpArrow",i.leftUpArrow="leftUpArrow",i.lightningBolt="lightningBolt",i.line="line",i.lineInv="lineInv",i.mathDivide="mathDivide",i.mathEqual="mathEqual",i.mathMinus="mathMinus",i.mathMultiply="mathMultiply",i.mathNotEqual="mathNotEqual",i.mathPlus="mathPlus",i.moon="moon",i.noSmoking="noSmoking",i.nonIsoscelesTrapezoid="nonIsoscelesTrapezoid",i.notchedRightArrow="notchedRightArrow",i.octagon="octagon",i.parallelogram="parallelogram",i.pentagon="pentagon",i.pie="pie",i.pieWedge="pieWedge",i.plaque="plaque",i.plaqueTabs="plaqueTabs",i.plus="plus",i.quadArrow="quadArrow",i.quadArrowCallout="quadArrowCallout",i.rect="rect",i.ribbon="ribbon",i.ribbon2="ribbon2",i.rightArrow="rightArrow",i.rightArrowCallout="rightArrowCallout",i.rightBrace="rightBrace",i.rightBracket="rightBracket",i.round1Rect="round1Rect",i.round2DiagRect="round2DiagRect",i.round2SameRect="round2SameRect",i.roundRect="roundRect",i.rtTriangle="rtTriangle",i.smileyFace="smileyFace",i.snip1Rect="snip1Rect",i.snip2DiagRect="snip2DiagRect",i.snip2SameRect="snip2SameRect",i.snipRoundRect="snipRoundRect",i.squareTabs="squareTabs",i.star10="star10",i.star12="star12",i.star16="star16",i.star24="star24",i.star32="star32",i.star4="star4",i.star5="star5",i.star6="star6",i.star7="star7",i.star8="star8",i.stripedRightArrow="stripedRightArrow",i.sun="sun",i.swooshArrow="swooshArrow",i.teardrop="teardrop",i.trapezoid="trapezoid",i.triangle="triangle",i.upArrow="upArrow",i.upArrowCallout="upArrowCallout",i.upDownArrow="upDownArrow",i.upDownArrowCallout="upDownArrowCallout",i.uturnArrow="uturnArrow",i.verticalScroll="verticalScroll",i.wave="wave",i.wedgeEllipseCallout="wedgeEllipseCallout",i.wedgeRectCallout="wedgeRectCallout",i.wedgeRoundRectCallout="wedgeRoundRectCallout"})(xp||(xp={}));var Rr;(function(i){i.text1="tx1",i.text2="tx2",i.background1="bg1",i.background2="bg2",i.accent1="accent1",i.accent2="accent2",i.accent3="accent3",i.accent4="accent4",i.accent5="accent5",i.accent6="accent6"})(Rr||(Rr={}));var Cp;(function(i){i.left="left",i.center="center",i.right="right",i.justify="justify"})(Cp||(Cp={}));var Sp;(function(i){i.top="top",i.middle="middle",i.bottom="bottom"})(Sp||(Sp={}));var oa;(function(i){i.ACTION_BUTTON_BACK_OR_PREVIOUS="actionButtonBackPrevious",i.ACTION_BUTTON_BEGINNING="actionButtonBeginning",i.ACTION_BUTTON_CUSTOM="actionButtonBlank",i.ACTION_BUTTON_DOCUMENT="actionButtonDocument",i.ACTION_BUTTON_END="actionButtonEnd",i.ACTION_BUTTON_FORWARD_OR_NEXT="actionButtonForwardNext",i.ACTION_BUTTON_HELP="actionButtonHelp",i.ACTION_BUTTON_HOME="actionButtonHome",i.ACTION_BUTTON_INFORMATION="actionButtonInformation",i.ACTION_BUTTON_MOVIE="actionButtonMovie",i.ACTION_BUTTON_RETURN="actionButtonReturn",i.ACTION_BUTTON_SOUND="actionButtonSound",i.ARC="arc",i.BALLOON="wedgeRoundRectCallout",i.BENT_ARROW="bentArrow",i.BENT_UP_ARROW="bentUpArrow",i.BEVEL="bevel",i.BLOCK_ARC="blockArc",i.CAN="can",i.CHART_PLUS="chartPlus",i.CHART_STAR="chartStar",i.CHART_X="chartX",i.CHEVRON="chevron",i.CHORD="chord",i.CIRCULAR_ARROW="circularArrow",i.CLOUD="cloud",i.CLOUD_CALLOUT="cloudCallout",i.CORNER="corner",i.CORNER_TABS="cornerTabs",i.CROSS="plus",i.CUBE="cube",i.CURVED_DOWN_ARROW="curvedDownArrow",i.CURVED_DOWN_RIBBON="ellipseRibbon",i.CURVED_LEFT_ARROW="curvedLeftArrow",i.CURVED_RIGHT_ARROW="curvedRightArrow",i.CURVED_UP_ARROW="curvedUpArrow",i.CURVED_UP_RIBBON="ellipseRibbon2",i.CUSTOM_GEOMETRY="custGeom",i.DECAGON="decagon",i.DIAGONAL_STRIPE="diagStripe",i.DIAMOND="diamond",i.DODECAGON="dodecagon",i.DONUT="donut",i.DOUBLE_BRACE="bracePair",i.DOUBLE_BRACKET="bracketPair",i.DOUBLE_WAVE="doubleWave",i.DOWN_ARROW="downArrow",i.DOWN_ARROW_CALLOUT="downArrowCallout",i.DOWN_RIBBON="ribbon",i.EXPLOSION1="irregularSeal1",i.EXPLOSION2="irregularSeal2",i.FLOWCHART_ALTERNATE_PROCESS="flowChartAlternateProcess",i.FLOWCHART_CARD="flowChartPunchedCard",i.FLOWCHART_COLLATE="flowChartCollate",i.FLOWCHART_CONNECTOR="flowChartConnector",i.FLOWCHART_DATA="flowChartInputOutput",i.FLOWCHART_DECISION="flowChartDecision",i.FLOWCHART_DELAY="flowChartDelay",i.FLOWCHART_DIRECT_ACCESS_STORAGE="flowChartMagneticDrum",i.FLOWCHART_DISPLAY="flowChartDisplay",i.FLOWCHART_DOCUMENT="flowChartDocument",i.FLOWCHART_EXTRACT="flowChartExtract",i.FLOWCHART_INTERNAL_STORAGE="flowChartInternalStorage",i.FLOWCHART_MAGNETIC_DISK="flowChartMagneticDisk",i.FLOWCHART_MANUAL_INPUT="flowChartManualInput",i.FLOWCHART_MANUAL_OPERATION="flowChartManualOperation",i.FLOWCHART_MERGE="flowChartMerge",i.FLOWCHART_MULTIDOCUMENT="flowChartMultidocument",i.FLOWCHART_OFFLINE_STORAGE="flowChartOfflineStorage",i.FLOWCHART_OFFPAGE_CONNECTOR="flowChartOffpageConnector",i.FLOWCHART_OR="flowChartOr",i.FLOWCHART_PREDEFINED_PROCESS="flowChartPredefinedProcess",i.FLOWCHART_PREPARATION="flowChartPreparation",i.FLOWCHART_PROCESS="flowChartProcess",i.FLOWCHART_PUNCHED_TAPE="flowChartPunchedTape",i.FLOWCHART_SEQUENTIAL_ACCESS_STORAGE="flowChartMagneticTape",i.FLOWCHART_SORT="flowChartSort",i.FLOWCHART_STORED_DATA="flowChartOnlineStorage",i.FLOWCHART_SUMMING_JUNCTION="flowChartSummingJunction",i.FLOWCHART_TERMINATOR="flowChartTerminator",i.FOLDED_CORNER="folderCorner",i.FRAME="frame",i.FUNNEL="funnel",i.GEAR_6="gear6",i.GEAR_9="gear9",i.HALF_FRAME="halfFrame",i.HEART="heart",i.HEPTAGON="heptagon",i.HEXAGON="hexagon",i.HORIZONTAL_SCROLL="horizontalScroll",i.ISOSCELES_TRIANGLE="triangle",i.LEFT_ARROW="leftArrow",i.LEFT_ARROW_CALLOUT="leftArrowCallout",i.LEFT_BRACE="leftBrace",i.LEFT_BRACKET="leftBracket",i.LEFT_CIRCULAR_ARROW="leftCircularArrow",i.LEFT_RIGHT_ARROW="leftRightArrow",i.LEFT_RIGHT_ARROW_CALLOUT="leftRightArrowCallout",i.LEFT_RIGHT_CIRCULAR_ARROW="leftRightCircularArrow",i.LEFT_RIGHT_RIBBON="leftRightRibbon",i.LEFT_RIGHT_UP_ARROW="leftRightUpArrow",i.LEFT_UP_ARROW="leftUpArrow",i.LIGHTNING_BOLT="lightningBolt",i.LINE_CALLOUT_1="borderCallout1",i.LINE_CALLOUT_1_ACCENT_BAR="accentCallout1",i.LINE_CALLOUT_1_BORDER_AND_ACCENT_BAR="accentBorderCallout1",i.LINE_CALLOUT_1_NO_BORDER="callout1",i.LINE_CALLOUT_2="borderCallout2",i.LINE_CALLOUT_2_ACCENT_BAR="accentCallout2",i.LINE_CALLOUT_2_BORDER_AND_ACCENT_BAR="accentBorderCallout2",i.LINE_CALLOUT_2_NO_BORDER="callout2",i.LINE_CALLOUT_3="borderCallout3",i.LINE_CALLOUT_3_ACCENT_BAR="accentCallout3",i.LINE_CALLOUT_3_BORDER_AND_ACCENT_BAR="accentBorderCallout3",i.LINE_CALLOUT_3_NO_BORDER="callout3",i.LINE_CALLOUT_4="borderCallout4",i.LINE_CALLOUT_4_ACCENT_BAR="accentCallout3=4",i.LINE_CALLOUT_4_BORDER_AND_ACCENT_BAR="accentBorderCallout4",i.LINE_CALLOUT_4_NO_BORDER="callout4",i.LINE="line",i.LINE_INVERSE="lineInv",i.MATH_DIVIDE="mathDivide",i.MATH_EQUAL="mathEqual",i.MATH_MINUS="mathMinus",i.MATH_MULTIPLY="mathMultiply",i.MATH_NOT_EQUAL="mathNotEqual",i.MATH_PLUS="mathPlus",i.MOON="moon",i.NON_ISOSCELES_TRAPEZOID="nonIsoscelesTrapezoid",i.NOTCHED_RIGHT_ARROW="notchedRightArrow",i.NO_SYMBOL="noSmoking",i.OCTAGON="octagon",i.OVAL="ellipse",i.OVAL_CALLOUT="wedgeEllipseCallout",i.PARALLELOGRAM="parallelogram",i.PENTAGON="homePlate",i.PIE="pie",i.PIE_WEDGE="pieWedge",i.PLAQUE="plaque",i.PLAQUE_TABS="plaqueTabs",i.QUAD_ARROW="quadArrow",i.QUAD_ARROW_CALLOUT="quadArrowCallout",i.RECTANGLE="rect",i.RECTANGULAR_CALLOUT="wedgeRectCallout",i.REGULAR_PENTAGON="pentagon",i.RIGHT_ARROW="rightArrow",i.RIGHT_ARROW_CALLOUT="rightArrowCallout",i.RIGHT_BRACE="rightBrace",i.RIGHT_BRACKET="rightBracket",i.RIGHT_TRIANGLE="rtTriangle",i.ROUNDED_RECTANGLE="roundRect",i.ROUNDED_RECTANGULAR_CALLOUT="wedgeRoundRectCallout",i.ROUND_1_RECTANGLE="round1Rect",i.ROUND_2_DIAG_RECTANGLE="round2DiagRect",i.ROUND_2_SAME_RECTANGLE="round2SameRect",i.SMILEY_FACE="smileyFace",i.SNIP_1_RECTANGLE="snip1Rect",i.SNIP_2_DIAG_RECTANGLE="snip2DiagRect",i.SNIP_2_SAME_RECTANGLE="snip2SameRect",i.SNIP_ROUND_RECTANGLE="snipRoundRect",i.SQUARE_TABS="squareTabs",i.STAR_10_POINT="star10",i.STAR_12_POINT="star12",i.STAR_16_POINT="star16",i.STAR_24_POINT="star24",i.STAR_32_POINT="star32",i.STAR_4_POINT="star4",i.STAR_5_POINT="star5",i.STAR_6_POINT="star6",i.STAR_7_POINT="star7",i.STAR_8_POINT="star8",i.STRIPED_RIGHT_ARROW="stripedRightArrow",i.SUN="sun",i.SWOOSH_ARROW="swooshArrow",i.TEAR="teardrop",i.TRAPEZOID="trapezoid",i.UP_ARROW="upArrow",i.UP_ARROW_CALLOUT="upArrowCallout",i.UP_DOWN_ARROW="upDownArrow",i.UP_DOWN_ARROW_CALLOUT="upDownArrowCallout",i.UP_RIBBON="ribbon2",i.U_TURN_ARROW="uturnArrow",i.VERTICAL_SCROLL="verticalScroll",i.WAVE="wave"})(oa||(oa={}));var zt;(function(i){i.AREA="area",i.BAR="bar",i.BAR3D="bar3D",i.BUBBLE="bubble",i.BUBBLE3D="bubble3D",i.DOUGHNUT="doughnut",i.LINE="line",i.PIE="pie",i.RADAR="radar",i.SCATTER="scatter"})(zt||(zt={}));var Bu;(function(i){i.TEXT1="tx1",i.TEXT2="tx2",i.BACKGROUND1="bg1",i.BACKGROUND2="bg2",i.ACCENT1="accent1",i.ACCENT2="accent2",i.ACCENT3="accent3",i.ACCENT4="accent4",i.ACCENT5="accent5",i.ACCENT6="accent6"})(Bu||(Bu={}));var Qs;(function(i){i.chart="chart",i.image="image",i.line="line",i.rect="rect",i.text="text",i.placeholder="placeholder"})(Qs||(Qs={}));var ue;(function(i){i.chart="chart",i.hyperlink="hyperlink",i.image="image",i.media="media",i.online="online",i.placeholder="placeholder",i.table="table",i.tablecell="tablecell",i.text="text",i.notes="notes"})(ue||(ue={}));var pc;(function(i){i.title="title",i.body="body",i.image="pic",i.chart="chart",i.table="tbl",i.media="media"})(pc||(pc={}));var Ho;(function(i){i.DEFAULT="&#x2022;",i.CHECK="&#x2713;",i.STAR="&#x2605;",i.TRIANGLE="&#x25B6;"})(Ho||(Ho={}));const Vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAB3CAYAAAD1oOVhAAAGAUlEQVR4Xu2dT0xcRRzHf7tAYSsc0EBSIq2xEg8mtTGebVzEqOVIolz0siRE4gGTStqKwdpWsXoyGhMuyAVJOHBgqyvLNgonDkabeCBYW/8kTUr0wsJC+Wfm0bfuvn37Znbem9mR9303mJnf/Pb7ed95M7PDI5JIJPYJV5EC7e3t1N/fT62trdqViQCIu+bVgpIHEo/Hqbe3V/sdYVKHyWSSZmZm8ilVA0oeyNjYmEnaVC2Xvr6+qg5fAOJAz4DU1dURGzFSqZRVqtMpAFIGyMjICC0vL9PExIRWKADiAYTNshYWFrRCARAOEFZcCKWtrY0GBgaUTYkBRACIE4rKZwqACALR5RQAqQCIDqcASIVAVDsFQCSAqHQKgEgCUeUUAPEBRIVTAMQnEBvK5OQkbW9vk991CoAEAMQJxc86BUACAhKUUwAkQCBBOAVAAgbi1ykAogCIH6cAiCIgsk4BEIVAZJwCIIqBVLqiBxANQFgXS0tLND4+zl08AogmIG5OSSQS1gGKwgtANAIRcQqAaAbCe6YASBWA2E6xDyeyDUl7+AKQMkDYYevm5mZHabA/Li4uUiaTsYLau8QA4gLE/hU7wajyYtv1hReDAiAOxQcHBymbzark4BkbQKom/X8dp9Npmpqasn4BIAYAYSnYp+4BBEAMUcCwNOCQsAKZnp62NtQOw8WmwT09PUo+ijaHsOMx7GppaaH6+nolH0Z10K2tLVpdXbW6UfV3mNqBdHd3U1NTk2rtlMRfW1uj2dlZAFGirkRQAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAFGprkRsAJEQTWUTAGHqrm8caPzQ0WC1logbeiC7X3xJm0PvUmRzh45cuki1588FAmVn9BO6P3yF9utrqGH0MtW82S8UN9RA9v/4k7InjhcJFTs/TLVXLwmJV67S7vD7tHF5pKi46fYdosdOcOOGG8j1OcqefbFEJD9Q3GCwDhqT31HklS4A8VRgfYM2Op6k3bt/BQJl58J7lPvwg5JYNccepaMry0LPqFA7hCm39+NNyp2J0172b19QysGINj5CsRtpij57musOViH0QPJQXn6J9u7dlYJSFkbrMYolrwvDAJAC+WWdEpQz7FTgECeUCpzi6YxvvqXoM6eEhqnCSgDikEzUKUE7Aw7xuHctKB5OYU3dZlNR9syQdAaAcAYTC0pXF+39c09o2Ik+3EqxVKqiB7hbYAxZkk4pbBaEM+AQofv+wTrFwylBOQNABIGwavdfe4O2pg5elO+86l99nY58/VUF0byrYsjiSFluNlXYrOHcBar7+EogUADEQ0YRGHbzoKAASBkg2+9cpM1rV0tK2QOcXW7bLEFAARAXIF4w2DrDWoeUWaf4hQIgDiA8GPZ2iNfi0Q8UACkAIgrDbrJ385eDxaPLLrEsFAB5oG6lMPJQPLZZZKAACBGVhcG2Q+bmuLu2nk55e4jqPv1IeEoceiBeX7s2zCa5MAqdstl91vfXwaEGsv/rb5TtOFk6tWXOuJGh6KmnhO9sayrMninPx103JBtXblHkice58cINZP4Hyr5wpkgkdiChEmc4FWazLzenNKa/p0jncwDiqcD6BuWePk07t1asatZGoYQzSqA4nFJ7soNiP/+EUyfc25GI2GG53dHPrKo1g/1Cw4pIXLrzO+1c+/wg7tBbFDle/EbQcjFCPWQJCau5EoBoFpzXHYDwFNJcDiCaBed1ByA8hTSXA4hmwXndAQhPIc3lAKJZcF53AMJTSHM5gGgWnNcdgPAU0lwOIJoF53UHIDyFNJcfSiCdnZ0Ui8U0SxlMd7lcjubn561gh+Y1scFIU/0o/3sgeLO12E2k7UXKYumgFoAYdg8ACIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6cAhAGKYAoalA4cAiGEKGJYOHAIghilgWDpwCIAYpoBh6ZQ4JB6PKzviYthnNy4d9h+1M5mMlVckkUjsG5dhiBMCEMPg/wuOfrZZ/RSywQAAAABJRU5ErkJggg==",cS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAB4AAAAVnCAYAAACzfHDVAAAAYHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjaVcjJDYAwDEXBu6ughBfH+YnLQSwSHVA+Yrkwx7HtPHabHuEWrQ+lBBAZ6TMweBWoCwUH8quZH6VWFXVT696zxp12ARkVFEqn8wB8AAAACXBIWXMAAC4jAAAuIwF4pT92AADZLklEQVR42uzdd5hV9Z0/8M+dmcsUZmDovYOhKCiKYhR7JJuoSTCWGFI0WUxijBoTTXazVlyza4maYm9rTRSJigVsqCDNQhHBAogKCEgRMjMMU+7vj93sL8kqClLmnPt6PY+PeXZM9vP9vO8jZ+Y955xMfJLjorBrRMuSgmiViyjN1Ee2oSCyucbIBAAAAAAAAADbXaYgcoWNUZcrirpMbdRsysa69wbF+rggGrf439vSF7seF12aFUTnxvoosGIAAAAAAACAXacgoqEgF++/VRgr4r5o+Kh/pvD//F8uiII+LaPrum/EXzqui2b1ddHGKgEAAAAAAAB2rVxEQWMmWrQtjHZlA6N2w2tR84//zP8pgHu3ib6NBdG+zdqorK6KVUXZaB85j3sGAAAAAAAAaAoaG6OwIBdtyneP2PBabPzbr/1dAdx3VHRtyESHiIhcYzQrLo7WmVzkcjmPgAYAAAAAAABoSgpy0eIfS+D/LYD7fy3abC6Inn/7X2hsjELlLwAAAAAAAEDT9D8lcM1fHwddFBFxyAVR9M686PVp/gfqayKiJiLqLBMAAAAAAABgh8hGRGlEUekn/6PFEb3ikNgQk6O+KCJi6dzoksv83/cB/1X9xoiaJdmoWxlRV1dk2QAAAAAAAAA7QTZbH9muERX96v7n9t7/q6Exinq3i86LI94pjOOisHUu+uYykfmof7h+Y8Sa6aVRt74gGhs9DRoAAAAAAABgZ2lsLIi69QWxeUUmSjs0/vedwR8hk4uydSfE+wVd6qOyMfMx7/mtj9jwUtbjngEAAAAAAAB2obrqolg7IxtR/9Ffb4wo7P5GtCwobRaVH/c/UvNmNuqqPfIZAAAAAAAAYFerqy6KmjezH/v1ktpoVZBr/PgCeMN7yl8AAAAAAACApmJLHW5jUVQWNDSP+Q3ZeLco4i9/+8X6teHRzwAAAAAAAABNSd3/dLn/oLAoqqIuVhXFxhhSGB/xqGjlLwAAAAAAAECTU1eTjaK/KXSLIv7SWB+bc5ko9YxnAAAAAAAAgATJFv393bz1EeV//c8F1gMAAAAAAACQDgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKSEAhgAAAAAAAAgJRTAAAAAAAAAACmhAAYAAAAAAABICQUwAAAAAAAAQEoogAEAAAAAAABSQgEMAAAAAAAAkBIKYAAAAAAAAICUUAADAAAAAAAApIQCGAAAAAAAACAlFMAAAAAAAAAAKaEABgAAAAAAAEgJBTAAAAAAAABASiiAAQAAAAAAAFJCAQwAAAAAAACQEgpgAAAAAAAAgJRQAAMAAAAAAACkhAIYAAAAAAAAICUUwAAAAAAAAAApoQAGAAAAAAAASAkFMAAAAAAAAEBKKIABAAAAAAAAUkIBDAAAAAAAAJASCmAAAAAAAACAlFAAAwAAAAAAAKREkRUAAACwrUpLSwuGDRvWfMCAAS26du3avKysrLiioqKkZcuWzZs1a1bcvHnz0tLS0rJsNtusuLi4ebNmzUoLCgo+8/eijY2N9Zs3b66pra2tqqur21xTU1NdVVVVs2nTptqNGzdWbdiwoeYvf/nL5hUrVlQtWLBgw6xZs6pqamoaJQYAAEDaKYABAACIiIghQ4aUHnTQQW379u3bql27dq3at2/fpkWLFq2bN29eWVpa2qpZs2bNCwsLm2ez2fLCwsLyoqKi8sLCwtKknK+hoaG6vr6+qqGh4S91dXV/aWhoqNq8eXNVTU3NuqqqqvUbNmxYu2rVqjWrV69e99Zbb6177rnnPpgzZ06NTwYAAABJogAGAADIA8OGDWt+xBFHdBwwYECnLl26dGjdunXHFi1adCgtLe1YUlLSvlmzZq0KCgqK07yDwsLCssLCwrKIaPdp/zuNjY21mzdvXrdp06ZVNTU172/YsGHl2rVr31+2bNnKBQsWrHjyySffnzVrVpVPGAAAAE1Fpuexsd9HfaF+ZcSal0ptCAAAIAE6deqUPf744zvtueeeXbp3796lbdu2XSorKzuXlpZ2KS0t7VBYWFhhSztGQ0PDxpqampU1NTXL169fv+yDDz5Y9s477yybPXv2sj/96U8rVqxYUWdLAAAAbE9t9q6Jog4f/TUFMAAAQEJks9nMt7/97Y4jRozo1bdv397t2rXrXl5e3rWsrKxzcXFx+4gosKUmp7G2tnZVTU3Nso0bNy5btWrV0tdff/2tJ598cvG999672noAAADYFgpgAACAhPne977X6a9Fb/v27Xu1bNmyV1lZWa8kvXOXLauvr9/wl7/8ZdG6desWL1u2bNHChQsX/fGPf1w8derUjbYDAADAliiAAQAAmqhsNps59dRTuxx66KH9+/Tp87n27dv3Ly8v719UVOSRzXlq06ZNKzZu3Pj6+++//8abb775xqOPPvrG3XffvcpmAAAA+CsFMAAAQBNx6qmndvniF784qHfv3v3btWv3uYqKis8VFhaW2wxbUl9fv37Dhg1vfPDBB68vXrz4jccee2z+jTfeuNxmAAAA8pMCGAAAYBc45phjWn/rW9/aq3///kPatGnTv6Kiop9HOLO9NDQ0VG/cuPGtNWvWLFy4cOGcO+6445WHHnporc0AAACknwIYAABgJzjjjDO6f+lLX9qrV69eg1u3bj2orKysR0RkbIadJFddXb103bp18xcvXjz30UcffeXqq69+x1oAAADSRwEMAACwnZWWlhb86le/2u3QQw8d1r17931btmw5qLCwsMxmaEoaGhqqP/zww/nvvPPOzGeeeWbW2LFj36ipqWm0GQAAgGRTAAMAAGwHP/7xj7t+9atf3bdXr15D27Ztu1c2m21jKyRJXV3dmg8++OCVRYsWvfznP/95xh/+8IdltgIAAJA8CmAAAIBtcOKJJ7Y75ZRTDujXr9+w1q1bD81ms61shTSpq6tbt3bt2pfffPPNWbfccsvUe++9d7WtAAAANH0KYAAAgE+hoqKi4IILLhg0YsSI/bp27bpfy5YtB2YymUKbIR/kcrmGDz/8cP6777474/nnn59x4YUXvrZx40aPiwYAAGiCFMAAAAAf4/jjj2/7/e9//8D+/fsf2Lp1630KCgpKbAUiGhsbN61fv37eW2+9NeWGG2545u67715lKwAAAE2DAhgAAOB/ZLPZzAUXXPC5I4888sDu3bsfWFFRsVtEFNgMbFl1dfWSd999d8qsWbNmnnvuuS+vW7euwVYAAAB2DQUwAACQ10pLSwsuvfTSQYcccsjBXbt2HVFWVtbDVmDb1dbWrnr//fdfmDp16uRf/vKXL65evbreVgAAAHYeBTAAAJB3Bg0aVHrBBRd8fs899zywQ4cOBxQVFbWwFdj+Ghsba9euXTtrzpw5T59//vmTX3755WpbAQAA2LEUwAAAQF4YNmxY8/POO+/gIUOGHOZ9vrDz/W0ZfNFFFz07a9asKlsBAADY/hTAAABAarVq1arwyiuv3HfEiBEjO3TocFBhYWGZrcCu19DQUP3+++8/O2XKlIk/+clPZm7cuLHRVgAAALYPBTAAAJAqrVq1Kvztb3+7/3777Xd4x44dRxQWFpbbCjRdDQ0NG99///0pM2bMeOqHP/zhC8pgAACAz0YBDAAApMJZZ53V45vf/OaRvXr1GllaWtrVRiB5ampq3l28ePHEO++8c9LVV1/9jo0AAABsPQUwAACQWMOHDy+/6KKLvjB48OCjW7RoMdBGID0+/PDDV+fNmzfhvPPOe3L69Ol/sREAAIBPRwEMAAAkSqtWrQpvuOGGQ/bbb79/atOmzX6ZTCZrK5BeuVyubs2aNTNmzJjx2JgxYyavW7euwVYAAAA+ngIYAABIhB//+Mddv/e9732lZ8+e/1RcXNzWRiD/1NbWfvD2228/dssttzz029/+9l0bAQAA+L8UwAAAQJNVUVFRcO21137+4IMPPrZ169b7ZTKZAlsBIqJxzZo1M59//vnxp5122hR3BQMAAPx/CmAAAKDJOeWUUzqefvrpx/bu3ftL2Wy2jY0AH6e+vn7j0qVLH/vd7373x+uvv36ZjQAAAPlOAQwAADQJ2Ww2c+uttx5wyCGHnNC6deu9I8LdvsDWaFy7du1L06ZN+/OPfvSjZ1evXl1vJQAAQD5SAAMAALtU//79S6655pp/2nPPPY8tLy/vayPAZ1VTU7NswYIF488999wHp06dutFGAACAfKIABgAAdomf//znPU855ZQTu3btemRhYWGZjQDbW2NjY92KFSuevOWWW+689NJLF9kIAACQDxTAAADATuMxz8Cusn79+rlPP/30f5188slT6+rqcjYCAACklQIYAADY4fr27Vv8hz/84a+Pee5nI8CuUlNT8+68efPu/8EPfvDgwoULN9kIAACQNgpgAABghxkyZEjpNddc89XBgwefWFxc3MFGgKaitrZ21dy5c+/5yU9+8uc5c+bU2AgAAJAWWyqAPYoNAADYJqNHj+4wb968n06ZMuXRYcOGnaH8BZqa4uLi9sOGDTtjypQpj86bN++nJ510UntbAQAA0s4dwAAAwFY599xze33/+9//dufOnY/IZDJZGwGSIpfL1S1fvvzJG2644fbLLrvsbRsBAACSyiOgAQCAz+y8887r+53vfOfbHTt2PDyTyRTaCJBUuVyuYcWKFU/cdNNN//XrX/96sY0AAABJowAGAAC22WWXXTboG9/4xg9at249zDaAtFm7du2su++++9pzzjnnNdsAAACSQgEMAABsNcUvkE8UwQAAQJIogAEAgE9N8Qvks7Vr18665557rvv5z38+3zYAAICmaksFcGHlwOj6UV9orIqoWZG1PQAAyBO/+MUvet9xxx3nHHrooT8pLS3tYiNAPiotLe2y7777HvP973+/X1lZ2ZIpU6assxUAAKCpKetcHwXlH/01BTAAAOS5M844o/u99957zpe//OWflZeX94qIjK0AeS5TXl7e8+CDDx71/e9/v3dEvDVjxowPrQUAAGgqFMAAAMD/ceKJJ7a77777fjJq1Kh/KS8v7xOKX4B/lCkvL+99+OGHj/rWt77VfvXq1Qvnz59fbS0AAMCutqUC2DuAAQAgzwwdOrTs+uuvP6l///4nFRYWltkI20NjY2Ns2rQpqquro6amJurr62PTpk2xefPmqK+vj+rq6qivr4/NmzfHpk2boqGhYZv/fxUWFkZJSUk0a9YsioqKoqysLIqKiqJZs2ZRUlISRUVFUVpa+r9/FRQUCIjtoqGhoeq11167a8yYMffMmTOnxkYAAIBdZUvvAFYAAwBAnujUqVP2nnvuGbXXXnudnM1mK22Ej9PQ0BAbN26MDRs2/J+/Nm7cGBs3boyamprYtGlTbNq0KWpqaqK2trbJnqe4uDhKSkqitLT0f/9eUVERFRUV0aJFi//zV0VFRRQWFvog8LHq6urWvvjii7eceOKJf169enW9jQAAADubAhgAAPLcXXfdddAXv/jF00tLS7vZRn7L5XKxYcOGWLt2baxbty7Wrl37d3+tW7cuNmzYkPd7atGiRbRu3TpatWoVrVu3jjZt2vzvf27dunW0aNHCh4morq5e+sgjj1zzne98Z6ptAAAAO5MCGAAA8tTVV189+MQTTzyzoqJioG3kj8bGxli5cmUsX748Pvjgg1i9evX//n3t2rXR2NhoSZ9RYWFhtGrVKtq1axdt27b937937tw5OnTo4LHTeWbDhg3z77333qvOPPPMebYBAADsDApgAADIM1/72tfaXHrppad27979qIjQRKVUQ0NDrFq1KlasWBHvv//+//595cqVTfqRzGlXXFwcHTp0iI4dO0bnzp2jY8eO0alTp2jXrp1HS6dYLpdrfOeddx76+c9/fv2ECRPW2QgAALAjKYABACBP9OrVq9ldd931jT322OM7hYWFZTaSHh9++GG88847sXTp0njvvfdixYoVsXr16mhoaLCchCgsLIz27dtHp06dolu3btG9e/fo3r27x0mnTENDQ9W8efNu++Y3v/nHJUuWbLYRAABgR1AAAwBAHrjrrrtG/NM//dOZJSUlXWwj2davXx9Lly6Nd955539L3w8//NBiUqqysvJ/y+C//tWqVSuLSbiamppljz322G9Gjx49xTYAAIDtTQEMAAAp9qtf/arPD3/4w5+1atVqL9tIno0bN8aSJUvirbfeikWLFsV7770XmzZtspg8V1JSEl27do0+ffpE3759o3fv3lFeXm4xCbRu3bqXr7322ivGjh27yDYAAIDtRQEMAAApNGjQoNI77rjju7vttttJBQUFWRtJhtWrV8ebb74ZixcvjiVLlsTy5cujsbHRYtiigoKC6Ny5c/Tu3Tt69+4d/fr1i7Zt21pMQjQ2Nta98cYbd33rW9+6ff78+TU2AgAAfFYKYAAASJHS0tKCBx988Jj99tvvn7PZbBsbaboaGhri7bffjrfeeisWLFgQS5YscXcv201FRUX06tUr+vbtG3379o2ePXtGYWGhxTRhdXV1a2bMmHHjV77ylYdqamr85gcAALDNFMAAAJASp59+erdf/vKX51ZWVu5jG03T6tWr47XXXouFCxfGm2++GRs3brQUdooWLVpE3759Y8CAATFw4EB3CDdh69evf/E//uM//vPqq69+xzYAAIBtoQAGAICEGzRoUOm99977w969ex+byWTc4teErF+/PubNmxcLFiyIN954Q+FLk9GiRYvo169fDBgwIPbYY4+orKy0lCYkl8s1LF68eNyJJ554rcdCAwAAW0sBDAAACXbNNdcMOemkk35RVlbWyzZ2vVwuF++++27MnTs3XnvttViyZIl3+NLkFRQURK9evWLQoEExePDg6Natm6U0EdXV1UvuvvvuX//kJz+ZYxsAAMCnpQAGAIAEOuqoo1r99re//VmHDh0Ot41da9OmTTF79uyYO3duLFy4MKqqqiyFRGvevHn0798/Bg8eHHvuuWeUlJRYyi62cuXKp04//fTLJ0yYsM42AACAT6IABgCAhBk3btwRRxxxxFnZbLaNbewaVVVVMXfu3Jg7d27Mnz8/amtrLYVUKi4ujoEDB8bgwYNj8ODBUV5ebim7SF1d3ZqnnnrqqlGjRj1hGwAAwJYogAEAICFOOeWUjhdddNEvW7duvZ9t7HwrV66MWbNmxdy5c+Odd96JXC5nKeSdzp07x9577x3Dhg2LDh06WMgusHbt2hnnnXfepbfccsv7tgEAAHwUBTAAADRxpaWlBU899dQ3Bw8e/L2CggLPYt2JVqxYES+99FK89NJLsXz5cguBv/HXMnjvvfeOTp06WchO1NjYuGnu3Lk3H3744XfV1NR40TgAAPB3FMAAANCEjR49usOll176yzZt2gy3jZ1j/fr18eKLL8bMmTNj6dKlFgKfQs+ePWPfffeNYcOGRYsWLSxkJ1mzZs0L55577q/vvvvuVbYBAAD8lQIYAACaoIqKioKJEyd+c/Dgwd8vKCgotpEda8OGDfHiiy/G9OnTlb7wGfXo0SOGDx8ew4YNi4qKCgvZwdwNDAAA/CMFMAAANDGnnHJKx7Fjx/5rZWXlMNvYcerr6+PVV1+NGTNmxLx586Kurs5SYDvKZrMxZMiQ2HfffWP33XePwsJCS9mB1q5dO+MXv/jFv995550rbQMAAPKbAhgAAJqIbDabeeKJJ47fZ599fuSu3x0jl8vFwoULY/r06TF79uzYtGmTpcBOUFpaGkOGDInhw4fHgAEDLGQHaWhoqJ42bdo1Rx555J9tAwAA8pcCGAAAmoDjjz++7ZVXXvmr1q1be9fvDrBmzZqYNm1azJw5M1audHMc7EodO3aMz3/+87H//vt7X/CO+3fetDPPPPOScePGfWAbAACQfxTAAACwi9100037HXvssf9WXFzc1ja2n1wuF6+99lo8//zzMW/evKivr7cUaEKKiopizz33jBEjRsTnPve5yGQylrId1dbWrvrjH/948Q9+8INZtgEAAPlFAQwAALvIkCFDSu+///5zunTp8k+2sf2sXbs2Jk+eHNOnT48PP/zQQiABKisrY8SIEXHIIYdEeXm5hWxHy5Yte+zrX//6f86ZM6fGNgAAID9sqQAurBwYXT/qC41VETUrsrYHAADb6IILLtjt97///VVt2rQZZhvbx+LFi2P8+PFx9913xxtvvBG1tbWWAgmxadOmeOONN+LZZ5+NtWvXRps2bTweejtp0aJFv5NOOumg0tLSuc8+++xaGwEAgPQr61wfBR/zu7XuAAYAgO0sm81mJk2a9PVhw4b9pKCgwG9VfkZ1dXUxY8aMeOaZZ+K9996zEEiRfv36xSGHHBJDhw6NgoICC/mMGhsbN8+YMeOaL37xi+Pq6upyNgIAAOnlEdAAALCTHH/88W2vuuqqCyorK/exjc9mzZo18dRTT8XUqVNj06ZNFgIpVlFREZ///OfjsMMOi8rKSgv5jNavXz/r9NNPv3DcuHEf2AYAAKSTAhgAAHaC22677fNf+9rXzstms5W2se0WLVoUjz/+eMybNy9yOTewQT4pKiqKIUOGxBFHHBG9e/e2kM+grq5u3QMPPHDRySefPM02AAAgfRTAAACwA1VUVBQ8/fTTpwwcOPCUTCbjGabbIJfLxauvvhpPPvlkLFy40EIgz2UymRgwYEAcccQRMWjQIAvZ9n+3Ns6fP/+Www8//JaNGzc22ggAAKTHlgrgwsqB0fWjvtBYFVGzwuvKAABgS0488cR2EyZMuLx79+5fzmQyGRvZOo2NjTFr1qy49dZb48knn4wPPvC0UuC/rV69OmbMmBFz5syJ0tLS6NSpU/jX7NbJZDKZ9u3bD/3+978/dPny5TNfffXValsBAIB0KOtcHwXlH/O9gDuAAQBg29x66637H3vssRcWFRW1sI2tU1NTE0899VQ8++yzsWHDBgsBPlGLFi3i4IMPjsMPPzxKS/28YmvV19d/OG7cuPNPPvnk6bYBAADJ5xHQAACwHWWz2cyzzz77rSFDhvzAI5+3zqZNm2Ly5Mnx1FNPKX6BbdKiRYs47LDD4pBDDlEEb6VcLtfwyiuvXHfooYfeWVdX5yXrAACQYApgAADYTo455pjW11133cWVlZV728ant2HDhnj88cdjypQpUVtbayHAZ1ZcXBwHHnhgfPGLX4wWLTyIYWusWbNm2re//e3zn3nmGb+JAwAACeUdwAAAsB1cfvnlu1900UW/LS8v72cbn05VVVVMmDAhbrnllnjzzTejoaHBUoDtoqGhIZYsWRLPPfdc1NTURI8ePSKb9XOMT6OsrKzb17/+9SPbtm0774knnlhtIwAAkMDreu8ABgCAz+bhhx/+8qGHHnpOQUFBsW18sk2bNsUzzzwTTzzxRFRVVVkIsMOVl5fHkUceGYccckgUF/tX9afR2Ni46emnn/71Mccc87htAABAsngENAAAbKN27doVTZ48+YxevXodZxufrK6uLp5++umYOHGi4hfYJSoqKuKLX/xiHHzwwe4I/pQWLVr0x4MOOuiadevWeUwDAAAkhEdAAwDANjj22GPbPvzww7/p2LHjobaxZXV1dfHkk0/GddddF3Pnzo26ujpLAXaJzZs3x2uvvRbPPfdcRET06NEjCgsLLWYLWrduvfv3vve9fd9+++1pCxYsqLYRAABo+rb0CGgFMAAAfITLL7989wsuuOB3zZs372UbH6+xsTGmTJkS119/fbzyyiuKX6DJ2Lx5cyxYsCCmT58excXF0a1bt8hkMhbzMUpKSjp8+ctfPrJt27ZzvBcYAACaPu8ABgCArTB+/Pgjv/CFL/xLQUFBiW18vAULFsT48eNj6dKllgE0eT169IivfOUrMWjQIMvYgsbGxpqJEydecuyxxz5pGwAA0HR5BzAAAHwK7dq1K3ruued+1qNHj6/axsdbtGhR3H///bF48WLLABKnV69ecdxxx0WfPn0sYwuWLl3654MOOujy1atX19sGAAA0Pd4BDAAAn2DYsGHNn3766V936tTpC7bx0TZs2BD33Xdf/PGPf4y1a9daCJBI69evj2nTpsW6deuiZ8+eUVLiYQ8fpbKysv+3v/3t/lOmTJmyfPlyz/cHAIAmxjuAAQBgC372s5/1uP76669t0aKF54J+hJqamhg/fnzcfPPN8fbbb0cul7MUINFyuVy888478cwzz0RVVVX07t07slk/A/lHZWVl3U488cTD6+rqZkyfPv1DGwEAgCZ0va4ABgCAj3bFFVfscdZZZ11dXFzcwTb+Xi6XixkzZsR1110XCxYsiMbGRksBUqWxsTGWLFkSM2bMiPLy8ujSpUtkMhmL+RvZbLbFQQcddHibNm1mP/HEE6ttBAAAmoYtFcDeAQwAQN6aNGnSqAMOOODsTCZTaBt/b9GiRXHPPffEu+++axlA3ujWrVucdNJJ0bt3b8v4B7lcrm7y5Mm//vKXv/yIbQAAwK63pXcAK4ABAMg7paWlBTNnzjyzT58+x9vG39uwYUOMGzcuZsyY4VHPQF7KZDKx3377xde//vWoqKiwkH+waNGiP+27775X1dTUeCwEAADsQgpgAAD4H926dctOnjz5V506dRppG/9fLpeLqVOnxp///OfYuHGjhQB5r6KiIkaNGhX777+/x0L/g+XLlz9+6KGHXvLuu+/W2QYAAOwaWyqAvQMYAIC8MXz48PInnnjiynbt2o2wjf/vnXfeiWuvvTaee+652Lx5s4UARMTmzZtjzpw58dprr0XPnj2jRYsWlvI/Kioq+n7rW98aMnXq1Ofee+89f3AAAMAusKV3ACuAAQDIC9/+9rc73n777X9o0aLFANv4b1VVVXHXXXfFvffeG+vXr7cQgI+wbt26eP7552P9+vWx2267RVFRkaVERElJSefjjjvuoA8++GDKK6+88hcbAQCAnUsBDABAXjv//PP7XXzxxX8oKSnpbBv/bfr06XHttdfGokWLLAPgU3jnnXdi2rRp0bp16+jc2R8nERHZbLbyC1/4whElJSUvTp48eY2NAADAzqMABgAgb/3ud7/b60c/+tFVRUVFrWwjYs2aNXHzzTfHpEmTora21kIAtkJtbW289NJL8c4770Tfvn2jtLQ073dSWFhYNnz48C/26dNn4UMPPbTMpwQAAHYOBTAAAHnp1ltv3f+b3/zmfxYWFjbP913kcrl4/vnn4/rrr4/ly5f7cAB8BitXroxp06ZFRUVFdOvWLTKZTF7vo6CgIDto0KBDBw0atOiBBx54xycEAAB2vC0VwJmex8Z+H/WF+pURa17ym6wAACTTww8//KXDDjvsXzKZTN6/rPGDDz6I22+/Pd544w0fDIDtbMCAAfGtb30r2rRpk/e7yOVyjVOmTPn1yJEjH/LJAACAHavN3jVR1OGjv6YABgAgdV555ZXTPve5z30r3/fQ0NAQjz32WDz++ONRV1fngwGwg2Sz2Tj66KPjC1/4QhQUFOT9Pl5//fU79tprr9/7ZAAAwI6jAAYAIC9ks9nMyy+/fFafPn2Oz/ddvPvuu3HbbbfFe++954MBsJN069YtvvOd70S3bt3yfhdLliy5f5999rmypqam0ScDAAC2PwUwAACpV1paWjBr1qyzevfufVw+7yGXy8WTTz4ZDz74oLt+AXaBbDYbxxxzTBxxxBF5fzfw0qVLHxg6dOjlSmAAANj+FMAAAKRar169mk2ePHlsu3btDsrnPaxcuTJuueWWePvtt30oAHaxnj17ximnnBIdOnTI6z2sXr16yiGHHPIvS5Ys2exTAQAA28+WCuDCyoHR9aO+0FgVUbMia3sAADRpQ4cOLXvqqacub9Omzf75uoNcLhfPPPNMXH/99bF27VofCoAmYP369TFlypQoKSmJnj17RiaTycs9NG/evPtJJ500ZPLkyc+sWLHCoykAAGA7KetcHwXlH/01BTAAAIk1ZMiQ0kceeeSKVq1a7Z2vO6iuro7bb789nnjiiWhs9IRNgKaksbEx5s+fH++//34MGDAgstn8/DlLaWlpp6997WuDn3rqqadXrlxZ75MBAACfnQIYAIDUOfTQQ1s8+OCDv2/ZsuUe+bqDOXPmxNVXX+2RzwBN3PLly+OFF16Ijh075u0joUtLSzudcMIJ+7/00ktPv/3227U+FQAA8NkogAEASJVhw4Y1v++++37TsmXLQfl4/vr6+hg/fnz88Y9/jNpaP0MHSILNmzfHiy++GJs3b47ddtstCgoK8m4HxcXFbY866qg9n3vuuaeXL1/ucdAAAPAZKIABAEiNI488snLcuHG/b9GixcB8PP97770XV111VcyZM8eHASCBFi1aFC+//HL069cvWrRokXfnLykp6XDcccftP2fOnGcWLVq0yScCAAC2jQIYAIBUOPLIIyvvvPPO35aXl++Wj+d/+umn48Ybb4wPP/zQhwEgwf7yl7/ECy+8ECUlJdGrV6+8O3+zZs3aHHXUUfspgQEAYNspgAEASLxjjz227W233faH5s2b98m3s1dVVcXNN98cTz31VDQ2NvowAKRAY2NjzJ8/P5YtWxYDBgyIZs2a5dX5mzVr1uaYY4458M0333xm4cKFNT4RAACwdRTAAAAk2qGHHtritttuuzofy9+33347rrnmmli8eLEPAkAKvf/++/HKK69Enz59orKyMq/Ons1mK4888sh9Zs6c+dTSpUs3+zQAAMCnpwAGACCxjjjiiJb33nvvteXl5f3y6dy5XC4mTZoUN998c1RVVfkgAKRYVVVVTJ06NbLZbPTp0ycymUzenL24uLjtV7/61c+/8sorTy1evLjWpwEAAD4dBTAAAIl06KGHtrj33nt/l2/lb3V1ddx0000xefLkyOVyPggAeSCXy8WCBQvi3Xffjd133z2y2fz5mUyzZs1aH3300fvNmDHjSXcCAwDAp6MABgAgcYYOHVo2fvz4qysqKgbk07mXLVsWV111lUc+A+SplStXxiuvvBKf+9znoqKiIm/O3axZszZHH3300GeeeebJFStW1PkkAADAlimAAQBIlCFDhpQ++uij17Rs2XL3fDr31KlT49prr42NGzf6EADksaqqqpg+fXq0bds2unTpkjfnLikpaT9q1KihTz755JMrV66s90kAAICPt6UCuMB6AABoSjp16pSdMGHCv1dWVu6RL2dubGyMcePGxR133BF1dW56AiCitrY2br755hg/fnw0NjbmzbkrKyv3mDBhwr9369bNXQkAALCNFMAAADQZrVq1Kpw+ffolbdq02T9fzlxdXR2/+93vYtKkSd73C8DfyeVy8fjjj8fvf//7qK6uzptzt2nTZv8pU6Zc0qpVq0KfAgAA2HoKYAAAmoSKioqC2bNnX9KuXbuD8uXMS5cujYsuuijmz5/vAwDAx3r11VfjoosuiqVLl+bNmdu1a3fQ7Nmz/72iosLPrgAAYCu5iAYAoEmYOXPmz9q1a3dIvpz35ZdfjiuuuCLWrVsnfAA+0bp16+KKK66Il19+OW/O3K5du4Nnzpz5M+kDAMDWUQADALDLvfjii2N69OgxKh/Omsvl4oEHHogbbrghamtrhQ/Ap1ZbWxs33HBDPPDAA3nz2oAePXqMevHFF8dIHwAAPj0FMAAAu9SkSZO+NnDgwFPy4ax1dXVx8803x8SJE73vF4BtksvlYuLEiXHLLbdEXV1dXpx54MCBJ0+aNOlr0gcAgE9HAQwAwC7z6KOPHnXggQeekw9nXbduXfz617+OWbNmCR6Az2zmzJnx61//Ol9eJZA58MADz3n00UePkjwAAHyywsqB0fWjvtBYFVGzImtDAADsEDfeeOO+Rx999EWZTKYw7Wddvnx5XHXVVbFy5UrBA7DdbNiwIWbPnh0DBw6MioqKtB8307179/179uz56sMPP7xc+gAA5LuyzvVRUP7RX1MAAwCw011xxRV7fPe7372qoKCgWdrPOmfOnPjtb38bGzduFDwA2111dXVMmzYtOnfuHB07dkz1WTOZTOHuu+9+eJs2bV6aNGnSKukDAJDPFMAAADQZZ5xxRvef/exnvy0sLCxP+1knTJgQd999d9TX1wsegB2moaEhXnrppchms9G3b99UnzWTyRTttddeB/3lL395dubMmRukDwBAvlIAAwDQJBx00EEVf/jDH64pLi7ulOZz5nK5eOCBB+Kxxx4TOgA77c+eBQsWRF1dXfTv3z8ymUxqz1pQUFBywAEHDJs+ffqkpUuXbpY+AAD5aEsFcIH1AACwMwwaNKj0vvvuu7qsrKxXms9ZV1cX1113XUyaNEnoAOx0EydOjOuvvz7q6upSfc6ysrJef/rTn67u379/idQBAODvKYABANjhKioqCh577LGLKyoqBqb5nNXV1XHNNdfE7NmzhQ7ALvPKK6/ElVdeGVVVVak+Z4sWLQZOnDhxbEVFhZ9vAQDA33CBDADADjdz5syftW3b9sA0n3HdunVx2WWXxRtvvCFwAHa5xYsXx2WXXRZr165N9TnbtWt34MyZM38mcQAA+P8UwAAA7FBPPvnkqB49eoxK8xlXrVoVV1xxRSxfvlzgADQZK1asiCuuuCJWrlyZ6nP26NFj1KRJk0ZJHAAA/lth5cDo+lFfaKyKqFmRtSEAALbZjTfeuO+XvvSlCzOZTGp/8fDdd9+NK6+8MtatWydwAJqc6urqmDVrVvTv3z8qKytTe85u3boN79mz57yHH37Yb2MBAJAXyjrXR0H5R39NAQwAwA5x3nnn9T311FOvLigoKE7rGV977bW45pprorq6WuAANFmbN2+OGTNmRI8ePaJ9+/apPGMmkykYNGjQIYWFhVOee+45v5UFAEDqKYABANipjjrqqFb/8R//8YdmzZq1SusZX3755bj++uujrq5O4AA0eQ0NDfHSSy9Fp06dolOnTqk8Y0FBQXbYsGGfnz9//qQ33nhjk9QBAEizLRXA3gEMAMB21a1bt+wNN9zwnyUlJR3TesYpU6bEjTfeGPX19QIHIDHq6+vjxhtvjKlTp6b2jCUlJZ1uuOGG/+jWrZu7GgAAyFsKYAAAtqunn376XyorK/dI6/kmTZoUd955ZzQ2NgobgMRpbGyMO+64I5588snUnrGysnLw008//UtpAwCQrxTAAABsN88///w3unTp8k9pPd/EiRNj3LhxkcvlhA1AYuVyubj//vtTXQJ36dLlS88+++yJ0gYAIB95BzAAANvFTTfdNPzII488L5PJZNJ4vsceeyzGjx8vaABS47XXXotmzZpF3759U3m+zp0779urV695Dz/88DJpAwCQNlt6B7ACGACAz+wXv/hF7x/+8IdXFxQUNEvj+R544IF45JFHBA1A6ixYsCDq6upiwIABqTtbJpPJDBo06ODGxsbnpk6dul7aAACkiQIYAIAd5oADDqj43e9+99tmzZq1TeP5xo0bF5MmTRI0AKm1aNGi2Lx5cwwcODB1ZysoKMjut99+w5577rnH33vvvc3SBgAgLbZUAHsHMAAA2yybzWbuvPPOfyktLe2exvNNmDBB+QtAXpg0aVI89NBDqTxbaWlpj3vuuedfstlsRtIAAOQDBTAAANvs+eef/06HDh0OTePZHn744Xj44YeFDEDeeOSRR+LPf/5zKs/WoUOHw5599tlvSxkAgHygAAYAYJvcd999hw8ePPjUNJ7t/vvvjwkTJggZgLzz2GOPxX333ZfKs+25554/+NOf/nSYlAEASDvvAAYAYKudccYZ3ceMGXN5QUFBcdrONnHixHjkkUeEDEDeWrx4cWSz2ejbt2/ajpbp06fPvn/5y18mz5w5c4OkAQBIsi29A1gBDADAVhk2bFjzG2+88Q/NmjVrl7azPfroo6l99CUAbI2FCxdGUVFR9OvXL1XnKigoKD7wwAP3e/LJJx9dsWJFnaQBAEiqLRXAHgENAMBWuffee39ZWlraPW3nevzxx+PBBx8UMAD8jz//+c8xceLE1J2rtLS0x3333fdLCQMAkFYKYAAAPrVJkyaN6tSp0xEpPFeMHz9ewADwD8aPHx+TJ09O3bk6der0hUmTJn1VwgAApJFHQAMA8Kmcd955fU888cR/z2QyRWk618yZM+Puu+8WMAB8jNdeey06duwYnTt3TtW5unbtuk9BQcHzzz333DopAwCQNN4BDADAZ3LEEUe0vOKKK67NZrOVaTrXyy+/HDfffHPkcjkhA8DHyOVyMXv27OjSpUt06tQpNefKZDJF++yzz/CpU6c+9u67726WNAAASeIdwAAAbLNsNpu55ZZb/q2kpKRjms61YMGCuPnmm6OxsVHIAPAJGhsb4+abb44333wzVecqLS3tcvfdd5+fzWYzUgYAIC0UwAAAbNGkSZO+3rZt2wPTdKZly5bFDTfcEPX19QIGgE+prq4urr322li+fHmqztWuXbsDH3/88VESBgAgLTwCGgCAj3XZZZcN+upXvzo2k8mk5hcH33///bjyyiujqqpKwACwlerq6uLll1+OIUOGRHl5eWrO1aVLl31LS0unPvPMM2ukDABAEngENAAAW61///4lJ5988q8ymUxRWs60YcOG+P3vfx8bN24UMABso40bN8bvfve7VP15WlBQkP3hD394ft++fYslDABA4q9vrQAAgI/y4IMPnl1WVtYrLeeprq6O3/zmN7Fq1SrhAsBntGrVqrjyyiujuro6NWcqKyvr8/DDD58lXQAAkk4BDADA/zF+/Pgju3XrdnRazlNfX5/KdxYCwK60fPnyuO6666K+vj41Z+rRo8dXx40bd4R0AQBIMgUwAAB/53vf+16nI4444py0nCeXy8Vtt90Wb7zxhnABYDt7/fXX47bbbotcLpeaMx155JHnfvvb3+4oXQAAkkoBDADA/6qoqCi4+OKLLywsLCxPy5nGjx8fs2bNEi4A7CCzZs2Khx56KDXnKSwsrPj1r399QUVFhZ+bAQCQSC5kAQD4XxMnThxdWVk5OC3nef7552PixImCBYAd7LHHHosXXnghNeeprKzc89FHHz1RsgAAJFFh5cDo+lFfaKyKqFmRtSEAgDxxwQUX7DZq1KgLM5lMYRrO8+qrr8Ytt9ySqkdSAkBT/7O3d+/e0a5du1Scp2PHjkNzudxzU6ZMWSddAACamrLO9VHwMc/wcwcwAADRt2/f4h//+McXZzKZVPwG4HvvvRc33HBDNDY2ChcAdpKGhoa47rrrYtmyZak4T0FBQfbss88e27dv32LpAgCQqGtZKwAAYPz48T8qKyvrkYazbNiwIX7/+99HbW2tYAFgJ9u0aVP8/ve/j40bN6biPGVlZb3GjRs3RrIAACSJAhgAIM/ddNNNw/v06XN8Gs5SX18f1157baxdu1awALCLrFmzJq699tqor69PxXn69ev3jd///vdDJQsAQFIogAEA8thBBx1Uceyxx/5rRGTScJ477rgjFi9eLFgA2MUWLVoUd955Z1qOU/CNb3zj34YNG9ZcsgAAJOIC1goAAPLXzTfffFZxcXG7NJxl4sSJMX36dKECQBMxbdq0mDRpUirOUlJS0unOO+88Q6oAACSBAhgAIE/913/914FdunT5UhrO8tprr8Wf//xnoQJAEzN+/PhYsGBBKs7SrVu3o2+66abhUgUAoKlTAAMA5KEvfelLlV/5yld+lYazrFixIq6//vpobGwULAA0MY2NjXHdddfFihUr0nCczHHHHfergw46qEKyAAA0ZQpgAIA8dPXVV5+ezWYrk36OmpqauPbaa2PTpk1CBYAmatOmTXHttddGTU1N4s+SzWbb3njjjT+RKgAATZkCGAAgz9x6663Du3Tp8uWknyOXy8Utt9wSK1euFCoANHErV66MW2+9NXK5XOLP4lHQAAA0dQpgAIA8MnTo0LKvfvWrv0jDWSZMmBBz584VKgAkxJw5c+Kxxx5LxVlGjRr1i6FDh5ZJFQCApkgBDACQR+64444fFRcXd0z6OV5++eV45JFHBAoACfPQQw+l4he4SkpKOt5xxx0/lCgAAE2RAhgAIE9cfvnlu/fs2XNU0s/xwQcfxB133JGKR0gCQL7J5XJx2223xZo1axJ/lp49ex57+eWX7y5VAACaGgUwAEAe6NatW/a73/3uv2YymURf/9XX18cNN9wQ1dXVQgWAhKqqqoobb7wx6uvrE32OTCZT8N3vfvdX3bp1y0oVAICmRAEMAJAHxo8ff0pZWVmvpJ/jnnvuiaVLlwoUABJuyZIlcd999yX+HGVlZT3Hjx9/ikQBAGhKFMAAACn385//vOeAAQNGJ/0c06dPjylTpggUAFJi8uTJMWPGjMSfY8CAAaN//vOf95QoAABNhQIYACDFstls5qyzzjo3k8kk+tGEK1asiLvvvlugAJAyd911V6xYsSLRZ8hkMtmzzjrr3Gw2m5EoAABNgQIYACDFxo0b98XKysq9knyG2trauOGGG6K2tlagAJAyf/1zfvPmzYk+R2Vl5V7jxo0bKVEAAJoCBTAAQEoNHz68/OCDDz4t6ee4//77Y/ny5QIFgJRavnx5jBs3LvHnGDFixI+HDRvWXKIAAOxqCmAAgJS69dZbT8tms22TfIYZM2bEc889J0wASLnJkyfHzJkzE32G4uLitrfffvtp0gQAYFdTAAMApNBVV121R48ePb6S5DOsXLky7rrrLmECQJ64++6744MPPkj0GXr27PnVK664Yg9pAgCwKymAAQBSprS0tOAb3/jGT5N8rdfY2Bi333679/4CQB6pqamJ2267LRobG5N8jIJvfvObZ5aWlvqZGwAAu+6i1AoAANJlwoQJX6uoqBiQ5DOMHz8+Fi1aJEwAyDNvvvlmPPjgg4k+Q4sWLQY9+OCDx0gTAIBdRQEMAJAiRx55ZOWwYcN+kOQzzJ07N5544glhAkCemjhxYixYsCDRZxg+fPiPjjjiiJbSBABgV1AAAwCkyBVXXHFyUVFRRVLnr6qqijvvvDNyuZwwASBP5XK5uP3226O6ujqxZygqKmrxm9/85mRpAgCwKyiAAQBS4vzzz+/Xu3fv45J8httvvz0+/PBDYQJAnlu3bl3cfvvtiT5D7969jz///PP7SRMAgJ1NAQwAkALZbDZz6qmn/jyTyST2+m769OkxZ84cYQIAERExe/bsmDFjRmLnz2QyBaeeeurPs9lsRpoAAOxMCmAAgBT44x//eERlZeXgpM6/du3auPfeewUJAPyde+65J9atW5fY+SsrKwf/6U9/+oIkAQDYmRTAAAAJ17dv3+JDDjnkR0k+w9133x01NTXCBAD+Tk1NTdx9992JPsPBBx/8o759+xZLEwCAnUUBDACQcHfdddc3S0pKOiV1/smTJ8e8efMECQB8pLlz58azzz6b2PlLSko63nPPPd+SJAAAO4sCGAAgwb70pS9VDhw48KSkzr9mzZoYP368IAGALXrggQdizZo1iZ2/f//+Jx111FGtJAkAwM6gAAYASLArrrji1MLCwvIkzp7L5eK2226LTZs2CRIA2KJNmzbFbbfdFrlcLpHzFxYWll1++eU/kCQAADuDAhgAIKF+8Ytf9O7evftXkjr/s88+G2+88YYgAYBP5Y033ojnn38+sfN369bt6F/96ld9JAkAwI6mAAYASKgf/vCHP8pkMom8nvvggw/igQceECIAsFXGjRsX69atS+TsmUym4NRTT/2xFAEA2NEUwAAACXTdddcNa9eu3YFJnD2Xy8Udd9wRtbW1ggQAtsqmTZvizjvvTOz8bdq02f+mm27aT5IAAOxICmAAgIQpLS0t+NrXvnZ6Uud/4YUXYuHChYIEALbJq6++GjNmzEjs/Mccc8zpFRUVfiYHAMAO42ITACBhbr/99oMrKip2S+LsGzZsiHHjxgkRAPhM7r///qiqqkrk7OXl5X3/67/+6wgpAgCwoyiAAQASpKKiouCwww47Nanz33vvvYn9YS0A0HRs2LAh7r///sTOf9BBB/1zq1atCiUJAMCOoAAGAEiQ+++//+iysrKeSZx9zpw58dJLLwkRANguXnjhhViwYEEiZy8tLe32xz/+8StSBABgR1AAAwAkRN++fYv33Xfff07i7LW1tXHvvfcKEQDYru6+++6oq6tL5Oz77bffKf379y+RIgAA25sCGAAgIW6++eZRxcXFbZM4+yOPPBJr164VIgCwXa1atSoee+yxRM6ezWbb3njjjV+TIgAA25sCGAAgAYYOHVq21157fSeJs7/33nvxxBNPCBEA2CEmTpwYK1asSOTsQ4YM+c7QoUPLpAgAwPakAAYASIBrr732xKKiosqkzZ3L5eKee+6JxsZGIQIAO0R9fX3cddddkcvlEjd7UVFR5bXXXnuCFAEA2J4UwAAATdwBBxxQMWDAgG8kcfYZM2bEW2+9JUQAYId6880348UXX0zk7AMGDPjG8OHDy6UIAMD2ogAGAGjirrrqqhOKiooqkjb3pk2b4oEHHhAgALBT3H///VFbW5u4uYuKilpcffXV7gIGAGC7UQADADRhBx10UEX//v0Teffvww8/HB9++KEQAYCdYv369TFhwoREzj5w4MBvHHDAARVSBABge1AAAwA0Yf/5n/95bGFhYfOkzb1q1aqYPHmyAAGAnerpp5+O1atXJ27uwsLC8ssuu2yUBAEA2B4UwAAATdQBBxxQMWjQoNFJnP3uu++O+vp6IQIAO1V9fX3cddddiZx99913/+bQoUPLpAgAwGelAAYAaKIuv/zyYwsLC8uTNvfcuXNjwYIFAgQAdokFCxbE3LlzEzd3UVFRi9/97ndflyAAAJ+VAhgAoAkaOnRo2aBBgxL37t+6urr405/+JEAAYJf605/+FHV1dYmbe/fdd//mkCFDSiUIAMBnoQAGAGiCfvOb33ylqKioZdLmfu655xL53j0AIF1Wr14dzz33XOLmLioqann11VcfLUEAAD4LBTAAQBPTq1evZoMHD/5m0uaurq6ORx55RIAAQJPwyCOPRHV1deLmHjJkyLe6deuWlSAAANtKAQwA0MTcdNNNxxQXF7dN2twTJkyIqqoqAQIATUJVVVUifzmtuLi43a233uouYAAAtpkCGACgCWnVqlXhXnvtdVLS5l61alU8++yzAgQAmpTJkyfHqlWrEjf30KFDR7dq1apQggAAbAsFMABAE3LLLbccXlJS0jlpcz/44INRX18vQACgSamvr48HH3wwcXOXlJR0vummmw6VIAAA20IBDADQRGSz2cwBBxzw7aTNvWjRonjppZcECAA0SS+99FIsXrw4cXOPGDHiO9lsNiNBAAC2lgIYAKCJuOaaa/YuLy/vm7S5H3roocjlcgIEAJqkXC6XyLuAy8vL+1111VV7SRAAgK2lAAYAaCK+8pWvfDdpM8+bNy8WLlwoPACgSVu4cGG8+uqrrg8BAMgLCmAAgCbgsssuG1RZWblPkmbO5XIxfvx44QEAifDAAw8k7qklrVu33veSSy7pLz0AALaGAhgAoAkYNWrUCUmbefbs2bFs2TLhAQCJsGzZsnjllVcSN/cJJ5xwovQAANgaCmAAgF3sn//5nzt37NjxiCTN3NjYGA888IDwAIBEGT9+fDQ0NCRq5k6dOn1h9OjRHaQHAMCnpQAGANjFfvSjH30tk8kk6rps2rRpsWrVKuEBAImyatWqeOGFFxI1cyaTKfzpT386SnoAAHxaCmAAgF1o0KBBpX369Plqkmaur6+PCRMmCA8ASKQJEyZEXV1dombu27fvV/r27VssPQAAPg0FMADALnTZZZcdXlRUVJGkmadOnRpr164VHgCQSOvXr48pU6YkauaioqLK3/zmN0dIDwCAT0MBDACwi2Sz2cy+++57UpJmrqurc/cvAJB4jz76aOLuAt5///1PymazGekBAPBJFMAAALvI1VdfPbSsrKx3kmaeMmVKbNiwQXgAQKJt2LAhnn/++UTNXFZW1ueqq67aS3oAAHwSBTAAwC7y5S9/+bgkzVtfXx8TJ04UHACQCo8//nji7gL+0pe+dLzkAAD4JApgAIBdYPTo0R3atm07IkkzT5s2LdatWyc8ACAVPvzww5g+fXqiZm7fvv2I0aNHd5AeAABbogAGANgFfvrTn47KZDKFSZm3vr4+HnnkEcEBAKnyyCOPRH19fWLmzWQyhT/96U+/JjkAALZEAQwAsJN16tQp26dPn6OTNLO7fwGANFq3bl1MmzYtUTP36dPnmE6dOmWlBwDAx1EAAwDsZFddddUB2Wy2dVLmbWxsjEmTJgmOVOvYsWN06OCJmgD5aNKkSdHY2JiYebPZbOurrrrqAMkBAPBxFMAAADvZiBEjvp6keV988cVYtWqV4Ei1Ll26xIUXXhinnXZadO3a1UIA8siqVavipZdecj0JAEBqKIABAHaiM844o3tlZeXeSZk3l8vFxIkTBUdeyGQyMXjw4PjVr34VY8aMcUcwQB55/PHHI5fLJWbeysrKvc8444zukgMA4KMogAEAdqJTTjnlqxGRScq8CxYsiPfee09w5JVMJhN77713XHjhhTFmzJho3769pQCk3HvvvRcLFy5M1B9X/3NdCQAA/4cCGABgJ+nVq1ezXr16fTlJM3v3L/nsr0XwBRdcECeffHK0bdvWUgBSLGnXPb169fpyr169mkkOAIB/pAAGANhJrrjiioOLiopaJmXeBN4JAztEYWFhDB8+PC688MIYPXp0VFZWWgpACi1YsCCWLVuWmHmLiopaXnnllYdIDgCAf6QABgDYSYYPH/6VJM2btHfhwY5WVFQUI0aMiEsuuSRGjx4dLVu2tBSAFMnlcvH4448naub99tvvK5IDAOAfKYABAHaC0aNHd6isrByalHnXrl0bL7/8suDgI/y1CL744ovjhBNOiBYtWlgKQEq89NJLsW7dusTMW1lZudfo0aM7SA4AgL+lAAYA2AlOP/30o5J07fXMM89EQ0OD4GALiouL47DDDouxY8fGqFGjoqyszFIAEq6hoSGeeeaZJI1c8D/XmQAA8P8vEq0AAGDHymazmX79+n05KfPW1tbGlClTBAefUnFxcYwcOTIuvfTSGDVqVJSWlloKQII9//zzUVtbm5h5+/Xr9+VsNpuRHAAAf6UABgDYwX7zm9/sWVJS0jkp886YMSOqq6sFB1uppKQkRo4cGZdcckkcffTRUVJSYikACVRdXR0zZ85M0p8/na+44orBkgMA4K8UwAAAO9gXvvCFLyVl1lwuF08//bTQ4DNo3rx5HHXUUXHJJZfEyJEjI5vNWgpAwjz11FORy+USM++RRx75ZakBAPBXCmAAgB1oyJAhpZ07dz4iKfO+/vrrsWLFCsHBdlBeXh6jRo2KSy+9VBEMkDArVqyI119/PTHzdunS5fD+/ft79AQAABGhAAYA2KHGjh17aGFhYWJeCOruX9j+KioqYtSoUXHxxRfH4YcfHkVFRZYC4LpouyosLGz+H//xHwdLDQCACAUwAMAOteeeex6ZlFnXrl0b8+bNExrsIK1atYrjjz8+LrroohgxYkQUFPh2DKApmzdvXqxZsyYx8+61115HSg0AgAgFMADADnPMMce0bt269b5Jmfe5556LxsZGwcEO1qZNmxg9enRcfPHFimCAJqyxsTGee+65JP35MvyYY45pLTkAAPykAQBgBznzzDMPz2Qyibjeqq+vj6lTpwoNdqK2bdvG6NGj47zzzovhw4crggGaoBdeeCHq6+sTMWsmkyk844wzDpUaAAB+wgAAsIP079//C0mZdc6cObFhwwahwS7QqVOnOPnkk+Pf/u3fYu+9945MJmMpAE3Ehg0bYvbs2YmZd8CAAR4DDQCAAhgAYEf43ve+16mysnKPpMybpMcbQlp17tw5xowZE7/61a8UwQBNyPPPP5+YWSsrKwd/73vf6yQ1AID8pgAGANgBTj755CMiIhHtzcqVK+P1118XGjQRXbt2jTFjxsQ555wTgwcPthCAXez111+PlStXJmXczMknn3y41AAA8psCGABgB+jXr19iHv88ZcqUyOVyQoMmpnfv3nHaaafFOeecE/3797cQgF0kl8vFlClTknQd6jHQAAB5TgEMALCdnX766d0qKip2S8Ks9fX1MW3aNKFBE9anT58466yz4pxzzonddtvNQgB2gWnTpkV9fX0iZq2oqNjt9NNP7yY1AID8pQAGANjORo8efURSZp03b15s3LhRaJAAffr0ibPPPjvOPPPM6Nmzp4UA7EQbN26MefPmuR4FACARFMAAANtZr169EvPetSQ9zhD4bwMGDIhf/vKXceaZZ0b37t0tBGAnmTp1apKuRw+TGABA/lIAAwBsR2eccUb38vLyvkmYdf369fHaa68JDRJqwIAB8S//8i9x2mmnRbdunvQJsKPNnz8/Pvzww0TMWl5e3u9HP/pRF6kBAOQnBTAAwHZ03HHHHZSUWWfMmBGNjY1CgwTLZDIxePDg+Nd//dcYM2ZMdOjQwVIAdpDGxsaYMWNGYub9xje+cYjUAADykwIYAGA76tOnz8FJmDOXyyXqMYbAlmUymdh7773jwgsvjDFjxkT79u0tBWAHeOGFF5J0XXqIxAAA8pMCGABgOznppJPat2zZcvckzLpkyZJYuXKl0CBl/loEX3DBBXHyySdH27ZtLQVgO1qxYkW8/fbbiZi1srJy0PHHH+8PAgCAPKQABgDYTr773e8eGBGZJMyapMcXAluvsLAwhg8fHhdeeGGMHj06KisrLQVgO5k+fXpSRi34/ve/f6DEAADyjwIYAGA72X333Q9Nwpz19fUxc+ZMgUEeKCoqihEjRsQll1wSo0ePjpYtW1oKwGc0c+bMqK+vT8SsAwcOPFRiAAD5RwEMALAdHHTQQRUtW7bcKwmzLly4MKqrq4UGeeSvRfDFF18cJ5xwQrRo0cJSALZRVVVVvP7664mYtVWrVkOHDx9eLjUAgPyiAAYA2A7OPvvsz2cymaIkzOrxz5C/iouL47DDDouxY8fGqFGjoqyszFIAtkFSnqaSyWSy55577uclBgCQXxTAAADbwe67735AEuasra2NOXPmCAzyXHFxcYwcOTIuvfRSRTDANpg9e3bU1dUlYtY99tjjAIkBAOQXBTAAwGfUqlWrwnbt2u2fhFnnzZsXtbW1QgMiIqKkpCRGjhwZY8eOjaOPPjpKSkosBeBT2LRpU8ybNy8Rs7Zv337/iooKPwMEAMgjLv4AAD6jCy+8cPeioqKKJMz64osvCgz4P5o3bx5HHXVUXHLJJTFy5MjIZrOWAvAJZs2alYg5i4qKWlx88cWDJAYAkD8UwAAAn9GBBx6YiMfqVVdXJ+ZOFWDXKC8vj1GjRsWll16qCAb4BPPmzYuamppEzHrQQQd5DDQAQB5RAAMAfEZdu3YdnoQ5582bF/X19QIDPlFFRUWMGjUqLr744jj88MOjqKjIUgD+QV1dXbz66quJmLVLly77SwwAIH8ogAEAPoNTTjmlY3l5+W5JmPXll18WGLBVWrVqFccff3xcdNFFMWLEiCgo8C0kwN966aWXEjFnRUXFbieddFJ7iQEA5AffvQMAfAYnnnji55MwZ21tbcyfP19gwDZp06ZNjB49OsaOHasIBvgb8+fPj9ra2iSMmvnud7/7eYkBAOQH37UDAHwGn/vc5/ZLwpwLFy6Muro6gQGfyV+L4PPOOy+GDx+uCAby3ubNm2PhwoWJmLVfv37DJQYAkB98tw4AsI1atWpV2Lp1672TMKvHPwPbU6dOneLkk0+Oc889NwYNGmQhQF6bPXt2IuZs06bN3hUVFX4WCACQB1z0AQBso/PPP39gYWFheVOfs76+PubMmSMwYLvr2bNn/OQnP4nzzjsv9t5778hkMpYC5J3Zs2dHfX19k5+zqKio4vzzzx8oMQCA9FMAAwBso/3333/fJMz5+uuvR01NjcCAHaZLly4xZsyYOOecc2Lw4MEWAuSV6urqeOONNxIx64EHHriPxAAA0k8BDACwjbp27ZqIxz/PnTtXWMBO0bt37zjttNPinHPOif79+1sIkDeScr3VvXv3vaUFAJB+CmAAgG0wZMiQ0srKyj2a+py5XM7jn4Gdrk+fPnHWWWfFOeecE7vttpuFAKk3e/bsyOVyTX7Oli1b7jlo0KBSiQEApJsCGABgG5x55pl7ZjKZbFOfc9myZbFu3TqBAbtEnz594uyzz44zzzwzevbsaSFAaq1bty6WL1/e5OfMZDLZs846a4jEAADSrcgKAAC23tChQ4clYc558+YJC9jlBgwYEAMGDIgFCxbE+PHjY+nSpZYCpM68efOiS5cuTX7OffbZZ5+ImC4xAID0cgcwAMA26Nix4z5JmHP+/PnCApqMAQMGxC9/+cs47bTTolu3bhYCpEpSrrs6deq0j7QAANJNAQwAsJWOOOKIlhUVFf2a+pxVVVWxaNEigQFNSiaTicGDB8e//uu/xpgxY6JDhw6WAqTCW2+9FVVVVU1+zoqKis8deuihLSQGAJBeCmAAgK108sknD46ITFOfc/78+dHY2CgwoEnKZDKx9957x4UXXhhjxoyJ9u3bWwqQaI2NjbFgwYJE/Cv4u9/97h4SAwBILwUwAMBW2n333fdMwpze/wskwV+L4AsuuCBOPvnkaNu2raUAiZWU66/BgwfvKS0AgPQqsgIAgK3Trl27wU19xlwul5Q7UAAiIqKwsDCGDx8e++yzT0ybNi0mTJgQ69evtxggURYsWBC5XC4ymab9sJgOHToMlhYAQHq5AxgAYCsMGjSotGXLlgOa+pzvvfdebNy4UWBA4hQVFcWIESPikksuidGjR0fLli0tBUiMDz/8MJYtW9bk52zZsuXA/v37l0gMACCdFMAAAFvhxz/+8aBMJtPkn6Li7l8g6f5aBI8dOzZOOOGEaNGihaUAibBw4cImP2Mmk8n+5Cc/GSAtAIB0UgADAGyFvffee88kzJmEHzwCfBrNmjWLww47LMaOHRujRo2KsrIySwGatKT8Il5SrmsBANh63gEMALAVunbtOqSpz1hfXx9vvvmmsIBUKS4ujpEjR8bBBx8czz77bDz++ONRXV1tMUCT8+abb0Z9fX0UFTXtH7t16dJlT2kBAKSTO4ABAD6lioqKgoqKikFNfc4lS5bE5s2bBQakUklJSYwcOTLGjh0bRx99dJSUeIUl0LTU1tbG0qVLm/ycLVu2HFRaWupngwAAKeQiDwDgUzr77LP7FhYWNvlnj7722mvCAlKvefPmcdRRR8Ull1wSI0eOjGbNmlkK4HpsKxQWFpafffbZvaQFAJA+CmAAgE9p//3375+EOV9//XVhAXmjvLw8Ro0aFf/+7/8eI0eOjGw2aymA67FP6fOf//xAaQEApI8CGADgU+rRo8fuTX3G2traePvtt4UF5J2KiooYNWpUXHzxxXH44Yc3+XdvAum2ePHiRLySo1evXoOkBQCQPgpgAIBPqXXr1k3+DoklS5ZEQ0ODsIC81apVqzj++OPj4osvjhEjRkRBgW97gZ2voaEhlixZ0uTnbNOmjQIYACCFfCcMAPApDBkypLR58+a9m/qcb775prAAIqJ169YxevToGDt2rCIYcF32MZo3b95n0KBBpdICAEgX3wEDAHwKp556av9MJtPkr53eeustYQH8jTZt2sTo0aPjvPPOi+HDhyuCAddlfyOTyRT84Ac/+Jy0AADSxXe+AACfwuDBg5v84/Hq6+tj0aJFwgL4CJ06dYqTTz45/u3f/i323nvvyGQylgLsUIsXL07Eqzn23HPPgdICAEgXBTAAwKfQpUuXAU19xnfeeSfq6uqEBbAFnTt3jjFjxiiCgR2utrY23n333SRc53oPMABAyiiAAQA+hZYtW/Zv6jN6/DPAp9elS5cYM2ZMnHvuuTF48GALAfL2+iwJ17kAAGwdBTAAwCcYPnx4eUlJSeemPqfHPwNsvV69esVpp50W55xzTvTvrwMB8u/6rLS0tPPw4cPLpQUAkB4KYACAT/Ctb31rt4ho8s8IXbx4sbAAtlGfPn3irLPOinPOOSd22203CwG2i4T8gl7m29/+dj9pAQCkhwIYAOAT7L777k2+CVi7dm1s2LBBWACfUZ8+feLss8+OM888M3r27GkhwGfy4Ycfxrp165r8nAMHDlQAAwCkSJEVAABsWadOnZr8D8TefvttQQFsRwMGDIgBAwbEggULYvz48bF06VJLAbb5Oq1Vq1audwEA2GkUwAAAn6CyslIBDJCnBgwYEP3794958+bFQw89FO+++66lAFtlyZIlsddeezX1613PvgcASBEFMADAFnTq1CnbvHnzXk19ziVLlggLYAfJZDIxePDg2GOPPeLll1+OBx98MFauXGkxQGqu05o3b967Xbt2RatXr66XGABA8nkHMADAFowZM6ZnJpPJNuUZGxsbPZoUYCfIZDKx9957x4UXXhhjxoyJ9u3bWwrwiZYuXRqNjY1NesaCgoLsqaee2kNaAADp4A5gAIAt2Hvvvfs29RlXrlwZtbW1wgLYSf5aBO+5554xa9asmDBhQqxevdpigI9UW1sb77//fnTu3LlJzzls2LC+EbFIYgAAyecOYACALejRo0eTL4DfeecdQQHsAoWFhTF8+PC48MILY/To0VFZWWkpQGKv15Jw3QsAwKejAAYA2ILWrVs3+ff/vvvuu4IC2IUKCwtjxIgRcckll8To0aOjZcuWlgIk7notCde9AAB8Oh4BDQCwBc2bN+/Z1GdUAAM0kW+wi4pixIgRsd9++8WUKVPiscceiw0bNlgMEO+9914SrnsVwAAAKeEOYACAj9G/f/+SkpKSjk19TgUwQNPSrFmzOOyww2Ls2LExatSoKCsrsxTIc0m4XistLe3Ut2/fYmkBACSfAhgA4GOccMIJ3Zr69dK6deuiqqpKWABNUHFxcYwcOTJ+/etfK4Ihz1VVVcX69eub+pgF3/zmN7tLCwAg+RTAAAAfY8iQIT2b+oxJeJwgQL77axE8duzYOProo6OkpMRSIA8l4botCde/AAB8MgUwAMDH6N69e8+mPqPHPwMkR/PmzeOoo46KSy65JEaOHBnNmjWzFMgjSbhuS8L1LwAAn0wBDADwMVq1atWjqc+4bNkyQQEkTHl5eYwaNSr+/d//PUaOHBnZbNZSIA8k4botCde/AAB8MgUwAMDHqKio6NXUZ1y+fLmgAJL750yMGjUqLr744jj88MOjqKjIUiDFknDd1rJly16SAgBIPgUwAMBHyGazmbKysq5NecbGxsZYtWqVsAASrlWrVnH88cfHxRdfHCNGjIiCAt+qQxqtWrUqGhsbm/SMJSUlXbPZbEZaAADJ5rtKAICPcNxxx7UrKCgobsozrl69Ourr64UFkBKtW7eO0aNHx9ixYxXBkEJ1dXXxwQcfNOkZCwoKio877rh20gIASDbfTQIAfITPf/7zXZr6jO+//76gAFKoTZs2MXr06Dj//PNj+PDhimBIkRUrVrgOBgBgh/NdJP+PvTuPr7I888d/nSwEkhD2HUQEUVRAoIiouCtq64Jabd1arVorbqO2tlXbaavTOu38Rqffdmpbu9rWpYogsqgFRXCttAIKArJDgAAJBLKQ5JzfH8WO4+DOcp6T9/v18jWvTv657ut6hNvnk/t+AICd2G+//bL+xVcSXiAC8PF17do1Lr300rj99ttj2LBhkUq5lRWSLgn7tyTsgwEAeH8FWgAA8H917txZAAxAVujevXtceeWVsXr16njiiSdi9uzZkclkNAYSKAn7tyTsgwEAeH8CYACAnWjXrp0roAHIKj169Igrr7wyli5dGpMmTYo5c+ZoCiRMEvZvSdgHAwDw/gTAAAA7UVxc3D3baxQAAzRPffr0ibFjx8aSJUti/PjxsWDBAk2BhEjC/i0J+2AAAN6fbwADAOxESUlJz2yur7q6Ourq6gwKoBnbb7/94l/+5V/ia1/7WhxwwAEaAglQV1cX1dXV9sEAAOxWAmAAgHc5/PDDSwsKCtpmc40VFRUGBUBERPTt2zduvPHGuOGGG2LffffVEMhy2b6PKygoaDt8+PASkwIASC4BMADAu5x44oldsr3GDRs2GBQA/8uAAQPiG9/4Rtxwww3Ru3dvDQH7uE+yH+5qUgAAyeUbwAAA79KvX7+sD4DXr19vUADs1IABA+LAAw+MuXPnxoQJE2LlypWaAlkkCTe5HHDAAV0i4i3TAgBIJgEwAMC7dO/evXO21+gEMADvJ5VKxaBBg2LgwIExe/bsGD9+fKxbt05jwD4uZ/bDAAC8NwEwAMC7tG/fvlO21ygABuDDSKVSMWzYsBg6dGjMnj07HnvsMbdIwF6WhBPASdgPAwDw3gTAAADv0rp166w/8ZCEF4cAZI+3g+BDDz00XnnllZg4caK/S8A+LtH7YQAA3psAGADgXUpKSrL6xENjY2Ns3rzZoAD4yPLz8+Pwww+P4cOHx/PPPx8TJ06MqqoqjYE9aPPmzdHY2BgFBdn7Wi7b98MAALw/ATAAwLu0bNmySzbXV1lZGZlMxqAA+Njy8/Nj1KhRMXLkyHjhhRcEwbAHZTKZqKqqio4dO9oPAwCwWwiAAQDepaioKKuvvKusrDQkAHaJgoKCGDVqVIwYMSJmzpwZkydPji1btmgM7IH9XDYHwNm+HwYA4P3laQEAwP8YPnx4SX5+fkk21ygABmBXa9GiRRx//PFxxx13xNlnnx0lJSWaAs14P5efn18yfPhwfxAAACSUABgA4B2OOOKIDtleo+//ArC7FBUVxejRo+P73/9+nH322VFcXKwpsBsk4cr1JOyLAQDYOQEwAMA79O3bt1221+gEMAC729tB8B133BGnn356tGrVSlOgme3n9ttvv7YmBQCQTAJgAIB36NSpkwAYAHYoKSmJz3zmM3HnnXfG6NGjo0WLFpoCzWQ/l4R9MQAAOycABgB4hw4dOrTN9hqTcGUgALmlpKQkzj777PjOd74To0aNivz8fE2BHN/PJWFfDADAzgmAAQDeoaysrG221ygABmBvad++fVx00UVx5513xgknnBCFhYWaAjm6nysrK3MCGAAgoQTAAADvUFJS0j6b68tkMlFdXW1QAOxV7dq1i/POOy+++93vxqhRoyIvz+sF+CiSsJ8rLS0VAAMAJJT/QgMAeIfi4uK22VxfXV1dNDY2GhQAWeHtE8F33HGHIBg+gsbGxqirq7MvBgBgt/BfZgAA79CqVausPung9C8A2ahDhw5x0UUXxbe//e04/PDDBcGQA/u6oqIiJ4ABABLKf5EBALxDQUGBABgAPqauXbvGpZdeGt/61rdi2LBhkUqlNAUSuq9r0aJFW1MCAEimAi0AAPgfhYWFZdlc39atWw0JgKzXrVu3uPLKK2P16tXxxBNPxOzZsyOTyWgMJGhfl+37YgAA3psAGADgnZujgoLW2VyfE8AAJEmPHj3iyiuvjKVLl8akSZNizpw5mgIJ2ddl+74YAID35gpoAIAdWrdunZefn98ym2sUAAOQRH369ImxY8fGLbfcEgMGDNAQSMC+Lj8/v1WrVq28OwQASCCbOACAHQYNGlQSEVn9scJt27YZFACJtd9++8UNN9wQX/va1+KAAw7QEJq1BOzr8gYPHlxsUgAAySMABgDY4YADDijJ9hpramoMCoDE69u3b9x4441xww03xL777qshNEu1tbVZX2P//v1LTQoAIHl8AxgAYIeePXtm/QuuJLwoBIAPa8CAATFgwICYP39+jBs3LpYvX64pNBtJ2Nf16NGjxKQAAJJHAAwAsEOnTp0EwACwFwwYMCAOPPDAmDt3bkyYMCFWrlypKeS8JOzrunbtKgAGAEggATAAwA5lZWVZ/4Krrq7OoADISalUKgYNGhQDBw6M2bNnx4QJE2Lt2rUaQ85KQgDcpk0bV0ADACSQABgAYIeysjIngAFgL0ulUjFs2LAYOnRozJ49O8aPHx/r1q3TGHKOABgAgN1FAAwAsENJSUlxttfoBDAAzcXbQfCQIUPi5ZdfjokTJ0ZFRYXGkDOSEAAnYX8MAMD/JQAGANihqKioKNtrrKmpMSgAmpW8vLw4/PDDY/jw4fH888/HE088EZWVlRpD4iUhAG7RokWRSQEAJI8AGABgh8LCwhbZXF86nY7t27cbFADNUn5+fowaNSpGjhwZL7zwQkycODGqqqo0hsTavn17ZDKZSKVSWVtjixYtWpgUAEDyCIABAHbI9gC4oaHBkABo9goKCmLUqFExYsSImDlzZkyePDm2bNmiMSROJpOJhoaGyOaMtbCw0AlgAIAk/neTFgAA7NgYFRRk9QuuxsZGQwKAHVq0aBHHH398HHnkkfHMM8/E1KlTY9u2bRpDomR7AJzt+2MAAN5jH6cFAAA7NkZZ/oLL9c8A8H8VFRXF6NGj49hjj41nnnkmpkyZEjU1NRpDImT7DS8FBQWugAYASCABMADA2xujLH/B5QpoAHhvbwfBRx11VEyfPj2efvrpqK2t1RiymgAYAIDdIU8LAAD+QQAMAMlXUlISn/nMZ+LOO++M0aNHZ/X1uiAABgBgdxAAAwDskO1XQAuAAeDDKykpibPPPjv+7d/+LUaPHh2FhYWagv3dR5Sfn9/SlAAAkkcADADw9sYoL88JYADIMa1bt46zzz47vve978UJJ5wgCMb+7iPIz8/3LwwAQAIJgAEAdkilUlm9N2psbDQkAPiY2rVrF+edd15897vfjRNOOCEKCgo0Bfu7D94f55sSAEDyCIABAHbI9gA4nU4bEgB8Qu3bt/9nEDxq1KjIy/NqBPu799kfp0wJACB5/FcOAMAOXnABQPPRoUOHuOiii+J73/ueIJi9JpPJZHuJ/sUAAEggmzgAgP+R1QFwAl4QAkDidOzYMS666KL41re+FYcffnj4fTDs796xOc7yG3IAANg5mzgAgITsjQTAALD7dOvWLS699NL41re+FcOGDRMEs0dk+xXQeXl5/kUAAEigAi0AAPiHbH/BJQAGgN2ve/fuceWVV8ayZcviiSeeiDlz5mgKzXl/5/AIAEACCYABAHbIZDJOAAMAERGx7777xtixY2PJkiUxYcKEmD9/vqZgfwwAQCIIgAEA/ocr7gCA/2W//faLG264Id56660YP358vPnmm5rCLpPtV0Cn3IUOAJBIAmAAgB2y/QVXtr8gBIBc1rdv37jxxhvjrbfeinHjxsWiRYs0hU/MFdAAANjEAQDsXln9Bs4BDADY+/r27Rs333xz3HDDDdG7d28NIdf3d75BAgCQQE4AAwDskO0nMATAAJA9BgwYEAMGDIj58+fHI488EitXrtQUcnF/5woaAIAEcgIYAGCHVCqVzvL6DAkAssyAAQPi1ltvjbFjx0bPnj01hJza32UScEc1AAD/lxPAAAD/QwAMAHysv6MHDRoUBx98cDz//PMxadKk2LRpk8aQ+P1dtv+CJAAAO+cEMADADul0dr/fEgADQHarr6+PioqK2LZtm2aQE/u7dDrtBDAAQAI5AQwA8D+cAAYAPrK6urp4+umnY9q0acJfcm1/5wQwAEACCYABAP6HEw4AwIfW0NAQ06ZNiyeffDK2bt2qIXxkCfgGsAAYACCBBMAAADtkMpmsDoDz8ny9AwCywdvB71NPPRXV1dUaQs7u7wTAAADJJAAGANgh219wCYABYO9qbGyMGTNmxJNPPhmVlZUawieWn5+f9VtkUwIASB4BMADADplMpiGb6yssLDQkANgL0ul0zJo1KyZPnhwbN27UEHaZgoLsfjXX1NTUaEoAAAncZ2oBAMA/NDY2bs/m+gTAALBnpdPpePnll2Py5Mmxdu1aDWGXa9GiRbb/O1BvSgAAySMABgDYoampSQAMAEQmk4nZs2fH448/HuXl5RpCs93fNTY2CoABABJIAAwAsENDQ0NWv+ASAAPA7vV28PvEE0/E6tWrNYTdLtuvgM72G3IAAHiPfaYWAAD8gyugAaD5mjNnTkyaNCmWLl2qGewx2X4FtAAYACCZBMAAADs0NTU5AQwAzcyCBQtiwoQJ8dZbb2kG9nfv0tDQIAAGAEggATAAwA7Z/oJLAAwAu87ChQtj/PjxsXjxYs1gr8n2K6Cz/RckAQB4j32mFgAA/EO2B8AFBQWRl5cX6XTasADgY1q+fHmMGzcu5s+frxnsVXl5eVkfAG/fvt0JYACABBIAAwDs0NDQkPUnHFq1ahXbtm0zLAD4iFauXBmPPPKI4Jes2tclYH8sAAYASCABMADADrW1tXXZXqMAGAA+mnXr1sX48eNj9uzZkclkNISs2tdlu7q6ulqTAgBIHgEwAMAOW7du3ZrtNSbhRSEAZIP169fHY489JvjFvu4TqK6u3mpSAADJIwAGANihqqpKAAwACbdhw4Z4/PHH45VXXommpiYNwb7uE6isrHT1DABAAgmAAQB22LRpU9a/4GrZsqVBAcBOVFVVxcSJE+OFF16IxsZGDSHrJSEA3rRpkxPAAAAJJAAGANhh3bp1WR8AOwEMAP/bli1bYsKECYJfEicJ+7ry8nIBMABAAgmAAQB2WLZsmSugASAhqqurY/LkyTFz5syor6/XEBInCfu6pUuXCoABABJIAAwAsMP8+fOz/gRwcXGxQQHQrNXU1MSUKVPimWeeEfySaEnY173++uu+AQwAkEACYACAHRYsWFCXyWQaUqlUYbbW2Lp1a4MCoFmqq6uLp59+OqZNmxbbtsmkSL5s39el0+mGpUuXbjcpAIDkEQADALxDU1PTtoKCgrbZWp8AGIDmZvv27TF9+vR48sknY+tWt9GSO7J9X9fU1ORfOACAhBIAAwC8Q0NDw9ZsDoBLS0sNCYDm8ndyTJs2LZ566qmorq7WEHJOtu/rGhsb/YsHAJBQAmAAgHeor6+vbNWqVc9src8JYAByXWNjY8yYMSOefPLJqKys1BByVrbv6+rr66tMCQAgmQTAAADv0NDQkNVvmgXAAOSqdDods2bNismTJ8fGjRs1hJyX7fu6bN8XAwDw3gTAAADvUFdXV5XN9ZWWlkYqlYpMJmNYAOSETCYTr732Wjz++OOxatUqDaFZSKVSUVJSktU11tbWVpkUAEAyCYABAN5h27Ztm7K5vvz8/GjVqlXU1NQYFgCJlslkYvbs2fH4449HeXm5htCstGrVKvLz87O6xq1btzoBDACQUAJgAIB3qK6u3pztNZaVlQmAAUist4PfiRMnxpo1azSEZqmsrCzra9y2bVuVSQEAJJMAGADgHaqqqjZle43t2rWLtWvXGhYAiTNnzpyYNGlSLF26VDNo1tq1a5f1NW7atMkJYACALNbQWBgFjQ0REZFKRSavMJre/pkAGADgHSoqKqqyvcYkvDAEgHdasGBBTJgwId566y3NgITs5zZs2CAABgDIYoUFDf9MejMRqab0/+S+AmAAgHdYtWpV1r/oatu2rUEBkAgLFy6M8ePHx+LFizUD3iEJAfDq1aurTAoAIJkEwAAA77BgwYKsD4CdAAYg2y1fvjzGjRsX8+fP1wzYiST8Ql8S9sUAAOycABgA4B2eeOKJjZlMpimVSuVna41OAAOQrVauXBmPPPKI4Bc+QLb/Ql8mk2l64oknNpoUAEAyCYABAN6huro6vX379g1FRUVdsrVGJ4AByDZr166NCRMmxOzZsyOTyWgIJHw/t3379g3V1dVpkwIASCYBMADAu9TV1a0XAAPAB1u/fn089thjgl/Isf1cXV3delMCAEguATAAwLvU1dVVtGnTJmvrKykpiRYtWsT27dsNC4C9oqKiIiZOnBivvPJKNDU1aQh8BEVFRVFcXJz1+2GTAgBILgEwAMC7bN26dV2XLll7ADhSqVR07Ngx1qxZY1gA7FFVVVUxceLEeP755wW/8DF17NgxUqlU1u+HTQoAILkEwAAA71JVVZX1Jx46deokAAZgj9m8eXM8/vjj8cILL0RjY6OGwCfcx9kPAwCwOwmAAQDeZf369Vn/zbMkvDgEIPm2bNkSU6ZMiZkzZ0Z9fb2GwC7QsWNH+2EAAHYrATAAwLusXr066088JOHFIQDJVVNTE1OmTIlnnnlG8Au7WBJ+kW/VqlUCYACABBMAAwC8y9///ves/+aZABiA3aG2tjYmT54czz77bNTV1WkINNN93KuvvioABgBIMAEwAMC7PPzww+t//OMfN6RSqcJsrbFz584GBcAus3379pg+fXpMnTo1tm3bpiGwG2X7CeB0Ot3w8MMPC4ABABJMAAwA8C7V1dXpurq68latWu2TrTV26NAh8vLyIp1OGxgAH1tDQ0NMmzYtnnrqqaiurtYQ2M3y8vKiQ4cOWV1jfX39mtraWptMAIAEEwADAOxEbW3tmmwOgAsKCqJdu3axceNGwwLgI2tsbIwZM2bEk08+GZWVlRoCe0j79u2joCC7X8fV1NSUmxQAQLIJgAEAdmLz5s2r2rdvn9U1duvWTQAMwEeSTqdj1qxZMXnyZH+HwF7av2W7LVu2rDQpAIBkEwADAOzEpk2bVvfp0yera+zWrVvMmzfPsAD4QG8Hv1OmTIkNGzZoCOzF/Vu227BhwxqTAgBINgEwAMBOrFixYvWwYcOyusYkvEAEYO/KZDLx0ksvxZQpU6K83K2usLd17do162tctWrVKpMCAEg2ATAAwE7Mnz9/9ZgxY7K6xiS8QARg78hkMjF79uyYOHFirFnjMB9kiyT8At+8efP8oQEAkHACYACAnRg3btyab37zm5mISGVrjU4AA7Azc+bMiSeeeCKWLVumGZBlEvALfJlx48atNikAgGQTAAMA7MTrr79e29DQsKmwsLBDttZYXFwcZWVlsWXLFgMDIBYsWBDjx4+PJUuWaAZkobKysiguLs7qGhsaGjYuWLCgzrQAAJJNAAwA8B62bt26vF27dh2yucauXbsKgAGauYULF8b48eNj8eLFmgFZLAm3t2zbtm25SQEAJJ8AGADgPVRVVS1t167d0GyusWfPnrFw4ULDAmiGli1bFo899ljMnz9fMyABevbsmfU1VlZWLjUpAIDkEwADALyHdevWLevTp09W15iEF4kA7ForVqyIRx99VPALCZOEfdvatWuXmRQAQPIJgAEA3sPChQuXHX744VldY69evQwKoJlYtWpVjB8/PubOnRuZTEZDIGGSsG9buHDhMpMCAEg+ATAAwHuYNm3a0ksuuSSra+zevXvk5+dHU1OTgQHkqHXr1sX48eNj9uzZgl9IqIKCgkR8A/jpp59eZloAADmw/9QCAICde+ihhzbcd999W/Pz80uzdjNXUBBdunSJNWvWGBhAjqmoqIiJEyfGyy+/HOl0WkMgwbp27RoFBdn9Gq6xsbH6kUce2WBaAADJJwAGAHgf27ZtW15WVnZwNtfYq1cvATBADqmqqoqJEyfG888/74YHyBFJ+P7vtm3blpsUAEBuEAADALyPLVu2LMv2ALhnz57x0ksvGRZAwm3evDkef/zxeOGFF6KxsVFDIIck4fu/W7ZsWWpSAAC5QQAMAPA+1q9fvyzbT2z06NHDoAASbMuWLTFlypSYOXNm1NfXawjkoCTs19avX7/MpAAAcoMAGADgfSxYsGDh0KFDs7rGfffdN1KpVGQyGQMDSJCampqYMmVKPPPMM4JfyGGpVCr23XffrK9z/vz5C00LACA3CIABAN7Ho48++uYFF1yQ1TWWlJRE586dY926dQYGkAC1tbUxefLkePbZZ6Ourk5DIMd17do1WrVqlfV1/vnPf15kWgAAuUEADADwPiZNmlRVX1+/oaioqGM217nvvvsKgAGy3Pbt22P69OkxderU2LZtm4ZAM9GnT5+sr7G+vr7iySefrDItAIDcIAAGAPgAW7duXZTtAXCfPn3ipZdeMiyALNTQ0BDTpk2Lp556KqqrqzUEmpkkXP+8detWp38BAHKIABgA4ANUVFQs7NChw8hsrjEJLxYBmpvGxsaYMWNGPPnkk1FZWakh0EwlYZ9WUVHh+78AADlEAAwA8AGWLl266MADD8zqGnv16hUFBQXR2NhoYAB7WTqdjlmzZsWkSZNi06ZNGgLNWGFhYfTs2TMR+13TAgDIHQJgAIAPMHPmzEWnnnpqdm/qCgqiZ8+esWzZMgMD2EveDn4nT54cGzdu1BAg9tlnn8jPz0/CfnexaQEA5I48LQAAeH+//OUvV6bT6bpsr7NPnz6GBbAXZDKZePHFF+O73/1u3H///cJf4J+ScP1zOp2u++Uvf7nStAAAcocTwAAAH6C6ujpdXV29uE2bNodkc539+vWL6dOnGxjAHpLJZGL27NkxceLEWLNmjYYAO92fJWCvu7i6ujptWgAAuUMADADwIWzYsGFetgfA/fv3NyiAPeTVV1+NSZMmxapVqzQD2KlUKpWI/dmGDRvmmhYAQG4RAAMAfAiLFy9+o2/fvlldY1lZWXTu3DnWr19vYAC7yYIFC2L8+PGxZMkSzQDeV5cuXaK0tDQJ+9z5pgUAkFsEwAAAH8JTTz31+ujRo7O+zv33318ADLAbLFy4MMaPHx+LFy/WDOBD78uSYMqUKa+bFgBAbsnTAgCAD/aLX/xiTWNjY1W215mUF40ASbFs2bK4++674z/+4z+Ev8BHkoTv/zY0NFTee++9q00LACC3OAEMAPAhNDQ0ZDZv3jy/Q4cOI7O5TgEwwK6xYsWKePTRR2P+fDejArm7L9uyZYs/5AAAcpAAGADgQ1q3bl3WB8AdO3aMNm3axObNmw0M4GNYtWpVjB8/PubOnRuZTEZDgI+lbdu20aFDh0Tsb00LACD3CIABAD6kefPmzTvooIOyvs4DDzwwXnrpJQMD+AjWrVsX48ePj9mzZwt+gV2yH0uCuXPnzjMtAIDcIwAGAPiQ/vznP88/77zzsr7OAw44QAAM8CFVVFTEuHHjBL/ALt+PJcHDDz/sBDAAQA4SAAMAfEgTJ06srK2tXdGqVat9srnOgw8+2LAAPkBVVVVMnDgxnn/++WhqatIQYJdKwq0xNTU1yydNmlRlWgAAuUcADADwEWzYsOHvvXr1yuoAuG3bttG1a9dYu3atgQG8y+bNm+Pxxx+PF154IRobGzUE2OW6desWbdu2TcS+1rQAAHKTABgA4CNYuHDha7169Toj2+scMGCAABjgHbZs2RJTpkyJ5557LrZv364hwG6TlO//Lly48O+mBQCQmwTAAAAfwcSJE/9+wgknZH2dBx54YEyfPt3AgGavpqYmpkyZEs8880zU19drCLDbDRgwIBF1jh8//u+mBQCQmwTAAAAfwb333rv6Bz/4wfqioqLO2VznAQccEHl5eZFOpw0NaJZqa2tj8uTJ8eyzz0ZdXZ2GAHtEXl5e9O/fP+vrrK+vX3ffffeVmxgAQG4SAAMAfESVlZVzu3btmtXHgFu1ahX77LNPLFu2zMCAZqWuri6efvrpmDZtWmzbtk1DgD1qn332iVatWmV9nZs2bZpjWgAAuUsADADwES1dunR2tgfAERGDBg0SAAPNRkNDQ0ybNi2eeuqpqK6u1hBgr+2/kuCtt976m2kBAOQuATAAwEc0ffr0v48cOTLr6xw4cGBMmDDBwICc1tDQEM8991w8+eSTUVlZqSHAXt9/JcG0adP+bloAALlLAAwA8BH9x3/8x9JbbrmlOj8/v3U219mrV68oKyuLLVu2GBqQc9LpdMyaNSsmTZoUmzZt0hBgrysrK4tevXplfZ2NjY1b7rnnnmUmBgCQuwTAAAAfUW1tbXrDhg1/7dKly3HZXGcqlYqBAwfGrFmzDA3IGW8Hv5MnT46NGzdqCJA1Bg4cGKlUKuvr3Lhx4yu1tbVpEwMAyF0CYACAj+Gtt956JdsD4IgQAAM5I51Ox8svvxxTpkyJ8vJyDQGyct+VBIsWLXrFtAAAcpsAGADgYxg/fvwrRxxxRNbXedBBB0VBQUE0NjYaGpBImUwmZs+eHRMnTow1a9ZoCJCVCgoK4qCDDkpErY888ogAGAAgx+VpAQDAR/fjH/94ZX19/fpsr7OoqCj69etnYEAivfrqq3HHHXfEz3/+c+EvkNX69esXRUVFWV9nXV1d+b333rvaxAAAcpsTwAAAH9OGDRte6dGjx6ezvc5BgwbFggULDAxIjCVLlsSECRNi/vz5mgEkwuDBgxNR5/r1653+BQBoBgTAAAAf07x5815OQgA8bNiwePjhhyOTyRgakNXefPPNmDBhQixevFgzgMRIpVIxdOjQRNQ6d+7cl0wMACD3CYABAD6m++677+XRo0dnIiKVzXW2bds2evfuHcuWLTM0ICstW7YsHnvsMSd+gUTq06dPtG3bNgmlpu+9996/mhgAQO4TAAMAfEwTJ06s3Lp165LS0tK+2V7rkCFDBMBA1lmxYkU8+uijgl8g0YYMGZKIOqurqxc+/fTTm00MACD3CYABAD6B8vLyl/fff/+sD4AHDx4c48aNMzAgK6xcuTImTJgQc+fOdT09kHhJ+f7vmjVrfP8XAKCZEAADAHwCM2fOfG7//ff/fLbX2a1bt+jWrVuUl5cbGrDXrFu3LsaPHx+zZ88W/AI5oWfPntGlS5dE1DpjxoznTAwAoHkQAAMAfAK33Xbba5dcckl1fn5+62yvdciQIQJgYK9Yv359PPbYY4JfIOck5frnxsbGzbfddts8EwMAaB4EwAAAn0BlZWXThg0b/tqlS5fjsr3WQw89NCZNmmRowJ78MzKeeOKJeP7556OpqUlDgJxz6KGHJqLOioqKV6qrq9MmBgDQPAiAAQA+oXnz5s1MQgDcu3dv10ADe0RVVVVMnDgxXnjhhWhsbNQQICd17949evbsmZT9quufAQCakTwtAAD4ZP77v/97VkQk4kTFpz71KQMDdpstW7bEQw89FLfffns899xzwl8gpw0fPjwRdWYymfTdd9/9gokBADQfTgADAHxCkyZNqtqyZcuCsrKyg7K91uHDh8fjjz9uaMAuVVNTE1OmTIlnnnkm6uvrNQTIealUKg477LBE1Lply5bXp0+fvsXUAACaDwEwAMAusHz58lkDBw7M+gC4S5cu0atXr1i5cqWhAZ9YbW1tTJ48OZ599tmoq6vTEKDZ6N27d3Ts2DEx+1QTAwBoXgTAAAC7wLPPPvvCwIEDr0hCrcOGDRMAA59IXV1dPP300zFt2rTYtm2bhgDNzrBhwxJT61/+8pcXTQwAoHnxDWAAgF3g1ltvnV9fX782CbUefvjhkUqlDA34yBoaGmLq1Klx6623xuOPPy78BZqlJF3/XFdXt/rWW29dYGoAAM2LE8AAALtAQ0NDZs2aNc/16dPns9lea7t27aJPnz6xZMkSgwM+7J9xMW3atHjqqaeiurpaQ4Bmbb/99ou2bdsmotbVq1fPNDEAgOZHAAwAsIs8++yz05IQAEdEHHHEEQJg4AOl0+mYNWtWTJo0KTZt2qQhABFx5JFHJqbW6dOnTzMxAIDmxxXQAAC7yC233PJaQ0NDZRJqHT58eLRo0cLQgJ1Kp9Px3HPPxW233Rb333+/8Bdgh6KiovjUpz6ViFobGho23HLLLXNNDQCg+XECGABgF6murk6Xl5c/t88++5yR7bW2bNkyDj300Hj55ZcNDvindDodL7/8ckyZMiXKy8s1BOBdhgwZEkVFRYmodc2aNc/V1tamTQ0AoPkRAAMA7EIvvvjiM0kIgCMiRo4cKQAGIiIik8nE7NmzY+LEibFmzRoNAXif/VNSzJo161kTAwBongTAAAC70O233/7KOeecszU/P78022sdMGBAtG/f3tWu0My9+uqrMWnSpFi1apVmALyPjh07xgEHHJCIWhsbG6u/8Y1v/NXUAACaJwEwAMAutHLlyob169fP6tat2+hsrzWVSsXhhx8ekyZNMjhohubMmROTJ0+OJUuWaAbAh3D44YdHKpVKRK3r16+fVVFR0WhqAADNU54WAADsWq+++mpirts77LDDDAyamTfffDP+/d//PX7yk58IfwE+pFQqFSNGjEhMva+88sozpgYA0Hw5AQwAsIvddNNNz5166qnV+fn5rbO91m7dukX//v1j4cKFBgc5btmyZfHYY4/F/PnzNQPgIzrggAOic+fOiai1sbFxy4033jjL1AAAmi8BMADALrZy5cqG8vLyGT179vx0Euo9+uijBcCQw5YvXx7jxo0T/AJ8wv1SUpSXlz9TXl7eYGoAAM2XABgAYDeYMWPGUxdccEEiAuAhQ4ZE69ato7q62uAgh6xcuTImTJgQc+fOjUwmoyEAH1ObNm3i0EMPTUy9zz777FOmBgDQvPkGMADAbvDVr371lYaGhk1JqLWgoCCOOOIIQ4McsW7duvj5z38ed955Z8yZM0f4C/AJjRw5MvLz8xNRa0NDw8abbrrpVVMDAGjenAAGANgNKisrm1atWjW9T58+5ySh3qOPPjqefPJJQREk2Pr16+Oxxx6L2bNn+3cZYBdJpVIxatSoxNS7cuXKadXV1WmTAwBo3pwABgDYTaZNm5aY6/c6duwYAwYMMDRIoA0bNsSvf/3r+Nd//dd49dVXhb8Au9CAAQOiY8eOian36aefftLUAAAQAAMA7CZf+9rX5tTX11ckpd6jjjrK0CBBqqqq4v77749vf/vb8eKLL0ZTU5OmAOxiRx55ZGJqra+vX/eNb3zjdVMDAMAV0AAAu0ltbW16xYoVT++///6fT0K9hx56aLRt2zaqqqoMD7LYli1bYsqUKfHcc8/F9u3bNQRgN2nbtm0MGTIkMfUuX778qdraWtc/AwDgBDAAwO70xz/+cUJSas3Pz4/jjjvO0CBL1dTUxKOPPhq33XZb/OUvfxH+Auxmxx57bOTn5yel3Myvf/3rCaYGAECEABgAYLe66667llZXV89PSr1HH310tGjRwuAgi7wd/H7jG9+IqVOnRn19vaYA7GYtWrSIo48+OjH1btmy5Y177rlnhckBABDhCmgAgN3u9ddfn3T44YcPSEKtxcXFcdhhh8XMmTMNDvayurq6ePrpp2PatGmxbds2DQHYgw477LAoKSlJTL3z5s17wtQAAHibE8AAALvZ9773vanpdLohKfWecMIJkUqlDA72koaGhpg6dWrceuut8fjjjwt/AfawVCoVJ5xwQmLqTafT27/73e8+ZXIAALzNCWAAgN1s+vTpWyoqKmZ26dIlER/Y7d69e/Tv3z/efPNNw4M9qKGhIaZNmxZPPfVUVFdXawjAXnLAAQdE9+7dE1NvRUXFczNmzPAXBwAA/+QEMADAHjBr1qxEXcuXpFMvkHTpdDqee+65uP322+PRRx8V/gLsZccff3yi6p0xY8YkUwMA4J2cAAYA2AO++tWvvnT66adXFRYWtk1CvQMHDoyOHTvGhg0bDA92k3Q6HbNmzYrJkyfHxo0bNQQgC3Ts2DEGDhyYmHobGhoqb7755pdMDgCAd3ICGABgDygvL29YsWLF1MRsEvPy4sQTTzQ42A3S6XS8+OKL8Z3vfCfuv/9+4S9AFjnppJMiLy85r8tWrFgxpaKiotHkAAB4JwEwAMAe8qtf/erRiMgkpd6jjjoqysrKDA52kUwmE6+++mp873vfi1//+texdu1aTQHIImVlZXHUUUcl6q+W//7v//6zyQEA8G4CYACAPeQ///M/l1dWVv4tKfUWFhbGMcccY3CwC7wd/P785z+PNWvWaAhAFjruuOOioCA5X0urqqqa/dOf/nS1yQEA8G4CYACAPeill14al6R6jzvuuCgqKjI4+JjmzJkTd911V/z85z+P1au9owfIVkVFRYn7xbcXXnhhnMkBALAzBVoAALDnjB079pkFCxZUFhYWtktCvSUlJXHEEUfE9OnTDQ8+gjfffDPGjx8fb731lmYAJMCRRx4ZJSUliam3oaFh0zXXXPOsyQEAsDMCYACAPai8vLxh6dKlE/v3739xUmo+8cQT49lnn410Om2A8AEWLVoUjz32WCxevFgzABIiLy8vTjzxxETVvGTJkifKy8sbTA8AgJ3ucbUAAGDP+u1vfzsxIjJJqbdjx44xdOhQg4P3sXz58rj77rvjRz/6kfAXIGGGDRsWHTp0SFLJmd/85jePmxwAAO9FAAwAsIf953/+5/JNmza9kqSaTz/99EilUoYH77Jy5cr4yU9+Et///vdj/vz5GgKQMHl5eXHGGWckquZNmza9fM8996wwPQAA3osroAEA9oKXXnpp/KmnnnpYUurt2rVrDBkyJGbPnm14EBHr1q2L8ePHx+zZsyOTyWgIQEINHTo0OnfunKiaX3jhhQkmBwDA+xEAAwDsBZdffvkzS5YsWVdUVNQlKTWfccYZ8be//U3YRbO2fv36eOyxxwS/ADkglUrF6aefnqia6+rq1lx22WXTTQ8AgPcjAAYA2AsqKyub5s+f/8ihhx56dVJq7tatm1PANFsbNmyIxx9/PF555ZVoamrSEIAc8KlPfSq6du2aqJrfeOONcdXV1WnTAwDg/fgGMADAXvL1r399XDqdrktSzb4FTHNTVVUV999/f3z729+OF198UfgLkCNSqVR8+tOfTlTN6XS69pvf/OZjpgcAwAdxAhgAYC+ZMWNG9Zo1a/7Ss2fPxLx97N69ewwcODDmzJljgOS0LVu2xIQJE+KFF16IxsZGDQHIMYceemh069YtUTWvXr36qRkzZlSbHgAAH8QJYACAvejXv/71HyMiUR8SPeuss5wCJmdt27YtHn300bjtttviueeeE/4C5KC8vLwYM2ZM0srO/OpXv/qT6QEA8KH2vFoAALD3fP/733+rqqoqUR/V7dGjR3zqU58yPHJKfX19TJ06Nb71rW/F1KlTo76+XlMActSIESOiS5cuiap506ZNf73rrruWmh4AAB+GABgAYC975plnHkpazWeccUbk5dlKkjvmzZsXjz76aGzdulUzAHJYQUFBnH766Ymre9q0aQ+aHgAAH5a3dgAAe9nYsWNn1tfXr01SzZ07d47DDjvM8ACARBk5cmR06NAhUTXX1dWtHjt27POmBwDAhyUABgDYyyorK5tee+21Pyat7jPPPDMKCgoMEABIhBYtWiTy9O/s2bP/UF1dnTZBAAA+LAEwAEAWuOqqqyY0NjZWJanm9u3bx9FHH214AEAiHHfccdGmTZtE1dzQ0LDxiiuumGh6AAB8FAJgAIAssGDBgrqFCxc+lrS6R48eHYWFhQYIAGS1li1bxsknn5y4uhcuXDhu6dKl200QAICPQgAMAJAlvv71r/8pnU7XJqnmtm3bximnnGJ4AEBWO+2006K0tDRRNTc1NdV+7Wtfe8j0AAD4qATAAABZ4umnn968fPnyxF3xN3r06GjXrp0BAgBZqUOHDnH88ccnru5ly5ZNmD59+hYTBADgoxIAAwBkkbvvvvtPmUymKUk1FxYWxumnn254AEBWOvPMMxP3yYpMJtN41113/dH0AAD4OATAAABZ5Be/+MWatWvXTkta3UcccUT06tXLAAGArNK7d+847LDDEld3eXn5X+6///51JggAwMchAAYAyDIPP/zwn5JWcyqVijPPPNPwAICsMmbMmEilUomr+8EHH/yT6QEA8HEJgAEAsszXv/71NzZs2DAraXUPHDgwDj74YAMEALLCoEGDYsCAAYmru6KiYuatt966wAQBAPi4BMAAAFlo3Lhxv01i3WPGjIm8PFtMAGDvysvLizFjxiSy9j//+c+/NUEAAD7RflgLAACyz/XXXz+nqqrqr0mru1evXnHUUUcZIACwVx1zzDHRvXv3xNW9adOmV2666aa5JggAwCchAAYAyFJ/+tOf7k1i3WPGjInS0lIDBAD2ijZt2sRZZ52VyNofeOCBe00QAIBPSgAMAJClbrrpprlJPAVcXFwcZ555pgECAHvFWWedFS1btkxc3Zs2bXrl5ptvnmeCAAB8UgJgAIAsNm7cuF8lse5Ro0ZF7969DRAA2KP69OkTI0eOTGTtjz322K9MEACAXUEADACQxcaOHTu7qqrqb0mrO5VKxfnnnx+pVMoQAYA9tv/4/Oc/n8j9R2Vl5d+uueaav5kiAAC7ggAYACDLTZ069bdJrLtv374xZMgQAwQA9ojDDjsssTeQTJ48+TcmCADAriIABgDIcpdeeumLVVVVryax9s9//vNRXFxsiADAblVaWhrnn39+Imuvqqr66+WXX/6SKQIAsKsIgAEAEuChhx76WRLrLisri9NPP90AAYDd6qyzzoqSkpIklp753e9+91MTBABgVxIAAwAkwA033DB3w4YNs5JY+3HHHRd9+vQxRABgt+jbt28cddRRiay9oqJi1te//vU3TBEAgF1JAAwAkBA///nPfxoR6aTVnUql4vOf/3zk5dl6AgC7Vn5+flx00UWRSqWSWH76F7/4xX+bIgAAu5q3cAAACXHHHXe8tW7duulJrL13795xzDHHGCIAsEudcMIJ0b1790TWXl5e/pc77rjjLVMEAGBXEwADACTI3XfffW8mk2lKYu1nnXVWtG3b1hABgF2iQ4cOcfrppyey9kwm03T33Xf/3BQBANgdBMAAAAlyzz33rCgvL386ibW3bNkyzj33XEMEAHaJc889N1q0aJHI2tesWTP1xz/+8UpTBABgdxAAAwAkzA9/+MOfZzKZhiTWPnz48Bg0aJAhAgCfyKGHHhpDhw5NZO3pdLrhBz/4wS9MEQCA3UUADACQMPfee+/qRYsWPZDU+i+++OIoKSkxSADgY2ndunVcfPHFia1/4cKFf7jvvvvKTRIAgN1FAAwAkECXXXbZrxsaGjYlsfaysjJXQQMAH9u5554bpaWliay9oaFh4+WXX/47UwQAYHcSAAMAJNDs2bNrXn311V8ntf4jjjgiDj74YIMEAD6SwYMHx+GHH57Y+l955ZX7Zs+eXWOSAADsTgJgAICEOueccx6tqalZmtT6L7roomjZsqVBAgAfSsuWLeNzn/tcYuuvqalZMmbMmMdMEgCA3U0ADACQUJWVlU3Tpk37RVLrb9++fZx++ukGCQB8KGeccUa0b98+sfU/+eST91ZXV6dNEgCA3U0ADACQYOedd960qqqqV5Ja/wknnOAqaADgAx188MFx/PHHJ7b+TZs2vXzBBRc8a5IAAOwJAmAAgIT74x//eG9EZJJYeyqVigsuuMBV0ADAe2rZsmVccMEFkUqlkrqEzP333/8zkwQAYE8RAAMAJNzNN988b9WqVU8ktf6OHTsm+nt+AMDudcEFF0THjh0TW/+KFSse//rXv/6GSQIAsKcIgAEAcsCNN974k6ampq1JrX/kyJExdOhQgwQA/pdPfepTMWLEiMTW39TUVH3zzTf/t0kCALAnCYABAHLAxIkTK//+97//KslruPDCC6OsrMwwAYCIiGjTpk18/vOfT/QaZs+efd/EiRMrTRMAgD1JAAwAkCPOPvvsh2pqapYntf7S0tK46KKLDBIAiFQqFV/84hejtLQ0sWuoqal566yzznrYNAEA2NMEwAAAOaKioqJx0qRJP07yGgYPHhwjR440TABo5o444og46KCDEr2GJ5544qeVlZVNpgkAwJ4mAAYAyCGXXHLJzIqKihlJXsMFF1wQ3bp1M0wAaKZ69uyZ+KufKyoqZnzhC1+YZZoAAOwNAmAAgBzzb//2b/ek0+ntSa2/RYsWceWVV0ZhYaFhAkAzU1hYGF/60pcSvQ9Ip9Pb/+3f/u0e0wQAYG8RAAMA5Jh777139aJFix5M8hq6d+8eZ555pmECQDNzxhlnRPfu3RO9hsWLFz947733rjZNAAD2FgEwAEAO+uxnP/vL2traRL94PPHEE2Pw4MGGCQDNxKBBg+Kkk05K9Bpqa2tXn3vuub80TQAA9iYBMABADlq8eHH9uHHj/j3Ja0ilUnHJJZdE27ZtDRQAclybNm3ikksuiVQqleh1jBs37t8XL15cb6IAAOxNAmAAgBx1+eWXv1RRUTEjyWsoLS2NL3zhC4l/GQwAvLe3f+mrdevWiV5HRUXFM5dffvlLJgoAwN4mAAYAyGE33HDDXU1NTVuTvIaDDjrI94ABIId95jOfiUMOOSTRa2hqaqq+4YYbfmiaAABkAwEwAEAOGzdu3MbZs2cn/jt0p5xyiu8BA0AOOuSQQ+LTn/504tfx17/+9efjxo3baKIAAGQDATAAQI77zGc+81B1dfXCJK8hlUrFF7/4xejQoYOBAkCO6NixY3zpS19K/KceNm/ePO+00057xEQBAMgWAmAAgBxXXV2dfuCBB34UEekkr6O4uDguvfTSyMuzhQWApMvPz4/LLrssiouLk76U9P333/+ftbW1aVMFACBbeHsGANAMXH/99XMWLVr0YNLXsf/++8e5555roACQcOedd1707ds38etYuHDhH7/61a++bqIAAGQTATAAQDNxySWX/Lyurq486es4/vjjfQ8YABJs2LBhccwxxyR+HXV1dWsuvPDC+0wUAIBsIwAGAGgmXnvttdoHHnjguxGRSfI6UqlUfOlLX4oePXoYKgAkTO/evePSSy9N/Hd/IyLzwAMPfO/111+vNVUAALKNABgAoBm5+uqr/7Z06dJHk76OoqKiGDt2bJSWlhoqACRE69at46qrrorCwsLEr2X58uXjrr766r+ZKgAA2UgADADQzJx33nn/r66ubnXS19GhQ4e4/PLLIy/PlhYAsl1eXl5cfvnl0b59+8Svpb6+ft0ll1zyE1MFACBr999aAADQvLz++uu1Dz744Pcj4VdBR0QMGDAgzjrrLEMFgCw3ZsyYOPDAA3NiLY899tgPXnnllW2mCgBAthIAAwA0Q1/5ylf+umbNmqm5sJaTTz45Dj30UEMFgCw1ZMiQOOmkk3JiLWvXrv3LpZde+oKpAgCQzQTAAADN1GWXXfYf9fX1FUlfRyqViksvvTS6d+9uqACQZXr06BFf/OIXI5VKJX4tDQ0Nm6655pofmioAANlOAAwA0EzNmDGj+oEHHvhO5MBV0C1btozrr78+2rZta7AAkCXatWsX1113XbRs2TIXlpN56KGH/nXSpElVJgsAQLYTAAMANGNf+cpX/rpkyZI/58Ja2rZtG1dffXW0aNHCYAFgL2vRokVcffXVOfPLWUuXLn30iiuueNlkAQBIAgEwAEAzd+655/6ktrZ2eS6spXfv3jlzzSQAJNXbn2fYZ599cmI9tbW1y88555wfmywAAEkhAAYAaOYWLFhQ97Of/ezbmUymMRfWM2zYsDjllFMMFgD2kk9/+tMxdOjQnFhLJpNp/NnPfvbtBQsW1JksAABJIQAGACBuvfXWBfPnz78/V9Zz5plnxuDBgw0WAPaw4cOHx2c+85mcWc/8+fN/d+utty4wWQAAkkQADABARESMGTPmvpqamrdyYS2pVCouu+yy6Nmzp8ECwB7Su3fvuPjii3PmUwxbt25ddPrpp//aZAEASBoBMAAAERGxcuXKhh/+8Ie3pdPpnLjisGXLlvEv//Iv0aVLF8MFgN2sS5cucf3110dRUVFOrKepqanmu9/97jfKy8sbTBcAgKQRAAMA8E933XXX0ueff/6eXFlPaWlpXHvttVFWVma4ALCblJWVxXXXXRclJSU5s6aZM2fe/f/+3/9bZboAACSRABgAgP/l5JNPHldeXv50rqynU6dOMXbs2Jw5kQQA2aSoqCiuueaa6NixY86sqby8/MlTTz11gukCAJBUAmAAAP6PSy655K66urq1ubKefffdN6644orIy7P9BYBdJS8vL6688sro3bt3zqyprq6u/JJLLvmh6QIAkOi9uhYAAPBus2bNqn7ooYfujIh0rqxp4MCBcd555xkuAOwi559/fhxyyCG5tKT0gw8+eOesWbOqTRcAgCTLb3tQ9NzpjndbRG15oQ4BADRTEydOXDNmzJi8Tp06Dc2VNfXp0yfy8/PjzTffNGAA+ATOOuusOOmkk3JqTa+//vp9Z5555kTTBQAgCYq7N0Ze6c5/5gQwAADv6dRTT/31li1bXs+lNZ122mlx9NFHGy4AfEzHHntsnHrqqTm1pi1btrxx2mmn/cZ0AQDIBQJgAADeU0VFReONN974jcbGxqpcWtcFF1wQRx55pAEDwEd05JFHxuc+97mcWlNjY2PVzTff/I2KiopGEwYAIBcIgAEAeF9//OMf1z/yyCPfiRz6HnAqlYqLLroohgwZYsAA8CENHTo0LrrookilUrm0rPQjjzzynfvvv3+dCQMAkCsEwAAAfKBLL730hQULFvwupzbCeXnxpS99Kfbff38DBoAPcNBBB8WXvvSlyMvLrVdJCxYs+N2ll176ggkDAJBLBMAAAHwoo0eP/mVVVdXcXFpTYWFhfOUrX4kePXoYMAC8h169esUVV1wRBQUFObWuqqqqOaNHj/6lCQMAkGsEwAAAfCgVFRWNV1111S0NDQ0bcmldJSUlcfPNN8c+++xjyADwLr17946bbropiouLc2pdDQ0NG6666qqv++4vAAC5SAAMAMCHNmHChE3333//tzKZTDqX1lVcXBzXXXdddO/e3ZABYIfu3bvHtddeG61atcqpdWUymfT999//rQkTJmwyZQAAcpEAGACAj2Ts2LGz58+f/9tcW1fr1q3juuuuiw4dOhgyAM1ehw4d4rrrrovWrVvn3Nrmz5//m7Fjx842ZQAAcpUAGACAj+y44477xaZNm17MtXW1a9cubrzxxmjXrp0hA9BstW3bNmf/Pty4ceOLxx13nO/+AgCQ0wTAAAB8ZNXV1emLL774W3V1datzbW0dO3aMG2+8Mdq0aWPQADQ7ZWVlceONN0bHjh1zbm21tbWrL7zwwturq6vTJg0AQC7Lb3tQ9NzZD9LbImrLC3UIAICdWrZsWf327dtfOvbYY0/Ny8trkUtrKykpiaFDh8Zrr70WNTU1hg1As9ChQ4f42te+Fp06dcq5tTU1NW39zne+M/bBBx9cb9IAAOSC4u6NkVe6858JgAEA+NhefPHFzYcccsiyAQMGnBgRqZzaRBcXx5AhQ4TAADQLHTt2jJtuuik6dOiQi8tLjx8//ravfvWrc0waAIBc8X4BsCugAQD4RC688MIZb7zxxm9ycW3t27ePm266KSdPQgHA2zp16pTL4W+88cYbv77wwgufM2kAAJoLATAAAJ/YqFGjfrFhw4aZubi2t0Pgzp07GzQAOadz585x0003Rfv27XNyfRs2bJg5atSo+0waAIDmRAAMAMAnVltbm77sssu+V1dXtzoX19euXbu44YYbomPHjoYNQM7o0KFDXH/99dGuXbtc3Z+s/sIXvvDd2tratGkDANCc+AYwAAC7xJIlS+oj4pVRo0admpeX1yLX1ldcXBxDhw6NuXPnxrZt2wwcgETr0qVL3HjjjTl77XNTU1P1nXfeec0f/vCHdaYNAEAuer9vAAuAAQDYZWbNmlXVo0ePuYceeujoVCqVn2vra9WqVYwYMSIWLVoUlZWVBg5AIu23335x0003RVlZWU6uL51ON/z617++4fbbb3/TtAEAyFUCYAAA9phJkyatPeqoozbsu+++R+fi+goLC2P48OGxbNmy2LBhg4EDkCgDBgyIa6+9Nlq1apWza5w2bdq/XXLJJc+ZNgAAuez9AmDfAAYAYJc77bTTHn/rrbcezNX1FRUVxTXXXBNDhgwxbAASY8iQIXHNNddEUVFRzq5xwYIFvzv99NOfMG0AAJozATAAALvFEUcccc+GDRtm5ur6CgoK4sorr4wjjjjCsAFIwt/LceWVV0ZBQUHOrrG8vPypESNG/LdpAwDQ3AmAAQDYLaqrq9MXXXTRd2pra1fk7GY6Ly8uvvjiOPLIIw0cgKw1atSouPjiiyMvL3dfA23dunXxZz/72e83NDRkTBwAgObON4ABANhtli9fvr2mpuaFY4899uT8/PyWubjGVCoVgwYNikwmE4sWLTJ0ALLK6aefHueee26kUqmcXWN9fX3FDTfccM3UqVOrTBwAgObi/b4BLAAGAGC3evnll7cUFBS8cMQRR4zOy8trkYtrTKVSccABB0SnTp1i7ty5kck4fATA3lVYWBhXXHFFHHPMMTm9zsbGxuo777zzKz/72c9WmzoAAM2JABgAgL1qxowZlb169Xp98ODBJ6dSqfxcXWfPnj2jb9++8fe//z0aGxsNHoC9olWrVnH11VfHwIEDc3qd6XS64be//e2Nt9122wJTBwCguREAAwCw1z3xxBPlw4cPX9OvX79jIyJn76Hs2LFjDBw4MObMmRN1dXUGD8Ae1a5du7jxxhujT58+ub7U9JQpU779xS9+8XlTBwCgOXq/ADhPewAA2FPGjBkz9Y033vh1rq+zZ8+eceONN0bHjh0NHYA9pkuXLnHTTTdF9+7dc36tc+fO/eU555zzF1MHAID/SwAMAMAe9alPfernS5cufTjX19mlS5e49dZb48ADDzR0AHa7gQMHxje/+c3o1KlTzq/1rbfeemjEiBG/MnUAANg5ATAAAHvcsccee8/GjRtfyPV1FhcXx7XXXhsjRowwdAB2m8MPPzyuuuqqaNmyZc6vdePGjc8fffTR95g6AAC8NwEwAAB7XEVFReNxxx339crKyr/l+loLCgrisssui/PPPz9SqZThA7DLpFKpOP/88+PSSy+NgoKCnF/vpk2bXj7ssMNuqaysbDJ9AAB4bwJgAAD2isWLF9efddZZN1dXV7/ZHNZ7/PHHx5e//OUoKioyfAA+sRYtWsSXv/zlOP7445vFequrq98cM2bMN8rLyxtMHwAA3l9+24Oi585+kN4WUVteqEMAAOw2a9asaVi1atWs0aNHH1dQUNA619fbrVu3OOCAA2LevHlRX1/vAQDgYykrK4trrrkmDjrooGax3rq6uvKxY8de89RTT202fQAA+Ifi7o2RV7rznwmAAQDYq+bNm1ezevXqZ04++eTjCwoKSnN9ve3atYuRI0fG8uXLY+PGjR4AAD6S/v37x0033RRdu3ZtFuutr69fd9111335T3/6U4XpAwDA/xAAAwCQ1ebMmbMtlUq9fOSRR56Ul5eX83ckt2jRIkaMGBG1tbWxdOlSDwAAH8rxxx8fX/rSl5rN5wQaGxu33HXXXdf99Kc/XWn6AADwvwmAAQDIejNnzqzs2bPn64MHDz4plUrl5/p6U6lUHHLIIdGqVatYsGBBZDIZDwEAO5WXlxef/exn4/TTT49UKtUs1pxOp7f//ve//+o3vvGN1z0BAADwfwmAAQBIhEmTJpXvs88+8wYOHHhCKpUqaA5r3m+//WLAgAExd+5c3wUG4P8oKyuL6667LoYNG9Zs1pxOp7f/8Y9/vOmqq676qycAAAB2TgAMAEBiTJw4cc3BBx+85MADDzwulUrlNYc1t2/fPoYOHRqLFi2KLVu2eAgAiIiIffbZJ66//vro2bNns1lzJpNpnDBhwm1f/OIXn/cEAADAexMAAwCQKI8++ujy/fff/42DDjrohOZwHXRERHFxcRx11FHR2NgYb731locAoJkbPXp0XHHFFVFSUtJs1pxOpxsefvjhr15yySWzPAEAAPD+BMAAACTO+PHjVw0cOHDpAQcccGxzOQmcSqViwIAB0aVLl3jjjTeiqanJgwDQzBQVFcWll14aJ554YrP53m/EP07+Pv7447dffPHFMz0FAADwwQTAAAAk0iOPPLLs0EMPXbb//vs3mxA4IqJHjx4xZMiQePPNN2Pr1q0eBIBmonv37vEv//IvccABBzSrdWcymaYnnnji9s997nPPeAoAAODDEQADAJBYDz/88NJjjjlmY+/evY+KiGZzFKq0tDSGDx8eq1evjvXr13sQAHLcwIED45prrol27do1t6VnZsyY8YOzzjprqqcAAAA+PAEwAACJdv/99795zDHHVO6zzz5HRDMKgVu0aBGHHXZYtGzZMhYuXBjpdNrDAJBjCgoK4pxzzonzzz8/WrRo0dyWn37uuefuOuWUUyZ4EgAA4KMRAAMAkHi///3v5w8bNmxF3759j2lO10GnUqno27dvDB06NBYvXhxbtmzxMADkiJ49e8YNN9wQgwcPblbf+434x7XPU6ZM+fbpp58+2ZMAAAAfnQAYAICc8OCDDy4ZNmzYin79+jWrEDgionXr1nHEEUdEfX19LF261MMAkGCpVCpOOOGEuOKKK6JNmzbNbv07wt9vnXPOOX/xNAAAwMcjAAYAIGc89NBDS4YNG7a8X79+xza3EDg/Pz8OPvjg6NWrV8yfPz8aGho8EAAJU1JSEpdffnmccMIJkZ+f3+zWn8lkGp944olvffazn53maQAAgI9PAAwAQE556KGHlo4cOXJdnz59RqWa252ZEdG1a9cYNmxYLFu2LCorKz0QAAnRt2/fuO6662K//fZrluvPZDLpp59++rvnnHPO054GAAD4ZATAAADknD/96U+LDj300KX7779/s7sOOiKiuLg4jjzyyCgpKYk333wz0um0hwIgSxUUFMRnP/vZuPDCC6OkpKRZ9iCdTjc88sgjt5x//vnTPREAAPDJCYABAMhJDz/88NId3wQelUqlmt09mqlUKvr06RMHH3xwLFy4MLZt2+ahAMgynTt3jrFjx8bQoUOjGV5aERH/CH+feOKJ2y+88MLnPBEAALBrCIABAMhZDz300JIePXq8NmjQoGPz8vJaNMcetG3bNkaNGhVNTU2xZMkSDwVAFkilUjF69Oi48soro0OHDs22D01NTdt++9vf/stll132oqcCAAB2HQEwAAA5bdKkSeXdu3efM3jw4GYbAufn58eAAQOiV69esWDBgti+fbsHA2Avad26dVx66aVx/PHHR35+frPtQ2NjY/WvfvWrf7nuuute81QAAMCuJQAGACDnTZ48eW1jY+OMI4444uiCgoKS5tqHrl27xqhRo2Lbtm2xcuVKDwbAHpRKpWLUqFExduzY6NWrV7PuRX19/fo77rjjK9/61rcWejIAAGDXEwADANAsPP/881UbNmx45rjjjjuqsLCwrLn2obCwMAYNGhT77bdfLF68OGpraz0cALtZ+/bt44orrogTTzwxCgub9/uU2tralTfffPPVP/nJT1Z7MgAAYPcQAAMA0Gz87W9/27p27doZJ5xwwsjCwsK2zbkXnTp1ipEjR0Z1dbXTwAC70ciRI+Pqq6+OHj16NPte1NTULL/hhhuu/e1vf7vOkwEAALuPABgAgGbltdde2zpv3rynTznllKFFRUWdmnMvCgsL49BDD4399tsvFi1a5DQwwC709qnfk08+udmf+o2I2Lx587yLL774unHjxm30dAAAwO71fgFwat9zYsTOftC4LmLjq610DwCAxOrVq1fhs88++69du3Y9QTciGhoaYurUqTF58uRobGzUEICPqaCgIE499dQYPXq04HeH8vLyp4499tjvrly5skE3AABg9+swrDYKuuz8ZwJgAAByWuvWrfNeeumlm/fdd9+zdeMfVq9eHffff38sWbJEMwA+ov322y8uuugi1z2/w8KFC38/fPjwnzY0NGR0AwAA9gwBMAAAzd7zzz9/8aGHHnp1RKR0IyKTycTMmTPjz3/+c9TV1WkIwAcoKSmJ8847L0aMGBGplL9Kdki//PLL9xx77LEPagUAAOxZ7xcA+wYwAADNwn333Tfn+OOP39yrV6/DQwgcqVQqevfuHcOHD49169ZFRUWFhwTgPRxyyCExduzY6N+/v/B3h0wm0/jMM8/828knnzxONwAAYM97v28AC4ABAGg2fve7370xePDgJf369Ts6lUrl60hEcXFxjBgxInr06BFLly6N2tpaTQHYoUOHDvGFL3whzjzzzCguLtaQHZqammoeeOCBWz73uc9N1w0AANg7BMAAALDDww8/vKygoOC54cOHH1FQUFCqI//QrVu3OO6446K0tDQWL14cTU1NmgI0Wy1btoxzzjknLr300ujevbuGvENtbe2K22677arbbrvtDd0AAIC9RwAMAADv8Oyzz25avHjx0yeddNKQoqKiTjryD3l5edGnT58YOXJkbN26NVatWqUpQLNz+OGHx1e+8pUYMGBA5OXlacg7VFVV/e3CCy+8/oEHHvDdAAAA2MsEwAAA8C7z58+vefbZZ58+44wz+hcXF/fSkf/RsmXLGDJkSOyzzz6xdOnSqKmp0RQg53Xs2DG++MUvximnnBItW7bUkHdZt27dMyeffPI3Xn755W26AQAAe9/7BcCpfc+JETv7QeO6iI2vttI9AAByWmFhYer555//0sEHH3y5bvxfTU1N8fzzz8f48eOjurpaQ4Cc07p16zjzzDPjyCOPdOJ35zJ///vff3rMMcfc39DQkNEOAADIDh2G1UZBl53/TAAMAAARMWnSpM8cc8wxt6RSKdfg7ERNTU1MmTIlpk2bFg0NDRoCJF5hYWGccsopcdJJJ0VRUZGG7EQ6na6fOnXqd88555y/6AYAAGSX9wuAXQENAAAR8Yc//GHhfvvt98aAAQOOysvLkwS8S2FhYQwYMCCGDh0amzZtinXr1mkKkFiDBw+Oq666KoYOHRoFBQUashONjY1Vv//972/5whe+MEs3AAAg+/gGMAAAfAgTJkxYXV1dPf3II4/8VGFhYTsd+b9KS0vjsMMOi/79+8eaNWti8+bNmgIkRu/evePyyy+PU045JUpLSzXkPWzdunXxLbfccs33vve9hboBAADZyTeAAQDgI+jTp0+LJ5988us9evQ4TTfe3/z58+ORRx6JlStXagaQtXr16hXnnHNODBgwQDM+wKpVq5444YQTfrBy5Ur3/QMAQBbzDWAAAPgYnnnmmfOHDx9+fSqVytON95bJZGL27Nkxbty4qKio0BAga3Tu3DnOOuusGDp0aKRSKQ15/z/Lm2bNmvXDk08++THdAACA7OcbwAAA8DH85je/eX3//fd//cADDzzSd4HfWyqViu7du8cxxxwT7dq1i2XLlkV9fb3GAHtN27Zt49xzz42LL744evToIfz9AI2NjdUPPvjgLZ/97Gf/ohsAAJAMvgEMAAAf0/jx41dFxPOHHXbYiMLCwjIdeW95eXnRu3fvOOqoo6KgoCBWrlwZjY2NGgPsMcXFxXHKKafEl770pejbt2/k5bnA4YPU1tau+MEPfnD9LbfcMk83AAAgQf/94xvAAADwyQwePLjVo48++s1u3bqdpBsfTn19fTzzzDMxderU2LZtm4YAu01ZWVmceuqpceSRR0ZRkQsbPqyVK1c+/ulPf/pHixcvdm0DAAAkjG8AAwDALvLkk0+edeSRR96USqVcl/MhCYKB3eXtE7/HHnus4PcjyGQyDbNmzfoP3/sFAIDk8g1gAADYRX7/+98v6NGjx2uHHHLIyPz8fL8x+SEUFBREv3794qijjoq8vLxYtWqVq6GBT6Rly5ZxwgknxBVXXBEHHXRQFBQUaMqH1NDQsOG3v/3t1z7/+c8/oxsAAJBcroAGAIBd7Lzzzut4991339m2bdvBuvHR1NTUxLPPPhvTpk2LLVu2aAjwoZWVlcXxxx8fxxxzTBQXF2vIR1RVVfW3a6+99vZHHnlkg24AAECyuQIaAAB2g06dOhVMmzZtbN++fT8XESkd+WgaGhri+eefjyeffDI2bJBFAO/7522cdNJJccQRR0RhodvKPobMokWL/nTsscf+pLKyskk7AAAg+QTAAACwG/3hD38Ydfrpp99WUFDQRjc+unQ6Ha+++mpMnTo1Vq5cqSHAP/Xq1StOOeWUGDp0aOTl5WnIx9DY2Fg1YcKEOy666KKZugEAALlDAAwAALvZaaed1vbee+/9docOHUbqxse3fPnymDZtWrz88suRTqc1BJqhvLy8OOyww+L444+P3r17a8gnsHHjxue//OUvf3fSpElVugEAALlFAAwAAHtAYWFh6qmnnjpv+PDh16RSKXeUfgIbNmyIGTNmxHPPPRc1NTUaAs1AcXFxjBo1Ko4++ujo2LGjhnwCmUym4ZVXXvl/J5100kMNDQ0ZHQEAgNzzfgFwftuDoufOfpDeFlFb7p0VAAB8WOl0On7zm9+8Xlpa+uLgwYM/VVhYWKYrH09xcXEMGDAgjj322GjTpk2sXbs2amtrNQZyUIcOHeKMM86ISy+9NAYOHBjFxcWa8gnU1tau+slPfnLjxRdf/IybFAAAIHcVd2+MvNKd/8wJYAAA2A1OPPHENvfdd9+tnTp1Olo3PrnGxsb429/+Fs8++2wsWrRIQyAH9OvXL44++ugYNmxYFBQUaMguUFFR8cwXv/jFf5s+ffoW3QAAgNzmCmgAANhLHn744RNGjx799YKCgta6sWusX78+Zs6cGc8//3xUV1drCCRIaWlpHHnkkXHUUUdF586dNWQXaWxs3DJ16tS7PvvZz/5FNwAAoHkQAAMAwF50ySWXdP3+97//rXbt2g3VjV2nsbExXnvttXjuuedi/vz5GgJZbMCAATFq1KgYPHiw0767WFVV1atf//rXv/e73/1urW4AAEDzIQAGAIC9rF27dvlTp0699OCDD740lUrl68iutXz58nj++efj5ZdfjpqaGg2BLFBSUhLDhw+PI444Inr37q0hu1gmk2mcN2/efSeeeOJvq6urfewXAACaGQEwAABkia9//ev73Xjjjf9aWlraXzd2vXQ6HW+++WY899xz8dprr0VjY6OmwB5UUFAQgwcPjlGjRsUBBxwQeXl5mrIbVFdXL/zP//zPf/3BD36wRDcAAKB5EgADAEAWOfjgg1v9+c9/vrZ3795jIiKlI7tHZWVlvPjii/HCCy/EunXrNAR2o65du8bIkSPj8MMPj7Zt22rI7pNZunTpn88888z/t3jx4nrtAACA5ksADAAAWejuu+8eePHFF9/WqlUrd6PuZuXl5fHqq6/GSy+9FOvXr9cQ2AU6d+4cI0aMiGHDhkW3bt00ZDerqalZ9tvf/vbOm266aa5uAAAAAmAAAMhS/fr1K3r44Ycv79+//4WpVMpdqXvA8uXL46WXXoqXX345qqurNQQ+grKyshg+fHiMGDHCd333kEwmk164cOEfzj777F8sXbp0u44AAAARAmAAAMh6P/3pT4d97nOf+2bLli176Mae0dDQEHPnzo2//vWvMXfu3Ni+Xa4CO9OyZcsYNGhQDBs2LA455JAoKCjQlD2ktrZ21R//+Mc7rr322r/rBgAA8E4CYAAASIA+ffq0ePTRR69wGnjPS6fTsXTp0nj11VedDIaIaNu2bQwbNiyGDRsWffr0ibw8fyTtSZlMpuG11177+ZlnnvmnioqKRh0BAADeTQAMAAAJ8uMf//jQCy644JutWrXaRzf2vLdPBs+ePTvmzp0bdXV1mkKzUFZWFoMHD45hw4ZF//79Iz8/X1P2gpqammX333//nTfccINv/QIAAO9JAAwAAAnTrl27/HHjxp37qU996qq8vDwb870kk8nEihUrYu7cuTFnzpxYsWJFZDIZjSEnpFKp6Nu3bwwbNiwGDRoUHTt21JS9qKmpqfbVV1/92ZgxY/5cWVnZpCMAAMD7EQADAEBCffnLX+5x++23f7V9+/aH68bet2XLlnjjjTdizpw5MW/evKivr9cUEqVly5Zx8MEHx6BBg+KQQw6J0tJSTckCGzdufPG73/3uv//iF79YoxsAAMCHIQAGAIAEKywsTE2cOPGMkSNHXlNQUNBaR7JDXV1dvPnmm/HGG2/EG2+8EevXr9cUslKXLl3ioIMOioMOOigOOOCAKCoq0pQs0djYuGXmzJk/PvPMMyc2NDS4XgAAAPjQBMAAAJADjjzyyNY/+9nPrujbt++5EZGnI9mluro6Fi5cGPPnz4958+ZFZWWlprBXtGvXLg455JAYMGBA9O/fP1q39nsjWSj91ltv/fmqq676xaxZs6q1AwAA+KgEwAAAkEN++ctfjhgzZsyNrVq16q0b2SmdTsfKlStj0aJFsXDhwli8eHFs27ZNY9gtSkpKol+/ftG/f//Yf//9o1evXpGX53dEslVNTc3yRx999EdXXnnlK7oBAAB8XAJgAADIMd26dSt8+OGHPzd48ODL8vPzbdyzXCaTiTVr1sTChQtj0aJFsWjRotiyZYvG8LGUlZVF//79/xn6du/ePVKplMZkuaampprXXnvtV2PGjHmgoqKiUUcAAIBPQgAMAAA56rjjjiv7r//6r8tdC508mzdvjuXLl8eKFSti+fLlsXjx4qipqdEY/pfi4uLo169f9O7dO/bZZ5/Yd999o6ysTGMSJJPJpJcsWfLn66677pfTp0/3mx8AAMAuIQAGAIAc99Of/nTIueeee3NpaWlf3UimxsbGWLlyZSxdujSWLVsWy5cvj3Xr1kUmk9GcZiKVSkWXLl1in332iT59+kSfPn2iV69eUVBQoDkJtXXr1sUPPvjgj6699tq/6wYAALArCYABAKAZaNeuXf64cePOGTp06BUFBQWtdST56uvrY+XKlf88KbxixYpYu3ZtpNNpzUm4vLy86Nq1a+yzzz7//KdXr17RsmVLzckBjY2NW/7617/+4pxzznm0srKySUcAAIBdTQAMAADNyIknntjmnnvuuXzfffcdk0qlHB3MMdu3b481a9bEmjVrYu3atbF27dooLy+PDRs2CIazUF5eXnTs2DG6desWXbt2jW7dukW3bt2iR48eUVhYqEE5JpPJNC5ZsuRR1z0DAAC7mwAYAACaoa9+9av7Xnfdddd16NDhCN3IfY2Njf8MhNetWxfr1q2LioqKWLduXWzbtk2DdrPS0tLo3LnzP//p0qVLdO3aNbp27eoK52Ziw4YNM//rv/7rxz/60Y+W6wYAALC7CYABAKAZ++UvfznirLPOuq64uNj3gZupmpqaWL9+/T//qaioiMrKyqisrIxNmzZFY2OjJn2AgoKCaN++fbRr1y7at28fHTt2jC5dukSnTp2ic+fOUVxcrEnN1NatW98aP378PVdcccXLugEAAOwpAmAAAGjm2rVrl//ggw+eOWLEiCsLCwvb6gjvtHnz5n+GwZs2bYrKysqorq6OLVu2xJYtW6K6ujqqq6sjk8nk3NpTqVS0bt06WrduHWVlZdGmTZsoLS39X2Fvu3btok2bNh4U/peGhobKl1566efnnHPO+OrqavevAwAAe5QAGAAAiIiIoUOHFt97770XHHjggRfk5+c7ssiHlk6n/xkEV1dXR01Nzfv+k8lkora2NtLpdNTX10dTU1PU1dXt0u8U5+XlRcuWLSM/Pz+KiooiLy8vWrVqFalUKoqLi3f6T0lJSbRq1eqfgW9paWnk5eUZMB9aU1NTzYIFC/745S9/+Y+zZ8+u0REAAGBvEAADAAD/y2mnndb2rrvuurRPnz5n5+XlFeoIe9LbgfDbtm/f/r7XUBcUFESLFi3++b/fDnxhT8pkMg1LliwZd8stt/xq0qRJVToCAADsTQJgAABgp0477bS2d95554X777//5wTBAP9XJpNpWLhw4QO33nrrHwS/AABAtni/ADi/7UHRc2c/SG+LqC33/gcAAHLZokWL6u69995X0un0swcddFCnkpKS3roC8A8VFRUz/7//7/+77aKLLpq6aNGiOh0BAACyRXH3xsgr3fnPBMAAAEDMnDmz8u67736qqalpWr9+/Ypbt27dN5VKpXQGaG4ymUx6zZo1U+65555/Peeccx6cOXNmpa4AAADZRgAMAAB8KDNnzqz88Y9//Gw6nZ4uCAaak7eD37vvvvtfzz///McEvwAAQDYTAAMAAB+JIBhoLgS/AABAEgmAAQCAj+XtILisrOyFvn37diwuLu4VEYJgIBdkKioqnrv33nu/PWbMmEcEvwAAQJK8XwCc2vecGLGzHzSui9j4aivdAwAA/unqq6/u8ZWvfOX8Pn36nJWXl9dCR4CkSafT9UuXLh3/X//1Xw/84he/WKMjAABAEnUYVhsFXXb+MwEwAADwkZ1xxhntb7/99rMPPPDA8/Pz81vrCJDtmpqaqhcsWPDgd77znUcmTpzotC8AAJBoAmAAAGC3GD58eMkPf/jDzwwePPjioqKijjoCZJv6+voNr7322u9vvPHGx2fPnl2jIwAAQC4QAAMAALvV0KFDi++5556zDjnkkPOKioq66giwt9XV1a19/fXXH7z++uvHC34BAIBcIwAGAAD2iFatWuXdc889w0455ZTzO3bseJSOAHtYZsOGDbOmTJny4PXXX/9qbW1tWksAAIBcJAAGAAD2uH/913/tf/7555/dq1ev0/Ly8lroCLC7pNPp+pUrV05+4IEHHvnOd76zSEcAAIBcJwAGAAD2mjPOOKP97bfffvYBBxzw2YKCgjY6AuwqjY2NVW+++eafv/e97z06YcKETToCAAA0FwJgAABgrxs+fHjJ97///dGDBg0aU1paur+OAB9XdXX1wtdee+3Rr371q1Nfe+21Wh0BAACaGwEwAACQVb761a/ue8EFF3y6b9++ZxUUFLTWEeCDNDY2bnnrrbfG/+EPf5j4ox/9aLmOAAAAzZkAGAAAyEpDhw4t/sEPfnDy4MGDz27dunV/HQHerbq6+s2XX375weuuu+7ppUuXbtcRAAAAATAAAJDlCgsLU3ffffeQ0aNHn9G1a9fj8vLyinQFmq90Ol1XXl4+bcqUKROuvfbav+sIAADA/yYABgAAEqNPnz4t/v3f/33UyJEjz2rfvv2nIiKlK9AsZDZt2vTXF1544bGvfe1rzzntCwAA8N4EwAAAQCJddNFFXa6++uqTDzzwwLNbtmzZTUcg99TV1a1ZsGDBuJ/+9KdP3n///et0BAAA4IMJgAEAgETr1q1b4d13333k4YcffmqHDh2OyMvLK9QVSK50Ot2wcePGWbNmzZp8/fXXz6qoqGjUFQAAgA9PAAwAAOSMo48+uvWtt956/CGHHHJKu3btBkdEnq5AIqQrKytfmzdv3uQ777xz+owZM6q1BAAA4OMRAAMAADnpuOOOK/vGN75x/CGHHHJa27ZtB4bvBUO2yVRVVc2dN2/epO9///vTpk+fvkVLAAAAPjkBMAAAkPNuu+22vmedddZJffr0Oa5Vq1a9dQT2ntra2uXLly+f/uijjz51xx13vKUjAAAAu5YAGAAAaFa+9KUvdbv44ouP7t+//wlOBsMekamqqpq7cOHCv/z+97+fcd9995VrCQAAwO4jAAYAAJqtSy65pOtll112jDAYdrl0VVXVvIULF/7lV7/61bO/+93v1moJAADAniEABgAAiIirr766x/nnnz9q//33P7JNmzZDUqlUga7Ah5fJZBoqKyv/vnjx4uf+9Kc/zbr33ntX6woAAMCeJwAGAAB4l379+hV97WtfGzRy5MhRPXv2PLaoqKizrsD/VV9fv37VqlXPvPDCC8/9+7//+5zFixfX6woAAMDeJQAGAAB4H61bt8678847Bx599NFHde/efURpaen+4apomq/M1q1bF69Zs+bF5557btY3v/nNOdXV1WltAQAAyB4CYAAAgI9g8ODBrcaOHXvI8OHDD+vevfvw1q1bHxACYXJXprq6+s01a9a88sorr7z8k5/8ZN5rr71Wqy0AAADZSwAMAADwCVx//fX7nHHGGYf169dvePv27Yfm5+e31hWSrLGxsXrjxo2vvvXWWy+PHz/+lR//+McrdQUAACA5BMAAAAC70Je//OUe55xzzvA+ffoM7tix45CioqKuukI2q6+vX7t27doXFy9ePGfixImv3Xvvvat1BQAAILkEwAAAALvRl7/85R6f+cxnBvfr129Qly5dDm/ZsqVAmL2qrq5u7bp16wS+AAAAOUoADAAAsIe0atUq75prrtnn2GOPPXi//fY7uH379oeUlpb2TaVS+brDbpKuqalZtnHjxnlvvfXW3GeffXbef/3Xfy2vra1Naw0AAEBuEgADAADsRQceeGDLq6+++oAhQ4Yc3LNnz4Pbtm17sGuj+biampqqq6qqXi8vL583Z86ceb/85S/nvfjii1t1BgAAoPkQAAMAAGSZoUOHFn/xi1/cf9CgQQf26NHjwHbt2h3YqlWr3qlUKk932CFdU1OzvLKycsHq1asXzJkzZ8Gf//znJTNmzKjWGgAAgOZNAAwAAJAAxx13XNkFF1xw4MEHH3xA165dDywtLd23pKRkn1QqVag7uS2TyTRs27ZtRXV19dJ169YtfOONNxZOmDBh4YQJEzbpDgAAAO8mAAYAAEiw8847r+OJJ57Yp3///vt16dKlT5s2bfZr3bp1v/z8/GLdSZampqaa6urqxZs3b16ybt26pQsXLlzy9NNPL33ooYc26A4AAAAflgAYAAAgx7Rr1y7/kksu6TFkyJCe++67b89OnTr1Kisr61VcXNyzZcuW3VKpVL4u7R2ZTKaprq6uvKamZtWWLVtWVlRUrFy6dOnK2bNnr7r//vvXVFZWNukSAAAAn4QAGAAAoBnp1KlTwec+97luQ4cO7bnPPvv0aNeuXafWrVt3Li4u7tqyZcvORUVFnfLy8lro1MeTTqe319fXr6+rq6uoqalZW11dvb6ysnL9ihUrVr/66qurHnzwwbUVFRWNOgUAAMDuIgAGAADgfznjjDPaH3bYYZ369OnTuUuXLp3Kysral5SUtC0uLu5YVFTUrqioqG2LFi065OfnlzaXnjQ1NW3dvn37xvr6+qr6+vrKmpqaDdu2bavasmXLpnXr1lUsXbp0/Ysvvrh+4sSJlZ4gAAAA9iYBMAAAAB9Lr169CkeNGtXuoIMOatexY8ey9u3bl7Zp06Z1SUlJWXFxcetWrVq1btGiRVlRUVHrwsLC1hGRX1hYWBoR+QUFBSV5eXkFeXl5u/0/LtPpdG06nW5sbGzcFhFNDQ0NW3f83+r6+vrq7du3b6mtra2uqamp3rZtW/XmzZurN23aVL1hw4YtCxYsqJo1a1bl0qVLt5s4AAAASSAABgAAYK/q169fUffu3Vvss88+xSUlJQVv//8LCwtT3bp1+8BTxuXl5VsbGhoyb//vbdu2Na5YsaJmzZo12xcvXlyvwwAAADQn7xcAF2gPAAAAu9vixYvrdwS11boBAAAAu0+eFgAAAAAAAADkBgEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4QAAMAAAAAAADkCAEwAAAAAAAAQI4o0AIAAAAAAACA5GhoLIyCxoaIiEilIpNXGE1v/0wADAAAAAAAAJAghQUN/0x6MxGppvT/5L6ugAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAAYAAAAAAADIEQJgAAAAAAAAgBwhAIb/v5272ZHiusM4/FZ1NUkz9sQwOF4EyZJtpJCwysa5jSy4n1xPEqRIuQFvvfGSgIwBOzGRQAQERnx0d1UW0cgWGvKxsMGvnmfVdc7/1OJsf+oCAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoIQADAAAAAAAAlBCAAQAAAAAAAEoIwAAAAAAAAAAlBGAAAAAAAACAEgIwAAAAAAAAQAkBGAAAAAAAAKCEAAwAAAAAAABQQgAGAAAAAAAAKCEAAwAAAAAAAJQQgAEAAAAAAABKCMAAAAAAAAAAJQRgAAAAAAAAgBICMAAAAAAAAEAJARgAAAAAAACghAAMAAAAAAAAUEIABgAAAAAAACghAAMAAAAAAACUEIABAAAAAAAASgjAAAAAAAAAACUEYAAAAAAAAIASAjAAAAAAAABACQEYAAAAAAAAoIQADAAAAAAAAFBCAAYAAAAAAAAoMY3JP//9K8My551lzpAk293a7QAAAAAAAAD8iIw3r+SL7TpPxuSt4/ibJJuz20QDBgAAAAAAAHhzrJPp6NvHYcyyjLl7dJTPbl/Jp6sPLufSsM+5ec7q5YOrF0OeP/SVaAAAAAAAAIA3weH7u6zfm79dWDIMSw6225w785vsx3XyzasOby5ssz69c4sAAAAAAAAAr9n69C6bC9sT93a7rKdnORin5Otxynzi1JQcfiwCAwAAAAAAALxO69O7HH68TaaT98cp85R8vbp3Nfszv8q0LHn7xMF1sjk/ZzUPmZ/MmWefhAYAAAAAAAD4oayPdjn7223Gn7x6ZrXPnetX8mBKkpv3cufDd/Pufn5FL56SzcVtNheT3dNt8tQlAwAAAAAAAHyv1sm0ySv/9XtsNWZ3I/lHkgzHi7/4XY7WYz5yiwAAAAAAAAA/Ivtcv/3nPEyS1fHa42t5+vNLyX7JoRsCAAAAAAAAePPt1/nbV3/KvePn1Xc371/NYxEYAAAAAAAA4M0yTHk2rvNo2WdzvHZqzN9v/SF3vju3evng/at5fPDLPDu1yuGyZHSVAAAAAAAAAK/XOGe4ueSvZ4e8M8xZbVe5ceuPufvy3Oqkw4+v5emDX+fuuTlLhhwsEYIBAAAAAAAAXpclGR8OuXP0TR4cPM/9z/+SRyfNDf/1TZezOp/87KdjzizJZkhO7edMy/w/nAUAAAAAAADg/zaMWcZkP8/ZLsmLacr2/MV8+cnvs/tP5/4FmLjAq1ifcioAAAAASUVORK5CYII=";function be(i,t,e){return typeof i=="string"&&!isNaN(Number(i))&&(i=Number(i)),typeof i=="number"&&i<100?Le(i):typeof i=="number"&&i>=100?i:typeof i=="string"&&i.includes("%")?Math.round(t&&t==="X"?parseFloat(i)/100*e.width:t&&t==="Y"?parseFloat(i)/100*e.height:parseFloat(i)/100*e.width):0}function du(i){return i.replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function he(i){return typeof i>"u"||i==null?"":i.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Le(i){return typeof i=="number"&&i>100?i:(typeof i=="string"&&(i=Number(i.replace(/in*/gi,""))),Math.round(Ze*i))}function ae(i){const t=Number(i)||0;return isNaN(t)?0:Math.round(t*Ic)}function $a(i){return i=i||0,Math.round((i>360?i-360:i)*6e4)}function Od(i){const t=i.toString(16);return t.length===1?"0"+t:t}function Dd(i,t,e){return(Od(i)+Od(t)+Od(e)).toUpperCase()}function Oe(i,t){let e=(i||"").replace("#","");!Pd.test(e)&&e!==Rr.background1&&e!==Rr.background2&&e!==Rr.text1&&e!==Rr.text2&&e!==Rr.accent1&&e!==Rr.accent2&&e!==Rr.accent3&&e!==Rr.accent4&&e!==Rr.accent5&&e!==Rr.accent6&&(e=Ur);const r=Pd.test(e)?"srgbClr":"schemeClr",n='val="'+(Pd.test(e)?e.toUpperCase():e)+'"';return t?`<a:${r} ${n}>${t}</a:${r}>`:`<a:${r} ${n}/>`}function hS(i,t){let e="";const r=Object.assign(Object.assign({},t),i),n=Math.round(r.size*Ic),o=r.color,d=Math.round(r.opacity*1e5);return e+=`<a:glow rad="${n}">`,e+=Oe(o,`<a:alpha val="${d}"/>`),e+="</a:glow>",e}function Wr(i){let t="solid",e="",r="",n="";if(i)switch(typeof i=="string"?e=i:(i.type&&(t=i.type),i.color&&(e=i.color),i.alpha&&(r+=`<a:alpha val="${Math.round((100-i.alpha)*1e3)}"/>`),i.transparency&&(r+=`<a:alpha val="${Math.round((100-i.transparency)*1e3)}"/>`)),t){case"solid":n+=`<a:solidFill>${Oe(e,r)}</a:solidFill>`;break;default:n+="";break}return n}function vs(i){return i._rels.length+i._relsChart.length+i._relsMedia.length+1}function dg(i){if(!(!i||typeof i!="object"))return i.type!=="outer"&&i.type!=="inner"&&i.type!=="none"&&(i.type="outer"),i.angle&&((isNaN(Number(i.angle))||i.angle<0||i.angle>359)&&(i.angle=270),i.angle=Math.round(Number(i.angle))),i.opacity&&((isNaN(Number(i.opacity))||i.opacity<0||i.opacity>1)&&(i.opacity=.75),i.opacity=Number(i.opacity)),i.color&&i.color.startsWith("#")&&(i.color=i.color.replace("#","")),i}function uS(i,t,e){var r,n;const o=2.3+(!((r=i.options)===null||r===void 0)&&r.autoPageCharWeight?i.options.autoPageCharWeight:0),d=Math.floor(t/Ic*Ze)/((!((n=i.options)===null||n===void 0)&&n.fontSize?i.options.fontSize:on)/o),l=[];let s=[];const a=[],c=[];i.text&&i.text.toString().trim().length===0?s.push({_type:ue.tablecell,text:" "}):typeof i.text=="number"||typeof i.text=="string"?s.push({_type:ue.tablecell,text:(i.text||"").toString().trim()}):Array.isArray(i.text)&&(s=i.text);let u=[];return s.forEach(f=>{var h;typeof f.text=="string"&&(f.text.split(`
`).length>1?f.text.split(`
`).forEach(p=>{u.push({_type:ue.tablecell,text:p,options:Object.assign(Object.assign({},f.options),{breakLine:!0})})}):u.push({_type:ue.tablecell,text:f.text.trim(),options:f.options}),!((h=f.options)===null||h===void 0)&&h.breakLine&&(a.push(u),u=[])),u.length>0&&(a.push(u),u=[])}),a.forEach(f=>{f.forEach(h=>{const p=[],g=String(h.text).split(" ");g.forEach((m,v)=>{const y=Object.assign({},h.options);y!=null&&y.breakLine&&(y.breakLine=v+1===g.length),p.push({_type:ue.tablecell,text:m+(v+1<g.length?" ":""),options:y})}),c.push(p)})}),c.forEach(f=>{let h=[],p="";f.forEach(A=>{p.length+A.text.length>d&&(l.push(h),h=[],p=""),h.push(A),p+=A.text.toString()}),h.length>0&&l.push(h)}),l}function S2(i=[],t={},e,r){let n=Lc,o=Ze*1,d=Ze*1,l=0,s=0;const a=[],c=be(t.x,"X",e),u=be(t.y,"Y",e),f=be(t.w,"X",e),h=be(t.h,"Y",e);let p=f;function A(){let m=0;a.length===0&&(m=u||Le(n[0])),a.length>0&&(m=Le(t.autoPageSlideStartY||t.newSlideStartY||n[0])),d=(h||e.height)-m-Le(n[2]),a.length>1&&(typeof t.autoPageSlideStartY=="number"?d=(h||e.height)-Le(t.autoPageSlideStartY+n[2]):typeof t.newSlideStartY=="number"?d=(h||e.height)-Le(t.newSlideStartY+n[2]):u&&(d=(h||e.height)-Le((u/Ze<n[0]?u/Ze:n[0])+n[2]),d<h&&(d=h)))}if(t.verbose,!t.slideMargin&&t.slideMargin!==0&&(t.slideMargin=Lc[0]),r&&typeof r._margin<"u"?Array.isArray(r._margin)?n=r._margin:isNaN(Number(r._margin))||(n=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)]):(t.slideMargin||t.slideMargin===0)&&(Array.isArray(t.slideMargin)?n=t.slideMargin:isNaN(t.slideMargin)||(n=[t.slideMargin,t.slideMargin,t.slideMargin,t.slideMargin])),t.verbose,(i[0]||[]).forEach(v=>{v||(v={_type:ue.tablecell});const y=v.options||null;s+=Number(y!=null&&y.colspan?y.colspan:1)}),t.verbose,!f&&t.colW&&(p=Array.isArray(t.colW)?t.colW.reduce((m,v)=>m+v)*Ze:t.colW*s||0,t.verbose),o=p||Le((c?c/Ze:n[1])+n[3]),t.verbose,!t.colW||!Array.isArray(t.colW))if(t.colW&&!isNaN(Number(t.colW))){const m=[];(i[0]||[]).forEach(()=>m.push(t.colW)),t.colW=[],m.forEach(y=>{Array.isArray(t.colW)&&t.colW.push(y)})}else{t.colW=[];for(let m=0;m<s;m++)t.colW.push(o/Ze/s)}let g={rows:[]};return i.forEach((m,v)=>{const y=[];let w=0,x=0,L=[];m.forEach(X=>{var I,O,W,C;L.push({_type:ue.tablecell,text:[],options:X.options}),X.options.margin&&X.options.margin[0]>=1?(!((I=X.options)===null||I===void 0)&&I.margin&&X.options.margin[0]&&ae(X.options.margin[0])>w?w=ae(X.options.margin[0]):t!=null&&t.margin&&t.margin[0]&&ae(t.margin[0])>w&&(w=ae(t.margin[0])),!((O=X.options)===null||O===void 0)&&O.margin&&X.options.margin[2]&&ae(X.options.margin[2])>x?x=ae(X.options.margin[2]):t!=null&&t.margin&&t.margin[2]&&ae(t.margin[2])>x&&(x=ae(t.margin[2]))):(!((W=X.options)===null||W===void 0)&&W.margin&&X.options.margin[0]&&Le(X.options.margin[0])>w?w=Le(X.options.margin[0]):t!=null&&t.margin&&t.margin[0]&&Le(t.margin[0])>w&&(w=Le(t.margin[0])),!((C=X.options)===null||C===void 0)&&C.margin&&X.options.margin[2]&&Le(X.options.margin[2])>x?x=Le(X.options.margin[2]):t!=null&&t.margin&&t.margin[2]&&Le(t.margin[2])>x&&(x=Le(t.margin[2])))}),A(),l+=w+x,t.verbose,m.forEach((X,I)=>{var O;const W={_type:ue.tablecell,_lines:null,_lineHeight:Le((!((O=X.options)===null||O===void 0)&&O.fontSize?X.options.fontSize:t.fontSize?t.fontSize:on)*(nS+(t.autoPageLineWeight?t.autoPageLineWeight:0))/100),text:[],options:X.options};W.options.rowspan&&(W._lineHeight=0),W.options.autoPageCharWeight=t.autoPageCharWeight?t.autoPageCharWeight:null;let C=t.colW[I];X.options.colspan&&Array.isArray(t.colW)&&(C=t.colW.filter((Q,lt)=>lt>=I&&lt<lt+X.options.colspan).reduce((Q,lt)=>Q+lt)),W._lines=uS(X,C),y.push(W)}),t.verbose;let F=0,M=0,D=!1;for(;!D;){const X=y[F];let I=L[F];y.forEach(C=>{C._lineHeight>=M&&(M=C._lineHeight)}),l+M>d&&(t.verbose,L.length>0&&L.map(Q=>Q.text.length).reduce((Q,lt)=>Q+lt)>0&&g.rows.push(L),a.push(g),g={rows:[]},L=[],m.forEach(Q=>L.push({_type:ue.tablecell,text:[],options:Q.options})),A(),l+=w+x,t.verbose,l=0,(t.addHeaderToEach||t.autoPageRepeatHeader)&&t._arrObjTabHeadRows&&t._arrObjTabHeadRows.forEach(Q=>{const lt=[];let it=0;Q.forEach(et=>{lt.push(et),et._lineHeight>it&&(it=et._lineHeight)}),g.rows.push(lt),l+=it}),I=L[F]);const O=X._lines.shift();Array.isArray(I.text)&&(O?I.text=I.text.concat(O):I.text.length===0&&(I.text=I.text.concat({_type:ue.tablecell,text:""}))),F===y.length-1&&(l+=M),F=F<y.length-1?F+1:0,y.map(C=>C._lines.length).reduce((C,Q)=>C+Q)===0&&(D=!0)}L.length>0&&g.rows.push(L),t.verbose}),a.push(g),t.verbose&&a.forEach(m=>{}),a}function fS(i,t,e={},r){const n=e||{};n.slideMargin=n.slideMargin||n.slideMargin===0?n.slideMargin:.5;let o=n.w||i.presLayout.width;const d=[],l=[],s=[],a=[],c=[];let u=[.5,.5,.5,.5],f=0;if(!document.getElementById(t))throw new Error('tableToSlides: Table ID "'+t+'" does not exist!');r!=null&&r._margin?(Array.isArray(r._margin)?u=r._margin:isNaN(r._margin)||(u=[r._margin,r._margin,r._margin,r._margin]),n.slideMargin=u):n!=null&&n.slideMargin&&(Array.isArray(n.slideMargin)?u=n.slideMargin:isNaN(n.slideMargin)||(u=[n.slideMargin,n.slideMargin,n.slideMargin,n.slideMargin])),o=(n.w?Le(n.w):i.presLayout.width)-Le(u[1]+u[3]),n.verbose;let h=document.querySelectorAll(`#${t} tr:first-child th`);h.length===0&&(h=document.querySelectorAll(`#${t} tr:first-child td`)),h.forEach(A=>{const g=A;if(g.getAttribute("colspan"))for(let m=0;m<Number(g.getAttribute("colspan"));m++)c.push(Math.round(g.offsetWidth/Number(g.getAttribute("colspan"))));else c.push(g.offsetWidth)}),c.forEach(A=>{f+=A}),c.forEach((A,g)=>{const m=Number((Number(o)*(A/f*100)/100/Ze).toFixed(2));let v=0;const y=document.querySelector(`#${t} thead tr:first-child th:nth-child(${g+1})`);y&&(v=Number(y.getAttribute("data-pptx-min-width")));const w=document.querySelector(`#${t} thead tr:first-child th:nth-child(${g+1})`);w&&(v=Number(w.getAttribute("data-pptx-width"))),a.push(v>m?v:m)}),n.verbose,["thead","tbody","tfoot"].forEach(A=>{document.querySelectorAll(`#${t} ${A} tr`).forEach(g=>{const m=g,v=[];switch(Array.from(m.cells).forEach(y=>{const w=window.getComputedStyle(y).getPropertyValue("color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");let x=window.getComputedStyle(y).getPropertyValue("background-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");(window.getComputedStyle(y).getPropertyValue("background-color")==="rgba(0, 0, 0, 0)"||window.getComputedStyle(y).getPropertyValue("transparent"))&&(x=["255","255","255"]);const L={align:null,bold:window.getComputedStyle(y).getPropertyValue("font-weight")==="bold"||Number(window.getComputedStyle(y).getPropertyValue("font-weight"))>=500,border:null,color:Dd(Number(w[0]),Number(w[1]),Number(w[2])),fill:{color:Dd(Number(x[0]),Number(x[1]),Number(x[2]))},fontFace:(window.getComputedStyle(y).getPropertyValue("font-family")||"").split(",")[0].replace(/"/g,"").replace("inherit","").replace("initial","")||null,fontSize:Number(window.getComputedStyle(y).getPropertyValue("font-size").replace(/[a-z]/gi,"")),margin:null,colspan:Number(y.getAttribute("colspan"))||null,rowspan:Number(y.getAttribute("rowspan"))||null,valign:null};if(["left","center","right","start","end"].includes(window.getComputedStyle(y).getPropertyValue("text-align"))){const F=window.getComputedStyle(y).getPropertyValue("text-align").replace("start","left").replace("end","right");L.align=F==="center"?"center":F==="left"?"left":F==="right"?"right":null}if(["top","middle","bottom"].includes(window.getComputedStyle(y).getPropertyValue("vertical-align"))){const F=window.getComputedStyle(y).getPropertyValue("vertical-align");L.valign=F==="top"?"top":F==="middle"?"middle":F==="bottom"?"bottom":null}window.getComputedStyle(y).getPropertyValue("padding-left")&&(L.margin=[0,0,0,0],["padding-top","padding-right","padding-bottom","padding-left"].forEach((M,D)=>{L.margin[D]=Math.round(Number(window.getComputedStyle(y).getPropertyValue(M).replace(/\D/gi,"")))})),(window.getComputedStyle(y).getPropertyValue("border-top-width")||window.getComputedStyle(y).getPropertyValue("border-right-width")||window.getComputedStyle(y).getPropertyValue("border-bottom-width")||window.getComputedStyle(y).getPropertyValue("border-left-width"))&&(L.border=[null,null,null,null],["top","right","bottom","left"].forEach((M,D)=>{const X=Math.round(Number(window.getComputedStyle(y).getPropertyValue("border-"+M+"-width").replace("px","")));let I=[];I=window.getComputedStyle(y).getPropertyValue("border-"+M+"-color").replace(/\s+/gi,"").replace("rgba(","").replace("rgb(","").replace(")","").split(",");const O=Dd(Number(I[0]),Number(I[1]),Number(I[2]));L.border[D]={pt:X,color:O}})),v.push({_type:ue.tablecell,text:y.innerText,options:L})}),A){case"thead":d.push(v);break;case"tbody":l.push(v);break;case"tfoot":s.push(v);break;default:break}})}),n._arrObjTabHeadRows=d||null,n.colW=a,S2([...d,...l,...s],n,i.presLayout,r).forEach((A,g)=>{const m=i.addSlide({masterName:n.masterSlideName||null});g===0&&(n.y=n.y||u[0]),g>0&&(n.y=n.autoPageSlideStartY||n.newSlideStartY||u[0]),n.verbose,m.addTable(A.rows,{x:n.x||u[3],y:n.y,w:Number(o)/Ze,colW:a,autoPage:!1}),n.addImage&&(n.addImage.options=n.addImage.options||{},!n.addImage.image||!n.addImage.image.path&&!n.addImage.image.data||m.addImage({path:n.addImage.image.path,data:n.addImage.image.data,x:n.addImage.options.x,y:n.addImage.options.y,w:n.addImage.options.w,h:n.addImage.options.h})),n.addShape&&m.addShape(n.addShape.shapeName,n.addShape.options||{}),n.addTable&&m.addTable(n.addTable.rows,n.addTable.options||{}),n.addText&&m.addText(n.addText.text,n.addText.options||{})})}let dS=0;function pS(i,t){i.bkgd&&(t.bkgd=i.bkgd),i.objects&&Array.isArray(i.objects)&&i.objects.length>0&&i.objects.forEach((e,r)=>{const n=Object.keys(e)[0],o=t;Qs[n]&&n==="chart"?T2(o,e[n].type,e[n].data,e[n].opts):Qs[n]&&n==="image"?k2(o,e[n]):Qs[n]&&n==="line"?Tp(o,oa.LINE,e[n]):Qs[n]&&n==="rect"?Tp(o,oa.RECTANGLE,e[n]):Qs[n]&&n==="text"?Iu(o,[{text:e[n].text}],e[n].options,!1):Qs[n]&&n==="placeholder"&&(e[n].options.placeholder=e[n].options.name,delete e[n].options.name,e[n].options._placeholderType=e[n].options.type,delete e[n].options.type,e[n].options._placeholderIdx=100+r,Iu(o,[{text:e[n].text}],e[n].options,!0))}),i.slideNumber&&typeof i.slideNumber=="object"&&(t._slideNumberProps=i.slideNumber)}function T2(i,t,e,r){var n;function o(u){!u||u.style==="none"||(u.size!==void 0&&(isNaN(Number(u.size))||u.size<=0)&&delete u.size,u.style&&!["solid","dash","dot"].includes(u.style)&&delete u.style,u.cap&&!["flat","square","round"].includes(u.cap)&&delete u.cap)}const d=++dS,l={_type:null,text:null,options:null,chartRid:null};let s=null,a=[];Array.isArray(t)?(t.forEach(u=>{a=a.concat(u.data)}),s=e||r):(a=e,s=r),a.forEach((u,f)=>{u._dataIndex=f,u.labels!==void 0&&!Array.isArray(u.labels[0])&&(u.labels=[u.labels])});const c=s&&typeof s=="object"?s:{};if(c._type=t,c.x=typeof c.x<"u"&&c.x!=null&&!isNaN(Number(c.x))?c.x:1,c.y=typeof c.y<"u"&&c.y!=null&&!isNaN(Number(c.y))?c.y:1,c.w=c.w||"50%",c.h=c.h||"50%",c.objectName=c.objectName?he(c.objectName):`Chart ${i._slideObjects.filter(u=>u._type===ue.chart).length}`,["bar","col"].includes(c.barDir||"")||(c.barDir="col"),c._type===zt.AREA&&(["stacked","standard","percentStacked"].includes(c.barGrouping||"")||(c.barGrouping="standard")),c._type===zt.BAR&&(["clustered","stacked","percentStacked"].includes(c.barGrouping||"")||(c.barGrouping="clustered")),c._type===zt.BAR3D&&(["clustered","stacked","standard","percentStacked"].includes(c.barGrouping||"")||(c.barGrouping="standard")),!((n=c.barGrouping)===null||n===void 0)&&n.includes("tacked")&&(c.barGapWidthPct||(c.barGapWidthPct=50)),c.dataLabelPosition&&((c._type===zt.AREA||c._type===zt.BAR3D||c._type===zt.DOUGHNUT||c._type===zt.RADAR)&&delete c.dataLabelPosition,c._type===zt.PIE&&(["bestFit","ctr","inEnd","outEnd"].includes(c.dataLabelPosition)||delete c.dataLabelPosition),(c._type===zt.BUBBLE||c._type===zt.BUBBLE3D||c._type===zt.LINE||c._type===zt.SCATTER)&&(["b","ctr","l","r","t"].includes(c.dataLabelPosition)||delete c.dataLabelPosition),c._type===zt.BAR&&(["stacked","percentStacked"].includes(c.barGrouping||"")||["ctr","inBase","inEnd"].includes(c.dataLabelPosition)||delete c.dataLabelPosition,["clustered"].includes(c.barGrouping||"")||["ctr","inBase","inEnd","outEnd"].includes(c.dataLabelPosition)||delete c.dataLabelPosition)),c.dataLabelBkgrdColors=c.dataLabelBkgrdColors||!c.dataLabelBkgrdColors?c.dataLabelBkgrdColors:!1,["b","l","r","t","tr"].includes(c.legendPos||"")||(c.legendPos="r"),["cone","coneToMax","box","cylinder","pyramid","pyramidToMax"].includes(c.bar3DShape||"")||(c.bar3DShape="box"),["circle","dash","diamond","dot","none","square","triangle"].includes(c.lineDataSymbol||"")||(c.lineDataSymbol="circle"),["gap","span"].includes(c.displayBlanksAs||"")||(c.displayBlanksAs="span"),["standard","marker","filled"].includes(c.radarStyle||"")||(c.radarStyle="standard"),c.lineDataSymbolSize=c.lineDataSymbolSize&&!isNaN(c.lineDataSymbolSize)?c.lineDataSymbolSize:6,c.lineDataSymbolLineSize=c.lineDataSymbolLineSize&&!isNaN(c.lineDataSymbolLineSize)?ae(c.lineDataSymbolLineSize):ae(.75),c.layout&&["x","y","w","h"].forEach(u=>{const f=c.layout[u];(isNaN(Number(f))||f<0||f>1)&&delete c.layout[u]}),c.catGridLine=c.catGridLine||(c._type===zt.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),c.valGridLine=c.valGridLine||(c._type===zt.SCATTER?{color:"D9D9D9",size:1}:{}),c.serGridLine=c.serGridLine||(c._type===zt.SCATTER?{color:"D9D9D9",size:1}:{style:"none"}),o(c.catGridLine),o(c.valGridLine),o(c.serGridLine),dg(c.shadow),c.showDataTable=c.showDataTable||!c.showDataTable?c.showDataTable:!1,c.showDataTableHorzBorder=c.showDataTableHorzBorder||!c.showDataTableHorzBorder?c.showDataTableHorzBorder:!0,c.showDataTableVertBorder=c.showDataTableVertBorder||!c.showDataTableVertBorder?c.showDataTableVertBorder:!0,c.showDataTableOutline=c.showDataTableOutline||!c.showDataTableOutline?c.showDataTableOutline:!0,c.showDataTableKeys=c.showDataTableKeys||!c.showDataTableKeys?c.showDataTableKeys:!0,c.showLabel=c.showLabel||!c.showLabel?c.showLabel:!1,c.showLegend=c.showLegend||!c.showLegend?c.showLegend:!1,c.showPercent=c.showPercent||!c.showPercent?c.showPercent:!0,c.showTitle=c.showTitle||!c.showTitle?c.showTitle:!1,c.showValue=c.showValue||!c.showValue?c.showValue:!1,c.showLeaderLines=c.showLeaderLines||!c.showLeaderLines?c.showLeaderLines:!1,c.catAxisLineShow=typeof c.catAxisLineShow<"u"?c.catAxisLineShow:!0,c.valAxisLineShow=typeof c.valAxisLineShow<"u"?c.valAxisLineShow:!0,c.serAxisLineShow=typeof c.serAxisLineShow<"u"?c.serAxisLineShow:!0,c.v3DRotX=!isNaN(c.v3DRotX)&&c.v3DRotX>=-90&&c.v3DRotX<=90?c.v3DRotX:30,c.v3DRotY=!isNaN(c.v3DRotY)&&c.v3DRotY>=0&&c.v3DRotY<=360?c.v3DRotY:30,c.v3DRAngAx=c.v3DRAngAx||!c.v3DRAngAx?c.v3DRAngAx:!0,c.v3DPerspective=!isNaN(c.v3DPerspective)&&c.v3DPerspective>=0&&c.v3DPerspective<=240?c.v3DPerspective:30,c.barGapWidthPct=!isNaN(c.barGapWidthPct)&&c.barGapWidthPct>=0&&c.barGapWidthPct<=1e3?c.barGapWidthPct:150,c.barGapDepthPct=!isNaN(c.barGapDepthPct)&&c.barGapDepthPct>=0&&c.barGapDepthPct<=1e3?c.barGapDepthPct:150,c.chartColors=Array.isArray(c.chartColors)?c.chartColors:c._type===zt.PIE||c._type===zt.DOUGHNUT?lS:nc,c.chartColorsOpacity=c.chartColorsOpacity&&!isNaN(c.chartColorsOpacity)?c.chartColorsOpacity:null,c.border=c.border&&typeof c.border=="object"?c.border:null,c.border&&(!c.border.pt||isNaN(c.border.pt))&&(c.border.pt=Mo.pt),c.border&&(!c.border.color||typeof c.border.color!="string")&&(c.border.color=Mo.color),c.plotArea=c.plotArea||{},c.plotArea.border=c.plotArea.border&&typeof c.plotArea.border=="object"?c.plotArea.border:null,c.plotArea.border&&(!c.plotArea.border.pt||isNaN(c.plotArea.border.pt))&&(c.plotArea.border.pt=Mo.pt),c.plotArea.border&&(!c.plotArea.border.color||typeof c.plotArea.border.color!="string")&&(c.plotArea.border.color=Mo.color),c.border&&(c.plotArea.border=c.border),c.plotArea.fill=c.plotArea.fill||{color:null,transparency:null},c.fill&&(c.plotArea.fill.color=c.fill),c.chartArea=c.chartArea||{},c.chartArea.border=c.chartArea.border&&typeof c.chartArea.border=="object"?c.chartArea.border:null,c.chartArea.border&&(c.chartArea.border={color:c.chartArea.border.color||Mo.color,pt:c.chartArea.border.pt||Mo.pt}),c.chartArea.roundedCorners=typeof c.chartArea.roundedCorners=="boolean"?c.chartArea.roundedCorners:!0,c.dataBorder=c.dataBorder&&typeof c.dataBorder=="object"?c.dataBorder:null,c.dataBorder&&(!c.dataBorder.pt||isNaN(c.dataBorder.pt))&&(c.dataBorder.pt=.75),c.dataBorder&&c.dataBorder.color){const u=typeof c.dataBorder.color=="string"&&c.dataBorder.color.length===6&&/^[0-9A-Fa-f]{6}$/.test(c.dataBorder.color),f=Object.values(Bu).includes(c.dataBorder.color);!u&&!f&&(c.dataBorder.color="F9F9F9")}return!c.dataLabelFormatCode&&c._type===zt.SCATTER&&(c.dataLabelFormatCode="General"),!c.dataLabelFormatCode&&(c._type===zt.PIE||c._type===zt.DOUGHNUT)&&(c.dataLabelFormatCode=c.showPercent?"0%":"General"),c.dataLabelFormatCode=c.dataLabelFormatCode&&typeof c.dataLabelFormatCode=="string"?c.dataLabelFormatCode:"#,##0",!c.dataLabelFormatScatter&&c._type===zt.SCATTER&&(c.dataLabelFormatScatter="custom"),c.lineSize=typeof c.lineSize=="number"?c.lineSize:2,c.valAxisMajorUnit=typeof c.valAxisMajorUnit=="number"?c.valAxisMajorUnit:null,c._type===zt.AREA||c._type===zt.BAR||c._type===zt.BAR3D||c._type===zt.LINE?c.catAxisMultiLevelLabels=!!c.catAxisMultiLevelLabels:delete c.catAxisMultiLevelLabels,l._type="chart",l.options=c,l.chartRid=vs(i),i._relsChart.push({rId:vs(i),data:a,opts:c,type:c._type,globalId:d,fileName:`chart${d}.xml`,Target:`/ppt/charts/chart${d}.xml`}),i._slideObjects.push(l),l}function k2(i,t){const e={_type:null,text:null,options:null,image:null,imageRid:null,hyperlink:null},r=t.x||0,n=t.y||0,o=t.w||0,d=t.h||0,l=t.sizing||null,s=t.hyperlink||"",a=t.data||"",c=t.path||"";let u=vs(i);const f=t.objectName?he(t.objectName):`Image ${i._slideObjects.filter(p=>p._type===ue.image).length}`;if(!c&&!a)return null;if(c&&typeof c!="string")return null;if(a&&typeof a!="string")return null;if(a&&typeof a=="string"&&!a.toLowerCase().includes("base64,"))return null;let h=(c.substring(c.lastIndexOf("/")+1).split("?")[0].split(".").pop().split("#")[0]||"png").toLowerCase();if(a&&/image\/(\w+);/.exec(a)&&/image\/(\w+);/.exec(a).length>0?h=/image\/(\w+);/.exec(a)[1]:a!=null&&a.toLowerCase().includes("image/svg+xml")&&(h="svg"),e._type=ue.image,e.image=c||"preencoded.png",e.options={x:r||0,y:n||0,w:o||1,h:d||1,altText:t.altText||"",rounding:typeof t.rounding=="boolean"?t.rounding:!1,sizing:l,placeholder:t.placeholder,rotate:t.rotate||0,flipV:t.flipV||!1,flipH:t.flipH||!1,transparency:t.transparency||0,objectName:f,shadow:dg(t.shadow)},h==="svg")i._relsMedia.push({path:c||a+"png",type:"image/png",extn:"png",data:a||"",rId:u,Target:`../media/image-${i._slideNum}-${i._relsMedia.length+1}.png`,isSvgPng:!0,svgSize:{w:be(e.options.w,"X",i._presLayout),h:be(e.options.h,"Y",i._presLayout)}}),e.imageRid=u,i._relsMedia.push({path:c||a,type:"image/svg+xml",extn:h,data:a||"",rId:u+1,Target:`../media/image-${i._slideNum}-${i._relsMedia.length+1}.${h}`}),e.imageRid=u+1;else{const p=i._relsMedia.filter(A=>A.path&&A.path===c&&A.type==="image/"+h&&!A.isDuplicate)[0];i._relsMedia.push({path:c||"preencoded."+h,type:"image/"+h,extn:h,data:a||"",rId:u,isDuplicate:!!(p!=null&&p.Target),Target:p!=null&&p.Target?p.Target:`../media/image-${i._slideNum}-${i._relsMedia.length+1}.${h}`}),e.imageRid=u}if(typeof s=="object"){if(!s.url&&!s.slide)throw new Error("ERROR: `hyperlink` option requires either: `url` or `slide`");u++,i._rels.push({type:ue.hyperlink,data:s.slide?"slide":"dummy",rId:u,Target:s.url||s.slide.toString()}),s._rId=u,e.hyperlink=s}i._slideObjects.push(e)}function gS(i,t){const e=t.x||0,r=t.y||0,n=t.w||2,o=t.h||2,d=t.data||"",l=t.link||"",s=t.path||"",a=t.type||"audio";let c="";const u=t.cover||cS,f=t.objectName?he(t.objectName):`Media ${i._slideObjects.filter(p=>p._type===ue.media).length}`,h={_type:ue.media};if(!s&&!d&&a!=="online")throw new Error("addMedia() error: either `data` or `path` are required!");if(d&&!d.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `data` value lacks a base64 header! Ex: 'video/mpeg;base64,NMP[...]')");if(!u.toLowerCase().includes("base64,"))throw new Error("addMedia() error: `cover` value lacks a base64 header! Ex: 'data:image/png;base64,iV[...]')");if(a==="online"&&!l)throw new Error("addMedia() error: online videos require `link` value");if(c=t.extn||(d?d.split(";")[0].split("/")[1]:s.split(".").pop())||"mp3",h.mtype=a,h.media=s||"preencoded.mov",h.options={},h.options.x=e,h.options.y=r,h.options.w=n,h.options.h=o,h.options.objectName=f,a==="online"){const p=vs(i);i._relsMedia.push({path:s||"preencoded"+c,data:"dummy",type:"online",extn:c,rId:p,Target:l}),h.mediaRid=p,i._relsMedia.push({path:"preencoded.png",data:u,type:"image/png",extn:"png",rId:vs(i),Target:`../media/image-${i._slideNum}-${i._relsMedia.length+1}.png`})}else{const p=i._relsMedia.filter(g=>g.path&&g.path===s&&g.type===a+"/"+c&&!g.isDuplicate)[0],A=vs(i);i._relsMedia.push({path:s||"preencoded"+c,type:a+"/"+c,extn:c,data:d||"",rId:A,isDuplicate:!!(p!=null&&p.Target),Target:p!=null&&p.Target?p.Target:`../media/media-${i._slideNum}-${i._relsMedia.length+1}.${c}`}),h.mediaRid=A,i._relsMedia.push({path:s||"preencoded"+c,type:a+"/"+c,extn:c,data:d||"",rId:vs(i),isDuplicate:!!(p!=null&&p.Target),Target:p!=null&&p.Target?p.Target:`../media/media-${i._slideNum}-${i._relsMedia.length+0}.${c}`}),i._relsMedia.push({path:"preencoded.png",type:"image/png",extn:"png",data:u,rId:vs(i),Target:`../media/image-${i._slideNum}-${i._relsMedia.length+1}.png`})}i._slideObjects.push(h)}function AS(i,t){i._slideObjects.push({_type:ue.notes,text:[{text:t}]})}function Tp(i,t,e){const r=typeof e=="object"?e:{};r.line=r.line||{type:"none"};const n={_type:ue.text,shape:t||oa.RECTANGLE,options:r,text:null};if(!t)throw new Error("Missing/Invalid shape parameter! Example: `addShape(pptxgen.shapes.LINE, {x:1, y:1, w:1, h:1});`");const o={type:r.line.type||"solid",color:r.line.color||_2,transparency:r.line.transparency||0,width:r.line.width||1,dashType:r.line.dashType||"solid",beginArrowType:r.line.beginArrowType||null,endArrowType:r.line.endArrowType||null};if(typeof r.line=="object"&&r.line.type!=="none"&&(r.line=o),r.x=r.x||(r.x===0?0:1),r.y=r.y||(r.y===0?0:1),r.w=r.w||(r.w===0?0:1),r.h=r.h||(r.h===0?0:1),r.objectName=r.objectName?he(r.objectName):`Shape ${i._slideObjects.filter(d=>d._type===ue.text).length}`,typeof r.line=="string"){const d=o;d.color=String(r.line),r.line=d}typeof r.lineSize=="number"&&(r.line.width=r.lineSize),typeof r.lineDash=="string"&&(r.line.dashType=r.lineDash),typeof r.lineHead=="string"&&(r.line.beginArrowType=r.lineHead),typeof r.lineTail=="string"&&(r.line.endArrowType=r.lineTail),ol(i,n),i._slideObjects.push(n)}function mS(i,t,e,r,n,o,d){const l=[i],s=e&&typeof e=="object"?e:{};s.objectName=s.objectName?he(s.objectName):`Table ${i._slideObjects.filter(f=>f._type===ue.table).length}`;{if(t===null||t.length===0||!Array.isArray(t))throw new Error("addTable: Array expected! EX: 'slide.addTable( [rows], {options} );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)");if(!t[0]||!Array.isArray(t[0]))throw new Error("addTable: 'rows' should be an array of cells! EX: 'slide.addTable( [ ['A'], ['B'], {text:'C',options:{align:'center'}} ] );' (https://gitbrent.github.io/PptxGenJS/docs/api-tables.html)")}const a=[];t.forEach(f=>{const h=[];Array.isArray(f)&&f.forEach(p=>{const A={_type:ue.tablecell,text:"",options:typeof p=="object"&&p.options?p.options:{}};typeof p=="string"||typeof p=="number"?A.text=p.toString():p.text&&(typeof p.text=="string"||typeof p.text=="number"?A.text=p.text.toString():p.text&&(A.text=p.text),p.options&&typeof p.options=="object"&&(A.options=p.options)),A.options.border=A.options.border||s.border||[{type:"none"},{type:"none"},{type:"none"},{type:"none"}];const g=A.options.border;!Array.isArray(g)&&typeof g=="object"&&(A.options.border=[g,g,g,g]),A.options.border[0]||(A.options.border[0]={type:"none"}),A.options.border[1]||(A.options.border[1]={type:"none"}),A.options.border[2]||(A.options.border[2]={type:"none"}),A.options.border[3]||(A.options.border[3]={type:"none"}),[0,1,2,3].forEach(v=>{A.options.border[v]={type:A.options.border[v].type||Eo.type,color:A.options.border[v].color||Eo.color,pt:typeof A.options.border[v].pt=="number"?A.options.border[v].pt:Eo.pt}}),h.push(A)}),a.push(h)}),s.x=be(s.x||(s.x===0?0:Ze/2),"X",n),s.y=be(s.y||(s.y===0?0:Ze/2),"Y",n),s.h&&(s.h=be(s.h,"Y",n)),s.fontSize=s.fontSize||on,s.margin=s.margin===0||s.margin?s.margin:w2,typeof s.margin=="number"&&(s.margin=[Number(s.margin),Number(s.margin),Number(s.margin),Number(s.margin)]),JSON.stringify({arrRows:a}).indexOf("hyperlink")===-1&&(s.color||(s.color=s.color||Ur)),typeof s.border=="string"?s.border=null:Array.isArray(s.border)&&[0,1,2,3].forEach(f=>{s.border[f]=s.border[f]?{type:s.border[f].type||Eo.type,color:s.border[f].color||Eo.color,pt:s.border[f].pt||Eo.pt}:{type:"none"}}),s.autoPage=typeof s.autoPage=="boolean"?s.autoPage:!1,s.autoPageRepeatHeader=typeof s.autoPageRepeatHeader=="boolean"?s.autoPageRepeatHeader:!1,s.autoPageHeaderRows=typeof s.autoPageHeaderRows<"u"&&!isNaN(Number(s.autoPageHeaderRows))?Number(s.autoPageHeaderRows):1,s.autoPageLineWeight=typeof s.autoPageLineWeight<"u"&&!isNaN(Number(s.autoPageLineWeight))?Number(s.autoPageLineWeight):0,s.autoPageLineWeight&&(s.autoPageLineWeight>1?s.autoPageLineWeight=1:s.autoPageLineWeight<-1&&(s.autoPageLineWeight=-1));let c=Lc;if(r&&typeof r._margin<"u"&&(Array.isArray(r._margin)?c=r._margin:isNaN(Number(r._margin))||(c=[Number(r._margin),Number(r._margin),Number(r._margin),Number(r._margin)])),s.colW){const f=a[0].reduce((h,p)=>{var A;return!((A=p==null?void 0:p.options)===null||A===void 0)&&A.colspan&&typeof p.options.colspan=="number"?h+=p.options.colspan:h+=1,h},0);typeof s.colW=="string"||typeof s.colW=="number"||s.colW&&Array.isArray(s.colW)&&s.colW.length===1&&f>1?(s.w=Math.floor(Number(s.colW)*f),s.colW=null):s.colW&&Array.isArray(s.colW)&&s.colW.length!==f&&(s.colW=null)}else s.w?s.w=be(s.w,"X",n):s.w=Math.floor(n._sizeW/Ze-c[1]-c[3]);s.x&&s.x<20&&(s.x=Le(s.x)),s.y&&s.y<20&&(s.y=Le(s.y)),s.w&&typeof s.w=="number"&&s.w<20&&(s.w=Le(s.w)),s.h&&typeof s.h=="number"&&s.h<20&&(s.h=Le(s.h)),a.forEach(f=>{f.forEach((h,p)=>{typeof h=="number"||typeof h=="string"?f[p]={_type:ue.tablecell,text:String(f[p]),options:s}:typeof h=="object"&&(typeof h.text=="number"?f[p].text=f[p].text.toString():(typeof h.text>"u"||h.text===null)&&(f[p].text=""),f[p].options=h.options||{},f[p]._type=ue.tablecell)})});const u=[];return s&&!s.autoPage?(ol(i,a),i._slideObjects.push({_type:ue.table,arrTabRows:a,options:Object.assign({},s)})):(s.autoPageRepeatHeader&&(s._arrObjTabHeadRows=a.filter((f,h)=>h<s.autoPageHeaderRows)),S2(a,s,n,r).forEach((f,h)=>{d(i._slideNum+h)||l.push(o({masterName:(r==null?void 0:r._name)||null})),h>0&&(s.y=Le(s.autoPageSlideStartY||s.newSlideStartY||c[0]));{const p=d(i._slideNum+h);s.autoPage=!1,ol(p,f.rows),p.addTable(f.rows,Object.assign({},s)),h>0&&u.push(p)}})),u}function Iu(i,t,e,r){const n={_type:r?ue.placeholder:ue.text,shape:(e==null?void 0:e.shape)||oa.RECTANGLE,text:!t||t.length===0?[{text:"",options:null}]:t,options:e||{}};function o(d){{if(d.placeholder||(d.color=d.color||n.options.color||i.color||Ur),(d.placeholder||r)&&(d.bullet=d.bullet||!1),d.placeholder&&i._slideLayout&&i._slideLayout._slideObjects){const l=i._slideLayout._slideObjects.filter(s=>s._type==="placeholder"&&s.options&&s.options.placeholder&&s.options.placeholder===d.placeholder)[0];l!=null&&l.options&&(d=Object.assign(Object.assign({},d),l.options))}if(d.objectName=d.objectName?he(d.objectName):`Text ${i._slideObjects.filter(l=>l._type===ue.text).length}`,d.shape===oa.LINE){const l={type:d.line.type||"solid",color:d.line.color||_2,transparency:d.line.transparency||0,width:d.line.width||1,dashType:d.line.dashType||"solid",beginArrowType:d.line.beginArrowType||null,endArrowType:d.line.endArrowType||null};if(typeof d.line=="object"&&(d.line=l),typeof d.line=="string"){const s=l;typeof d.line=="string"&&(s.color=d.line),d.line=s}typeof d.lineSize=="number"&&(d.line.width=d.lineSize),typeof d.lineDash=="string"&&(d.line.dashType=d.lineDash),typeof d.lineHead=="string"&&(d.line.beginArrowType=d.lineHead),typeof d.lineTail=="string"&&(d.line.endArrowType=d.lineTail)}d.line=d.line||{},d.lineSpacing=d.lineSpacing&&!isNaN(d.lineSpacing)?d.lineSpacing:null,d.lineSpacingMultiple=d.lineSpacingMultiple&&!isNaN(d.lineSpacingMultiple)?d.lineSpacingMultiple:null,d._bodyProp=d._bodyProp||{},d._bodyProp.autoFit=d.autoFit||!1,d._bodyProp.anchor=d.placeholder?null:Go.ctr,d._bodyProp.vert=d.vert||null,d._bodyProp.wrap=typeof d.wrap=="boolean"?d.wrap:!0,(d.inset&&!isNaN(Number(d.inset))||d.inset===0)&&(d._bodyProp.lIns=Le(d.inset),d._bodyProp.rIns=Le(d.inset),d._bodyProp.tIns=Le(d.inset),d._bodyProp.bIns=Le(d.inset)),typeof d.underline=="boolean"&&d.underline===!0&&(d.underline={style:"sng"})}return(d.align||"").toLowerCase().indexOf("c")===0?d._bodyProp.align=Xo.center:(d.align||"").toLowerCase().indexOf("l")===0?d._bodyProp.align=Xo.left:(d.align||"").toLowerCase().indexOf("r")===0?d._bodyProp.align=Xo.right:(d.align||"").toLowerCase().indexOf("j")===0&&(d._bodyProp.align=Xo.justify),(d.valign||"").toLowerCase().indexOf("b")===0?d._bodyProp.anchor=Go.b:(d.valign||"").toLowerCase().indexOf("m")===0?d._bodyProp.anchor=Go.ctr:(d.valign||"").toLowerCase().indexOf("t")===0&&(d._bodyProp.anchor=Go.t),dg(d.shadow),d}n.options=o(n.options),n.text.forEach(d=>d.options=o(d.options||{})),ol(i,n.text||""),i._slideObjects.push(n)}function vS(i){(i._slideLayout._slideObjects||[]).forEach(t=>{t._type===ue.placeholder&&i._slideObjects.filter(e=>e.options&&e.options.placeholder===t.options.placeholder).length===0&&Iu(i,[{text:""}],t.options,!1)})}function L2(i,t){var e;if(t.bkgd&&(t.background||(t.background={}),typeof t.bkgd=="string"?t.background.color=t.bkgd:(t.bkgd.data&&(t.background.data=t.bkgd.data),t.bkgd.path&&(t.background.path=t.bkgd.path),t.bkgd.src&&(t.background.path=t.bkgd.src))),!((e=t.background)===null||e===void 0)&&e.fill&&(t.background.color=t.background.fill),i&&(i.path||i.data)){i.path=i.path||"preencoded.png";let r=(i.path.split(".").pop()||"png").split("?")[0];r==="jpg"&&(r="jpeg"),t._relsMedia=t._relsMedia||[];const n=t._relsMedia.length+1;t._relsMedia.push({path:i.path,type:ue.image,extn:r,data:i.data||null,rId:n,Target:`../media/${(t._name||"").replace(/\s+/gi,"-")}-image-${t._relsMedia.length+1}.${r}`}),t._bkgdImgRid=n}}function ol(i,t,e){let r=[];typeof t=="string"||typeof t=="number"||(Array.isArray(t)?r=t:typeof t=="object"&&(r=[t]),r.forEach((n,o)=>{if(e&&e[o]&&e[o].hyperlink&&(n.options=Object.assign(Object.assign({},n.options),e[o])),Array.isArray(n)){const d=[];n.forEach(l=>{l.options&&!l.text.options&&d.push(l.options)}),ol(i,n,d)}else if(Array.isArray(n.text))ol(i,n.text,e&&e[o]?[e[o]]:void 0);else if(n&&typeof n=="object"&&n.options&&n.options.hyperlink&&!n.options.hyperlink._rId){if(typeof n.options.hyperlink=="object"){if(!(!n.options.hyperlink.url&&!n.options.hyperlink.slide)){const d=vs(i);i._rels.push({type:ue.hyperlink,data:n.options.hyperlink.slide?"slide":"dummy",rId:d,Target:he(n.options.hyperlink.url)||n.options.hyperlink.slide.toString()}),n.options.hyperlink._rId=d}}}else n&&typeof n=="object"&&n.options&&n.options.hyperlink&&n.options.hyperlink._rId&&i._rels.filter(d=>d.rId===n.options.hyperlink._rId).length===0&&i._rels.push({type:ue.hyperlink,data:n.options.hyperlink.slide?"slide":"dummy",rId:n.options.hyperlink._rId,Target:he(n.options.hyperlink.url)||n.options.hyperlink.slide.toString()})}))}class yS{constructor(t){var e;this.addSlide=t.addSlide,this.getSlide=t.getSlide,this._name=`Slide ${t.slideNumber}`,this._presLayout=t.presLayout,this._rId=t.slideRId,this._rels=[],this._relsChart=[],this._relsMedia=[],this._setSlideNum=t.setSlideNum,this._slideId=t.slideId,this._slideLayout=t.slideLayout||null,this._slideNum=t.slideNumber,this._slideObjects=[],this._slideNumberProps=!((e=this._slideLayout)===null||e===void 0)&&e._slideNumberProps?this._slideLayout._slideNumberProps:null}set bkgd(t){this._bkgd=t,(!this._background||!this._background.color)&&(this._background||(this._background={}),typeof t=="string"&&(this._background.color=t))}get bkgd(){return this._bkgd}set background(t){this._background=t,t&&L2(t,this)}get background(){return this._background}set color(t){this._color=t}get color(){return this._color}set hidden(t){this._hidden=t}get hidden(){return this._hidden}set slideNumber(t){this._slideNumberProps=t,this._setSlideNum(t)}get slideNumber(){return this._slideNumberProps}get newAutoPagedSlides(){return this._newAutoPagedSlides}addChart(t,e,r){const n=r||{};return n._type=t,T2(this,t,e,r),this}addImage(t){return k2(this,t),this}addMedia(t){return gS(this,t),this}addNotes(t){return AS(this,t),this}addShape(t,e){return Tp(this,t,e),this}addTable(t,e){return this._newAutoPagedSlides=mS(this,t,e,this._slideLayout,this._presLayout,this.addSlide,this.getSlide),this}addText(t,e){return Iu(this,typeof t=="string"||typeof t=="number"?[{text:t,options:e}]:t,e,!1),this}}function bS(i,t){return zr(this,void 0,void 0,function*(){const e=i.data;return yield new Promise((r,n)=>{var o,d;const l=new b2,s=(e.length-1)*2+1,a=((d=(o=e[0])===null||o===void 0?void 0:o.labels)===null||d===void 0?void 0:d.length)>1;l.folder("_rels"),l.folder("docProps"),l.folder("xl/_rels"),l.folder("xl/tables"),l.folder("xl/theme"),l.folder("xl/worksheets"),l.folder("xl/worksheets/_rels"),l.file("[Content_Types].xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>  <Default Extension="xml" ContentType="application/xml"/>  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/>  <Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>  <Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>  <Override PartName="/xl/tables/table1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"/>  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/></Types>
`),l.file("_rels/.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>
`),l.file("docProps/app.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Macintosh Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>1</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="1" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr></vt:vector></TitlesOfParts><Company></Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>16.0300</AppVersion></Properties>
`),l.file("docProps/core.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>PptxGenJS</dc:creator><cp:lastModifiedBy>PptxGenJS</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+'</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">'+new Date().toISOString()+"</dcterms:modified></cp:coreProperties>"),l.file("xl/_rels/workbook.xml.rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId4" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>'),l.file("xl/styles.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><numFmts count="1"><numFmt numFmtId="0" formatCode="General"/></numFmts><fonts count="4"><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="9"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="10"/><color indexed="8"/><name val="Geneva"/></font><font><sz val="18"/><color indexed="8"/><name val="Arial"/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><dxfs count="0"/><tableStyles count="0"/><colors><indexedColors><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ffff0000"/><rgbColor rgb="ff00ff00"/><rgbColor rgb="ff0000ff"/><rgbColor rgb="ffffff00"/><rgbColor rgb="ffff00ff"/><rgbColor rgb="ff00ffff"/><rgbColor rgb="ff000000"/><rgbColor rgb="ffffffff"/><rgbColor rgb="ff878787"/><rgbColor rgb="fff9f9f9"/></indexedColors></colors></styleSheet>
`),l.file("xl/theme/theme1.xml",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Calibri Light" panose="020F0302020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:majorFont><a:minorFont><a:latin typeface="Calibri" panose="020F0502020204030204"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="Yu Gothic"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface="DengXian"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>'),l.file("xl/workbook.xml",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x15" xmlns:x15="http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"><fileVersion appName="xl" lastEdited="7" lowestEdited="6" rupBuild="10507"/><workbookPr/><bookViews><workbookView xWindow="0" yWindow="500" windowWidth="20960" windowHeight="15960"/></bookViews><sheets><sheet name="Sheet1" sheetId="1" r:id="rId1"/></sheets><calcPr calcId="0" concurrentCalc="0"/></workbook>
`),l.file("xl/worksheets/_rels/sheet1.xml.rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/table" Target="../tables/table1.xml"/></Relationships>
`);{let c='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(i.opts._type===zt.BUBBLE||i.opts._type===zt.BUBBLE3D)c+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${s}" uniqueCount="${s}">`;else if(i.opts._type===zt.SCATTER)c+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${e.length}" uniqueCount="${e.length}">`;else if(a){let u=e.length;e[0].labels.forEach(f=>u+=f.filter(h=>h&&h!=="").length),c+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${u}" uniqueCount="${u}">`,c+="<si><t/></si>"}else{const u=e.length+e[0].labels.length*e[0].labels[0].length+e[0].labels.length,f=e.length+e[0].labels.length*e[0].labels[0].length+1;c+=`<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${u}" uniqueCount="${f}">`,c+='<si><t xml:space="preserve"></t></si>'}i.opts._type===zt.BUBBLE||i.opts._type===zt.BUBBLE3D?e.forEach((u,f)=>{f===0?c+="<si><t>X-Axis</t></si>":(c+=`<si><t>${he(u.name||`Y-Axis${f}`)}</t></si>`,c+=`<si><t>${he(`Size${f}`)}</t></si>`)}):e.forEach(u=>{c+=`<si><t>${he((u.name||" ").replace("X-Axis","X-Values"))}</t></si>`}),i.opts._type!==zt.BUBBLE&&i.opts._type!==zt.BUBBLE3D&&i.opts._type!==zt.SCATTER&&e[0].labels.slice().reverse().forEach(u=>{u.filter(f=>f&&f!=="").forEach(f=>{c+=`<si><t>${he(f)}</t></si>`})}),c+=`</sst>
`,l.file("xl/sharedStrings.xml",c)}{let c='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(i.opts._type===zt.BUBBLE||i.opts._type===zt.BUBBLE3D){c+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Re(s)}${s}" totalsRowShown="0">`,c+=`<tableColumns count="${s}">`;let u=1;e.forEach((f,h)=>{h===0?c+=`<tableColumn id="${h+1}" name="X-Values"/>`:(c+=`<tableColumn id="${h+u}" name="${f.name}"/>`,u++,c+=`<tableColumn id="${h+u}" name="Size${h}"/>`)})}else i.opts._type===zt.SCATTER?(c+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Re(e.length)}${e[0].values.length+1}" totalsRowShown="0">`,c+=`<tableColumns count="${e.length}">`,e.forEach((u,f)=>{c+=`<tableColumn id="${f+1}" name="${f===0?"X-Values":"Y-Value "}${f}"/>`})):(c+=`<table xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" id="1" name="Table1" displayName="Table1" ref="A1:${Re(e.length+e[0].labels.length)}${e[0].labels[0].length+1}'" totalsRowShown="0">`,c+=`<tableColumns count="${e.length+e[0].labels.length}">`,e[0].labels.forEach((u,f)=>{c+=`<tableColumn id="${f+1}" name="Column${f+1}"/>`}),e.forEach((u,f)=>{c+=`<tableColumn id="${f+e[0].labels.length+1}" name="${he(u.name)}"/>`}));c+="</tableColumns>",c+='<tableStyleInfo showFirstColumn="0" showLastColumn="0" showRowStripes="1" showColumnStripes="0"/>',c+="</table>",l.file("xl/tables/table1.xml",c)}{let c='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';if(c+='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">',i.opts._type===zt.BUBBLE||i.opts._type===zt.BUBBLE3D?c+=`<dimension ref="A1:${Re(s)}${e[0].values.length+1}"/>`:i.opts._type===zt.SCATTER?c+=`<dimension ref="A1:${Re(e.length)}${e[0].values.length+1}"/>`:c+=`<dimension ref="A1:${Re(e.length+1)}${e[0].values.length+1}"/>`,c+='<sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="B1" sqref="B1"/></sheetView></sheetViews>',c+='<sheetFormatPr baseColWidth="10" defaultRowHeight="16"/>',i.opts._type===zt.BUBBLE||i.opts._type===zt.BUBBLE3D){c+="<sheetData>",c+=`<row r="1" spans="1:${s}">`,c+='<c r="A1" t="s"><v>0</v></c>';for(let u=1;u<s;u++)c+=`<c r="${Re(u+1)}1" t="s"><v>${u}</v></c>`;c+="</row>",e[0].values.forEach((u,f)=>{c+=`<row r="${f+2}" spans="1:${s}">`,c+=`<c r="A${f+2}"><v>${u}</v></c>`;let h=2;for(let p=1;p<e.length;p++)c+=`<c r="${Re(h)}${f+2}"><v>${e[p].values[f]||""}</v></c>`,h++,c+=`<c r="${Re(h)}${f+2}"><v>${e[p].sizes[f]||""}</v></c>`,h++;c+="</row>"})}else if(i.opts._type===zt.SCATTER){c+="<sheetData>",c+=`<row r="1" spans="1:${e.length}">`;for(let u=0;u<e.length;u++)c+=`<c r="${Re(u+1)}1" t="s"><v>${u}</v></c>`;c+="</row>",e[0].values.forEach((u,f)=>{c+=`<row r="${f+2}" spans="1:${e.length}">`,c+=`<c r="A${f+2}"><v>${u}</v></c>`;for(let h=1;h<e.length;h++)c+=`<c r="${Re(h+1)}${f+2}"><v>${e[h].values[f]||e[h].values[f]===0?e[h].values[f]:""}</v></c>`;c+="</row>"})}else if(c+="<sheetData>",a){c+=`<row r="1" spans="1:${e.length+e[0].labels.length}">`;for(let p=0;p<e[0].labels.length;p++)c+=`<c r="${Re(p+1)}1" t="s"><v>0</v></c>`;for(let p=e[0].labels.length-1;p<e.length+e[0].labels.length-1;p++)c+=`<c r="${Re(p+e[0].labels.length)}1" t="s"><v>${p}</v></c>`;c+="</row>";const u=e.length,f=e[0].labels[0].length,h=e[0].labels.length;for(let p=0;p<f;p++){c+=`<row r="${p+2}" spans="1:${u+h}">`;let A=u;const g=e[0].labels.slice().reverse();g.forEach((m,v)=>{if(m[p]){const w=v===0?1:g[v-1].filter(x=>x&&x!=="").length;A+=w,c+=`<c r="${Re(p+1+v)}${p+2}" t="s"><v>${A}</v></c>`}});for(let m=0;m<u;m++)c+=`<c r="${Re(h+m+1)}${p+2}"><v>${e[m].values[p]||0}</v></c>`;c+="</row>"}}else{c+=`<row r="1" spans="1:${e.length+e[0].labels.length}">`,e[0].labels.forEach((u,f)=>{c+=`<c r="${Re(f+1)}1" t="s"><v>0</v></c>`});for(let u=0;u<e.length;u++)c+=`<c r="${Re(u+1+e[0].labels.length)}1" t="s"><v>${u+1}</v></c>`;c+="</row>",e[0].labels[0].forEach((u,f)=>{c+=`<row r="${f+2}" spans="1:${e.length+e[0].labels.length}">`;for(let h=e[0].labels.length-1;h>=0;h--)c+=`<c r="${Re(e[0].labels.length-h)}${f+2}" t="s">`,c+=`<v>${e.length+f+1}</v>`,c+="</c>";for(let h=0;h<e.length;h++)c+=`<c r="${Re(e[0].labels.length+h+1)}${f+2}"><v>${e[h].values[f]||""}</v></c>`;c+="</row>"})}c+="</sheetData>",c+='<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/>',c+=`</worksheet>
`,l.file("xl/worksheets/sheet1.xml",c)}l.generateAsync({type:"base64"}).then(c=>{t.file(`ppt/embeddings/Microsoft_Excel_Worksheet${i.globalId}.xlsx`,c,{base64:!0}),t.file("ppt/charts/_rels/"+i.fileName+".rels",`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/package" Target="../embeddings/Microsoft_Excel_Worksheet${i.globalId}.xlsx"/></Relationships>`),t.file(`ppt/charts/${i.fileName}`,wS(i)),r("")}).catch(c=>{n(c)})})})}function wS(i){var t,e,r,n;let o='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>',d=!1;if(o+='<c:chartSpace xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">',o+='<c:date1904 val="0"/>',o+=`<c:roundedCorners val="${i.opts.chartArea.roundedCorners?"1":"0"}"/>`,o+="<c:chart>",i.opts.showTitle?(o+=rf({title:i.opts.title||"Chart Title",color:i.opts.titleColor,fontFace:i.opts.titleFontFace,fontSize:i.opts.titleFontSize||aS,titleAlign:i.opts.titleAlign,titleBold:i.opts.titleBold,titlePos:i.opts.titlePos,titleRotate:i.opts.titleRotate},i.opts.x,i.opts.y),o+='<c:autoTitleDeleted val="0"/>'):o+='<c:autoTitleDeleted val="1"/>',i.opts._type===zt.BAR3D&&(o+=`<c:view3D><c:rotX val="${i.opts.v3DRotX}"/><c:rotY val="${i.opts.v3DRotY}"/><c:rAngAx val="${i.opts.v3DRAngAx?1:0}"/><c:perspective val="${i.opts.v3DPerspective}"/></c:view3D>`),o+="<c:plotArea>",i.opts.layout?(o+="<c:layout>",o+=" <c:manualLayout>",o+='  <c:layoutTarget val="inner" />',o+='  <c:xMode val="edge" />',o+='  <c:yMode val="edge" />',o+='  <c:x val="'+(i.opts.layout.x||0)+'" />',o+='  <c:y val="'+(i.opts.layout.y||0)+'" />',o+='  <c:w val="'+(i.opts.layout.w||1)+'" />',o+='  <c:h val="'+(i.opts.layout.h||1)+'" />',o+=" </c:manualLayout>",o+="</c:layout>"):o+="<c:layout/>",Array.isArray(i.opts._type)?i.opts._type.forEach(l=>{const s=Object.assign(Object.assign({},i.opts),l.options),a=s.secondaryValAxis?fu:ds,c=s.secondaryCatAxis?bp:rc;d=d||s.secondaryValAxis,o+=ym(l.type,l.data,s,a,c)}):o+=ym(i.opts._type,i.data,i.opts,ds,rc),i.opts._type!==zt.PIE&&i.opts._type!==zt.DOUGHNUT){if(i.opts.valAxes&&i.opts.valAxes.length>1&&!d)throw new Error("Secondary axis must be used by one of the multiple charts");if(i.opts.catAxes){if(!i.opts.valAxes||i.opts.valAxes.length!==i.opts.catAxes.length)throw new Error("There must be the same number of value and category axes.");o+=Ed(Object.assign(Object.assign({},i.opts),i.opts.catAxes[0]),rc,ds)}else o+=Ed(i.opts,rc,ds);i.opts.valAxes?(o+=Md(Object.assign(Object.assign({},i.opts),i.opts.valAxes[0]),ds),i.opts.valAxes[1]&&(o+=Md(Object.assign(Object.assign({},i.opts),i.opts.valAxes[1]),fu))):(o+=Md(i.opts,ds),i.opts._type===zt.BAR3D&&(o+=_S(i.opts,x2,ds))),!((t=i.opts)===null||t===void 0)&&t.catAxes&&(!((e=i.opts)===null||e===void 0)&&e.catAxes[1])&&(o+=Ed(Object.assign(Object.assign({},i.opts),i.opts.catAxes[1]),bp,fu))}return i.opts.showDataTable&&(o+="<c:dTable>",o+=`  <c:showHorzBorder val="${i.opts.showDataTableHorzBorder?1:0}"/>`,o+=`  <c:showVertBorder val="${i.opts.showDataTableVertBorder?1:0}"/>`,o+=`  <c:showOutline    val="${i.opts.showDataTableOutline?1:0}"/>`,o+=`  <c:showKeys       val="${i.opts.showDataTableKeys?1:0}"/>`,o+="  <c:spPr>",o+="    <a:noFill/>",o+='    <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="tx1"><a:lumMod val="15000"/><a:lumOff val="85000"/></a:schemeClr></a:solidFill><a:round/></a:ln>',o+="    <a:effectLst/>",o+="  </c:spPr>",o+="  <c:txPr>",o+='   <a:bodyPr rot="0" spcFirstLastPara="1" vertOverflow="ellipsis" vert="horz" wrap="square" anchor="ctr" anchorCtr="1"/>',o+="   <a:lstStyle/>",o+="   <a:p>",o+='     <a:pPr rtl="0">',o+=`       <a:defRPr sz="${Math.round((i.opts.dataTableFontSize||on)*100)}" b="0" i="0" u="none" strike="noStrike" kern="1200" baseline="0">`,o+='         <a:solidFill><a:schemeClr val="tx1"><a:lumMod val="65000"/><a:lumOff val="35000"/></a:schemeClr></a:solidFill>',o+='         <a:latin typeface="+mn-lt"/>',o+='         <a:ea typeface="+mn-ea"/>',o+='         <a:cs typeface="+mn-cs"/>',o+="       </a:defRPr>",o+="     </a:pPr>",o+='    <a:endParaRPr lang="en-US"/>',o+="   </a:p>",o+=" </c:txPr>",o+="</c:dTable>"),o+="  <c:spPr>",o+=!((r=i.opts.plotArea.fill)===null||r===void 0)&&r.color?Wr(i.opts.plotArea.fill):"<a:noFill/>",o+=i.opts.plotArea.border?`<a:ln w="${ae(i.opts.plotArea.border.pt)}" cap="flat">${Wr(i.opts.plotArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",o+="    <a:effectLst/>",o+="  </c:spPr>",o+="</c:plotArea>",i.opts.showLegend&&(o+="<c:legend>",o+='<c:legendPos val="'+i.opts.legendPos+'"/>',o+='<c:overlay val="0"/>',(i.opts.legendFontFace||i.opts.legendFontSize||i.opts.legendColor)&&(o+="<c:txPr>",o+="  <a:bodyPr/>",o+="  <a:lstStyle/>",o+="  <a:p>",o+="    <a:pPr>",o+=i.opts.legendFontSize?`<a:defRPr sz="${Math.round(Number(i.opts.legendFontSize)*100)}">`:"<a:defRPr>",i.opts.legendColor&&(o+=Wr(i.opts.legendColor)),i.opts.legendFontFace&&(o+='<a:latin typeface="'+i.opts.legendFontFace+'"/>'),i.opts.legendFontFace&&(o+='<a:cs    typeface="'+i.opts.legendFontFace+'"/>'),o+="      </a:defRPr>",o+="    </a:pPr>",o+='    <a:endParaRPr lang="en-US"/>',o+="  </a:p>",o+="</c:txPr>"),o+="</c:legend>"),o+='  <c:plotVisOnly val="1"/>',o+='  <c:dispBlanksAs val="'+i.opts.displayBlanksAs+'"/>',i.opts._type===zt.SCATTER&&(o+='<c:showDLblsOverMax val="1"/>'),o+="</c:chart>",o+="<c:spPr>",o+=!((n=i.opts.chartArea.fill)===null||n===void 0)&&n.color?Wr(i.opts.chartArea.fill):"<a:noFill/>",o+=i.opts.chartArea.border?`<a:ln w="${ae(i.opts.chartArea.border.pt)}" cap="flat">${Wr(i.opts.chartArea.border.color)}</a:ln>`:"<a:ln><a:noFill/></a:ln>",o+="  <a:effectLst/>",o+="</c:spPr>",o+='<c:externalData r:id="rId1"><c:autoUpdate val="0"/></c:externalData>',o+="</c:chartSpace>",o}function ym(i,t,e,r,n,o){let d=-1,l=1,s=null,a="";switch(i){case zt.AREA:case zt.BAR:case zt.BAR3D:case zt.LINE:case zt.RADAR:a+=`<c:${i}Chart>`,i===zt.AREA&&e.barGrouping==="stacked"&&(a+='<c:grouping val="'+e.barGrouping+'"/>'),(i===zt.BAR||i===zt.BAR3D)&&(a+='<c:barDir val="'+e.barDir+'"/>',a+='<c:grouping val="'+(e.barGrouping||"clustered")+'"/>'),i===zt.RADAR&&(a+='<c:radarStyle val="'+e.radarStyle+'"/>'),a+='<c:varyColors val="0"/>',t.forEach(c=>{var u;d++,a+="<c:ser>",a+=`  <c:idx val="${c._dataIndex}"/><c:order val="${c._dataIndex}"/>`,a+="  <c:tx>",a+="    <c:strRef>",a+="      <c:f>Sheet1!$"+Re(c._dataIndex+c.labels.length+1)+"$1</c:f>",a+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(c.name)+"</c:v></c:pt></c:strCache>",a+="    </c:strRef>",a+="  </c:tx>";const f=e.chartColors?e.chartColors[d%e.chartColors.length]:null;a+="  <c:spPr>",f==="transparent"?a+="<a:noFill/>":e.chartColorsOpacity?a+="<a:solidFill>"+Oe(f,`<a:alpha val="${Math.round(e.chartColorsOpacity*1e3)}"/>`)+"</a:solidFill>":a+="<a:solidFill>"+Oe(f)+"</a:solidFill>",i===zt.LINE||i===zt.RADAR?e.lineSize===0?a+="<a:ln><a:noFill/></a:ln>":(a+=`<a:ln w="${ae(e.lineSize)}" cap="${pu(e.lineCap)}"><a:solidFill>${Oe(f)}</a:solidFill>`,a+='<a:prstDash val="'+(e.lineDash||"solid")+'"/><a:round/></a:ln>'):e.dataBorder&&(a+=`<a:ln w="${ae(e.dataBorder.pt)}" cap="${pu(e.lineCap)}"><a:solidFill>${Oe(e.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),a+=Na(e.shadow,Fa),a+="  </c:spPr>",a+='  <c:invertIfNegative val="0"/>',i!==zt.RADAR&&(a+="<c:dLbls>",a+=`<c:numFmt formatCode="${he(e.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,e.dataLabelBkgrdColors&&(a+=`<c:spPr><a:solidFill>${Oe(f)}</a:solidFill></c:spPr>`),a+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",a+=`<a:defRPr b="${e.dataLabelFontBold?1:0}" i="${e.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((e.dataLabelFontSize||on)*100)}" u="none">`,a+=`<a:solidFill>${Oe(e.dataLabelColor||Ur)}</a:solidFill>`,a+=`<a:latin typeface="${e.dataLabelFontFace||"Arial"}"/>`,a+="</a:defRPr></a:pPr></a:p></c:txPr>",e.dataLabelPosition&&(a+=`<c:dLblPos val="${e.dataLabelPosition}"/>`),a+='<c:showLegendKey val="0"/>',a+=`<c:showVal val="${e.showValue?"1":"0"}"/>`,a+=`<c:showCatName val="0"/><c:showSerName val="${e.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,a+=`<c:showLeaderLines val="${e.showLeaderLines?"1":"0"}"/>`,a+="</c:dLbls>"),(i===zt.LINE||i===zt.RADAR)&&(a+="<c:marker>",a+='  <c:symbol val="'+e.lineDataSymbol+'"/>',e.lineDataSymbolSize&&(a+=`<c:size val="${e.lineDataSymbolSize}"/>`),a+="  <c:spPr>",a+=`    <a:solidFill>${Oe(e.chartColors[c._dataIndex+1>e.chartColors.length?Math.floor(Math.random()*e.chartColors.length):c._dataIndex])}</a:solidFill>`,a+=`    <a:ln w="${e.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Oe(e.lineDataSymbolLineColor||f)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,a+="    <a:effectLst/>",a+="  </c:spPr>",a+="</c:marker>"),(i===zt.BAR||i===zt.BAR3D)&&t.length===1&&(e.chartColors&&e.chartColors!==nc&&e.chartColors.length>1||!((u=e.invertedColors)===null||u===void 0)&&u.length)&&c.values.forEach((h,p)=>{const A=h<0?e.invertedColors||e.chartColors||nc:e.chartColors||[];a+="  <c:dPt>",a+=`    <c:idx val="${p}"/>`,a+='      <c:invertIfNegative val="0"/>',a+='    <c:bubble3D val="0"/>',a+="    <c:spPr>",e.lineSize===0?a+="<a:ln><a:noFill/></a:ln>":i===zt.BAR?(a+="<a:solidFill>",a+='  <a:srgbClr val="'+A[p%A.length]+'"/>',a+="</a:solidFill>"):(a+="<a:ln>",a+="  <a:solidFill>",a+='   <a:srgbClr val="'+A[p%A.length]+'"/>',a+="  </a:solidFill>",a+="</a:ln>"),a+=Na(e.shadow,Fa),a+="    </c:spPr>",a+="  </c:dPt>"}),a+="<c:cat>",e.catLabelFormatCode?(a+="  <c:numRef>",a+=`    <c:f>Sheet1!$A$2:$A$${c.labels[0].length+1}</c:f>`,a+="    <c:numCache>",a+="      <c:formatCode>"+(e.catLabelFormatCode||"General")+"</c:formatCode>",a+=`      <c:ptCount val="${c.labels[0].length}"/>`,c.labels[0].forEach((h,p)=>a+=`<c:pt idx="${p}"><c:v>${he(h)}</c:v></c:pt>`),a+="    </c:numCache>",a+="  </c:numRef>"):(a+="  <c:multiLvlStrRef>",a+=`    <c:f>Sheet1!$A$2:$${Re(c.labels.length)}$${c.labels[0].length+1}</c:f>`,a+="    <c:multiLvlStrCache>",a+=`      <c:ptCount val="${c.labels[0].length}"/>`,c.labels.forEach(h=>{a+="<c:lvl>",h.forEach((p,A)=>a+=`<c:pt idx="${A}"><c:v>${he(p)}</c:v></c:pt>`),a+="</c:lvl>"}),a+="    </c:multiLvlStrCache>",a+="  </c:multiLvlStrRef>"),a+="</c:cat>",a+="<c:val>",a+="  <c:numRef>",a+=`<c:f>Sheet1!$${Re(c._dataIndex+c.labels.length+1)}$2:$${Re(c._dataIndex+c.labels.length+1)}$${c.labels[0].length+1}</c:f>`,a+="    <c:numCache>",a+="      <c:formatCode>"+(e.valLabelFormatCode||e.dataTableFormatCode||"General")+"</c:formatCode>",a+=`      <c:ptCount val="${c.labels[0].length}"/>`,c.values.forEach((h,p)=>a+=`<c:pt idx="${p}"><c:v>${h||h===0?h:""}</c:v></c:pt>`),a+="    </c:numCache>",a+="  </c:numRef>",a+="</c:val>",i===zt.LINE&&(a+='<c:smooth val="'+(e.lineSmooth?"1":"0")+'"/>'),a+="</c:ser>"}),a+="  <c:dLbls>",a+=`    <c:numFmt formatCode="${he(e.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,a+="    <c:txPr>",a+="      <a:bodyPr/>",a+="      <a:lstStyle/>",a+="      <a:p><a:pPr>",a+=`        <a:defRPr b="${e.dataLabelFontBold?1:0}" i="${e.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round((e.dataLabelFontSize||on)*100)}" u="none">`,a+="          <a:solidFill>"+Oe(e.dataLabelColor||Ur)+"</a:solidFill>",a+='          <a:latin typeface="'+(e.dataLabelFontFace||"Arial")+'"/>',a+="        </a:defRPr>",a+="      </a:pPr></a:p>",a+="    </c:txPr>",e.dataLabelPosition&&(a+=' <c:dLblPos val="'+e.dataLabelPosition+'"/>'),a+='    <c:showLegendKey val="0"/>',a+='    <c:showVal val="'+(e.showValue?"1":"0")+'"/>',a+='    <c:showCatName val="0"/>',a+='    <c:showSerName val="'+(e.showSerName?"1":"0")+'"/>',a+='    <c:showPercent val="0"/>',a+='    <c:showBubbleSize val="0"/>',a+=`    <c:showLeaderLines val="${e.showLeaderLines?"1":"0"}"/>`,a+="  </c:dLbls>",i===zt.BAR?(a+=`  <c:gapWidth val="${e.barGapWidthPct}"/>`,a+=`  <c:overlap val="${(e.barGrouping||"").includes("tacked")?100:e.barOverlapPct?e.barOverlapPct:0}"/>`):i===zt.BAR3D?(a+=`  <c:gapWidth val="${e.barGapWidthPct}"/>`,a+=`  <c:gapDepth val="${e.barGapDepthPct}"/>`,a+='  <c:shape val="'+e.bar3DShape+'"/>'):i===zt.LINE&&(a+='  <c:marker val="1"/>'),a+=`<c:axId val="${n}"/><c:axId val="${r}"/><c:axId val="${x2}"/>`,a+=`</c:${i}Chart>`;break;case zt.SCATTER:a+="<c:"+i+"Chart>",a+='<c:scatterStyle val="lineMarker"/>',a+='<c:varyColors val="0"/>',d=-1,t.filter((c,u)=>u>0).forEach((c,u)=>{d++,a+="<c:ser>",a+=`  <c:idx val="${u}"/>`,a+=`  <c:order val="${u}"/>`,a+="  <c:tx>",a+="    <c:strRef>",a+=`      <c:f>Sheet1!$${Re(u+2)}$1</c:f>`,a+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(c.name)+"</c:v></c:pt></c:strCache>",a+="    </c:strRef>",a+="  </c:tx>",a+="  <c:spPr>";{const f=e.chartColors[d%e.chartColors.length];f==="transparent"?a+="<a:noFill/>":e.chartColorsOpacity?a+="<a:solidFill>"+Oe(f,'<a:alpha val="'+Math.round(e.chartColorsOpacity*1e3).toString()+'"/>')+"</a:solidFill>":a+="<a:solidFill>"+Oe(f)+"</a:solidFill>",e.lineSize===0?a+="<a:ln><a:noFill/></a:ln>":(a+=`<a:ln w="${ae(e.lineSize)}" cap="${pu(e.lineCap)}"><a:solidFill>${Oe(f)}</a:solidFill>`,a+=`<a:prstDash val="${e.lineDash||"solid"}"/><a:round/></a:ln>`),a+=Na(e.shadow,Fa)}if(a+="  </c:spPr>",a+="<c:marker>",a+='  <c:symbol val="'+e.lineDataSymbol+'"/>',e.lineDataSymbolSize&&(a+=`<c:size val="${e.lineDataSymbolSize}"/>`),a+="<c:spPr>",a+=`<a:solidFill>${Oe(e.chartColors[u+1>e.chartColors.length?Math.floor(Math.random()*e.chartColors.length):u])}</a:solidFill>`,a+=`<a:ln w="${e.lineDataSymbolLineSize}" cap="flat"><a:solidFill>${Oe(e.lineDataSymbolLineColor||e.chartColors[d%e.chartColors.length])}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`,a+="<a:effectLst/>",a+="</c:spPr>",a+="</c:marker>",e.showLabel){const f=du("-xxxx-xxxx-xxxx-xxxxxxxxxxxx");c.labels[0]&&(e.dataLabelFormatScatter==="custom"||e.dataLabelFormatScatter==="customXY")&&(a+="<c:dLbls>",c.labels[0].forEach((h,p)=>{(e.dataLabelFormatScatter==="custom"||e.dataLabelFormatScatter==="customXY")&&(a+="  <c:dLbl>",a+=`    <c:idx val="${p}"/>`,a+="    <c:tx>",a+="      <c:rich>",a+="            <a:bodyPr>",a+="                <a:spAutoFit/>",a+="            </a:bodyPr>",a+="            <a:lstStyle/>",a+="            <a:p>",a+="                <a:pPr>",a+="                    <a:defRPr/>",a+="                </a:pPr>",a+="              <a:r>",a+='                    <a:rPr lang="'+(e.lang||"en-US")+'" dirty="0"/>',a+="                    <a:t>"+he(h)+"</a:t>",a+="              </a:r>",e.dataLabelFormatScatter==="customXY"&&!/^ *$/.test(h)&&(a+="              <a:r>",a+='                  <a:rPr lang="'+(e.lang||"en-US")+'" baseline="0" dirty="0"/>',a+="                  <a:t> (</a:t>",a+="              </a:r>",a+='              <a:fld id="{'+du("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="XVALUE">',a+='                  <a:rPr lang="'+(e.lang||"en-US")+'" baseline="0"/>',a+="                  <a:pPr>",a+="                      <a:defRPr/>",a+="                  </a:pPr>",a+="                  <a:t>["+he(c.name)+"</a:t>",a+="              </a:fld>",a+="              <a:r>",a+='                  <a:rPr lang="'+(e.lang||"en-US")+'" baseline="0" dirty="0"/>',a+="                  <a:t>, </a:t>",a+="              </a:r>",a+='              <a:fld id="{'+du("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")+'}" type="YVALUE">',a+='                  <a:rPr lang="'+(e.lang||"en-US")+'" baseline="0"/>',a+="                  <a:pPr>",a+="                      <a:defRPr/>",a+="                  </a:pPr>",a+="                  <a:t>["+he(c.name)+"]</a:t>",a+="              </a:fld>",a+="              <a:r>",a+='                  <a:rPr lang="'+(e.lang||"en-US")+'" baseline="0" dirty="0"/>',a+="                  <a:t>)</a:t>",a+="              </a:r>",a+='              <a:endParaRPr lang="'+(e.lang||"en-US")+'" dirty="0"/>'),a+="            </a:p>",a+="      </c:rich>",a+="    </c:tx>",a+="    <c:spPr>",a+="        <a:noFill/>",a+="        <a:ln>",a+="            <a:noFill/>",a+="        </a:ln>",a+="        <a:effectLst/>",a+="    </c:spPr>",e.dataLabelPosition&&(a+=' <c:dLblPos val="'+e.dataLabelPosition+'"/>'),a+='    <c:showLegendKey val="0"/>',a+='    <c:showVal val="0"/>',a+='    <c:showCatName val="0"/>',a+='    <c:showSerName val="0"/>',a+='    <c:showPercent val="0"/>',a+='    <c:showBubbleSize val="0"/>',a+='       <c:showLeaderLines val="1"/>',a+="    <c:extLst>",a+='      <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart"/>',a+='      <c:ext uri="{C3380CC4-5D6E-409C-BE32-E72D297353CC}" xmlns:c16="http://schemas.microsoft.com/office/drawing/2014/chart">',a+=`            <c16:uniqueId val="{${"00000000".substring(0,8-(p+1).toString().length).toString()}${p+1}${f}}"/>`,a+="      </c:ext>",a+="        </c:extLst>",a+="</c:dLbl>")}),a+="</c:dLbls>"),e.dataLabelFormatScatter==="XY"&&(a+="<c:dLbls>",a+="    <c:spPr>",a+="        <a:noFill/>",a+="        <a:ln>",a+="            <a:noFill/>",a+="        </a:ln>",a+="          <a:effectLst/>",a+="    </c:spPr>",a+="    <c:txPr>",a+="        <a:bodyPr>",a+="            <a:spAutoFit/>",a+="        </a:bodyPr>",a+="        <a:lstStyle/>",a+="        <a:p>",a+="            <a:pPr>",a+="                <a:defRPr/>",a+="            </a:pPr>",a+='            <a:endParaRPr lang="en-US"/>',a+="        </a:p>",a+="    </c:txPr>",e.dataLabelPosition&&(a+=' <c:dLblPos val="'+e.dataLabelPosition+'"/>'),a+='    <c:showLegendKey val="0"/>',a+=` <c:showVal val="${e.showLabel?"1":"0"}"/>`,a+=` <c:showCatName val="${e.showLabel?"1":"0"}"/>`,a+=` <c:showSerName val="${e.showSerName?"1":"0"}"/>`,a+='    <c:showPercent val="0"/>',a+='    <c:showBubbleSize val="0"/>',a+="    <c:extLst>",a+='        <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',a+='            <c15:showLeaderLines val="1"/>',a+="        </c:ext>",a+="    </c:extLst>",a+="</c:dLbls>")}t.length===1&&e.chartColors!==nc&&c.values.forEach((f,h)=>{const p=f<0?e.invertedColors||e.chartColors||nc:e.chartColors||[];a+="  <c:dPt>",a+=`    <c:idx val="${h}"/>`,a+='      <c:invertIfNegative val="0"/>',a+='    <c:bubble3D val="0"/>',a+="    <c:spPr>",e.lineSize===0?a+="<a:ln><a:noFill/></a:ln>":(a+="<a:solidFill>",a+=' <a:srgbClr val="'+p[h%p.length]+'"/>',a+="</a:solidFill>"),a+=Na(e.shadow,Fa),a+="    </c:spPr>",a+="  </c:dPt>"}),a+="<c:xVal>",a+="  <c:numRef>",a+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,a+="    <c:numCache>",a+="      <c:formatCode>General</c:formatCode>",a+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{a+=`<c:pt idx="${h}"><c:v>${f||f===0?f:""}</c:v></c:pt>`}),a+="    </c:numCache>",a+="  </c:numRef>",a+="</c:xVal>",a+="<c:yVal>",a+="  <c:numRef>",a+=`    <c:f>Sheet1!$${Re(u+2)}$2:$${Re(u+2)}$${t[0].values.length+1}</c:f>`,a+="    <c:numCache>",a+="      <c:formatCode>General</c:formatCode>",a+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{a+=`<c:pt idx="${h}"><c:v>${c.values[h]||c.values[h]===0?c.values[h]:""}</c:v></c:pt>`}),a+="    </c:numCache>",a+="  </c:numRef>",a+="</c:yVal>",a+='<c:smooth val="'+(e.lineSmooth?"1":"0")+'"/>',a+="</c:ser>"}),a+="  <c:dLbls>",a+=`    <c:numFmt formatCode="${he(e.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,a+="    <c:txPr>",a+="      <a:bodyPr/>",a+="      <a:lstStyle/>",a+="      <a:p><a:pPr>",a+=`        <a:defRPr b="${e.dataLabelFontBold?"1":"0"}" i="${e.dataLabelFontItalic?"1":"0"}" strike="noStrike" sz="${Math.round((e.dataLabelFontSize||on)*100)}" u="none">`,a+="          <a:solidFill>"+Oe(e.dataLabelColor||Ur)+"</a:solidFill>",a+='          <a:latin typeface="'+(e.dataLabelFontFace||"Arial")+'"/>',a+="        </a:defRPr>",a+="      </a:pPr></a:p>",a+="    </c:txPr>",e.dataLabelPosition&&(a+=' <c:dLblPos val="'+e.dataLabelPosition+'"/>'),a+='    <c:showLegendKey val="0"/>',a+='    <c:showVal val="'+(e.showValue?"1":"0")+'"/>',a+='    <c:showCatName val="0"/>',a+='    <c:showSerName val="'+(e.showSerName?"1":"0")+'"/>',a+='    <c:showPercent val="0"/>',a+='    <c:showBubbleSize val="0"/>',a+="  </c:dLbls>",a+=`<c:axId val="${n}"/><c:axId val="${r}"/>`,a+="</c:"+i+"Chart>";break;case zt.BUBBLE:case zt.BUBBLE3D:a+="<c:bubbleChart>",a+='<c:varyColors val="0"/>',d=-1,t.filter((c,u)=>u>0).forEach((c,u)=>{d++,a+="<c:ser>",a+=`  <c:idx val="${u}"/>`,a+=`  <c:order val="${u}"/>`,a+="  <c:tx>",a+="    <c:strRef>",a+="      <c:f>Sheet1!$"+Re(l+1)+"$1</c:f>",a+='      <c:strCache><c:ptCount val="1"/><c:pt idx="0"><c:v>'+he(c.name)+"</c:v></c:pt></c:strCache>",a+="    </c:strRef>",a+="  </c:tx>";{a+="<c:spPr>";const f=e.chartColors[d%e.chartColors.length];f==="transparent"?a+="<a:noFill/>":e.chartColorsOpacity?a+=`<a:solidFill>${Oe(f,'<a:alpha val="'+Math.round(e.chartColorsOpacity*1e3).toString()+'"/>')}</a:solidFill>`:a+="<a:solidFill>"+Oe(f)+"</a:solidFill>",e.lineSize===0?a+="<a:ln><a:noFill/></a:ln>":e.dataBorder?a+=`<a:ln w="${ae(e.dataBorder.pt)}" cap="flat"><a:solidFill>${Oe(e.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`:(a+=`<a:ln w="${ae(e.lineSize)}" cap="flat"><a:solidFill>${Oe(f)}</a:solidFill>`,a+=`<a:prstDash val="${e.lineDash||"solid"}"/><a:round/></a:ln>`),a+=Na(e.shadow,Fa),a+="</c:spPr>"}a+="<c:xVal>",a+="  <c:numRef>",a+=`    <c:f>Sheet1!$A$2:$A$${t[0].values.length+1}</c:f>`,a+="    <c:numCache>",a+="      <c:formatCode>General</c:formatCode>",a+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{a+=`<c:pt idx="${h}"><c:v>${f||f===0?f:""}</c:v></c:pt>`}),a+="    </c:numCache>",a+="  </c:numRef>",a+="</c:xVal>",a+="<c:yVal>",a+="  <c:numRef>",a+=`<c:f>Sheet1!$${Re(l+1)}$2:$${Re(l+1)}$${t[0].values.length+1}</c:f>`,l++,a+="    <c:numCache>",a+="      <c:formatCode>General</c:formatCode>",a+=`      <c:ptCount val="${t[0].values.length}"/>`,t[0].values.forEach((f,h)=>{a+=`<c:pt idx="${h}"><c:v>${c.values[h]||c.values[h]===0?c.values[h]:""}</c:v></c:pt>`}),a+="    </c:numCache>",a+="  </c:numRef>",a+="</c:yVal>",a+="  <c:bubbleSize>",a+="    <c:numRef>",a+=`<c:f>Sheet1!$${Re(l+1)}$2:$${Re(l+1)}$${c.sizes.length+1}</c:f>`,l++,a+="      <c:numCache>",a+="        <c:formatCode>General</c:formatCode>",a+=`           <c:ptCount val="${c.sizes.length}"/>`,c.sizes.forEach((f,h)=>{a+=`<c:pt idx="${h}"><c:v>${f||""}</c:v></c:pt>`}),a+="      </c:numCache>",a+="    </c:numRef>",a+="  </c:bubbleSize>",a+='  <c:bubble3D val="'+(i===zt.BUBBLE3D?"1":"0")+'"/>',a+="</c:ser>"}),a+="<c:dLbls>",a+=`<c:numFmt formatCode="${he(e.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,a+="<c:txPr><a:bodyPr/><a:lstStyle/><a:p><a:pPr>",a+=`<a:defRPr b="${e.dataLabelFontBold?1:0}" i="${e.dataLabelFontItalic?1:0}" strike="noStrike" sz="${Math.round(Math.round(e.dataLabelFontSize||on)*100)}" u="none">`,a+=`<a:solidFill>${Oe(e.dataLabelColor||Ur)}</a:solidFill>`,a+=`<a:latin typeface="${e.dataLabelFontFace||"Arial"}"/>`,a+="</a:defRPr></a:pPr></a:p></c:txPr>",e.dataLabelPosition&&(a+=`<c:dLblPos val="${e.dataLabelPosition}"/>`),a+='<c:showLegendKey val="0"/>',a+=`<c:showVal val="${e.showValue?"1":"0"}"/>`,a+=`<c:showCatName val="0"/><c:showSerName val="${e.showSerName?"1":"0"}"/><c:showPercent val="0"/><c:showBubbleSize val="0"/>`,a+="<c:extLst>",a+='  <c:ext uri="{CE6537A1-D6FC-4f65-9D91-7224C49458BB}" xmlns:c15="http://schemas.microsoft.com/office/drawing/2012/chart">',a+='    <c15:showLeaderLines val="'+(e.showLeaderLines?"1":"0")+'"/>',a+="  </c:ext>",a+="</c:extLst>",a+="</c:dLbls>",a+=`<c:axId val="${n}"/><c:axId val="${r}"/>`,a+="</c:bubbleChart>";break;case zt.DOUGHNUT:case zt.PIE:s=t[0],a+="<c:"+i+"Chart>",a+='  <c:varyColors val="1"/>',a+="<c:ser>",a+='  <c:idx val="0"/>',a+='  <c:order val="0"/>',a+="  <c:tx>",a+="    <c:strRef>",a+="      <c:f>Sheet1!$B$1</c:f>",a+="      <c:strCache>",a+='        <c:ptCount val="1"/>',a+='        <c:pt idx="0"><c:v>'+he(s.name)+"</c:v></c:pt>",a+="      </c:strCache>",a+="    </c:strRef>",a+="  </c:tx>",a+="  <c:spPr>",a+='    <a:solidFill><a:schemeClr val="accent1"/></a:solidFill>',a+='    <a:ln w="9525" cap="flat"><a:solidFill><a:srgbClr val="F9F9F9"/></a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>',e.dataNoEffects?a+="<a:effectLst/>":a+=Na(e.shadow,Fa),a+="  </c:spPr>",s.labels[0].forEach((c,u)=>{a+="<c:dPt>",a+=` <c:idx val="${u}"/>`,a+=' <c:bubble3D val="0"/>',a+=" <c:spPr>",a+=`<a:solidFill>${Oe(e.chartColors[u+1>e.chartColors.length?Math.floor(Math.random()*e.chartColors.length):u])}</a:solidFill>`,e.dataBorder&&(a+=`<a:ln w="${ae(e.dataBorder.pt)}" cap="flat"><a:solidFill>${Oe(e.dataBorder.color)}</a:solidFill><a:prstDash val="solid"/><a:round/></a:ln>`),a+=Na(e.shadow,Fa),a+="  </c:spPr>",a+="</c:dPt>"}),a+="<c:dLbls>",s.labels[0].forEach((c,u)=>{a+="<c:dLbl>",a+=` <c:idx val="${u}"/>`,a+=`  <c:numFmt formatCode="${he(e.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,a+="  <c:spPr/><c:txPr>",a+="   <a:bodyPr/><a:lstStyle/>",a+="   <a:p><a:pPr>",a+=`   <a:defRPr sz="${Math.round((e.dataLabelFontSize||on)*100)}" b="${e.dataLabelFontBold?1:0}" i="${e.dataLabelFontItalic?1:0}" u="none" strike="noStrike">`,a+="    <a:solidFill>"+Oe(e.dataLabelColor||Ur)+"</a:solidFill>",a+=`    <a:latin typeface="${e.dataLabelFontFace||"Arial"}"/>`,a+="   </a:defRPr>",a+="      </a:pPr></a:p>",a+="    </c:txPr>",i===zt.PIE&&e.dataLabelPosition&&(a+=`<c:dLblPos val="${e.dataLabelPosition}"/>`),a+='    <c:showLegendKey val="0"/>',a+='    <c:showVal val="'+(e.showValue?"1":"0")+'"/>',a+='    <c:showCatName val="'+(e.showLabel?"1":"0")+'"/>',a+='    <c:showSerName val="'+(e.showSerName?"1":"0")+'"/>',a+='    <c:showPercent val="'+(e.showPercent?"1":"0")+'"/>',a+='    <c:showBubbleSize val="0"/>',a+="  </c:dLbl>"}),a+=` <c:numFmt formatCode="${he(e.dataLabelFormatCode)||"General"}" sourceLinked="0"/>`,a+="    <c:txPr>",a+="      <a:bodyPr/>",a+="      <a:lstStyle/>",a+="      <a:p>",a+="        <a:pPr>",a+=`          <a:defRPr sz="1800" b="${e.dataLabelFontBold?"1":"0"}" i="${e.dataLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,a+='            <a:solidFill><a:srgbClr val="000000"/></a:solidFill><a:latin typeface="Arial"/>',a+="          </a:defRPr>",a+="        </a:pPr>",a+="      </a:p>",a+="    </c:txPr>",a+=i===zt.PIE?'<c:dLblPos val="ctr"/>':"",a+='    <c:showLegendKey val="0"/>',a+='    <c:showVal val="0"/>',a+='    <c:showCatName val="1"/>',a+='    <c:showSerName val="0"/>',a+='    <c:showPercent val="1"/>',a+='    <c:showBubbleSize val="0"/>',a+=` <c:showLeaderLines val="${e.showLeaderLines?"1":"0"}"/>`,a+="</c:dLbls>",a+="<c:cat>",a+="  <c:strRef>",a+=`    <c:f>Sheet1!$A$2:$A$${s.labels[0].length+1}</c:f>`,a+="    <c:strCache>",a+=`         <c:ptCount val="${s.labels[0].length}"/>`,s.labels[0].forEach((c,u)=>{a+=`<c:pt idx="${u}"><c:v>${he(c)}</c:v></c:pt>`}),a+="    </c:strCache>",a+="  </c:strRef>",a+="</c:cat>",a+="  <c:val>",a+="    <c:numRef>",a+=`      <c:f>Sheet1!$B$2:$B$${s.labels[0].length+1}</c:f>`,a+="      <c:numCache>",a+=`           <c:ptCount val="${s.labels[0].length}"/>`,s.values.forEach((c,u)=>{a+=`<c:pt idx="${u}"><c:v>${c||c===0?c:""}</c:v></c:pt>`}),a+="      </c:numCache>",a+="    </c:numRef>",a+="  </c:val>",a+="  </c:ser>",a+=`  <c:firstSliceAng val="${e.firstSliceAng?Math.round(e.firstSliceAng):0}"/>`,i===zt.DOUGHNUT&&(a+=`<c:holeSize val="${typeof e.holeSize=="number"?e.holeSize:"50"}"/>`),a+="</c:"+i+"Chart>";break;default:a+="";break}return a}function Ed(i,t,e){let r="";return i._type===zt.SCATTER||i._type===zt.BUBBLE||i._type===zt.BUBBLE3D?r+="<c:valAx>":r+="<c:"+(i.catLabelFormatCode?"dateAx":"catAx")+">",r+='  <c:axId val="'+t+'"/>',r+="  <c:scaling>",r+='<c:orientation val="'+(i.catAxisOrientation||(i.barDir==="col","minMax"))+'"/>',(i.catAxisMaxVal||i.catAxisMaxVal===0)&&(r+=`<c:max val="${i.catAxisMaxVal}"/>`),(i.catAxisMinVal||i.catAxisMinVal===0)&&(r+=`<c:min val="${i.catAxisMinVal}"/>`),r+="</c:scaling>",r+='  <c:delete val="'+(i.catAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(i.barDir==="col"?"b":"l")+'"/>',r+=i.catGridLine.style!=="none"?pg(i.catGridLine):"",i.showCatAxisTitle&&(r+=rf({color:i.catAxisTitleColor,fontFace:i.catAxisTitleFontFace,fontSize:i.catAxisTitleFontSize,titleRotate:i.catAxisTitleRotate,title:i.catAxisTitle||"Axis Title"})),i._type===zt.SCATTER||i._type===zt.BUBBLE||i._type===zt.BUBBLE3D?r+='  <c:numFmt formatCode="'+(i.valAxisLabelFormatCode?he(i.valAxisLabelFormatCode):"General")+'" sourceLinked="1"/>':r+='  <c:numFmt formatCode="'+(he(i.catLabelFormatCode)||"General")+'" sourceLinked="1"/>',i._type===zt.SCATTER?(r+='  <c:majorTickMark val="none"/>',r+='  <c:minorTickMark val="none"/>',r+='  <c:tickLblPos val="nextTo"/>'):(r+='  <c:majorTickMark val="'+(i.catAxisMajorTickMark||"out")+'"/>',r+='  <c:minorTickMark val="'+(i.catAxisMinorTickMark||"none")+'"/>',r+='  <c:tickLblPos val="'+(i.catAxisLabelPos||(i.barDir==="col"?"low":"nextTo"))+'"/>'),r+="  <c:spPr>",r+=`    <a:ln w="${i.catAxisLineSize?ae(i.catAxisLineSize):Ic}" cap="flat">`,r+=i.catAxisLineShow?"<a:solidFill>"+Oe(i.catAxisLineColor||Ka.color)+"</a:solidFill>":"<a:noFill/>",r+='      <a:prstDash val="'+(i.catAxisLineStyle||"solid")+'"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",i.catAxisLabelRotate?r+=`<a:bodyPr rot="${$a(i.catAxisLabelRotate)}"/>`:r+="<a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`      <a:defRPr sz="${Math.round((i.catAxisLabelFontSize||on)*100)}" b="${i.catAxisLabelFontBold?1:0}" i="${i.catAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,r+="      <a:solidFill>"+Oe(i.catAxisLabelColor||Ur)+"</a:solidFill>",r+='      <a:latin typeface="'+(i.catAxisLabelFontFace||"Arial")+'"/>',r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(i.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+e+'"/>',r+=` <c:${typeof i.valAxisCrossesAt=="number"?"crossesAt":"crosses"} val="${i.valAxisCrossesAt||"autoZero"}"/>`,r+=' <c:auto val="1"/>',r+=' <c:lblAlgn val="ctr"/>',r+=` <c:noMultiLvlLbl val="${i.catAxisMultiLevelLabels?0:1}"/>`,i.catAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+i.catAxisLabelFrequency+'"/>'),(i.catLabelFormatCode||i._type===zt.SCATTER||i._type===zt.BUBBLE||i._type===zt.BUBBLE3D)&&(i.catLabelFormatCode&&(["catAxisBaseTimeUnit","catAxisMajorTimeUnit","catAxisMinorTimeUnit"].forEach(n=>{i[n]&&(typeof i[n]!="string"||!["days","months","years"].includes(i[n].toLowerCase()))&&(i[n]=null)}),i.catAxisBaseTimeUnit&&(r+='<c:baseTimeUnit val="'+i.catAxisBaseTimeUnit.toLowerCase()+'"/>'),i.catAxisMajorTimeUnit&&(r+='<c:majorTimeUnit val="'+i.catAxisMajorTimeUnit.toLowerCase()+'"/>'),i.catAxisMinorTimeUnit&&(r+='<c:minorTimeUnit val="'+i.catAxisMinorTimeUnit.toLowerCase()+'"/>')),i.catAxisMajorUnit&&(r+=`<c:majorUnit val="${i.catAxisMajorUnit}"/>`),i.catAxisMinorUnit&&(r+=`<c:minorUnit val="${i.catAxisMinorUnit}"/>`)),i._type===zt.SCATTER||i._type===zt.BUBBLE||i._type===zt.BUBBLE3D?r+="</c:valAx>":r+="</c:"+(i.catLabelFormatCode?"dateAx":"catAx")+">",r}function Md(i,t){let e=t===ds?i.barDir==="col"?"l":"b":i.barDir!=="col"?"r":"t";t===fu&&(e="r");const r=t===ds?rc:bp;let n="";return n+="<c:valAx>",n+='  <c:axId val="'+t+'"/>',n+="  <c:scaling>",i.valAxisLogScaleBase&&(n+=`<c:logBase val="${i.valAxisLogScaleBase}"/>`),n+='<c:orientation val="'+(i.valAxisOrientation||(i.barDir==="col","minMax"))+'"/>',(i.valAxisMaxVal||i.valAxisMaxVal===0)&&(n+=`<c:max val="${i.valAxisMaxVal}"/>`),(i.valAxisMinVal||i.valAxisMinVal===0)&&(n+=`<c:min val="${i.valAxisMinVal}"/>`),n+="  </c:scaling>",n+=`  <c:delete val="${i.valAxisHidden?1:0}"/>`,n+='  <c:axPos val="'+e+'"/>',i.valGridLine.style!=="none"&&(n+=pg(i.valGridLine)),i.showValAxisTitle&&(n+=rf({color:i.valAxisTitleColor,fontFace:i.valAxisTitleFontFace,fontSize:i.valAxisTitleFontSize,titleRotate:i.valAxisTitleRotate,title:i.valAxisTitle||"Axis Title"})),n+=`<c:numFmt formatCode="${i.valAxisLabelFormatCode?he(i.valAxisLabelFormatCode):"General"}" sourceLinked="0"/>`,i._type===zt.SCATTER?(n+='  <c:majorTickMark val="none"/>',n+='  <c:minorTickMark val="none"/>',n+='  <c:tickLblPos val="nextTo"/>'):(n+=' <c:majorTickMark val="'+(i.valAxisMajorTickMark||"out")+'"/>',n+=' <c:minorTickMark val="'+(i.valAxisMinorTickMark||"none")+'"/>',n+=' <c:tickLblPos val="'+(i.valAxisLabelPos||(i.barDir==="col"?"nextTo":"low"))+'"/>'),n+=" <c:spPr>",n+=`   <a:ln w="${i.valAxisLineSize?ae(i.valAxisLineSize):Ic}" cap="flat">`,n+=i.valAxisLineShow?"<a:solidFill>"+Oe(i.valAxisLineColor||Ka.color)+"</a:solidFill>":"<a:noFill/>",n+='     <a:prstDash val="'+(i.valAxisLineStyle||"solid")+'"/>',n+="     <a:round/>",n+="   </a:ln>",n+=" </c:spPr>",n+=" <c:txPr>",n+=`  <a:bodyPr${i.valAxisLabelRotate?' rot="'+$a(i.valAxisLabelRotate).toString()+'"':""}/>`,n+="  <a:lstStyle/>",n+="  <a:p>",n+="    <a:pPr>",n+=`      <a:defRPr sz="${Math.round((i.valAxisLabelFontSize||on)*100)}" b="${i.valAxisLabelFontBold?1:0}" i="${i.valAxisLabelFontItalic?1:0}" u="none" strike="noStrike">`,n+="        <a:solidFill>"+Oe(i.valAxisLabelColor||Ur)+"</a:solidFill>",n+='        <a:latin typeface="'+(i.valAxisLabelFontFace||"Arial")+'"/>',n+="      </a:defRPr>",n+="    </a:pPr>",n+='  <a:endParaRPr lang="'+(i.lang||"en-US")+'"/>',n+="  </a:p>",n+=" </c:txPr>",n+=' <c:crossAx val="'+r+'"/>',typeof i.catAxisCrossesAt=="number"?n+=` <c:crossesAt val="${i.catAxisCrossesAt}"/>`:typeof i.catAxisCrossesAt=="string"?n+=' <c:crosses val="'+i.catAxisCrossesAt+'"/>':n+=' <c:crosses val="'+(e==="r"||e==="t"?"max":"autoZero")+'"/>',n+=' <c:crossBetween val="'+(i._type===zt.SCATTER||Array.isArray(i._type)&&i._type.filter(o=>o.type===zt.AREA).length>0?"midCat":"between")+'"/>',i.valAxisMajorUnit&&(n+=` <c:majorUnit val="${i.valAxisMajorUnit}"/>`),i.valAxisDisplayUnit&&(n+=`<c:dispUnits><c:builtInUnit val="${i.valAxisDisplayUnit}"/>${i.valAxisDisplayUnitLabel?"<c:dispUnitsLbl/>":""}</c:dispUnits>`),n+="</c:valAx>",n}function _S(i,t,e){let r="";return r+="<c:serAx>",r+='  <c:axId val="'+t+'"/>',r+='  <c:scaling><c:orientation val="'+(i.serAxisOrientation||(i.barDir==="col","minMax"))+'"/></c:scaling>',r+='  <c:delete val="'+(i.serAxisHidden?"1":"0")+'"/>',r+='  <c:axPos val="'+(i.barDir==="col"?"b":"l")+'"/>',r+=i.serGridLine.style!=="none"?pg(i.serGridLine):"",i.showSerAxisTitle&&(r+=rf({color:i.serAxisTitleColor,fontFace:i.serAxisTitleFontFace,fontSize:i.serAxisTitleFontSize,titleRotate:i.serAxisTitleRotate,title:i.serAxisTitle||"Axis Title"})),r+=`  <c:numFmt formatCode="${he(i.serLabelFormatCode)||"General"}" sourceLinked="0"/>`,r+='  <c:majorTickMark val="out"/>',r+='  <c:minorTickMark val="none"/>',r+=`  <c:tickLblPos val="${i.serAxisLabelPos||i.barDir==="col"?"low":"nextTo"}"/>`,r+="  <c:spPr>",r+='    <a:ln w="12700" cap="flat">',r+=i.serAxisLineShow?`<a:solidFill>${Oe(i.serAxisLineColor||Ka.color)}</a:solidFill>`:"<a:noFill/>",r+='      <a:prstDash val="solid"/>',r+="      <a:round/>",r+="    </a:ln>",r+="  </c:spPr>",r+="  <c:txPr>",r+="    <a:bodyPr/>",r+="    <a:lstStyle/>",r+="    <a:p>",r+="    <a:pPr>",r+=`    <a:defRPr sz="${Math.round((i.serAxisLabelFontSize||on)*100)}" b="${i.serAxisLabelFontBold?"1":"0"}" i="${i.serAxisLabelFontItalic?"1":"0"}" u="none" strike="noStrike">`,r+=`      <a:solidFill>${Oe(i.serAxisLabelColor||Ur)}</a:solidFill>`,r+=`      <a:latin typeface="${i.serAxisLabelFontFace||"Arial"}"/>`,r+="   </a:defRPr>",r+="  </a:pPr>",r+='  <a:endParaRPr lang="'+(i.lang||"en-US")+'"/>',r+="  </a:p>",r+=" </c:txPr>",r+=' <c:crossAx val="'+e+'"/>',r+=' <c:crosses val="autoZero"/>',i.serAxisLabelFrequency&&(r+=' <c:tickLblSkip val="'+i.serAxisLabelFrequency+'"/>'),i.serLabelFormatCode&&(["serAxisBaseTimeUnit","serAxisMajorTimeUnit","serAxisMinorTimeUnit"].forEach(n=>{i[n]&&(typeof i[n]!="string"||!["days","months","years"].includes(n.toLowerCase()))&&(i[n]=null)}),i.serAxisBaseTimeUnit&&(r+=` <c:baseTimeUnit  val="${i.serAxisBaseTimeUnit.toLowerCase()}"/>`),i.serAxisMajorTimeUnit&&(r+=` <c:majorTimeUnit val="${i.serAxisMajorTimeUnit.toLowerCase()}"/>`),i.serAxisMinorTimeUnit&&(r+=` <c:minorTimeUnit val="${i.serAxisMinorTimeUnit.toLowerCase()}"/>`),i.serAxisMajorUnit&&(r+=` <c:majorUnit val="${i.serAxisMajorUnit}"/>`),i.serAxisMinorUnit&&(r+=` <c:minorUnit val="${i.serAxisMinorUnit}"/>`)),r+="</c:serAx>",r}function rf(i,t,e){const r=i.titleAlign==="left"||i.titleAlign==="right"?`<a:pPr algn="${i.titleAlign.substring(0,1)}">`:"<a:pPr>",n=i.titleRotate?`<a:bodyPr rot="${$a(i.titleRotate)}"/>`:"<a:bodyPr/>",o=i.fontSize?`sz="${Math.round(i.fontSize*100)}"`:"",d=i.titleBold?1:0;let l="<c:layout/>";if(i.titlePos&&typeof i.titlePos.x=="number"&&typeof i.titlePos.y=="number"){const s=i.titlePos.x+t,a=i.titlePos.y+e;let c=s===0?0:s*(s/5)/10;c>=1&&(c=c/10),c>=.1&&(c=c/10);let u=a===0?0:a*(a/5)/10;u>=1&&(u=u/10),u>=.1&&(u=u/10),l=`<c:layout><c:manualLayout><c:xMode val="edge"/><c:yMode val="edge"/><c:x val="${c}"/><c:y val="${u}"/></c:manualLayout></c:layout>`}return`<c:title>
      <c:tx>
        <c:rich>
          ${n}
          <a:lstStyle/>
          <a:p>
            ${r}
            <a:defRPr ${o} b="${d}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Oe(i.color||Ur)}</a:solidFill>
              <a:latin typeface="${i.fontFace||"Arial"}"/>
            </a:defRPr>
          </a:pPr>
          <a:r>
            <a:rPr ${o} b="${d}" i="0" u="none" strike="noStrike">
              <a:solidFill>${Oe(i.color||Ur)}</a:solidFill>
              <a:latin typeface="${i.fontFace||"Arial"}"/>
            </a:rPr>
            <a:t>${he(i.title)||""}</a:t>
          </a:r>
        </a:p>
        </c:rich>
      </c:tx>
      ${l}
      <c:overlay val="0"/>
    </c:title>`}function Re(i){let t="";const e=i-1;return e<=25?t=Ql[e]:t=`${Ql[Math.floor(e/Ql.length-1)]}${Ql[e%Ql.length]}`,t}function Na(i,t){if(i){if(typeof i!="object")return"<a:effectLst/>"}else return"<a:effectLst/>";let e="<a:effectLst>";const r=Object.assign(Object.assign({},t),i),n=r.type||"outer",o=ae(r.blur),d=ae(r.offset),l=Math.round(r.angle*6e4),s=r.color,a=Math.round(r.opacity*1e5),c=r.rotateWithShape?1:0;return e+=`<a:${n}Shdw sx="100000" sy="100000" kx="0" ky="0"  algn="bl" blurRad="${o}" rotWithShape="${c}" dist="${d}" dir="${l}">`,e+=`<a:srgbClr val="${s}">`,e+=`<a:alpha val="${a}"/></a:srgbClr>`,e+=`</a:${n}Shdw>`,e+="</a:effectLst>",e}function pg(i){let t="<c:majorGridlines>";return t+=" <c:spPr>",t+=`  <a:ln w="${ae(i.size||Ka.size)}" cap="${pu(i.cap||Ka.cap)}">`,t+='  <a:solidFill><a:srgbClr val="'+(i.color||Ka.color)+'"/></a:solidFill>',t+='   <a:prstDash val="'+(i.style||Ka.style)+'"/><a:round/>',t+="  </a:ln>",t+=" </c:spPr>",t+="</c:majorGridlines>",t}function pu(i){if(!i||i==="flat")return"flat";if(i==="square")return"sq";if(i==="round")return"rnd";{const t=i;throw new Error(`Invalid chart line cap: ${t}`)}}function Fd(i){var t,e;const r=typeof process<"u"&&!!(!((t=process.versions)===null||t===void 0)&&t.node)&&((e=process.release)===null||e===void 0?void 0:e.name)==="node";let n,o;const d=r?()=>zr(this,void 0,void 0,function*(){({default:n}=yield Un(()=>import("./index.esm-0b9baea5.js").then(c=>c._),["assets/index.esm-0b9baea5.js","assets/index-626914f7.js","assets/index-e511f767.css"])),{default:o}=yield Un(()=>import("./index.esm-0b9baea5.js").then(c=>c._),["assets/index.esm-0b9baea5.js","assets/index-626914f7.js","assets/index-e511f767.css"])}):()=>zr(this,void 0,void 0,function*(){});r&&d();const l=[],s=i._relsMedia.filter(c=>c.type!=="online"&&!c.data&&(!c.path||c.path&&!c.path.includes("preencoded"))),a=[];return s.forEach(c=>{a.includes(c.path)?c.isDuplicate=!0:(c.isDuplicate=!1,a.push(c.path))}),s.filter(c=>!c.isDuplicate).forEach(c=>{l.push((()=>zr(this,void 0,void 0,function*(){if(o||(yield d()),r&&n&&c.path.indexOf("http")!==0)try{const u=n.readFileSync(c.path);return c.data=Buffer.from(u).toString("base64"),s.filter(f=>f.isDuplicate&&f.path===c.path).forEach(f=>f.data=c.data),"done"}catch(u){throw c.data=Vo,s.filter(f=>f.isDuplicate&&f.path===c.path).forEach(f=>f.data=c.data),new Error(`ERROR: Unable to read media: "${c.path}"
${String(u)}`)}return r&&o&&c.path.startsWith("http")?yield new Promise((u,f)=>{o.get(c.path,h=>{let p="";h.setEncoding("binary"),h.on("data",A=>p+=A),h.on("end",()=>{c.data=Buffer.from(p,"binary").toString("base64"),s.filter(A=>A.isDuplicate&&A.path===c.path).forEach(A=>A.data=c.data),u("done")}),h.on("error",()=>{c.data=Vo,s.filter(A=>A.isDuplicate&&A.path===c.path).forEach(A=>A.data=c.data),f(new Error(`ERROR! Unable to load image (https.get): ${c.path}`))})})}):yield new Promise((u,f)=>{const h=new XMLHttpRequest;h.onload=()=>{const p=new FileReader;p.onloadend=()=>{c.data=p.result,s.filter(A=>A.isDuplicate&&A.path===c.path).forEach(A=>A.data=c.data),c.isSvgPng?bm(c).then(()=>u("done")).catch(f):u("done")},p.readAsDataURL(h.response)},h.onerror=()=>{c.data=Vo,s.filter(p=>p.isDuplicate&&p.path===c.path).forEach(p=>p.data=c.data),f(new Error(`ERROR! Unable to load image (xhr.onerror): ${c.path}`))},h.open("GET",c.path),h.responseType="blob",h.send()})}))())}),i._relsMedia.filter(c=>c.isSvgPng&&c.data).forEach(c=>{zr(this,void 0,void 0,function*(){r&&!n&&(yield d()),r&&n?(c.data=Vo,l.push(Promise.resolve("done"))):l.push(bm(c))})}),l}function bm(i){return zr(this,void 0,void 0,function*(){return yield new Promise((t,e)=>{const r=new Image;r.onload=()=>{r.width+r.height===0&&r.onerror("h/w=0");let n=document.createElement("CANVAS");const o=n.getContext("2d");n.width=r.width,n.height=r.height,o.drawImage(r,0,0);try{i.data=n.toDataURL(i.type),t("done")}catch(d){r.onerror(d.toString())}n=null},r.onerror=()=>{i.data=Vo,e(new Error(`ERROR! Unable to load image (image.onerror): ${i.path}`))},r.src=typeof i.data=="string"?i.data:Vo})})}const xS={cover:function(i,t){const e=i.h/i.w,n=t.h/t.w>e,o=n?t.h/e:t.w,d=n?t.h:t.w*e,l=Math.round(1e5*.5*(1-t.w/o)),s=Math.round(1e5*.5*(1-t.h/d));return`<a:srcRect l="${l}" r="${l}" t="${s}" b="${s}"/><a:stretch/>`},contain:function(i,t){const e=i.h/i.w,n=t.h/t.w>e,o=n?t.w:t.h/e,d=n?t.w*e:t.h,l=Math.round(1e5*.5*(1-t.w/o)),s=Math.round(1e5*.5*(1-t.h/d));return`<a:srcRect l="${l}" r="${l}" t="${s}" b="${s}"/><a:stretch/>`},crop:function(i,t){const e=t.x,r=i.w-(t.x+t.w),n=t.y,o=i.h-(t.y+t.h),d=Math.round(1e5*(e/i.w)),l=Math.round(1e5*(r/i.w)),s=Math.round(1e5*(n/i.h)),a=Math.round(1e5*(o/i.h));return`<a:srcRect l="${d}" r="${l}" t="${s}" b="${a}"/><a:stretch/>`}};function gg(i){var t;let e=i._name?'<p:cSld name="'+i._name+'">':"<p:cSld>",r=1;return i._bkgdImgRid?e+=`<p:bg><p:bgPr><a:blipFill dpi="0" rotWithShape="1"><a:blip r:embed="rId${i._bkgdImgRid}"><a:lum/></a:blip><a:srcRect/><a:stretch><a:fillRect/></a:stretch></a:blipFill><a:effectLst/></p:bgPr></p:bg>`:!((t=i.background)===null||t===void 0)&&t.color?e+=`<p:bg><p:bgPr>${Wr(i.background)}</p:bgPr></p:bg>`:!i.bkgd&&i._name&&i._name===yp&&(e+='<p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg>'),e+="<p:spTree>",e+='<p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr>',e+='<p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/>',e+='<a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr>',i._slideObjects.forEach((n,o)=>{var d,l,s,a,c,u,f,h;let p=0,A=0,g=be("75%","X",i._presLayout),m=0,v,y="",w=null,x=null,L=0,F=0,M=null,D=null;const X=(d=n.options)===null||d===void 0?void 0:d.sizing,I=(l=n.options)===null||l===void 0?void 0:l.rounding;i._slideLayout!==void 0&&i._slideLayout._slideObjects!==void 0&&n.options&&n.options.placeholder&&(v=i._slideLayout._slideObjects.filter(C=>C.options.placeholder===n.options.placeholder)[0]),n.options=n.options||{},typeof n.options.x<"u"&&(p=be(n.options.x,"X",i._presLayout)),typeof n.options.y<"u"&&(A=be(n.options.y,"Y",i._presLayout)),typeof n.options.w<"u"&&(g=be(n.options.w,"X",i._presLayout)),typeof n.options.h<"u"&&(m=be(n.options.h,"Y",i._presLayout));let O=g,W=m;switch(v&&((v.options.x||v.options.x===0)&&(p=be(v.options.x,"X",i._presLayout)),(v.options.y||v.options.y===0)&&(A=be(v.options.y,"Y",i._presLayout)),(v.options.w||v.options.w===0)&&(g=be(v.options.w,"X",i._presLayout)),(v.options.h||v.options.h===0)&&(m=be(v.options.h,"Y",i._presLayout))),n.options.flipH&&(y+=' flipH="1"'),n.options.flipV&&(y+=' flipV="1"'),n.options.rotate&&(y+=` rot="${$a(n.options.rotate)}"`),n._type){case ue.table:if(w=n.arrTabRows,x=n.options,L=0,F=0,w[0].forEach(C=>{M=C.options||null,L+=M!=null&&M.colspan?Number(M.colspan):1}),D=`<p:graphicFrame><p:nvGraphicFramePr><p:cNvPr id="${r*i._slideNum+1}" name="${n.options.objectName}"/>`,D+='<p:cNvGraphicFramePr><a:graphicFrameLocks noGrp="1"/></p:cNvGraphicFramePr>  <p:nvPr><p:extLst><p:ext uri="{D42A27DB-BD31-4B8C-83A1-F6EECF244321}"><p14:modId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1579011935"/></p:ext></p:extLst></p:nvPr></p:nvGraphicFramePr>',D+=`<p:xfrm><a:off x="${p||(p===0?0:Ze)}" y="${A||(A===0?0:Ze)}"/><a:ext cx="${g||(g===0?0:Ze)}" cy="${m||Ze}"/></p:xfrm>`,D+='<a:graphic><a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/table"><a:tbl><a:tblPr/>',Array.isArray(x.colW)){D+="<a:tblGrid>";for(let C=0;C<L;C++){let Q=Le(x.colW[C]);(Q==null||isNaN(Q))&&(Q=(typeof n.options.w=="number"?n.options.w:1)/L),D+=`<a:gridCol w="${Math.round(Q)}"/>`}D+="</a:tblGrid>"}else{F=x.colW?x.colW:Ze,n.options.w&&!x.colW&&(F=Math.round((typeof n.options.w=="number"?n.options.w:1)/L)),D+="<a:tblGrid>";for(let C=0;C<L;C++)D+=`<a:gridCol w="${F}"/>`;D+="</a:tblGrid>"}w.forEach(C=>{var Q,lt;for(let it=0;it<C.length;){const et=C[it],B=(Q=et.options)===null||Q===void 0?void 0:Q.colspan,K=(lt=et.options)===null||lt===void 0?void 0:lt.rowspan;if(B&&B>1){const z=new Array(B-1).fill(void 0).map(()=>({_type:ue.tablecell,options:{rowspan:K},_hmerge:!0}));C.splice(it+1,0,...z),it+=B}else it+=1}}),w.forEach((C,Q)=>{const lt=w[Q+1];lt&&C.forEach((it,et)=>{var B,K;const z=it._rowContinue||((B=it.options)===null||B===void 0?void 0:B.rowspan),S=(K=it.options)===null||K===void 0?void 0:K.colspan,j=it._hmerge;if(z&&z>1){const N={_type:ue.tablecell,options:{colspan:S},_rowContinue:z-1,_vmerge:!0,_hmerge:j};lt.splice(et,0,N)}})}),w.forEach((C,Q)=>{let lt=0;Array.isArray(x.rowH)&&x.rowH[Q]?lt=Le(Number(x.rowH[Q])):x.rowH&&!isNaN(Number(x.rowH))?lt=Le(Number(x.rowH)):(n.options.cy||n.options.h)&&(lt=Math.round((n.options.h?Le(n.options.h):typeof n.options.cy=="number"?n.options.cy:1)/w.length)),D+=`<a:tr h="${lt}">`,C.forEach(it=>{var et,B,K,z,S;const j=it,N={rowSpan:((et=j.options)===null||et===void 0?void 0:et.rowspan)>1?j.options.rowspan:void 0,gridSpan:((B=j.options)===null||B===void 0?void 0:B.colspan)>1?j.options.colspan:void 0,vMerge:j._vmerge?1:void 0,hMerge:j._hmerge?1:void 0};let E=Object.keys(N).map(pt=>[pt,N[pt]]).filter(([,pt])=>!!pt).map(([pt,T])=>`${String(pt)}="${String(T)}"`).join(" ");if(E&&(E=" "+E),j._hmerge||j._vmerge){D+=`<a:tc${E}><a:tcPr/></a:tc>`;return}const H=j.options||{};j.options=H,["align","bold","border","color","fill","fontFace","fontSize","margin","textDirection","underline","valign"].forEach(pt=>{x[pt]&&!H[pt]&&H[pt]!==0&&(H[pt]=x[pt])});const Z=H.valign?` anchor="${H.valign.replace(/^c$/i,"ctr").replace(/^m$/i,"ctr").replace("center","ctr").replace("middle","ctr").replace("top","t").replace("btm","b").replace("bottom","b")}"`:"",ot=H.textDirection&&H.textDirection!=="horz"?` vert="${H.textDirection}"`:"";let nt=!((z=(K=j._optImp)===null||K===void 0?void 0:K.fill)===null||z===void 0)&&z.color?j._optImp.fill.color:!((S=j._optImp)===null||S===void 0)&&S.fill&&typeof j._optImp.fill=="string"?j._optImp.fill:"";nt=nt||H.fill?H.fill:"";const dt=nt?Wr(nt):"";let gt=H.margin===0||H.margin?H.margin:w2;!Array.isArray(gt)&&typeof gt=="number"&&(gt=[gt,gt,gt,gt]);let Tt="";gt[0]>=1?Tt=` marL="${ae(gt[3])}" marR="${ae(gt[1])}" marT="${ae(gt[0])}" marB="${ae(gt[2])}"`:Tt=` marL="${Le(gt[3])}" marR="${Le(gt[1])}" marT="${Le(gt[0])}" marB="${Le(gt[2])}"`,D+=`<a:tc${E}>${_m(j)}<a:tcPr${Tt}${Z}${ot}>`,H.border&&Array.isArray(H.border)&&[{idx:3,name:"lnL"},{idx:1,name:"lnR"},{idx:0,name:"lnT"},{idx:2,name:"lnB"}].forEach(pt=>{H.border[pt.idx].type!=="none"?(D+=`<a:${pt.name} w="${ae(H.border[pt.idx].pt)}" cap="flat" cmpd="sng" algn="ctr">`,D+=`<a:solidFill>${Oe(H.border[pt.idx].color)}</a:solidFill>`,D+=`<a:prstDash val="${H.border[pt.idx].type==="dash"?"sysDash":"solid"}"/><a:round/><a:headEnd type="none" w="med" len="med"/><a:tailEnd type="none" w="med" len="med"/>`,D+=`</a:${pt.name}>`):D+=`<a:${pt.name} w="0" cap="flat" cmpd="sng" algn="ctr"><a:noFill/></a:${pt.name}>`}),D+=dt,D+="  </a:tcPr>",D+=" </a:tc>"}),D+="</a:tr>"}),D+="      </a:tbl>",D+="    </a:graphicData>",D+="  </a:graphic>",D+="</p:graphicFrame>",e+=D,r++;break;case ue.text:case ue.placeholder:if(!n.options.line&&m===0&&(m=Ze*.3),n.options._bodyProp||(n.options._bodyProp={}),n.options.margin&&Array.isArray(n.options.margin)?(n.options._bodyProp.lIns=ae(n.options.margin[0]||0),n.options._bodyProp.rIns=ae(n.options.margin[1]||0),n.options._bodyProp.bIns=ae(n.options.margin[2]||0),n.options._bodyProp.tIns=ae(n.options.margin[3]||0)):typeof n.options.margin=="number"&&(n.options._bodyProp.lIns=ae(n.options.margin),n.options._bodyProp.rIns=ae(n.options.margin),n.options._bodyProp.bIns=ae(n.options.margin),n.options._bodyProp.tIns=ae(n.options.margin)),e+="<p:sp>",e+=`<p:nvSpPr><p:cNvPr id="${o+2}" name="${n.options.objectName}">`,!((s=n.options.hyperlink)===null||s===void 0)&&s.url&&(e+=`<a:hlinkClick r:id="rId${n.options.hyperlink._rId}" tooltip="${n.options.hyperlink.tooltip?he(n.options.hyperlink.tooltip):""}"/>`),!((a=n.options.hyperlink)===null||a===void 0)&&a.slide&&(e+=`<a:hlinkClick r:id="rId${n.options.hyperlink._rId}" tooltip="${n.options.hyperlink.tooltip?he(n.options.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),e+="</p:cNvPr>",e+="<p:cNvSpPr"+(!((c=n.options)===null||c===void 0)&&c.isTextBox?' txBox="1"/>':"/>"),e+=`<p:nvPr>${n._type==="placeholder"?tu(n):tu(v)}</p:nvPr>`,e+="</p:nvSpPr><p:spPr>",e+=`<a:xfrm${y}>`,e+=`<a:off x="${p}" y="${A}"/>`,e+=`<a:ext cx="${g}" cy="${m}"/></a:xfrm>`,n.shape==="custGeom")e+="<a:custGeom><a:avLst />",e+="<a:gdLst>",e+="</a:gdLst>",e+="<a:ahLst />",e+="<a:cxnLst>",e+="</a:cxnLst>",e+='<a:rect l="l" t="t" r="r" b="b" />',e+="<a:pathLst>",e+=`<a:path w="${g}" h="${m}">`,(u=n.options.points)===null||u===void 0||u.forEach((C,Q)=>{if("curve"in C)switch(C.curve.type){case"arc":e+=`<a:arcTo hR="${be(C.curve.hR,"Y",i._presLayout)}" wR="${be(C.curve.wR,"X",i._presLayout)}" stAng="${$a(C.curve.stAng)}" swAng="${$a(C.curve.swAng)}" />`;break;case"cubic":e+=`<a:cubicBezTo>
									<a:pt x="${be(C.curve.x1,"X",i._presLayout)}" y="${be(C.curve.y1,"Y",i._presLayout)}" />
									<a:pt x="${be(C.curve.x2,"X",i._presLayout)}" y="${be(C.curve.y2,"Y",i._presLayout)}" />
									<a:pt x="${be(C.x,"X",i._presLayout)}" y="${be(C.y,"Y",i._presLayout)}" />
									</a:cubicBezTo>`;break;case"quadratic":e+=`<a:quadBezTo>
									<a:pt x="${be(C.curve.x1,"X",i._presLayout)}" y="${be(C.curve.y1,"Y",i._presLayout)}" />
									<a:pt x="${be(C.x,"X",i._presLayout)}" y="${be(C.y,"Y",i._presLayout)}" />
									</a:quadBezTo>`;break}else"close"in C?e+="<a:close />":C.moveTo||Q===0?e+=`<a:moveTo><a:pt x="${be(C.x,"X",i._presLayout)}" y="${be(C.y,"Y",i._presLayout)}" /></a:moveTo>`:e+=`<a:lnTo><a:pt x="${be(C.x,"X",i._presLayout)}" y="${be(C.y,"Y",i._presLayout)}" /></a:lnTo>`}),e+="</a:path>",e+="</a:pathLst>",e+="</a:custGeom>";else{if(e+='<a:prstGeom prst="'+n.shape+'"><a:avLst>',n.options.rectRadius)e+=`<a:gd name="adj" fmla="val ${Math.round(n.options.rectRadius*Ze*1e5/Math.min(g,m))}"/>`;else if(n.options.angleRange){for(let C=0;C<2;C++){const Q=n.options.angleRange[C];e+=`<a:gd name="adj${C+1}" fmla="val ${$a(Q)}" />`}n.options.arcThicknessRatio&&(e+=`<a:gd name="adj3" fmla="val ${Math.round(n.options.arcThicknessRatio*5e4)}" />`)}e+="</a:avLst></a:prstGeom>"}e+=n.options.fill?Wr(n.options.fill):"<a:noFill/>",n.options.line&&(e+=n.options.line.width?`<a:ln w="${ae(n.options.line.width)}">`:"<a:ln>",n.options.line.color&&(e+=Wr(n.options.line)),n.options.line.dashType&&(e+=`<a:prstDash val="${n.options.line.dashType}"/>`),n.options.line.beginArrowType&&(e+=`<a:headEnd type="${n.options.line.beginArrowType}"/>`),n.options.line.endArrowType&&(e+=`<a:tailEnd type="${n.options.line.endArrowType}"/>`),e+="</a:ln>"),n.options.shadow&&n.options.shadow.type!=="none"&&(n.options.shadow.type=n.options.shadow.type||"outer",n.options.shadow.blur=ae(n.options.shadow.blur||8),n.options.shadow.offset=ae(n.options.shadow.offset||4),n.options.shadow.angle=Math.round((n.options.shadow.angle||270)*6e4),n.options.shadow.opacity=Math.round((n.options.shadow.opacity||.75)*1e5),n.options.shadow.color=n.options.shadow.color||vm.color,e+="<a:effectLst>",e+=` <a:${n.options.shadow.type}Shdw ${n.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${n.options.shadow.blur}" dist="${n.options.shadow.offset}" dir="${n.options.shadow.angle}">`,e+=` <a:srgbClr val="${n.options.shadow.color}">`,e+=` <a:alpha val="${n.options.shadow.opacity}"/></a:srgbClr>`,e+=" </a:outerShdw>",e+="</a:effectLst>"),e+="</p:spPr>",e+=_m(n),e+="</p:sp>";break;case ue.image:if(e+="<p:pic>",e+="  <p:nvPicPr>",e+=`<p:cNvPr id="${o+2}" name="${n.options.objectName}" descr="${he(n.options.altText||n.image)}">`,!((f=n.hyperlink)===null||f===void 0)&&f.url&&(e+=`<a:hlinkClick r:id="rId${n.hyperlink._rId}" tooltip="${n.hyperlink.tooltip?he(n.hyperlink.tooltip):""}"/>`),!((h=n.hyperlink)===null||h===void 0)&&h.slide&&(e+=`<a:hlinkClick r:id="rId${n.hyperlink._rId}" tooltip="${n.hyperlink.tooltip?he(n.hyperlink.tooltip):""}" action="ppaction://hlinksldjump"/>`),e+="    </p:cNvPr>",e+='    <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',e+="    <p:nvPr>"+tu(v)+"</p:nvPr>",e+="  </p:nvPicPr>",e+="<p:blipFill>",(i._relsMedia||[]).filter(C=>C.rId===n.imageRid)[0]&&(i._relsMedia||[]).filter(C=>C.rId===n.imageRid)[0].extn==="svg"?(e+=`<a:blip r:embed="rId${n.imageRid-1}">`,e+=n.options.transparency?` <a:alphaModFix amt="${Math.round((100-n.options.transparency)*1e3)}"/>`:"",e+=" <a:extLst>",e+='  <a:ext uri="{96DAC541-7B7A-43D3-8B79-37D633B846F1}">',e+=`   <asvg:svgBlip xmlns:asvg="http://schemas.microsoft.com/office/drawing/2016/SVG/main" r:embed="rId${n.imageRid}"/>`,e+="  </a:ext>",e+=" </a:extLst>",e+="</a:blip>"):(e+=`<a:blip r:embed="rId${n.imageRid}">`,e+=n.options.transparency?`<a:alphaModFix amt="${Math.round((100-n.options.transparency)*1e3)}"/>`:"",e+="</a:blip>"),X!=null&&X.type){const C=X.w?be(X.w,"X",i._presLayout):g,Q=X.h?be(X.h,"Y",i._presLayout):m,lt=be(X.x||0,"X",i._presLayout),it=be(X.y||0,"Y",i._presLayout);e+=xS[X.type]({w:O,h:W},{w:C,h:Q,x:lt,y:it}),O=C,W=Q}else e+="  <a:stretch><a:fillRect/></a:stretch>";e+="</p:blipFill>",e+="<p:spPr>",e+=" <a:xfrm"+y+">",e+=`  <a:off x="${p}" y="${A}"/>`,e+=`  <a:ext cx="${O}" cy="${W}"/>`,e+=" </a:xfrm>",e+=` <a:prstGeom prst="${I?"ellipse":"rect"}"><a:avLst/></a:prstGeom>`,n.options.shadow&&n.options.shadow.type!=="none"&&(n.options.shadow.type=n.options.shadow.type||"outer",n.options.shadow.blur=ae(n.options.shadow.blur||8),n.options.shadow.offset=ae(n.options.shadow.offset||4),n.options.shadow.angle=Math.round((n.options.shadow.angle||270)*6e4),n.options.shadow.opacity=Math.round((n.options.shadow.opacity||.75)*1e5),n.options.shadow.color=n.options.shadow.color||vm.color,e+="<a:effectLst>",e+=`<a:${n.options.shadow.type}Shdw ${n.options.shadow.type==="outer"?'sx="100000" sy="100000" kx="0" ky="0" algn="bl" rotWithShape="0"':""} blurRad="${n.options.shadow.blur}" dist="${n.options.shadow.offset}" dir="${n.options.shadow.angle}">`,e+=`<a:srgbClr val="${n.options.shadow.color}">`,e+=`<a:alpha val="${n.options.shadow.opacity}"/></a:srgbClr>`,e+=`</a:${n.options.shadow.type}Shdw>`,e+="</a:effectLst>"),e+="</p:spPr>",e+="</p:pic>";break;case ue.media:n.mtype==="online"?(e+="<p:pic>",e+=" <p:nvPicPr>",e+=`<p:cNvPr id="${n.mediaRid+2}" name="${n.options.objectName}"/>`,e+=" <p:cNvPicPr/>",e+=" <p:nvPr>",e+=`  <a:videoFile r:link="rId${n.mediaRid}"/>`,e+=" </p:nvPr>",e+=" </p:nvPicPr>",e+=` <p:blipFill><a:blip r:embed="rId${n.mediaRid+1}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,e+=" <p:spPr>",e+=`  <a:xfrm${y}><a:off x="${p}" y="${A}"/><a:ext cx="${g}" cy="${m}"/></a:xfrm>`,e+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',e+=" </p:spPr>",e+="</p:pic>"):(e+="<p:pic>",e+=" <p:nvPicPr>",e+=`<p:cNvPr id="${n.mediaRid+2}" name="${n.options.objectName}"><a:hlinkClick r:id="" action="ppaction://media"/></p:cNvPr>`,e+=' <p:cNvPicPr><a:picLocks noChangeAspect="1"/></p:cNvPicPr>',e+=" <p:nvPr>",e+=`  <a:videoFile r:link="rId${n.mediaRid}"/>`,e+="  <p:extLst>",e+='   <p:ext uri="{DAA4B4D4-6D71-4841-9C94-3DE7FCFB9230}">',e+=`    <p14:media xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" r:embed="rId${n.mediaRid+1}"/>`,e+="   </p:ext>",e+="  </p:extLst>",e+=" </p:nvPr>",e+=" </p:nvPicPr>",e+=` <p:blipFill><a:blip r:embed="rId${n.mediaRid+2}"/><a:stretch><a:fillRect/></a:stretch></p:blipFill>`,e+=" <p:spPr>",e+=`  <a:xfrm${y}><a:off x="${p}" y="${A}"/><a:ext cx="${g}" cy="${m}"/></a:xfrm>`,e+='  <a:prstGeom prst="rect"><a:avLst/></a:prstGeom>',e+=" </p:spPr>",e+="</p:pic>");break;case ue.chart:e+="<p:graphicFrame>",e+=" <p:nvGraphicFramePr>",e+=`   <p:cNvPr id="${o+2}" name="${n.options.objectName}" descr="${he(n.options.altText||"")}"/>`,e+="   <p:cNvGraphicFramePr/>",e+=`   <p:nvPr>${tu(v)}</p:nvPr>`,e+=" </p:nvGraphicFramePr>",e+=` <p:xfrm><a:off x="${p}" y="${A}"/><a:ext cx="${g}" cy="${m}"/></p:xfrm>`,e+=' <a:graphic xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main">',e+='  <a:graphicData uri="http://schemas.openxmlformats.org/drawingml/2006/chart">',e+=`   <c:chart r:id="rId${n.chartRid}" xmlns:c="http://schemas.openxmlformats.org/drawingml/2006/chart"/>`,e+="  </a:graphicData>",e+=" </a:graphic>",e+="</p:graphicFrame>";break;default:e+="";break}}),i._slideNumberProps&&(i._slideNumberProps.align||(i._slideNumberProps.align="left"),e+="<p:sp>",e+=" <p:nvSpPr>",e+='  <p:cNvPr id="25" name="Slide Number Placeholder 0"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr>',e+='  <p:nvPr><p:ph type="sldNum" sz="quarter" idx="4294967295"/></p:nvPr>',e+=" </p:nvSpPr>",e+=" <p:spPr>",e+=`<a:xfrm><a:off x="${be(i._slideNumberProps.x,"X",i._presLayout)}" y="${be(i._slideNumberProps.y,"Y",i._presLayout)}"/><a:ext cx="${i._slideNumberProps.w?be(i._slideNumberProps.w,"X",i._presLayout):"800000"}" cy="${i._slideNumberProps.h?be(i._slideNumberProps.h,"Y",i._presLayout):"300000"}"/></a:xfrm> <a:prstGeom prst="rect"><a:avLst/></a:prstGeom> <a:extLst><a:ext uri="{C572A759-6A51-4108-AA02-DFA0A04FC94B}"><ma14:wrappingTextBoxFlag val="0" xmlns:ma14="http://schemas.microsoft.com/office/mac/drawingml/2011/main"/></a:ext></a:extLst></p:spPr>`,e+="<p:txBody>",e+="<a:bodyPr",i._slideNumberProps.margin&&Array.isArray(i._slideNumberProps.margin)?(e+=` lIns="${ae(i._slideNumberProps.margin[3]||0)}"`,e+=` tIns="${ae(i._slideNumberProps.margin[0]||0)}"`,e+=` rIns="${ae(i._slideNumberProps.margin[1]||0)}"`,e+=` bIns="${ae(i._slideNumberProps.margin[2]||0)}"`):typeof i._slideNumberProps.margin=="number"&&(e+=` lIns="${ae(i._slideNumberProps.margin||0)}"`,e+=` tIns="${ae(i._slideNumberProps.margin||0)}"`,e+=` rIns="${ae(i._slideNumberProps.margin||0)}"`,e+=` bIns="${ae(i._slideNumberProps.margin||0)}"`),i._slideNumberProps.valign&&(e+=` anchor="${i._slideNumberProps.valign.replace("top","t").replace("middle","ctr").replace("bottom","b")}"`),e+="/>",e+="  <a:lstStyle><a:lvl1pPr>",(i._slideNumberProps.fontFace||i._slideNumberProps.fontSize||i._slideNumberProps.color)&&(e+=`<a:defRPr sz="${Math.round((i._slideNumberProps.fontSize||12)*100)}">`,i._slideNumberProps.color&&(e+=Wr(i._slideNumberProps.color)),i._slideNumberProps.fontFace&&(e+=`<a:latin typeface="${i._slideNumberProps.fontFace}"/><a:ea typeface="${i._slideNumberProps.fontFace}"/><a:cs typeface="${i._slideNumberProps.fontFace}"/>`),e+="</a:defRPr>"),e+="</a:lvl1pPr></a:lstStyle>",e+="<a:p>",i._slideNumberProps.align.startsWith("l")?e+='<a:pPr algn="l"/>':i._slideNumberProps.align.startsWith("c")?e+='<a:pPr algn="ctr"/>':i._slideNumberProps.align.startsWith("r")?e+='<a:pPr algn="r"/>':e+='<a:pPr algn="l"/>',e+=`<a:fld id="${C2}" type="slidenum"><a:rPr b="${i._slideNumberProps.bold?1:0}" lang="en-US"/>`,e+=`<a:t>${i._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p>`,e+="</p:txBody></p:sp>"),e+="</p:spTree>",e+="</p:cSld>",e}function Ag(i,t){let e=0,r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ui+'<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">';return i._rels.forEach(n=>{e=Math.max(e,n.rId),n.type.toLowerCase().includes("hyperlink")?n.data==="slide"?r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slide${n.Target}.xml"/>`:r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${n.Target}" TargetMode="External"/>`:n.type.toLowerCase().includes("notesSlide")&&(r+=`<Relationship Id="rId${n.rId}" Target="${n.Target}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"/>`)}),(i._relsChart||[]).forEach(n=>{e=Math.max(e,n.rId),r+=`<Relationship Id="rId${n.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart" Target="${n.Target}"/>`}),(i._relsMedia||[]).forEach(n=>{const o=n.rId.toString();e=Math.max(e,n.rId),n.type.toLowerCase().includes("image")?r+='<Relationship Id="rId'+o+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("audio")?r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+o+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+o+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/audio" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("video")?r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+o+'" Type="http://schemas.microsoft.com/office/2007/relationships/media" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+o+'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video" Target="'+n.Target+'"/>':n.type.toLowerCase().includes("online")&&(r.includes(' Target="'+n.Target+'"')?r+='<Relationship Id="rId'+o+'" Type="http://schemas.microsoft.com/office/2007/relationships/image" Target="'+n.Target+'"/>':r+='<Relationship Id="rId'+o+'" Target="'+n.Target+'" TargetMode="External" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/video"/>')}),t.forEach((n,o)=>{r+=`<Relationship Id="rId${e+o+1}" Type="${n.type}" Target="${n.target}"/>`}),r+="</Relationships>",r}function wm(i,t){var e,r;let n="",o="",d="",l="";const s=t?"a:lvl1pPr":"a:pPr";let a=ae(sS),c=`<${s}${i.options.rtlMode?' rtl="1" ':""}`;{if(i.options.align)switch(i.options.align){case"left":c+=' algn="l"';break;case"right":c+=' algn="r"';break;case"center":c+=' algn="ctr"';break;case"justify":c+=' algn="just"';break;default:c+="";break}if(i.options.lineSpacing?o=`<a:lnSpc><a:spcPts val="${Math.round(i.options.lineSpacing*100)}"/></a:lnSpc>`:i.options.lineSpacingMultiple&&(o=`<a:lnSpc><a:spcPct val="${Math.round(i.options.lineSpacingMultiple*1e5)}"/></a:lnSpc>`),i.options.indentLevel&&!isNaN(Number(i.options.indentLevel))&&i.options.indentLevel>0&&(c+=` lvl="${i.options.indentLevel}"`),i.options.paraSpaceBefore&&!isNaN(Number(i.options.paraSpaceBefore))&&i.options.paraSpaceBefore>0&&(d+=`<a:spcBef><a:spcPts val="${Math.round(i.options.paraSpaceBefore*100)}"/></a:spcBef>`),i.options.paraSpaceAfter&&!isNaN(Number(i.options.paraSpaceAfter))&&i.options.paraSpaceAfter>0&&(d+=`<a:spcAft><a:spcPts val="${Math.round(i.options.paraSpaceAfter*100)}"/></a:spcAft>`),typeof i.options.bullet=="object")if(!((r=(e=i==null?void 0:i.options)===null||e===void 0?void 0:e.bullet)===null||r===void 0)&&r.indent&&(a=ae(i.options.bullet.indent)),i.options.bullet.type)i.options.bullet.type.toString().toLowerCase()==="number"&&(c+=` marL="${i.options.indentLevel&&i.options.indentLevel>0?a+a*i.options.indentLevel:a}" indent="-${a}"`,n=`<a:buSzPct val="100000"/><a:buFont typeface="+mj-lt"/><a:buAutoNum type="${i.options.bullet.style||"arabicPeriod"}" startAt="${i.options.bullet.numberStartAt||i.options.bullet.startAt||"1"}"/>`);else if(i.options.bullet.characterCode){let u=`&#x${i.options.bullet.characterCode};`;/^[0-9A-Fa-f]{4}$/.test(i.options.bullet.characterCode)||(u=Ho.DEFAULT),c+=` marL="${i.options.indentLevel&&i.options.indentLevel>0?a+a*i.options.indentLevel:a}" indent="-${a}"`,n='<a:buSzPct val="100000"/><a:buChar char="'+u+'"/>'}else if(i.options.bullet.code){let u=`&#x${i.options.bullet.code};`;/^[0-9A-Fa-f]{4}$/.test(i.options.bullet.code)||(u=Ho.DEFAULT),c+=` marL="${i.options.indentLevel&&i.options.indentLevel>0?a+a*i.options.indentLevel:a}" indent="-${a}"`,n='<a:buSzPct val="100000"/><a:buChar char="'+u+'"/>'}else c+=` marL="${i.options.indentLevel&&i.options.indentLevel>0?a+a*i.options.indentLevel:a}" indent="-${a}"`,n=`<a:buSzPct val="100000"/><a:buChar char="${Ho.DEFAULT}"/>`;else i.options.bullet?(c+=` marL="${i.options.indentLevel&&i.options.indentLevel>0?a+a*i.options.indentLevel:a}" indent="-${a}"`,n=`<a:buSzPct val="100000"/><a:buChar char="${Ho.DEFAULT}"/>`):i.options.bullet||(c+=' indent="0" marL="0"',n="<a:buNone/>");i.options.tabStops&&Array.isArray(i.options.tabStops)&&(l=`<a:tabLst>${i.options.tabStops.map(f=>`<a:tab pos="${Le(f.position||1)}" algn="${f.alignment||"l"}"/>`).join("")}</a:tabLst>`),c+=">"+o+d+n+l,t&&(c+=P2(i.options,!0)),c+="</"+s+">"}return c}function P2(i,t){var e;let r="";const n=t?"a:defRPr":"a:rPr";if(r+="<"+n+' lang="'+(i.lang?i.lang:"en-US")+'"'+(i.lang?' altLang="en-US"':""),r+=i.fontSize?` sz="${Math.round(i.fontSize*100)}"`:"",r+=i!=null&&i.bold?` b="${i.bold?"1":"0"}"`:"",r+=i!=null&&i.italic?` i="${i.italic?"1":"0"}"`:"",r+=i!=null&&i.strike?` strike="${typeof i.strike=="string"?i.strike:"sngStrike"}"`:"",typeof i.underline=="object"&&(!((e=i.underline)===null||e===void 0)&&e.style)?r+=` u="${i.underline.style}"`:typeof i.underline=="string"?r+=` u="${String(i.underline)}"`:i.hyperlink&&(r+=' u="sng"'),i.baseline?r+=` baseline="${Math.round(i.baseline*50)}"`:i.subscript?r+=' baseline="-40000"':i.superscript&&(r+=' baseline="30000"'),r+=i.charSpacing?` spc="${Math.round(i.charSpacing*100)}" kern="0"`:"",r+=' dirty="0">',(i.color||i.fontFace||i.outline||typeof i.underline=="object"&&i.underline.color)&&(i.outline&&typeof i.outline=="object"&&(r+=`<a:ln w="${ae(i.outline.size||.75)}">${Wr(i.outline.color||"FFFFFF")}</a:ln>`),i.color&&(r+=Wr({color:i.color,transparency:i.transparency})),i.highlight&&(r+=`<a:highlight>${Oe(i.highlight)}</a:highlight>`),typeof i.underline=="object"&&i.underline.color&&(r+=`<a:uFill>${Wr(i.underline.color)}</a:uFill>`),i.glow&&(r+=`<a:effectLst>${hS(i.glow,oS)}</a:effectLst>`),i.fontFace&&(r+=`<a:latin typeface="${i.fontFace}" pitchFamily="34" charset="0"/><a:ea typeface="${i.fontFace}" pitchFamily="34" charset="-122"/><a:cs typeface="${i.fontFace}" pitchFamily="34" charset="-120"/>`)),i.hyperlink){if(typeof i.hyperlink!="object")throw new Error("ERROR: text `hyperlink` option should be an object. Ex: `hyperlink:{url:'https://github.com'}` ");if(!i.hyperlink.url&&!i.hyperlink.slide)throw new Error("ERROR: 'hyperlink requires either `url` or `slide`'");i.hyperlink.url?r+=`<a:hlinkClick r:id="rId${i.hyperlink._rId}" invalidUrl="" action="" tgtFrame="" tooltip="${i.hyperlink.tooltip?he(i.hyperlink.tooltip):""}" history="1" highlightClick="0" endSnd="0"${i.color?">":"/>"}`:i.hyperlink.slide&&(r+=`<a:hlinkClick r:id="rId${i.hyperlink._rId}" action="ppaction://hlinksldjump" tooltip="${i.hyperlink.tooltip?he(i.hyperlink.tooltip):""}"${i.color?">":"/>"}`),i.color&&(r+=" <a:extLst>",r+='  <a:ext uri="{A12FA001-AC4F-418D-AE19-62706E023703}">',r+='   <ahyp:hlinkClr xmlns:ahyp="http://schemas.microsoft.com/office/drawing/2018/hyperlinkcolor" val="tx"/>',r+="  </a:ext>",r+=" </a:extLst>",r+="</a:hlinkClick>")}return r+=`</${n}>`,r}function CS(i){return i.text?`<a:r>${P2(i.options,!1)}<a:t>${he(i.text)}</a:t></a:r>`:""}function SS(i){let t="<a:bodyPr";return i&&i._type===ue.text&&i.options._bodyProp?(t+=i.options._bodyProp.wrap?' wrap="square"':' wrap="none"',(i.options._bodyProp.lIns||i.options._bodyProp.lIns===0)&&(t+=` lIns="${i.options._bodyProp.lIns}"`),(i.options._bodyProp.tIns||i.options._bodyProp.tIns===0)&&(t+=` tIns="${i.options._bodyProp.tIns}"`),(i.options._bodyProp.rIns||i.options._bodyProp.rIns===0)&&(t+=` rIns="${i.options._bodyProp.rIns}"`),(i.options._bodyProp.bIns||i.options._bodyProp.bIns===0)&&(t+=` bIns="${i.options._bodyProp.bIns}"`),t+=' rtlCol="0"',i.options._bodyProp.anchor&&(t+=' anchor="'+i.options._bodyProp.anchor+'"'),i.options._bodyProp.vert&&(t+=' vert="'+i.options._bodyProp.vert+'"'),t+=">",i.options.fit&&(i.options.fit==="none"?t+="":i.options.fit==="shrink"?t+="<a:normAutofit/>":i.options.fit==="resize"&&(t+="<a:spAutoFit/>")),i.options.shrinkText&&(t+="<a:normAutofit/>"),t+=i.options._bodyProp.autoFit?"<a:spAutoFit/>":"",t+="</a:bodyPr>"):(t+=' wrap="square" rtlCol="0">',t+="</a:bodyPr>"),i._type===ue.tablecell?"<a:bodyPr/>":t}function _m(i){const t=i.options||{};let e=[];const r=[];if(t&&i._type!==ue.tablecell&&(typeof i.text>"u"||i.text===null))return"";let n=i._type===ue.tablecell?"<a:txBody>":"<p:txBody>";n+=SS(i),t.h===0&&t.line&&t.align?n+='<a:lstStyle><a:lvl1pPr algn="l"/></a:lstStyle>':i._type==="placeholder"?n+=`<a:lstStyle>${wm(i,!0)}</a:lstStyle>`:n+="<a:lstStyle/>",typeof i.text=="string"||typeof i.text=="number"?e.push({text:i.text.toString(),options:t||{}}):i.text&&!Array.isArray(i.text)&&typeof i.text=="object"&&Object.keys(i.text).includes("text")?e.push({text:i.text||"",options:i.options||{}}):Array.isArray(i.text)&&(e=i.text.map(l=>({text:l.text,options:l.options}))),e.forEach((l,s)=>{l.text||(l.text=""),l.options=l.options||t||{},s===0&&l.options&&!l.options.bullet&&t.bullet&&(l.options.bullet=t.bullet),(typeof l.text=="string"||typeof l.text=="number")&&(l.text=l.text.toString().replace(/\r*\n/g,Ui)),l.text.includes(Ui)&&l.text.match(/\n$/g)===null?l.text.split(Ui).forEach(a=>{l.options.breakLine=!0,r.push({text:a,options:l.options})}):r.push(l)});const o=[];let d=[];return r.forEach((l,s)=>{d.length>0&&(l.options.align||t.align)?l.options.align!==r[s-1].options.align&&(o.push(d),d=[]):d.length>0&&l.options.bullet&&d.length>0&&(o.push(d),d=[],l.options.breakLine=!1),d.push(l),d.length>0&&l.options.breakLine&&s+1<r.length&&(o.push(d),d=[]),s+1===r.length&&o.push(d)}),o.forEach(l=>{var s;let a=!1;n+="<a:p>";let c=`<a:pPr ${!((s=l[0].options)===null||s===void 0)&&s.rtlMode?' rtl="1" ':""}`;l.forEach((u,f)=>{u.options._lineIdx=f,f>0&&u.options.softBreakBefore&&(n+="<a:br/>"),u.options.align=u.options.align||t.align,u.options.lineSpacing=u.options.lineSpacing||t.lineSpacing,u.options.lineSpacingMultiple=u.options.lineSpacingMultiple||t.lineSpacingMultiple,u.options.indentLevel=u.options.indentLevel||t.indentLevel,u.options.paraSpaceBefore=u.options.paraSpaceBefore||t.paraSpaceBefore,u.options.paraSpaceAfter=u.options.paraSpaceAfter||t.paraSpaceAfter,c=wm(u,!1),n+=c.replace("<a:pPr></a:pPr>",""),Object.entries(t).filter(([h])=>!(u.options.hyperlink&&h==="color")).forEach(([h,p])=>{h!=="bullet"&&!u.options[h]&&(u.options[h]=p)}),n+=CS(u),(!u.text&&t.fontSize||u.options.fontSize)&&(a=!0,t.fontSize=t.fontSize||u.options.fontSize)}),i._type===ue.tablecell&&(t.fontSize||t.fontFace)?t.fontFace?(n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0">',n+=`<a:latin typeface="${t.fontFace}" charset="0"/>`,n+=`<a:ea typeface="${t.fontFace}" charset="0"/>`,n+=`<a:cs typeface="${t.fontFace}" charset="0"/>`,n+="</a:endParaRPr>"):n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':a?n+=`<a:endParaRPr lang="${t.lang||"en-US"}"`+(t.fontSize?` sz="${Math.round(t.fontSize*100)}"`:"")+' dirty="0"/>':n+=`<a:endParaRPr lang="${t.lang||"en-US"}" dirty="0"/>`,n+="</a:p>"}),n.indexOf("<a:p>")===-1&&(n+="<a:p><a:endParaRPr/></a:p>"),n+=i._type===ue.tablecell?"</a:txBody>":"</p:txBody>",n}function tu(i){var t,e;if(!i)return"";const r=!((t=i.options)===null||t===void 0)&&t._placeholderIdx?i.options._placeholderIdx:"",n=!((e=i.options)===null||e===void 0)&&e._placeholderType?i.options._placeholderType:"",o=n&&pc[n]?pc[n].toString():"";return`<p:ph
		${r?' idx="'+r.toString()+'"':""}
		${o&&pc[o]?` type="${o}"`:""}
		${i.text&&i.text.length>0?' hasCustomPrompt="1"':""}
		/>`}function TS(i,t,e){let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ui;return r+='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">',r+='<Default Extension="xml" ContentType="application/xml"/>',r+='<Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>',r+='<Default Extension="jpeg" ContentType="image/jpeg"/>',r+='<Default Extension="jpg" ContentType="image/jpg"/>',r+='<Default Extension="svg" ContentType="image/svg+xml"/>',r+='<Default Extension="png" ContentType="image/png"/>',r+='<Default Extension="gif" ContentType="image/gif"/>',r+='<Default Extension="m4v" ContentType="video/mp4"/>',r+='<Default Extension="mp4" ContentType="video/mp4"/>',i.forEach(n=>{(n._relsMedia||[]).forEach(o=>{o.type!=="image"&&o.type!=="online"&&o.type!=="chart"&&o.extn!=="m4v"&&!r.includes(o.type)&&(r+='<Default Extension="'+o.extn+'" ContentType="'+o.type+'"/>')})}),r+='<Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>',r+='<Default Extension="xlsx" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"/>',r+='<Override PartName="/ppt/presentation.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml"/>',r+='<Override PartName="/ppt/notesMasters/notesMaster1.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesMaster+xml"/>',i.forEach((n,o)=>{r+=`<Override PartName="/ppt/slideMasters/slideMaster${o+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideMaster+xml"/>`,r+=`<Override PartName="/ppt/slides/slide${o+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slide+xml"/>`,n._relsChart.forEach(d=>{r+=`<Override PartName="${d.Target}" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>`})}),r+='<Override PartName="/ppt/presProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.presProps+xml"/>',r+='<Override PartName="/ppt/viewProps.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.viewProps+xml"/>',r+='<Override PartName="/ppt/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/>',r+='<Override PartName="/ppt/tableStyles.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.tableStyles+xml"/>',t.forEach((n,o)=>{r+=`<Override PartName="/ppt/slideLayouts/slideLayout${o+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.slideLayout+xml"/>`,(n._relsChart||[]).forEach(d=>{r+=' <Override PartName="'+d.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'})}),i.forEach((n,o)=>{r+=`<Override PartName="/ppt/notesSlides/notesSlide${o+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.presentationml.notesSlide+xml"/>`}),e._relsChart.forEach(n=>{r+=' <Override PartName="'+n.Target+'" ContentType="application/vnd.openxmlformats-officedocument.drawingml.chart+xml"/>'}),e._relsMedia.forEach(n=>{n.type!=="image"&&n.type!=="online"&&n.type!=="chart"&&n.extn!=="m4v"&&!r.includes(n.type)&&(r+=' <Default Extension="'+n.extn+'" ContentType="'+n.type+'"/>')}),r+=' <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/>',r+=' <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>',r+="</Types>",r}function kS(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>
		<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>
		<Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="ppt/presentation.xml"/>
		</Relationships>`}function LS(i,t){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">
	<TotalTime>0</TotalTime>
	<Words>0</Words>
	<Application>Microsoft Office PowerPoint</Application>
	<PresentationFormat>On-screen Show (16:9)</PresentationFormat>
	<Paragraphs>0</Paragraphs>
	<Slides>${i.length}</Slides>
	<Notes>${i.length}</Notes>
	<HiddenSlides>0</HiddenSlides>
	<MMClips>0</MMClips>
	<ScaleCrop>false</ScaleCrop>
	<HeadingPairs>
		<vt:vector size="6" baseType="variant">
			<vt:variant><vt:lpstr>Fonts Used</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>2</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Theme</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>1</vt:i4></vt:variant>
			<vt:variant><vt:lpstr>Slide Titles</vt:lpstr></vt:variant>
			<vt:variant><vt:i4>${i.length}</vt:i4></vt:variant>
		</vt:vector>
	</HeadingPairs>
	<TitlesOfParts>
		<vt:vector size="${i.length+1+2}" baseType="lpstr">
			<vt:lpstr>Arial</vt:lpstr>
			<vt:lpstr>Calibri</vt:lpstr>
			<vt:lpstr>Office Theme</vt:lpstr>
			${i.map((e,r)=>`<vt:lpstr>Slide ${r+1}</vt:lpstr>`).join("")}
		</vt:vector>
	</TitlesOfParts>
	<Company>${t}</Company>
	<LinksUpToDate>false</LinksUpToDate>
	<SharedDoc>false</SharedDoc>
	<HyperlinksChanged>false</HyperlinksChanged>
	<AppVersion>16.0000</AppVersion>
	</Properties>`}function PS(i,t,e,r){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
	<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
		<dc:title>${he(i)}</dc:title>
		<dc:subject>${he(t)}</dc:subject>
		<dc:creator>${he(e)}</dc:creator>
		<cp:lastModifiedBy>${he(e)}</cp:lastModifiedBy>
		<cp:revision>${r}</cp:revision>
		<dcterms:created xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:created>
		<dcterms:modified xsi:type="dcterms:W3CDTF">${new Date().toISOString().replace(/\.\d\d\dZ/,"Z")}</dcterms:modified>
	</cp:coreProperties>`}function OS(i){let t=1,e='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ui;e+='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">',e+='<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster" Target="slideMasters/slideMaster1.xml"/>';for(let r=1;r<=i.length;r++)e+=`<Relationship Id="rId${++t}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="slides/slide${r}.xml"/>`;return t++,e+=`<Relationship Id="rId${t+0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="notesMasters/notesMaster1.xml"/><Relationship Id="rId${t+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/presProps" Target="presProps.xml"/><Relationship Id="rId${t+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/viewProps" Target="viewProps.xml"/><Relationship Id="rId${t+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/><Relationship Id="rId${t+4}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/tableStyles" Target="tableStyles.xml"/></Relationships>`,e}function DS(i){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<p:sld xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"${i!=null&&i.hidden?' show="0"':""}>${gg(i)}<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sld>`}function ES(i){let t="";return i._slideObjects.forEach(e=>{e._type===ue.notes&&(t+=e!=null&&e.text&&e.text[0]?e.text[0].text:"")}),t.replace(/\r*\n/g,Ui)}function MS(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<p:notesMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:bg><p:bgRef idx="1001"><a:schemeClr val="bg1"/></p:bgRef></p:bg><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Header Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="hdr" sz="quarter"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Date Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="dt" idx="1"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="0"/><a:ext cx="2971800" cy="458788"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{5282F153-3F37-0F45-9E97-73ACFA13230C}" type="datetimeFigureOut"><a:rPr lang="en-US"/><a:t>7/23/19</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Image Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg" idx="2"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="1143000"/><a:ext cx="5486400" cy="3086100"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom><a:noFill/><a:ln w="12700"><a:solidFill><a:prstClr val="black"/></a:solidFill></a:ln></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="ctr"/><a:lstStyle/><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="5" name="Notes Placeholder 4"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" sz="quarter" idx="3"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="685800" y="4400550"/><a:ext cx="5486400" cy="3600450"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0"/><a:lstStyle/><a:p><a:pPr lvl="0"/><a:r><a:rPr lang="en-US"/><a:t>Click to edit Master text styles</a:t></a:r></a:p><a:p><a:pPr lvl="1"/><a:r><a:rPr lang="en-US"/><a:t>Second level</a:t></a:r></a:p><a:p><a:pPr lvl="2"/><a:r><a:rPr lang="en-US"/><a:t>Third level</a:t></a:r></a:p><a:p><a:pPr lvl="3"/><a:r><a:rPr lang="en-US"/><a:t>Fourth level</a:t></a:r></a:p><a:p><a:pPr lvl="4"/><a:r><a:rPr lang="en-US"/><a:t>Fifth level</a:t></a:r></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="6" name="Footer Placeholder 5"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="ftr" sz="quarter" idx="4"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="0" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="l"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="7" name="Slide Number Placeholder 6"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="5"/></p:nvPr></p:nvSpPr><p:spPr><a:xfrm><a:off x="3884613" y="8685213"/><a:ext cx="2971800" cy="458787"/></a:xfrm><a:prstGeom prst="rect"><a:avLst/></a:prstGeom></p:spPr><p:txBody><a:bodyPr vert="horz" lIns="91440" tIns="45720" rIns="91440" bIns="45720" rtlCol="0" anchor="b"/><a:lstStyle><a:lvl1pPr algn="r"><a:defRPr sz="1200"/></a:lvl1pPr></a:lstStyle><a:p><a:fld id="{CE5E9CC1-C706-0F49-92D6-E571CC5EEA8F}" type="slidenum"><a:rPr lang="en-US"/><a:t>#</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/><p:notesStyle><a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr><a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr><a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr><a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr><a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr><a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr><a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr><a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr><a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr></p:notesStyle></p:notesMaster>`}function FS(i){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<p:notes xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:cSld><p:spTree><p:nvGrpSpPr><p:cNvPr id="1" name=""/><p:cNvGrpSpPr/><p:nvPr/></p:nvGrpSpPr><p:grpSpPr><a:xfrm><a:off x="0" y="0"/><a:ext cx="0" cy="0"/><a:chOff x="0" y="0"/><a:chExt cx="0" cy="0"/></a:xfrm></p:grpSpPr><p:sp><p:nvSpPr><p:cNvPr id="2" name="Slide Image Placeholder 1"/><p:cNvSpPr><a:spLocks noGrp="1" noRot="1" noChangeAspect="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldImg"/></p:nvPr></p:nvSpPr><p:spPr/></p:sp><p:sp><p:nvSpPr><p:cNvPr id="3" name="Notes Placeholder 2"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="body" idx="1"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:r><a:rPr lang="en-US" dirty="0"/><a:t>${he(ES(i))}</a:t></a:r><a:endParaRPr lang="en-US" dirty="0"/></a:p></p:txBody></p:sp><p:sp><p:nvSpPr><p:cNvPr id="4" name="Slide Number Placeholder 3"/><p:cNvSpPr><a:spLocks noGrp="1"/></p:cNvSpPr><p:nvPr><p:ph type="sldNum" sz="quarter" idx="10"/></p:nvPr></p:nvSpPr><p:spPr/><p:txBody><a:bodyPr/><a:lstStyle/><a:p><a:fld id="${C2}" type="slidenum"><a:rPr lang="en-US"/><a:t>${i._slideNum}</a:t></a:fld><a:endParaRPr lang="en-US"/></a:p></p:txBody></p:sp></p:spTree><p:extLst><p:ext uri="{BB962C8B-B14F-4D97-AF65-F5344CB8AC3E}"><p14:creationId xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main" val="1024086991"/></p:ext></p:extLst></p:cSld><p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:notes>`}function NS(i){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<p:sldLayout xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" preserve="1">
		${gg(i)}
		<p:clrMapOvr><a:masterClrMapping/></p:clrMapOvr></p:sldLayout>`}function BS(i,t){const e=t.map((n,o)=>`<p:sldLayoutId id="${rS+o}" r:id="rId${i._rels.length+o+1}"/>`);let r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Ui;return r+='<p:sldMaster xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main">',r+=gg(i),r+='<p:clrMap bg1="lt1" tx1="dk1" bg2="lt2" tx2="dk2" accent1="accent1" accent2="accent2" accent3="accent3" accent4="accent4" accent5="accent5" accent6="accent6" hlink="hlink" folHlink="folHlink"/>',r+="<p:sldLayoutIdLst>"+e.join("")+"</p:sldLayoutIdLst>",r+='<p:hf sldNum="0" hdr="0" ftr="0" dt="0"/>',r+='<p:txStyles> <p:titleStyle>  <a:lvl1pPr algn="ctr" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="0"/></a:spcBef><a:buNone/><a:defRPr sz="4400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mj-lt"/><a:ea typeface="+mj-ea"/><a:cs typeface="+mj-cs"/></a:defRPr></a:lvl1pPr> </p:titleStyle> <p:bodyStyle>  <a:lvl1pPr marL="342900" indent="-342900" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="3200" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="742950" indent="-285750" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="1143000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2400" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1600200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="2057400" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2514600" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2971800" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3429000" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3886200" indent="-228600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:spcBef><a:spcPct val="20000"/></a:spcBef><a:buFont typeface="Arial" pitchFamily="34" charset="0"/><a:buChar char=""/><a:defRPr sz="2000" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:bodyStyle> <p:otherStyle>  <a:defPPr><a:defRPr lang="en-US"/></a:defPPr>  <a:lvl1pPr marL="0" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl1pPr>  <a:lvl2pPr marL="457200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl2pPr>  <a:lvl3pPr marL="914400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl3pPr>  <a:lvl4pPr marL="1371600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl4pPr>  <a:lvl5pPr marL="1828800" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl5pPr>  <a:lvl6pPr marL="2286000" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl6pPr>  <a:lvl7pPr marL="2743200" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl7pPr>  <a:lvl8pPr marL="3200400" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl8pPr>  <a:lvl9pPr marL="3657600" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl9pPr> </p:otherStyle></p:txStyles>',r+="</p:sldMaster>",r}function IS(i,t){return Ag(t[i-1],[{target:"../slideMasters/slideMaster1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideMaster"}])}function RS(i,t,e){return Ag(i[e-1],[{target:`../slideLayouts/slideLayout${WS(i,t,e)}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"},{target:`../notesSlides/notesSlide${e}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesSlide"}])}function jS(i){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
		<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
			<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/notesMaster" Target="../notesMasters/notesMaster1.xml"/>
			<Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/slide" Target="../slides/slide${i}.xml"/>
		</Relationships>`}function zS(i,t){const e=t.map((r,n)=>({target:`../slideLayouts/slideLayout${n+1}.xml`,type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/slideLayout"}));return e.push({target:"../theme/theme1.xml",type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme"}),Ag(i,e)}function US(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">
		<Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="../theme/theme1.xml"/>
		</Relationships>`}function WS(i,t,e){for(let r=0;r<t.length;r++)if(t[r]._name===i[e-1]._slideLayout._name)return r+1;return 1}function XS(i){var t,e,r,n;const o=!((t=i.theme)===null||t===void 0)&&t.headFontFace?`<a:latin typeface="${(e=i.theme)===null||e===void 0?void 0:e.headFontFace}"/>`:'<a:latin typeface="Calibri Light" panose="020F0302020204030204"/>',d=!((r=i.theme)===null||r===void 0)&&r.bodyFontFace?`<a:latin typeface="${(n=i.theme)===null||n===void 0?void 0:n.bodyFontFace}"/>`:'<a:latin typeface="Calibri" panose="020F0502020204030204"/>';return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?><a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="44546A"/></a:dk2><a:lt2><a:srgbClr val="E7E6E6"/></a:lt2><a:accent1><a:srgbClr val="4472C4"/></a:accent1><a:accent2><a:srgbClr val="ED7D31"/></a:accent2><a:accent3><a:srgbClr val="A5A5A5"/></a:accent3><a:accent4><a:srgbClr val="FFC000"/></a:accent4><a:accent5><a:srgbClr val="5B9BD5"/></a:accent5><a:accent6><a:srgbClr val="70AD47"/></a:accent6><a:hlink><a:srgbClr val="0563C1"/></a:hlink><a:folHlink><a:srgbClr val="954F72"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont>${o}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=" Light"/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=" Light"/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Angsana New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:majorFont><a:minorFont>${d}<a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface=""/><a:font script="Hang" typeface=" "/><a:font script="Hans" typeface=""/><a:font script="Hant" typeface=""/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Cordia New"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/><a:font script="Geor" typeface="Sylfaen"/><a:font script="Armn" typeface="Arial"/><a:font script="Bugi" typeface="Leelawadee UI"/><a:font script="Bopo" typeface="Microsoft JhengHei"/><a:font script="Java" typeface="Javanese Text"/><a:font script="Lisu" typeface="Segoe UI"/><a:font script="Mymr" typeface="Myanmar Text"/><a:font script="Nkoo" typeface="Ebrima"/><a:font script="Olck" typeface="Nirmala UI"/><a:font script="Osma" typeface="Ebrima"/><a:font script="Phag" typeface="Phagspa"/><a:font script="Syrn" typeface="Estrangelo Edessa"/><a:font script="Syrj" typeface="Estrangelo Edessa"/><a:font script="Syre" typeface="Estrangelo Edessa"/><a:font script="Sora" typeface="Nirmala UI"/><a:font script="Tale" typeface="Microsoft Tai Le"/><a:font script="Talu" typeface="Microsoft New Tai Lue"/><a:font script="Tfng" typeface="Ebrima"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:lumMod val="110000"/><a:satMod val="105000"/><a:tint val="67000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="103000"/><a:tint val="73000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="105000"/><a:satMod val="109000"/><a:tint val="81000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:satMod val="103000"/><a:lumMod val="102000"/><a:tint val="94000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:satMod val="110000"/><a:lumMod val="100000"/><a:shade val="100000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:lumMod val="99000"/><a:satMod val="120000"/><a:shade val="78000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="6350" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="12700" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln><a:ln w="19050" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/><a:miter lim="800000"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst/></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="57150" dist="19050" dir="5400000" algn="ctr" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="63000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:solidFill><a:schemeClr val="phClr"><a:tint val="95000"/><a:satMod val="170000"/></a:schemeClr></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="93000"/><a:satMod val="150000"/><a:shade val="98000"/><a:lumMod val="102000"/></a:schemeClr></a:gs><a:gs pos="50000"><a:schemeClr val="phClr"><a:tint val="98000"/><a:satMod val="130000"/><a:shade val="90000"/><a:lumMod val="103000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="63000"/><a:satMod val="120000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="5400000" scaled="0"/></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults/><a:extraClrSchemeLst/><a:extLst><a:ext uri="{05A4C25C-085E-4340-85A3-A5531E510DB2}"><thm15:themeFamily xmlns:thm15="http://schemas.microsoft.com/office/thememl/2012/main" name="Office Theme" id="{62F939B6-93AF-4DB8-9C6B-D6C7DFDC589F}" vid="{4A3C46E8-61CC-4603-A589-7422A47A8E4A}"/></a:ext></a:extLst></a:theme>`}function GS(i){let t=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<p:presentation xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main" ${i.rtlMode?'rtl="1"':""} saveSubsetFonts="1" autoCompressPictures="0">`;t+='<p:sldMasterIdLst><p:sldMasterId id="2147483648" r:id="rId1"/></p:sldMasterIdLst>',t+="<p:sldIdLst>",i.slides.forEach(e=>t+=`<p:sldId id="${e._slideId}" r:id="rId${e._rId}"/>`),t+="</p:sldIdLst>",t+=`<p:notesMasterIdLst><p:notesMasterId r:id="rId${i.slides.length+2}"/></p:notesMasterIdLst>`,t+=`<p:sldSz cx="${i.presLayout.width}" cy="${i.presLayout.height}"/>`,t+=`<p:notesSz cx="${i.presLayout.height}" cy="${i.presLayout.width}"/>`,t+="<p:defaultTextStyle>";for(let e=1;e<10;e++)t+=`<a:lvl${e}pPr marL="${(e-1)*457200}" algn="l" defTabSz="914400" rtl="0" eaLnBrk="1" latinLnBrk="0" hangingPunct="1"><a:defRPr sz="1800" kern="1200"><a:solidFill><a:schemeClr val="tx1"/></a:solidFill><a:latin typeface="+mn-lt"/><a:ea typeface="+mn-ea"/><a:cs typeface="+mn-cs"/></a:defRPr></a:lvl${e}pPr>`;return t+="</p:defaultTextStyle>",i.sections&&i.sections.length>0&&(t+='<p:extLst><p:ext uri="{521415D9-36F7-43E2-AB2F-B90AF26B5E84}">',t+='<p14:sectionLst xmlns:p14="http://schemas.microsoft.com/office/powerpoint/2010/main">',i.sections.forEach(e=>{t+=`<p14:section name="${he(e.title)}" id="{${du("xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}}"><p14:sldIdLst>`,e._slides.forEach(r=>t+=`<p14:sldId id="${r._slideId}"/>`),t+="</p14:sldIdLst></p14:section>"}),t+="</p14:sectionLst></p:ext>",t+='<p:ext uri="{EFAFB233-063F-42B5-8137-9DF3F51BA10A}"><p15:sldGuideLst xmlns:p15="http://schemas.microsoft.com/office/powerpoint/2012/main"/></p:ext>',t+="</p:extLst>"),t+="</p:presentation>",t}function HS(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<p:presentationPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"/>`}function VS(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<a:tblStyleLst xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" def="{5C22544A-7EE6-4342-B048-85BDC9FD1C3A}"/>`}function YS(){return`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>${Ui}<p:viewPr xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:p="http://schemas.openxmlformats.org/presentationml/2006/main"><p:normalViewPr horzBarState="maximized"><p:restoredLeft sz="15611"/><p:restoredTop sz="94610"/></p:normalViewPr><p:slideViewPr><p:cSldViewPr snapToGrid="0" snapToObjects="1"><p:cViewPr varScale="1"><p:scale><a:sx n="136" d="100"/><a:sy n="136" d="100"/></p:scale><p:origin x="216" y="312"/></p:cViewPr><p:guideLst/></p:cSldViewPr></p:slideViewPr><p:notesTextViewPr><p:cViewPr><p:scale><a:sx n="1" d="1"/><a:sy n="1" d="1"/></p:scale><p:origin x="0" y="0"/></p:cViewPr></p:notesTextViewPr><p:gridSpacing cx="76200" cy="76200"/></p:viewPr>`}const qS="4.0.1";class QS{set layout(t){const e=this.LAYOUTS[t];if(e)this._layout=t,this._presLayout=e;else throw new Error("UNKNOWN-LAYOUT")}get layout(){return this._layout}get version(){return this._version}set author(t){this._author=t}get author(){return this._author}set company(t){this._company=t}get company(){return this._company}set revision(t){this._revision=t}get revision(){return this._revision}set subject(t){this._subject=t}get subject(){return this._subject}set theme(t){this._theme=t}get theme(){return this._theme}set title(t){this._title=t}get title(){return this._title}set rtlMode(t){this._rtlMode=t}get rtlMode(){return this._rtlMode}get masterSlide(){return this._masterSlide}get slides(){return this._slides}get sections(){return this._sections}get slideLayouts(){return this._slideLayouts}get AlignH(){return this._alignH}get AlignV(){return this._alignV}get ChartType(){return this._chartType}get OutputType(){return this._outputType}get presLayout(){return this._presLayout}get SchemeColor(){return this._schemeColor}get ShapeType(){return this._shapeType}get charts(){return this._charts}get colors(){return this._colors}get shapes(){return this._shapes}constructor(){this._version=qS,this._alignH=Cp,this._alignV=Sp,this._chartType=_p,this._outputType=wp,this._schemeColor=Rr,this._shapeType=xp,this._charts=zt,this._colors=Bu,this._shapes=oa,this.addNewSlide=o=>{const d=this.sections.length>0&&this.sections[this.sections.length-1]._slides.filter(l=>l._slideNum===this.slides[this.slides.length-1]._slideNum).length>0;return o.sectionTitle=d?this.sections[this.sections.length-1].title:null,this.addSlide(o)},this.getSlide=o=>this.slides.filter(d=>d._slideNum===o)[0],this.setSlideNumber=o=>{this.masterSlide._slideNumberProps=o,this.slideLayouts.filter(d=>d._name===yp)[0]._slideNumberProps=o},this.createChartMediaRels=(o,d,l)=>{o._relsChart.forEach(s=>l.push(bS(s,d))),o._relsMedia.forEach(s=>{if(s.type!=="online"&&s.type!=="hyperlink"){let a=s.data&&typeof s.data=="string"?s.data:"";!a.includes(",")&&!a.includes(";")?a="image/png;base64,"+a:a.includes(",")?a.includes(";")||(a="image/png;"+a):a="image/png;base64,"+a,d.file(s.Target.replace("..","ppt"),a.split(",").pop(),{base64:!0})}})},this.writeFileToBrowser=(o,d)=>zr(this,void 0,void 0,function*(){const l=document.createElement("a");if(l.setAttribute("style","display:none;"),l.dataset.interception="off",document.body.appendChild(l),window.URL.createObjectURL){const s=window.URL.createObjectURL(new Blob([d],{type:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}));return l.href=s,l.download=o,l.click(),setTimeout(()=>{window.URL.revokeObjectURL(s),document.body.removeChild(l)},100),yield Promise.resolve(o)}}),this.exportPresentation=o=>zr(this,void 0,void 0,function*(){const d=[];let l=[];const s=new b2;return this.slides.forEach(a=>{l=l.concat(Fd(a))}),this.slideLayouts.forEach(a=>{l=l.concat(Fd(a))}),l=l.concat(Fd(this.masterSlide)),yield Promise.all(l).then(()=>zr(this,void 0,void 0,function*(){return this.slides.forEach(a=>{a._slideLayout&&vS(a)}),s.folder("_rels"),s.folder("docProps"),s.folder("ppt").folder("_rels"),s.folder("ppt/charts").folder("_rels"),s.folder("ppt/embeddings"),s.folder("ppt/media"),s.folder("ppt/slideLayouts").folder("_rels"),s.folder("ppt/slideMasters").folder("_rels"),s.folder("ppt/slides").folder("_rels"),s.folder("ppt/theme"),s.folder("ppt/notesMasters").folder("_rels"),s.folder("ppt/notesSlides").folder("_rels"),s.file("[Content_Types].xml",TS(this.slides,this.slideLayouts,this.masterSlide)),s.file("_rels/.rels",kS()),s.file("docProps/app.xml",LS(this.slides,this.company)),s.file("docProps/core.xml",PS(this.title,this.subject,this.author,this.revision)),s.file("ppt/_rels/presentation.xml.rels",OS(this.slides)),s.file("ppt/theme/theme1.xml",XS(this)),s.file("ppt/presentation.xml",GS(this)),s.file("ppt/presProps.xml",HS()),s.file("ppt/tableStyles.xml",VS()),s.file("ppt/viewProps.xml",YS()),this.slideLayouts.forEach((a,c)=>{s.file(`ppt/slideLayouts/slideLayout${c+1}.xml`,NS(a)),s.file(`ppt/slideLayouts/_rels/slideLayout${c+1}.xml.rels`,IS(c+1,this.slideLayouts))}),this.slides.forEach((a,c)=>{s.file(`ppt/slides/slide${c+1}.xml`,DS(a)),s.file(`ppt/slides/_rels/slide${c+1}.xml.rels`,RS(this.slides,this.slideLayouts,c+1)),s.file(`ppt/notesSlides/notesSlide${c+1}.xml`,FS(a)),s.file(`ppt/notesSlides/_rels/notesSlide${c+1}.xml.rels`,jS(c+1))}),s.file("ppt/slideMasters/slideMaster1.xml",BS(this.masterSlide,this.slideLayouts)),s.file("ppt/slideMasters/_rels/slideMaster1.xml.rels",zS(this.masterSlide,this.slideLayouts)),s.file("ppt/notesMasters/notesMaster1.xml",MS()),s.file("ppt/notesMasters/_rels/notesMaster1.xml.rels",US()),this.slideLayouts.forEach(a=>{this.createChartMediaRels(a,s,d)}),this.slides.forEach(a=>{this.createChartMediaRels(a,s,d)}),this.createChartMediaRels(this.masterSlide,s,d),yield Promise.all(d).then(()=>zr(this,void 0,void 0,function*(){return o.outputType==="STREAM"?yield s.generateAsync({type:"nodebuffer",compression:o.compression?"DEFLATE":"STORE"}):o.outputType?yield s.generateAsync({type:o.outputType}):yield s.generateAsync({type:"blob",compression:o.compression?"DEFLATE":"STORE"})}))}))});const t={name:"screen4x3",width:9144e3,height:6858e3},e={name:"screen16x9",width:9144e3,height:5143500},r={name:"screen16x10",width:9144e3,height:5715e3},n={name:"custom",width:12192e3,height:6858e3};this.LAYOUTS={LAYOUT_4x3:t,LAYOUT_16x9:e,LAYOUT_16x10:r,LAYOUT_WIDE:n},this._author="PptxGenJS",this._company="PptxGenJS",this._revision="1",this._subject="PptxGenJS Presentation",this._title="PptxGenJS Presentation",this._presLayout={name:this.LAYOUTS[Fo].name,_sizeW:this.LAYOUTS[Fo].width,_sizeH:this.LAYOUTS[Fo].height,width:this.LAYOUTS[Fo].width,height:this.LAYOUTS[Fo].height},this._rtlMode=!1,this._slideLayouts=[{_margin:Lc,_name:yp,_presLayout:this._presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3,_slideNumberProps:null,_slideObjects:[]}],this._slides=[],this._sections=[],this._masterSlide={addChart:null,addImage:null,addMedia:null,addNotes:null,addShape:null,addTable:null,addText:null,_name:null,_presLayout:this._presLayout,_rId:null,_rels:[],_relsChart:[],_relsMedia:[],_slideId:null,_slideLayout:null,_slideNum:null,_slideNumberProps:null,_slideObjects:[]}}stream(t){return zr(this,void 0,void 0,function*(){return yield this.exportPresentation({compression:t==null?void 0:t.compression,outputType:"STREAM"})})}write(t){return zr(this,void 0,void 0,function*(){const e=typeof t=="object"&&(t!=null&&t.outputType)?t.outputType:t||null,r=typeof t=="object"&&(t!=null&&t.compression)?t.compression:!1;return yield this.exportPresentation({compression:r,outputType:e})})}writeFile(t){return zr(this,void 0,void 0,function*(){var e,r;const n=typeof process<"u"&&!!(!((e=process.versions)===null||e===void 0)&&e.node)&&((r=process.release)===null||r===void 0?void 0:r.name)==="node";typeof t=="string"&&(t={fileName:t});const{fileName:o="Presentation.pptx",compression:d=!1}=t,l=o.toLowerCase().endsWith(".pptx")?o:`${o}.pptx`,s=n?"nodebuffer":null,a=yield this.exportPresentation({compression:d,outputType:s});if(n){const{promises:c}=yield Un(()=>import("./index.esm-0b9baea5.js").then(f=>f._),["assets/index.esm-0b9baea5.js","assets/index-626914f7.js","assets/index-e511f767.css"]),{writeFile:u}=c;return yield u(l,a),l}return yield this.writeFileToBrowser(l,a),l})}addSection(t){t&&t.title;const e={_type:"user",_slides:[],title:t.title};t.order?this.sections.splice(t.order,0,e):this._sections.push(e)}addSlide(t){const e=typeof t=="string"?t:t!=null&&t.masterName?t.masterName:"";let r={_name:this.LAYOUTS[Fo].name,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slideNum:this.slides.length+1};if(e){const o=this.slideLayouts.filter(d=>d._name===e)[0];o&&(r=o)}const n=new yS({addSlide:this.addNewSlide,getSlide:this.getSlide,presLayout:this.presLayout,setSlideNum:this.setSlideNumber,slideId:this.slides.length+256,slideRId:this.slides.length+2,slideNumber:this.slides.length+1,slideLayout:r});if(this._slides.push(n),t!=null&&t.sectionTitle){const o=this.sections.filter(d=>d.title===t.sectionTitle)[0];o&&o._slides.push(n)}else if(this.sections&&this.sections.length>0&&!(t!=null&&t.sectionTitle)){const o=this._sections[this.sections.length-1];o._type==="default"?o._slides.push(n):this._sections.push({title:`Default-${this.sections.filter(d=>d._type==="default").length+1}`,_type:"default",_slides:[n]})}return n}defineLayout(t){t&&t.name&&t.width&&t.height&&(typeof t.height!="number"||t.width),this.LAYOUTS[t.name]={name:t.name,_sizeW:Math.round(Number(t.width)*Ze),_sizeH:Math.round(Number(t.height)*Ze),width:Math.round(Number(t.width)*Ze),height:Math.round(Number(t.height)*Ze)}}defineSlideMaster(t){const e=JSON.parse(JSON.stringify(t));if(!e.title)throw new Error("defineSlideMaster() object argument requires a `title` value. (https://gitbrent.github.io/PptxGenJS/docs/masters.html)");const r={_margin:e.margin||Lc,_name:e.title,_presLayout:this.presLayout,_rels:[],_relsChart:[],_relsMedia:[],_slide:null,_slideNum:1e3+this.slideLayouts.length+1,_slideNumberProps:e.slideNumber||null,_slideObjects:[],background:e.background||null,bkgd:e.bkgd||null};pS(e,r),this.slideLayouts.push(r),(e.background||e.bkgd)&&L2(e.background,r),r._slideNumberProps&&!this.masterSlide._slideNumberProps&&(this.masterSlide._slideNumberProps=r._slideNumberProps)}tableToSlides(t,e={}){fS(this,t,e,e!=null&&e.masterSlideName?this.slideLayouts.filter(r=>r._name===e.masterSlideName)[0]:null)}}var KS={};(function(i){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.5.2"};if(i.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var e=If,r=new e.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=If.implForWrapper,t.nodeCanvas=If.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function l(h,p){if(this.__eventListeners[h]){var A=this.__eventListeners[h];p?A[A.indexOf(p)]=!1:t.util.array.fill(A,!1)}}function s(h,p){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var A in h)this.on(A,h[A]);else this.__eventListeners[h]||(this.__eventListeners[h]=[]),this.__eventListeners[h].push(p);return this}function a(h,p){var A=(function(){p.apply(this,arguments),this.off(h,A)}).bind(this);this.on(h,A)}function c(h,p){if(arguments.length===1)for(var A in h)a.call(this,A,h[A]);else a.call(this,h,p);return this}function u(h,p){if(!this.__eventListeners)return this;if(arguments.length===0)for(h in this.__eventListeners)l.call(this,h);else if(arguments.length===1&&typeof arguments[0]=="object")for(var A in h)l.call(this,A,h[A]);else l.call(this,h,p);return this}function f(h,p){if(!this.__eventListeners)return this;var A=this.__eventListeners[h];if(!A)return this;for(var g=0,m=A.length;g<m;g++)A[g]&&A[g].call(this,p||{});return this.__eventListeners[h]=A.filter(function(v){return v!==!1}),this}t.Observable={fire:f,on:s,once:c,off:u}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var l=0,s=arguments.length;l<s;l++)this._onObjectAdded(arguments[l]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(l,s,a){var c=this._objects;return a?c[s]=l:c.splice(s,0,l),this._onObjectAdded&&this._onObjectAdded(l),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var l=this._objects,s,a=!1,c=0,u=arguments.length;c<u;c++)s=l.indexOf(arguments[c]),s!==-1&&(a=!0,l.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[c]));return this.renderOnAddRemove&&a&&this.requestRenderAll(),this},forEachObject:function(l,s){for(var a=this.getObjects(),c=0,u=a.length;c<u;c++)l.call(s,a[c],c,a);return this},getObjects:function(l){return typeof l>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===l})},item:function(l){return this._objects[l]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(l,s){return this._objects.indexOf(l)>-1?!0:s?this._objects.some(function(a){return typeof a.contains=="function"&&a.contains(l,!0)}):!1},complexity:function(){return this._objects.reduce(function(l,s){return l+=s.complexity?s.complexity():0,l},0)}},t.CommonMethods={_setOptions:function(l){for(var s in l)this.set(s,l[s])},_initGradient:function(l,s){l&&l.colorStops&&!(l instanceof t.Gradient)&&this.set(s,new t.Gradient(l))},_initPattern:function(l,s,a){l&&l.source&&!(l instanceof t.Pattern)?this.set(s,new t.Pattern(l,a)):a&&a()},_setObject:function(l){for(var s in l)this._set(s,l[s])},set:function(l,s){return typeof l=="object"?this._setObject(l):this._set(l,s),this},_set:function(l,s){this[l]=s},toggle:function(l){var s=this.get(l);return typeof s=="boolean"&&this.set(l,!s),this},get:function(l){return this[l]}},function(l){var s=Math.sqrt,a=Math.atan2,c=Math.pow,u=Math.PI/180,f=Math.PI/2;t.util={cos:function(h){if(h===0)return 1;h<0&&(h=-h);var p=h/f;switch(p){case 1:case 3:return 0;case 2:return-1}return Math.cos(h)},sin:function(h){if(h===0)return 0;var p=h/f,A=1;switch(h<0&&(A=-1),p){case 1:return A;case 2:return 0;case 3:return-A}return Math.sin(h)},removeFromArray:function(h,p){var A=h.indexOf(p);return A!==-1&&h.splice(A,1),h},getRandomInt:function(h,p){return Math.floor(Math.random()*(p-h+1))+h},degreesToRadians:function(h){return h*u},radiansToDegrees:function(h){return h/u},rotatePoint:function(h,p,A){var g=new t.Point(h.x-p.x,h.y-p.y),m=t.util.rotateVector(g,A);return new t.Point(m.x,m.y).addEquals(p)},rotateVector:function(h,p){var A=t.util.sin(p),g=t.util.cos(p),m=h.x*g-h.y*A,v=h.x*A+h.y*g;return{x:m,y:v}},createVector:function(h,p){return new t.Point(p.x-h.x,p.y-h.y)},calcAngleBetweenVectors:function(h,p){return Math.acos((h.x*p.x+h.y*p.y)/(Math.hypot(h.x,h.y)*Math.hypot(p.x,p.y)))},getHatVector:function(h){return new t.Point(h.x,h.y).multiply(1/Math.hypot(h.x,h.y))},getBisector:function(h,p,A){var g=t.util.createVector(h,p),m=t.util.createVector(h,A),v=t.util.calcAngleBetweenVectors(g,m),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(g,v),m),w=v*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(g,w)),angle:v}},projectStrokeOnPoints:function(h,p,A){var g=[],m=p.strokeWidth/2,v=p.strokeUniform?new t.Point(1/p.scaleX,1/p.scaleY):new t.Point(1,1),y=function(w){var x=m/Math.hypot(w.x,w.y);return new t.Point(w.x*x*v.x,w.y*x*v.y)};return h.length<=1||h.forEach(function(w,x){var L=new t.Point(w.x,w.y),F,M;x===0?(M=h[x+1],F=A?y(t.util.createVector(M,L)).addEquals(L):h[h.length-1]):x===h.length-1?(F=h[x-1],M=A?y(t.util.createVector(F,L)).addEquals(L):h[0]):(F=h[x-1],M=h[x+1]);var D=t.util.getBisector(L,F,M),X=D.vector,I=D.angle,O,W;if(p.strokeLineJoin==="miter"&&(O=-m/Math.sin(I/2),W=new t.Point(X.x*O*v.x,X.y*O*v.y),Math.hypot(W.x,W.y)/m<=p.strokeMiterLimit)){g.push(L.add(W)),g.push(L.subtract(W));return}O=-m*Math.SQRT2,W=new t.Point(X.x*O*v.x,X.y*O*v.y),g.push(L.add(W)),g.push(L.subtract(W))}),g},transformPoint:function(h,p,A){return A?new t.Point(p[0]*h.x+p[2]*h.y,p[1]*h.x+p[3]*h.y):new t.Point(p[0]*h.x+p[2]*h.y+p[4],p[1]*h.x+p[3]*h.y+p[5])},makeBoundingBoxFromPoints:function(h,p){if(p)for(var A=0;A<h.length;A++)h[A]=t.util.transformPoint(h[A],p);var g=[h[0].x,h[1].x,h[2].x,h[3].x],m=t.util.array.min(g),v=t.util.array.max(g),y=v-m,w=[h[0].y,h[1].y,h[2].y,h[3].y],x=t.util.array.min(w),L=t.util.array.max(w),F=L-x;return{left:m,top:x,width:y,height:F}},invertTransform:function(h){var p=1/(h[0]*h[3]-h[1]*h[2]),A=[p*h[3],-p*h[1],-p*h[2],p*h[0]],g=t.util.transformPoint({x:h[4],y:h[5]},A,!0);return A[4]=-g.x,A[5]=-g.y,A},toFixed:function(h,p){return parseFloat(Number(h).toFixed(p))},parseUnit:function(h,p){var A=/\D{0,2}$/.exec(h),g=parseFloat(h);switch(p||(p=t.Text.DEFAULT_SVG_FONT_SIZE),A[0]){case"mm":return g*t.DPI/25.4;case"cm":return g*t.DPI/2.54;case"in":return g*t.DPI;case"pt":return g*t.DPI/72;case"pc":return g*t.DPI/72*12;case"em":return g*p;default:return g}},falseFunction:function(){return!1},getKlass:function(h,p){return h=t.util.string.camelize(h.charAt(0).toUpperCase()+h.slice(1)),t.util.resolveNamespace(p)[h]},getSvgAttributes:function(h){var p=["instantiated_by_use","style","id","class"];switch(h){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"]);break}return p},resolveNamespace:function(h){if(!h)return t;var p=h.split("."),A=p.length,g,m=l||t.window;for(g=0;g<A;++g)m=m[p[g]];return m},loadImage:function(h,p,A,g){if(!h){p&&p.call(A,h);return}var m=t.util.createImage(),v=function(){p&&p.call(A,m,!1),m=m.onload=m.onerror=null};m.onload=v,m.onerror=function(){t.log("Error loading "+m.src),p&&p.call(A,null,!0),m=m.onload=m.onerror=null},h.indexOf("data")!==0&&g!==void 0&&g!==null&&(m.crossOrigin=g),h.substring(0,14)==="data:image/svg"&&(m.onload=null,t.util.loadImageInDom(m,v)),m.src=h},loadImageInDom:function(h,p){var A=t.document.createElement("div");A.style.width=A.style.height="1px",A.style.left=A.style.top="-100%",A.style.position="absolute",A.appendChild(h),t.document.querySelector("body").appendChild(A),h.onload=function(){p(),A.parentNode.removeChild(A),A=null}},enlivenObjects:function(h,p,A,g){h=h||[];var m=[],v=0,y=h.length;function w(){++v===y&&p&&p(m.filter(function(x){return x}))}if(!y){p&&p(m);return}h.forEach(function(x,L){if(!x||!x.type){w();return}var F=t.util.getKlass(x.type,A);F.fromObject(x,function(M,D){D||(m[L]=M),g&&g(x,M,D),w()})})},enlivenObjectEnlivables:function(h,p,A){var g=t.Object.ENLIVEN_PROPS.filter(function(m){return!!h[m]});t.util.enlivenObjects(g.map(function(m){return h[m]}),function(m){var v={};g.forEach(function(y,w){v[y]=m[w],p&&(p[y]=m[w])}),A&&A(v)})},enlivenPatterns:function(h,p){h=h||[];function A(){++m===v&&p&&p(g)}var g=[],m=0,v=h.length;if(!v){p&&p(g);return}h.forEach(function(y,w){y&&y.source?new t.Pattern(y,function(x){g[w]=x,A()}):(g[w]=y,A())})},groupSVGElements:function(h,p,A){var g;return h&&h.length===1?(typeof A<"u"&&(h[0].sourcePath=A),h[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),g=new t.Group(h,p),typeof A<"u"&&(g.sourcePath=A),g)},populateWithProperties:function(h,p,A){if(A&&Array.isArray(A))for(var g=0,m=A.length;g<m;g++)A[g]in h&&(p[A[g]]=h[A[g]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(h){var p=t.util.createCanvasElement();return p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0),p},toDataURL:function(h,p,A){return h.toDataURL("image/"+p,A)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(h,p,A){return[h[0]*p[0]+h[2]*p[1],h[1]*p[0]+h[3]*p[1],h[0]*p[2]+h[2]*p[3],h[1]*p[2]+h[3]*p[3],A?0:h[0]*p[4]+h[2]*p[5]+h[4],A?0:h[1]*p[4]+h[3]*p[5]+h[5]]},qrDecompose:function(h){var p=a(h[1],h[0]),A=c(h[0],2)+c(h[1],2),g=s(A),m=(h[0]*h[3]-h[2]*h[1])/g,v=a(h[0]*h[2]+h[1]*h[3],A);return{angle:p/u,scaleX:g,scaleY:m,skewX:v/u,skewY:0,translateX:h[4],translateY:h[5]}},calcRotateMatrix:function(h){if(!h.angle)return t.iMatrix.concat();var p=t.util.degreesToRadians(h.angle),A=t.util.cos(p),g=t.util.sin(p);return[A,g,-g,A,0,0]},calcDimensionsMatrix:function(h){var p=typeof h.scaleX>"u"?1:h.scaleX,A=typeof h.scaleY>"u"?1:h.scaleY,g=[h.flipX?-p:p,0,0,h.flipY?-A:A,0,0],m=t.util.multiplyTransformMatrices,v=t.util.degreesToRadians;return h.skewX&&(g=m(g,[1,0,Math.tan(v(h.skewX)),1],!0)),h.skewY&&(g=m(g,[1,Math.tan(v(h.skewY)),0,1],!0)),g},composeMatrix:function(h){var p=[1,0,0,1,h.translateX||0,h.translateY||0],A=t.util.multiplyTransformMatrices;return h.angle&&(p=A(p,t.util.calcRotateMatrix(h))),(h.scaleX!==1||h.scaleY!==1||h.skewX||h.skewY||h.flipX||h.flipY)&&(p=A(p,t.util.calcDimensionsMatrix(h))),p},resetObjectTransform:function(h){h.scaleX=1,h.scaleY=1,h.skewX=0,h.skewY=0,h.flipX=!1,h.flipY=!1,h.rotate(0)},saveObjectTransform:function(h){return{scaleX:h.scaleX,scaleY:h.scaleY,skewX:h.skewX,skewY:h.skewY,angle:h.angle,left:h.left,flipX:h.flipX,flipY:h.flipY,top:h.top}},isTransparent:function(h,p,A,g){g>0&&(p>g?p-=g:p=0,A>g?A-=g:A=0);var m=!0,v,y,w=h.getImageData(p,A,g*2||1,g*2||1),x=w.data.length;for(v=3;v<x&&(y=w.data[v],m=y<=0,m!==!1);v+=4);return w=null,m},parsePreserveAspectRatioAttribute:function(h){var p="meet",A="Mid",g="Mid",m=h.split(" "),v;return m&&m.length&&(p=m.pop(),p!=="meet"&&p!=="slice"?(v=p,p="meet"):m.length&&(v=m.pop())),A=v!=="none"?v.slice(1,4):"none",g=v!=="none"?v.slice(5,8):"none",{meetOrSlice:p,alignX:A,alignY:g}},clearFabricFontCache:function(h){h=(h||"").toLowerCase(),h?t.charWidthsCache[h]&&delete t.charWidthsCache[h]:t.charWidthsCache={}},limitDimsByArea:function(h,p){var A=Math.sqrt(p*h),g=Math.floor(p/A);return{x:Math.floor(A),y:g}},capValue:function(h,p,A){return Math.max(h,Math.min(p,A))},findScaleToFit:function(h,p){return Math.min(p.width/h.width,p.height/h.height)},findScaleToCover:function(h,p){return Math.max(p.width/h.width,p.height/h.height)},matrixToSVG:function(h){return"matrix("+h.map(function(p){return t.util.toFixed(p,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(h,p){var A=t.util.invertTransform(p),g=t.util.multiplyTransformMatrices(A,h.calcOwnMatrix());t.util.applyTransformToObject(h,g)},addTransformToObject:function(h,p){t.util.applyTransformToObject(h,t.util.multiplyTransformMatrices(p,h.calcOwnMatrix()))},applyTransformToObject:function(h,p){var A=t.util.qrDecompose(p),g=new t.Point(A.translateX,A.translateY);h.flipX=!1,h.flipY=!1,h.set("scaleX",A.scaleX),h.set("scaleY",A.scaleY),h.skewX=A.skewX,h.skewY=A.skewY,h.angle=A.angle,h.setPositionByOrigin(g,"center","center")},sizeAfterTransform:function(h,p,A){var g=h/2,m=p/2,v=[{x:-g,y:-m},{x:g,y:-m},{x:-g,y:m},{x:g,y:m}],y=t.util.calcDimensionsMatrix(A),w=t.util.makeBoundingBoxFromPoints(v,y);return{x:w.width,y:w.height}},mergeClipPaths:function(h,p){var A=h,g=p;A.inverted&&!g.inverted&&(A=p,g=h),t.util.applyTransformToObject(g,t.util.multiplyTransformMatrices(t.util.invertTransform(A.calcTransformMatrix()),g.calcTransformMatrix()));var m=A.inverted&&g.inverted;return m&&(A.inverted=g.inverted=!1),new t.Group([A],{clipPath:g,inverted:m})},hasStyleChanged:function(h,p,A){return A=A||!1,h.fill!==p.fill||h.stroke!==p.stroke||h.strokeWidth!==p.strokeWidth||h.fontSize!==p.fontSize||h.fontFamily!==p.fontFamily||h.fontWeight!==p.fontWeight||h.fontStyle!==p.fontStyle||h.textBackgroundColor!==p.textBackgroundColor||h.deltaY!==p.deltaY||A&&(h.overline!==p.overline||h.underline!==p.underline||h.linethrough!==p.linethrough)},stylesToArray:function(A,p){for(var A=t.util.object.clone(A,!0),g=p.split(`
`),m=-1,v={},y=[],w=0;w<g.length;w++){if(!A[w]){m+=g[w].length;continue}for(var x=0;x<g[w].length;x++){m++;var L=A[w][x];if(L&&Object.keys(L).length>0){var F=t.util.hasStyleChanged(v,L,!0);F?y.push({start:m,end:m+1,style:L}):y[y.length-1].end++}v=L||{}}}return y},stylesFromArray:function(h,p){if(!Array.isArray(h))return h;for(var A=p.split(`
`),g=-1,m=0,v={},y=0;y<A.length;y++)for(var w=0;w<A[y].length;w++)g++,h[m]&&h[m].start<=g&&g<h[m].end&&(v[y]=v[y]||{},v[y][w]=Object.assign({},h[m].style),g===h[m].end-1&&m++);return v}}}(i),function(){var l=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},a={m:"l",M:"L"};function c(B,K,z,S,j,N,E,H,Z,ot,nt){var dt=t.util.cos(B),gt=t.util.sin(B),Tt=t.util.cos(K),pt=t.util.sin(K),T=z*j*Tt-S*N*pt+E,U=S*j*Tt+z*N*pt+H,ct=ot+Z*(-z*j*gt-S*N*dt),V=nt+Z*(-S*j*gt+z*N*dt),G=T+Z*(z*j*pt+S*N*Tt),tt=U+Z*(S*j*pt-z*N*Tt);return["C",ct,V,G,tt,T,U]}function u(B,K,z,S,j,N,E){var H=Math.PI,Z=E*H/180,ot=t.util.sin(Z),nt=t.util.cos(Z),dt=0,gt=0;z=Math.abs(z),S=Math.abs(S);var Tt=-nt*B*.5-ot*K*.5,pt=-nt*K*.5+ot*B*.5,T=z*z,U=S*S,ct=pt*pt,V=Tt*Tt,G=T*U-T*ct-U*V,tt=0;if(G<0){var yt=Math.sqrt(1-G/(T*U));z*=yt,S*=yt}else tt=(j===N?-1:1)*Math.sqrt(G/(T*ct+U*V));var At=tt*z*pt/S,st=-tt*S*Tt/z,_t=nt*At-ot*st+B*.5,Dt=ot*At+nt*st+K*.5,kt=f(1,0,(Tt-At)/z,(pt-st)/S),Nt=f((Tt-At)/z,(pt-st)/S,(-Tt-At)/z,(-pt-st)/S);N===0&&Nt>0?Nt-=2*H:N===1&&Nt<0&&(Nt+=2*H);for(var Xt=Math.ceil(Math.abs(Nt/H*2)),Ut=[],Wt=Nt/Xt,Jt=8/3*Math.sin(Wt/4)*Math.sin(Wt/4)/Math.sin(Wt/2),Ht=kt+Wt,ve=0;ve<Xt;ve++)Ut[ve]=c(kt,Ht,nt,ot,z,S,_t,Dt,Jt,dt,gt),dt=Ut[ve][5],gt=Ut[ve][6],kt=Ht,Ht+=Wt;return Ut}function f(B,K,z,S){var j=Math.atan2(K,B),N=Math.atan2(S,z);return N>=j?N-j:2*Math.PI-(j-N)}function h(B,K,z,S,j,N,E,H){var Z;if(t.cachesBoundsOfCurve&&(Z=l.call(arguments),t.boundsOfCurveCache[Z]))return t.boundsOfCurveCache[Z];var ot=Math.sqrt,nt=Math.min,dt=Math.max,gt=Math.abs,Tt=[],pt=[[],[]],T,U,ct,V,G,tt,yt,At;U=6*B-12*z+6*j,T=-3*B+9*z-9*j+3*E,ct=3*z-3*B;for(var st=0;st<2;++st){if(st>0&&(U=6*K-12*S+6*N,T=-3*K+9*S-9*N+3*H,ct=3*S-3*K),gt(T)<1e-12){if(gt(U)<1e-12)continue;V=-ct/U,0<V&&V<1&&Tt.push(V);continue}yt=U*U-4*ct*T,!(yt<0)&&(At=ot(yt),G=(-U+At)/(2*T),0<G&&G<1&&Tt.push(G),tt=(-U-At)/(2*T),0<tt&&tt<1&&Tt.push(tt))}for(var _t,Dt,kt=Tt.length,Nt=kt,Xt;kt--;)V=Tt[kt],Xt=1-V,_t=Xt*Xt*Xt*B+3*Xt*Xt*V*z+3*Xt*V*V*j+V*V*V*E,pt[0][kt]=_t,Dt=Xt*Xt*Xt*K+3*Xt*Xt*V*S+3*Xt*V*V*N+V*V*V*H,pt[1][kt]=Dt;pt[0][Nt]=B,pt[1][Nt]=K,pt[0][Nt+1]=E,pt[1][Nt+1]=H;var Ut=[{x:nt.apply(null,pt[0]),y:nt.apply(null,pt[1])},{x:dt.apply(null,pt[0]),y:dt.apply(null,pt[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[Z]=Ut),Ut}function p(B,K,z){for(var S=z[1],j=z[2],N=z[3],E=z[4],H=z[5],Z=z[6],ot=z[7],nt=u(Z-B,ot-K,S,j,E,H,N),dt=0,gt=nt.length;dt<gt;dt++)nt[dt][1]+=B,nt[dt][2]+=K,nt[dt][3]+=B,nt[dt][4]+=K,nt[dt][5]+=B,nt[dt][6]+=K;return nt}function A(B){var K=0,z=0,S=B.length,j=0,N=0,E,H,Z,ot=[],nt,dt,gt;for(H=0;H<S;++H){switch(Z=!1,E=B[H].slice(0),E[0]){case"l":E[0]="L",E[1]+=K,E[2]+=z;case"L":K=E[1],z=E[2];break;case"h":E[1]+=K;case"H":E[0]="L",E[2]=z,K=E[1];break;case"v":E[1]+=z;case"V":E[0]="L",z=E[1],E[1]=K,E[2]=z;break;case"m":E[0]="M",E[1]+=K,E[2]+=z;case"M":K=E[1],z=E[2],j=E[1],N=E[2];break;case"c":E[0]="C",E[1]+=K,E[2]+=z,E[3]+=K,E[4]+=z,E[5]+=K,E[6]+=z;case"C":dt=E[3],gt=E[4],K=E[5],z=E[6];break;case"s":E[0]="S",E[1]+=K,E[2]+=z,E[3]+=K,E[4]+=z;case"S":nt==="C"?(dt=2*K-dt,gt=2*z-gt):(dt=K,gt=z),K=E[3],z=E[4],E[0]="C",E[5]=E[3],E[6]=E[4],E[3]=E[1],E[4]=E[2],E[1]=dt,E[2]=gt,dt=E[3],gt=E[4];break;case"q":E[0]="Q",E[1]+=K,E[2]+=z,E[3]+=K,E[4]+=z;case"Q":dt=E[1],gt=E[2],K=E[3],z=E[4];break;case"t":E[0]="T",E[1]+=K,E[2]+=z;case"T":nt==="Q"?(dt=2*K-dt,gt=2*z-gt):(dt=K,gt=z),E[0]="Q",K=E[1],z=E[2],E[1]=dt,E[2]=gt,E[3]=K,E[4]=z;break;case"a":E[0]="A",E[6]+=K,E[7]+=z;case"A":Z=!0,ot=ot.concat(p(K,z,E)),K=E[6],z=E[7];break;case"z":case"Z":K=j,z=N;break}Z||ot.push(E),nt=E[0]}return ot}function g(B,K,z,S){return Math.sqrt((z-B)*(z-B)+(S-K)*(S-K))}function m(B){return B*B*B}function v(B){return 3*B*B*(1-B)}function y(B){return 3*B*(1-B)*(1-B)}function w(B){return(1-B)*(1-B)*(1-B)}function x(B,K,z,S,j,N,E,H){return function(Z){var ot=m(Z),nt=v(Z),dt=y(Z),gt=w(Z);return{x:E*ot+j*nt+z*dt+B*gt,y:H*ot+N*nt+S*dt+K*gt}}}function L(B,K,z,S,j,N,E,H){return function(Z){var ot=1-Z,nt=3*ot*ot*(z-B)+6*ot*Z*(j-z)+3*Z*Z*(E-j),dt=3*ot*ot*(S-K)+6*ot*Z*(N-S)+3*Z*Z*(H-N);return Math.atan2(dt,nt)}}function F(B){return B*B}function M(B){return 2*B*(1-B)}function D(B){return(1-B)*(1-B)}function X(B,K,z,S,j,N){return function(E){var H=F(E),Z=M(E),ot=D(E);return{x:j*H+z*Z+B*ot,y:N*H+S*Z+K*ot}}}function I(B,K,z,S,j,N){return function(E){var H=1-E,Z=2*H*(z-B)+2*E*(j-z),ot=2*H*(S-K)+2*E*(N-S);return Math.atan2(ot,Z)}}function O(B,K,z){var S={x:K,y:z},j,N=0,E;for(E=1;E<=100;E+=1)j=B(E/100),N+=g(S.x,S.y,j.x,j.y),S=j;return N}function W(B,K){for(var z=0,S=0,j=B.iterator,N={x:B.x,y:B.y},E,H,Z=.01,ot=B.angleFinder,nt;S<K&&Z>1e-4;)E=j(z),nt=z,H=g(N.x,N.y,E.x,E.y),H+S>K?(z-=Z,Z/=2):(N=E,z+=Z,S+=H);return E.angle=ot(nt),E}function C(B){for(var K=0,z=B.length,S,j=0,N=0,E=0,H=0,Z=[],ot,nt,dt,gt=0;gt<z;gt++){switch(S=B[gt],nt={x:j,y:N,command:S[0]},S[0]){case"M":nt.length=0,E=j=S[1],H=N=S[2];break;case"L":nt.length=g(j,N,S[1],S[2]),j=S[1],N=S[2];break;case"C":ot=x(j,N,S[1],S[2],S[3],S[4],S[5],S[6]),dt=L(j,N,S[1],S[2],S[3],S[4],S[5],S[6]),nt.iterator=ot,nt.angleFinder=dt,nt.length=O(ot,j,N),j=S[5],N=S[6];break;case"Q":ot=X(j,N,S[1],S[2],S[3],S[4]),dt=I(j,N,S[1],S[2],S[3],S[4]),nt.iterator=ot,nt.angleFinder=dt,nt.length=O(ot,j,N),j=S[3],N=S[4];break;case"Z":case"z":nt.destX=E,nt.destY=H,nt.length=g(j,N,E,H),j=E,N=H;break}K+=nt.length,Z.push(nt)}return Z.push({length:K,x:j,y:N}),Z}function Q(B,K,z){z||(z=C(B));for(var S=0;K-z[S].length>0&&S<z.length-2;)K-=z[S].length,S++;var j=z[S],N=K/j.length,E=j.command,H=B[S],Z;switch(E){case"M":return{x:j.x,y:j.y,angle:0};case"Z":case"z":return Z=new t.Point(j.x,j.y).lerp(new t.Point(j.destX,j.destY),N),Z.angle=Math.atan2(j.destY-j.y,j.destX-j.x),Z;case"L":return Z=new t.Point(j.x,j.y).lerp(new t.Point(H[1],H[2]),N),Z.angle=Math.atan2(H[2]-j.y,H[1]-j.x),Z;case"C":return W(j,K);case"Q":return W(j,K)}}function lt(B){var K=[],z=[],S,j,N=t.rePathCommand,E="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",H="("+E+")"+t.commaWsp,Z="([01])"+t.commaWsp+"?",ot=H+"?"+H+"?"+H+Z+Z+H+"?("+E+")",nt=new RegExp(ot,"g"),dt,gt,Tt;if(!B||!B.match)return K;Tt=B.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var pt=0,T,U=Tt.length;pt<U;pt++){S=Tt[pt],gt=S.slice(1).trim(),z.length=0;var ct=S.charAt(0);if(T=[ct],ct.toLowerCase()==="a")for(var V;V=nt.exec(gt);)for(var G=1;G<V.length;G++)z.push(V[G]);else for(;dt=N.exec(gt);)z.push(dt[0]);for(var G=0,tt=z.length;G<tt;G++)j=parseFloat(z[G]),isNaN(j)||T.push(j);var yt=s[ct.toLowerCase()],At=a[ct]||ct;if(T.length-1>yt)for(var st=1,_t=T.length;st<_t;st+=yt)K.push([ct].concat(T.slice(st,st+yt))),ct=At;else K.push(T)}return K}function it(B,K){var z=[],S,j=new t.Point(B[0].x,B[0].y),N=new t.Point(B[1].x,B[1].y),E=B.length,H=1,Z=0,ot=E>2;for(K=K||0,ot&&(H=B[2].x<N.x?-1:B[2].x===N.x?0:1,Z=B[2].y<N.y?-1:B[2].y===N.y?0:1),z.push(["M",j.x-H*K,j.y-Z*K]),S=1;S<E;S++){if(!j.eq(N)){var nt=j.midPointFrom(N);z.push(["Q",j.x,j.y,nt.x,nt.y])}j=B[S],S+1<B.length&&(N=B[S+1])}return ot&&(H=j.x>B[S-2].x?1:j.x===B[S-2].x?0:-1,Z=j.y>B[S-2].y?1:j.y===B[S-2].y?0:-1),z.push(["L",j.x+H*K,j.y+Z*K]),z}function et(B,K,z){return z&&(K=t.util.multiplyTransformMatrices(K,[1,0,0,1,-z.x,-z.y])),B.map(function(S){for(var j=S.slice(0),N={},E=1;E<S.length-1;E+=2)N.x=S[E],N.y=S[E+1],N=t.util.transformPoint(N,K),j[E]=N.x,j[E+1]=N.y;return j})}t.util.joinPath=function(B){return B.map(function(K){return K.join(" ")}).join(" ")},t.util.parsePath=lt,t.util.makePathSimpler=A,t.util.getSmoothPathFromPoints=it,t.util.getPathSegmentsInfo=C,t.util.getBoundsOfCurve=h,t.util.getPointOnPath=Q,t.util.transformPath=et}(),function(){var l=Array.prototype.slice;function s(h,p){for(var A=l.call(arguments,2),g=[],m=0,v=h.length;m<v;m++)g[m]=A.length?h[m][p].apply(h[m],A):h[m][p].call(h[m]);return g}function a(h,p){return f(h,p,function(A,g){return A>=g})}function c(h,p){return f(h,p,function(A,g){return A<g})}function u(h,p){for(var A=h.length;A--;)h[A]=p;return h}function f(h,p,A){if(!(!h||h.length===0)){var g=h.length-1,m=p?h[g][p]:h[g];if(p)for(;g--;)A(h[g][p],m)&&(m=h[g][p]);else for(;g--;)A(h[g],m)&&(m=h[g]);return m}}t.util.array={fill:u,invoke:s,min:c,max:a}}(),function(){function l(a,c,u){if(u)if(!t.isLikelyNode&&c instanceof Element)a=c;else if(c instanceof Array){a=[];for(var f=0,h=c.length;f<h;f++)a[f]=l({},c[f],u)}else if(c&&typeof c=="object")for(var p in c)p==="canvas"||p==="group"?a[p]=null:c.hasOwnProperty(p)&&(a[p]=l({},c[p],u));else a=c;else for(var p in c)a[p]=c[p];return a}function s(a,c){return l({},a,c)}t.util.object={extend:l,clone:s},t.util.object.extend(t.util,t.Observable)}(),function(){function l(f){return f.replace(/-+(.)?/g,function(h,p){return p?p.toUpperCase():""})}function s(f,h){return f.charAt(0).toUpperCase()+(h?f.slice(1):f.slice(1).toLowerCase())}function a(f){return f.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(f){var h=0,p,A=[];for(h=0,p;h<f.length;h++)(p=u(f,h))!==!1&&A.push(p);return A}function u(f,h){var p=f.charCodeAt(h);if(isNaN(p))return"";if(p<55296||p>57343)return f.charAt(h);if(55296<=p&&p<=56319){if(f.length<=h+1)throw"High surrogate without following low surrogate";var A=f.charCodeAt(h+1);if(56320>A||A>57343)throw"High surrogate without following low surrogate";return f.charAt(h)+f.charAt(h+1)}if(h===0)throw"Low surrogate without preceding high surrogate";var g=f.charCodeAt(h-1);if(55296>g||g>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:l,capitalize:s,escapeXml:a,graphemeSplit:c}}(),function(){var l=Array.prototype.slice,s=function(){},a=function(){for(var p in{toString:1})if(p==="toString")return!1;return!0}(),c=function(p,A,g){for(var m in A)m in p.prototype&&typeof p.prototype[m]=="function"&&(A[m]+"").indexOf("callSuper")>-1?p.prototype[m]=function(v){return function(){var y=this.constructor.superclass;this.constructor.superclass=g;var w=A[v].apply(this,arguments);if(this.constructor.superclass=y,v!=="initialize")return w}}(m):p.prototype[m]=A[m],a&&(A.toString!==Object.prototype.toString&&(p.prototype.toString=A.toString),A.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=A.valueOf))};function u(){}function f(p){for(var A=null,g=this;g.constructor.superclass;){var m=g.constructor.superclass.prototype[p];if(g[p]!==m){A=m;break}g=g.constructor.superclass.prototype}if(A)return arguments.length>1?A.apply(this,l.call(arguments,1)):A.call(this)}function h(){var p=null,A=l.call(arguments,0);typeof A[0]=="function"&&(p=A.shift());function g(){this.initialize.apply(this,arguments)}g.superclass=p,g.subclasses=[],p&&(u.prototype=p.prototype,g.prototype=new u,p.subclasses.push(g));for(var m=0,v=A.length;m<v;m++)c(g,A[m],p);return g.prototype.initialize||(g.prototype.initialize=s),g.prototype.constructor=g,g.prototype.callSuper=f,g}t.util.createClass=h}(),function(){var l=!!t.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];t.util.addListener=function(c,u,f,h){c&&c.addEventListener(u,f,l?!1:h)},t.util.removeListener=function(c,u,f,h){c&&c.removeEventListener(u,f,l?!1:h)};function a(c){var u=c.changedTouches;return u&&u[0]?u[0]:c}t.util.getPointer=function(c){var u=c.target,f=t.util.getScrollLeftTop(u),h=a(c);return{x:h.clientX+f.left,y:h.clientY+f.top}},t.util.isTouchEvent=function(c){return s.indexOf(c.type)>-1||c.pointerType==="touch"}}(),function(){function l(h,p){var A=h.style;if(!A)return h;if(typeof p=="string")return h.style.cssText+=";"+p,p.indexOf("opacity")>-1?f(h,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):h;for(var g in p)if(g==="opacity")f(h,p[g]);else{var m=g==="float"||g==="cssFloat"?typeof A.styleFloat>"u"?"cssFloat":"styleFloat":g;A.setProperty(m,p[g])}return h}var s=t.document.createElement("div"),a=typeof s.style.opacity=="string",c=typeof s.style.filter=="string",u=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,f=function(h){return h};a?f=function(h,p){return h.style.opacity=p,h}:c&&(f=function(h,p){var A=h.style;return h.currentStyle&&!h.currentStyle.hasLayout&&(A.zoom=1),u.test(A.filter)?(p=p>=.9999?"":"alpha(opacity="+p*100+")",A.filter=A.filter.replace(u,p)):A.filter+=" alpha(opacity="+p*100+")",h}),t.util.setStyle=l}(),function(){var l=Array.prototype.slice;function s(w){return typeof w=="string"?t.document.getElementById(w):w}var a,c=function(w){return l.call(w,0)};try{a=c(t.document.childNodes)instanceof Array}catch{}a||(c=function(w){for(var x=new Array(w.length),L=w.length;L--;)x[L]=w[L];return x});function u(w,x){var L=t.document.createElement(w);for(var F in x)F==="class"?L.className=x[F]:F==="for"?L.htmlFor=x[F]:L.setAttribute(F,x[F]);return L}function f(w,x){w&&(" "+w.className+" ").indexOf(" "+x+" ")===-1&&(w.className+=(w.className?" ":"")+x)}function h(w,x,L){return typeof x=="string"&&(x=u(x,L)),w.parentNode&&w.parentNode.replaceChild(x,w),x.appendChild(w),x}function p(w){for(var x=0,L=0,F=t.document.documentElement,M=t.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===t.document?(x=M.scrollLeft||F.scrollLeft||0,L=M.scrollTop||F.scrollTop||0):(x+=w.scrollLeft||0,L+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:x,top:L}}function A(w){var x,L=w&&w.ownerDocument,F={left:0,top:0},M={left:0,top:0},D,X={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!L)return M;for(var I in X)M[X[I]]+=parseInt(g(w,I),10)||0;return x=L.documentElement,typeof w.getBoundingClientRect<"u"&&(F=w.getBoundingClientRect()),D=p(w),{left:F.left+D.left-(x.clientLeft||0)+M.left,top:F.top+D.top-(x.clientTop||0)+M.top}}var g;t.document.defaultView&&t.document.defaultView.getComputedStyle?g=function(w,x){var L=t.document.defaultView.getComputedStyle(w,null);return L?L[x]:void 0}:g=function(w,x){var L=w.style[x];return!L&&w.currentStyle&&(L=w.currentStyle[x]),L},function(){var w=t.document.documentElement.style,x="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function L(M){return typeof M.onselectstart<"u"&&(M.onselectstart=t.util.falseFunction),x?M.style[x]="none":typeof M.unselectable=="string"&&(M.unselectable="on"),M}function F(M){return typeof M.onselectstart<"u"&&(M.onselectstart=null),x?M.style[x]="":typeof M.unselectable=="string"&&(M.unselectable=""),M}t.util.makeElementUnselectable=L,t.util.makeElementSelectable=F}();function m(w){var x=t.jsdomImplForWrapper(w);return x._canvas||x._image}function v(w){if(t.isLikelyNode){var x=t.jsdomImplForWrapper(w);x&&(x._image=null,x._canvas=null,x._currentSrc=null,x._attributes=null,x._classList=null)}}function y(w,x){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=x}t.util.setImageSmoothing=y,t.util.getById=s,t.util.toArray=c,t.util.addClass=f,t.util.makeElement=u,t.util.wrapElement=h,t.util.getScrollLeftTop=p,t.util.getElementOffset=A,t.util.getNodeCanvas=m,t.util.cleanUpJsdomNode=v}(),function(){function l(c,u){return c+(/\?/.test(c)?"&":"?")+u}function s(){}function a(c,u){u||(u={});var f=u.method?u.method.toUpperCase():"GET",h=u.onComplete||function(){},p=new t.window.XMLHttpRequest,A=u.body||u.parameters;return p.onreadystatechange=function(){p.readyState===4&&(h(p),p.onreadystatechange=s)},f==="GET"&&(A=null,typeof u.parameters=="string"&&(c=l(c,u.parameters))),p.open(f,c,!0),(f==="POST"||f==="PUT")&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(A),p}t.util.request=a}(),t.log=console.log,t.warn=console.warn,function(){var l=t.util.object.extend,s=t.util.object.clone,a=[];t.util.object.extend(a,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(v){v.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var v=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===m});return v.forEach(function(y){y.cancel()}),v},cancelByTarget:function(m){var v=this.findAnimationsByTarget(m);return v.forEach(function(y){y.cancel()}),v},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(v){return v.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(v){return v.target===m}):[]}});function c(){return!1}function u(m,v,y,w){return-y*Math.cos(m/w*(Math.PI/2))+y+v}function f(m){m||(m={});var v=!1,y,w=function(){var x=t.runningAnimations.indexOf(y);return x>-1&&t.runningAnimations.splice(x,1)[0]};return y=l(s(m),{cancel:function(){return v=!0,w()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),A(function(x){var L=x||+new Date,F=m.duration||500,M=L+F,D,X=m.onChange||c,I=m.abort||c,O=m.onComplete||c,W=m.easing||u,C="startValue"in m?m.startValue.length>0:!1,Q="startValue"in m?m.startValue:0,lt="endValue"in m?m.endValue:100,it=m.byValue||(C?Q.map(function(et,B){return lt[B]-Q[B]}):lt-Q);m.onStart&&m.onStart(),function et(B){D=B||+new Date;var K=D>M?F:D-L,z=K/F,S=C?Q.map(function(N,E){return W(K,Q[E],it[E],F)}):W(K,Q,it,F),j=Math.abs(C?(S[0]-Q[0])/it[0]:(S-Q)/it);if(y.currentValue=C?S.slice():S,y.completionRate=j,y.durationRate=z,!v){if(I(S,j,z)){w();return}if(D>M){y.currentValue=C?lt.slice():lt,y.completionRate=1,y.durationRate=1,X(C?lt.slice():lt,1,1),O(lt,1,1),w();return}else X(S,j,z),A(et)}}(L)}),y.cancel}var h=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(m){return t.window.setTimeout(m,1e3/60)},p=t.window.cancelAnimationFrame||t.window.clearTimeout;function A(){return h.apply(t.window,arguments)}function g(){return p.apply(t.window,arguments)}t.util.animate=f,t.util.requestAnimFrame=A,t.util.cancelAnimFrame=g,t.runningAnimations=a}(),function(){function l(a,c,u){var f="rgba("+parseInt(a[0]+u*(c[0]-a[0]),10)+","+parseInt(a[1]+u*(c[1]-a[1]),10)+","+parseInt(a[2]+u*(c[2]-a[2]),10);return f+=","+(a&&c?parseFloat(a[3]+u*(c[3]-a[3])):1),f+=")",f}function s(a,c,u,f){var h=new t.Color(a).getSource(),p=new t.Color(c).getSource(),A=f.onComplete,g=f.onChange;return f=f||{},t.util.animate(t.util.object.extend(f,{duration:u||500,startValue:h,endValue:p,byValue:p,easing:function(m,v,y,w){var x=f.colorEasing?f.colorEasing(m,w):1-Math.cos(m/w*(Math.PI/2));return l(v,y,x)},onComplete:function(m,v,y){if(A)return A(l(p,p,0),v,y)},onChange:function(m,v,y){if(g){if(Array.isArray(m))return g(l(m,m,0),v,y);g(m,v,y)}}}))}t.util.animateColor=s}(),function(){function l(B,K,z,S){return B<Math.abs(K)?(B=K,S=z/4):K===0&&B===0?S=z/(2*Math.PI)*Math.asin(1):S=z/(2*Math.PI)*Math.asin(K/B),{a:B,c:K,p:z,s:S}}function s(B,K,z){return B.a*Math.pow(2,10*(K-=1))*Math.sin((K*z-B.s)*(2*Math.PI)/B.p)}function a(B,K,z,S){return z*((B=B/S-1)*B*B+1)+K}function c(B,K,z,S){return B/=S/2,B<1?z/2*B*B*B+K:z/2*((B-=2)*B*B+2)+K}function u(B,K,z,S){return z*(B/=S)*B*B*B+K}function f(B,K,z,S){return-z*((B=B/S-1)*B*B*B-1)+K}function h(B,K,z,S){return B/=S/2,B<1?z/2*B*B*B*B+K:-z/2*((B-=2)*B*B*B-2)+K}function p(B,K,z,S){return z*(B/=S)*B*B*B*B+K}function A(B,K,z,S){return z*((B=B/S-1)*B*B*B*B+1)+K}function g(B,K,z,S){return B/=S/2,B<1?z/2*B*B*B*B*B+K:z/2*((B-=2)*B*B*B*B+2)+K}function m(B,K,z,S){return-z*Math.cos(B/S*(Math.PI/2))+z+K}function v(B,K,z,S){return z*Math.sin(B/S*(Math.PI/2))+K}function y(B,K,z,S){return-z/2*(Math.cos(Math.PI*B/S)-1)+K}function w(B,K,z,S){return B===0?K:z*Math.pow(2,10*(B/S-1))+K}function x(B,K,z,S){return B===S?K+z:z*(-Math.pow(2,-10*B/S)+1)+K}function L(B,K,z,S){return B===0?K:B===S?K+z:(B/=S/2,B<1?z/2*Math.pow(2,10*(B-1))+K:z/2*(-Math.pow(2,-10*--B)+2)+K)}function F(B,K,z,S){return-z*(Math.sqrt(1-(B/=S)*B)-1)+K}function M(B,K,z,S){return z*Math.sqrt(1-(B=B/S-1)*B)+K}function D(B,K,z,S){return B/=S/2,B<1?-z/2*(Math.sqrt(1-B*B)-1)+K:z/2*(Math.sqrt(1-(B-=2)*B)+1)+K}function X(B,K,z,S){var j=1.70158,N=0,E=z;if(B===0)return K;if(B/=S,B===1)return K+z;N||(N=S*.3);var H=l(E,z,N,j);return-s(H,B,S)+K}function I(B,K,z,S){var j=1.70158,N=0,E=z;if(B===0)return K;if(B/=S,B===1)return K+z;N||(N=S*.3);var H=l(E,z,N,j);return H.a*Math.pow(2,-10*B)*Math.sin((B*S-H.s)*(2*Math.PI)/H.p)+H.c+K}function O(B,K,z,S){var j=1.70158,N=0,E=z;if(B===0)return K;if(B/=S/2,B===2)return K+z;N||(N=S*(.3*1.5));var H=l(E,z,N,j);return B<1?-.5*s(H,B,S)+K:H.a*Math.pow(2,-10*(B-=1))*Math.sin((B*S-H.s)*(2*Math.PI)/H.p)*.5+H.c+K}function W(B,K,z,S,j){return j===void 0&&(j=1.70158),z*(B/=S)*B*((j+1)*B-j)+K}function C(B,K,z,S,j){return j===void 0&&(j=1.70158),z*((B=B/S-1)*B*((j+1)*B+j)+1)+K}function Q(B,K,z,S,j){return j===void 0&&(j=1.70158),B/=S/2,B<1?z/2*(B*B*(((j*=1.525)+1)*B-j))+K:z/2*((B-=2)*B*(((j*=1.525)+1)*B+j)+2)+K}function lt(B,K,z,S){return z-it(S-B,0,z,S)+K}function it(B,K,z,S){return(B/=S)<1/2.75?z*(7.5625*B*B)+K:B<2/2.75?z*(7.5625*(B-=1.5/2.75)*B+.75)+K:B<2.5/2.75?z*(7.5625*(B-=2.25/2.75)*B+.9375)+K:z*(7.5625*(B-=2.625/2.75)*B+.984375)+K}function et(B,K,z,S){return B<S/2?lt(B*2,0,z,S)*.5+K:it(B*2-S,0,z,S)*.5+z*.5+K}t.util.ease={easeInQuad:function(B,K,z,S){return z*(B/=S)*B+K},easeOutQuad:function(B,K,z,S){return-z*(B/=S)*(B-2)+K},easeInOutQuad:function(B,K,z,S){return B/=S/2,B<1?z/2*B*B+K:-z/2*(--B*(B-2)-1)+K},easeInCubic:function(B,K,z,S){return z*(B/=S)*B*B+K},easeOutCubic:a,easeInOutCubic:c,easeInQuart:u,easeOutQuart:f,easeInOutQuart:h,easeInQuint:p,easeOutQuint:A,easeInOutQuint:g,easeInSine:m,easeOutSine:v,easeInOutSine:y,easeInExpo:w,easeOutExpo:x,easeInOutExpo:L,easeInCirc:F,easeOutCirc:M,easeInOutCirc:D,easeInElastic:X,easeOutElastic:I,easeInOutElastic:O,easeInBack:W,easeOutBack:C,easeInOutBack:Q,easeInBounce:lt,easeOutBounce:it,easeInOutBounce:et}}(),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.util.object.clone,u=s.util.toFixed,f=s.util.parseUnit,h=s.util.multiplyTransformMatrices,p=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],A=["symbol","image","marker","pattern","view","svg"],g=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",x="clip-path";s.svgValidTagNamesRegEx=M(p),s.svgViewBoxElementsRegEx=M(A),s.svgInvalidAncestorsRegEx=M(g),s.svgValidParentsRegEx=M(m),s.cssRules={},s.gradientDefs={},s.clipPaths={};function L(N){return N in v?v[N]:N}function F(N,E,H,Z){var ot=Array.isArray(E),nt;if((N==="fill"||N==="stroke")&&E==="none")E="";else{if(N==="strokeUniform")return E==="non-scaling-stroke";if(N==="strokeDashArray")E==="none"?E=null:E=E.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(N==="transformMatrix")H&&H.transformMatrix?E=h(H.transformMatrix,s.parseTransformAttribute(E)):E=s.parseTransformAttribute(E);else if(N==="visible")E=E!=="none"&&E!=="hidden",H&&H.visible===!1&&(E=!1);else if(N==="opacity")E=parseFloat(E),H&&typeof H.opacity<"u"&&(E*=H.opacity);else if(N==="textAnchor")E=E==="start"?"left":E==="end"?"right":"center";else if(N==="charSpacing")nt=f(E,Z)/Z*1e3;else if(N==="paintFirst"){var dt=E.indexOf("fill"),gt=E.indexOf("stroke"),E="fill";(dt>-1&&gt>-1&&gt<dt||dt===-1&&gt>-1)&&(E="stroke")}else{if(N==="href"||N==="xlink:href"||N==="font")return E;if(N==="imageSmoothing")return E==="optimizeQuality";nt=ot?E.map(f):f(E,Z)}}return!ot&&isNaN(nt)?E:nt}function M(N){return new RegExp("^("+N.join("|")+")\\b","i")}function D(N){for(var E in y)if(!(typeof N[y[E]]>"u"||N[E]==="")){if(typeof N[E]>"u"){if(!s.Object.prototype[E])continue;N[E]=s.Object.prototype[E]}if(N[E].indexOf("url(")!==0){var H=new s.Color(N[E]);N[E]=H.setAlpha(u(H.getAlpha()*N[y[E]],2)).toRgba()}}return N}function X(N,E){var H,Z=[],ot,nt,dt;for(nt=0,dt=E.length;nt<dt;nt++)H=E[nt],ot=N.getElementsByTagName(H),Z=Z.concat(Array.prototype.slice.call(ot));return Z}s.parseTransformAttribute=function(){function N(st,_t){var Dt=s.util.cos(_t[0]),kt=s.util.sin(_t[0]),Nt=0,Xt=0;_t.length===3&&(Nt=_t[1],Xt=_t[2]),st[0]=Dt,st[1]=kt,st[2]=-kt,st[3]=Dt,st[4]=Nt-(Dt*Nt-kt*Xt),st[5]=Xt-(kt*Nt+Dt*Xt)}function E(st,_t){var Dt=_t[0],kt=_t.length===2?_t[1]:_t[0];st[0]=Dt,st[3]=kt}function H(st,_t,Dt){st[Dt]=Math.tan(s.util.degreesToRadians(_t[0]))}function Z(st,_t){st[4]=_t[0],_t.length===2&&(st[5]=_t[1])}var ot=s.iMatrix,nt=s.reNum,dt=s.commaWsp,gt="(?:(skewX)\\s*\\(\\s*("+nt+")\\s*\\))",Tt="(?:(skewY)\\s*\\(\\s*("+nt+")\\s*\\))",pt="(?:(rotate)\\s*\\(\\s*("+nt+")(?:"+dt+"("+nt+")"+dt+"("+nt+"))?\\s*\\))",T="(?:(scale)\\s*\\(\\s*("+nt+")(?:"+dt+"("+nt+"))?\\s*\\))",U="(?:(translate)\\s*\\(\\s*("+nt+")(?:"+dt+"("+nt+"))?\\s*\\))",ct="(?:(matrix)\\s*\\(\\s*("+nt+")"+dt+"("+nt+")"+dt+"("+nt+")"+dt+"("+nt+")"+dt+"("+nt+")"+dt+"("+nt+")\\s*\\))",V="(?:"+ct+"|"+U+"|"+T+"|"+pt+"|"+gt+"|"+Tt+")",G="(?:"+V+"(?:"+dt+"*"+V+")*)",tt="^\\s*(?:"+G+"?)\\s*$",yt=new RegExp(tt),At=new RegExp(V,"g");return function(st){var _t=ot.concat(),Dt=[];if(!st||st&&!yt.test(st))return _t;st.replace(At,function(Nt){var Xt=new RegExp(V).exec(Nt).filter(function(Jt){return!!Jt}),Ut=Xt[1],Wt=Xt.slice(2).map(parseFloat);switch(Ut){case"translate":Z(_t,Wt);break;case"rotate":Wt[0]=s.util.degreesToRadians(Wt[0]),N(_t,Wt);break;case"scale":E(_t,Wt);break;case"skewX":H(_t,Wt,2);break;case"skewY":H(_t,Wt,1);break;case"matrix":_t=Wt;break}Dt.push(_t.concat()),_t=ot.concat()});for(var kt=Dt[0];Dt.length>1;)Dt.shift(),kt=s.util.multiplyTransformMatrices(kt,Dt[0]);return kt}}();function I(N,E){var H,Z;N.replace(/;\s*$/,"").split(";").forEach(function(ot){var nt=ot.split(":");H=nt[0].trim().toLowerCase(),Z=nt[1].trim(),E[H]=Z})}function O(N,E){var H,Z;for(var ot in N)typeof N[ot]>"u"||(H=ot.toLowerCase(),Z=N[ot],E[H]=Z)}function W(N,E){var H={};for(var Z in s.cssRules[E])if(C(N,Z.split(" ")))for(var ot in s.cssRules[E][Z])H[ot]=s.cssRules[E][Z][ot];return H}function C(N,E){var H,Z=!0;return H=lt(N,E.pop()),H&&E.length&&(Z=Q(N,E)),H&&Z&&E.length===0}function Q(N,E){for(var H,Z=!0;N.parentNode&&N.parentNode.nodeType===1&&E.length;)Z&&(H=E.pop()),N=N.parentNode,Z=lt(N,H);return E.length===0}function lt(N,E){var H=N.nodeName,Z=N.getAttribute("class"),ot=N.getAttribute("id"),nt,dt;if(nt=new RegExp("^"+H,"i"),E=E.replace(nt,""),ot&&E.length&&(nt=new RegExp("#"+ot+"(?![a-zA-Z\\-]+)","i"),E=E.replace(nt,"")),Z&&E.length)for(Z=Z.split(" "),dt=Z.length;dt--;)nt=new RegExp("\\."+Z[dt]+"(?![a-zA-Z\\-]+)","i"),E=E.replace(nt,"");return E.length===0}function it(N,E){var H;if(N.getElementById&&(H=N.getElementById(E)),H)return H;var Z,ot,nt,dt=N.getElementsByTagName("*");for(ot=0,nt=dt.length;ot<nt;ot++)if(Z=dt[ot],E===Z.getAttribute("id"))return Z}function et(N){for(var E=X(N,["use","svg:use"]),H=0;E.length&&H<E.length;){var Z=E[H],ot=Z.getAttribute("xlink:href")||Z.getAttribute("href");if(ot===null)return;var nt=ot.slice(1),dt=Z.getAttribute("x")||0,gt=Z.getAttribute("y")||0,Tt=it(N,nt).cloneNode(!0),pt=(Tt.getAttribute("transform")||"")+" translate("+dt+", "+gt+")",T,U=E.length,ct,V,G,tt,yt=s.svgNS;if(K(Tt),/^svg$/i.test(Tt.nodeName)){var At=Tt.ownerDocument.createElementNS(yt,"g");for(V=0,G=Tt.attributes,tt=G.length;V<tt;V++)ct=G.item(V),At.setAttributeNS(yt,ct.nodeName,ct.nodeValue);for(;Tt.firstChild;)At.appendChild(Tt.firstChild);Tt=At}for(V=0,G=Z.attributes,tt=G.length;V<tt;V++)ct=G.item(V),!(ct.nodeName==="x"||ct.nodeName==="y"||ct.nodeName==="xlink:href"||ct.nodeName==="href")&&(ct.nodeName==="transform"?pt=ct.nodeValue+" "+pt:Tt.setAttribute(ct.nodeName,ct.nodeValue));Tt.setAttribute("transform",pt),Tt.setAttribute("instantiated_by_use","1"),Tt.removeAttribute("id"),T=Z.parentNode,T.replaceChild(Tt,Z),E.length===U&&H++}}var B=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function K(N){if(!s.svgViewBoxElementsRegEx.test(N.nodeName))return{};var E=N.getAttribute("viewBox"),H=1,Z=1,ot=0,nt=0,dt,gt,Tt,pt,T=N.getAttribute("width"),U=N.getAttribute("height"),ct=N.getAttribute("x")||0,V=N.getAttribute("y")||0,G=N.getAttribute("preserveAspectRatio")||"",tt=!E||!(E=E.match(B)),yt=!T||!U||T==="100%"||U==="100%",At=tt&&yt,st={},_t="",Dt=0,kt=0;if(st.width=0,st.height=0,st.toBeParsed=At,tt&&(ct||V)&&N.parentNode&&N.parentNode.nodeName!=="#document"&&(_t=" translate("+f(ct)+" "+f(V)+") ",Tt=(N.getAttribute("transform")||"")+_t,N.setAttribute("transform",Tt),N.removeAttribute("x"),N.removeAttribute("y")),At)return st;if(tt)return st.width=f(T),st.height=f(U),st;if(ot=-parseFloat(E[1]),nt=-parseFloat(E[2]),dt=parseFloat(E[3]),gt=parseFloat(E[4]),st.minX=ot,st.minY=nt,st.viewBoxWidth=dt,st.viewBoxHeight=gt,yt?(st.width=dt,st.height=gt):(st.width=f(T),st.height=f(U),H=st.width/dt,Z=st.height/gt),G=s.util.parsePreserveAspectRatioAttribute(G),G.alignX!=="none"&&(G.meetOrSlice==="meet"&&(Z=H=H>Z?Z:H),G.meetOrSlice==="slice"&&(Z=H=H>Z?H:Z),Dt=st.width-dt*H,kt=st.height-gt*H,G.alignX==="Mid"&&(Dt/=2),G.alignY==="Mid"&&(kt/=2),G.alignX==="Min"&&(Dt=0),G.alignY==="Min"&&(kt=0)),H===1&&Z===1&&ot===0&&nt===0&&ct===0&&V===0)return st;if((ct||V)&&N.parentNode.nodeName!=="#document"&&(_t=" translate("+f(ct)+" "+f(V)+") "),Tt=_t+" matrix("+H+" 0 0 "+Z+" "+(ot*H+Dt)+" "+(nt*Z+kt)+") ",N.nodeName==="svg"){for(pt=N.ownerDocument.createElementNS(s.svgNS,"g");N.firstChild;)pt.appendChild(N.firstChild);N.appendChild(pt)}else pt=N,pt.removeAttribute("x"),pt.removeAttribute("y"),Tt=pt.getAttribute("transform")+Tt;return pt.setAttribute("transform",Tt),st}function z(N,E){for(;N&&(N=N.parentNode);)if(N.nodeName&&E.test(N.nodeName.replace("svg:",""))&&!N.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(N,E,H,Z){if(N){et(N);var ot=s.Object.__uid++,nt,dt,gt=K(N),Tt=s.util.toArray(N.getElementsByTagName("*"));if(gt.crossOrigin=Z&&Z.crossOrigin,gt.svgUid=ot,Tt.length===0&&s.isLikelyNode){Tt=N.selectNodes('//*[name(.)!="svg"]');var pt=[];for(nt=0,dt=Tt.length;nt<dt;nt++)pt[nt]=Tt[nt];Tt=pt}var T=Tt.filter(function(ct){return K(ct),s.svgValidTagNamesRegEx.test(ct.nodeName.replace("svg:",""))&&!z(ct,s.svgInvalidAncestorsRegEx)});if(!T||T&&!T.length){E&&E([],{});return}var U={};Tt.filter(function(ct){return ct.nodeName.replace("svg:","")==="clipPath"}).forEach(function(ct){var V=ct.getAttribute("id");U[V]=s.util.toArray(ct.getElementsByTagName("*")).filter(function(G){return s.svgValidTagNamesRegEx.test(G.nodeName.replace("svg:",""))})}),s.gradientDefs[ot]=s.getGradientDefs(N),s.cssRules[ot]=s.getCSSRules(N),s.clipPaths[ot]=U,s.parseElements(T,function(ct,V){E&&(E(ct,gt,V,Tt),delete s.gradientDefs[ot],delete s.cssRules[ot],delete s.clipPaths[ot])},c(gt),H,Z)}};function S(N,E){var H=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Z="xlink:href",ot=E.getAttribute(Z).slice(1),nt=it(N,ot);if(nt&&nt.getAttribute(Z)&&S(N,nt),H.forEach(function(gt){nt&&!E.hasAttribute(gt)&&nt.hasAttribute(gt)&&E.setAttribute(gt,nt.getAttribute(gt))}),!E.children.length)for(var dt=nt.cloneNode(!0);dt.firstChild;)E.appendChild(dt.firstChild);E.removeAttribute(Z)}var j=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");a(s,{parseFontDeclaration:function(N,E){var H=N.match(j);if(H){var Z=H[1],ot=H[3],nt=H[4],dt=H[5],gt=H[6];Z&&(E.fontStyle=Z),ot&&(E.fontWeight=isNaN(parseFloat(ot))?ot:parseFloat(ot)),nt&&(E.fontSize=f(nt)),gt&&(E.fontFamily=gt),dt&&(E.lineHeight=dt==="normal"?1:dt)}},getGradientDefs:function(N){var E=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],H=X(N,E),Z,ot=0,nt={};for(ot=H.length;ot--;)Z=H[ot],Z.getAttribute("xlink:href")&&S(N,Z),nt[Z.getAttribute("id")]=Z;return nt},parseAttributes:function(N,E,H){if(N){var Z,ot={},nt,dt;typeof H>"u"&&(H=N.getAttribute("svgUid")),N.parentNode&&s.svgValidParentsRegEx.test(N.parentNode.nodeName)&&(ot=s.parseAttributes(N.parentNode,E,H));var gt=E.reduce(function(G,tt){return Z=N.getAttribute(tt),Z&&(G[tt]=Z),G},{}),Tt=a(W(N,H),s.parseStyleAttribute(N));gt=a(gt,Tt),Tt[x]&&N.setAttribute(x,Tt[x]),nt=dt=ot.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,gt[w]&&(gt[w]=nt=f(gt[w],dt));var pt,T,U={};for(var ct in gt)pt=L(ct),T=F(pt,gt[ct],ot,nt),U[pt]=T;U&&U.font&&s.parseFontDeclaration(U.font,U);var V=a(ot,U);return s.svgValidParentsRegEx.test(N.nodeName)?V:D(V)}},parseElements:function(N,E,H,Z,ot){new s.ElementsParser(N,E,H,Z,ot).parse()},parseStyleAttribute:function(N){var E={},H=N.getAttribute("style");return H&&(typeof H=="string"?I(H,E):O(H,E)),E},parsePointsAttribute:function(N){if(!N)return null;N=N.replace(/,/g," ").trim(),N=N.split(/\s+/);var E=[],H,Z;for(H=0,Z=N.length;H<Z;H+=2)E.push({x:parseFloat(N[H]),y:parseFloat(N[H+1])});return E},getCSSRules:function(N){var E=N.getElementsByTagName("style"),H,Z,ot={},nt;for(H=0,Z=E.length;H<Z;H++){var dt=E[H].textContent;dt=dt.replace(/\/\*[\s\S]*?\*\//g,""),dt.trim()!==""&&(nt=dt.split("}"),nt=nt.filter(function(gt){return gt.trim()}),nt.forEach(function(gt){var Tt=gt.split("{"),pt={},T=Tt[1].trim(),U=T.split(";").filter(function(tt){return tt.trim()});for(H=0,Z=U.length;H<Z;H++){var ct=U[H].split(":"),V=ct[0].trim(),G=ct[1].trim();pt[V]=G}gt=Tt[0].trim(),gt.split(",").forEach(function(tt){tt=tt.replace(/^svg/i,"").trim(),tt!==""&&(ot[tt]?s.util.object.extend(ot[tt],pt):ot[tt]=s.util.object.clone(pt))})}))}return ot},loadSVGFromURL:function(N,E,H,Z){N=N.replace(/^\n\s*/,"").trim(),new s.util.request(N,{method:"get",onComplete:ot});function ot(nt){var dt=nt.responseXML;if(!dt||!dt.documentElement)return E&&E(null),!1;s.parseSVGDocument(dt.documentElement,function(gt,Tt,pt,T){E&&E(gt,Tt,pt,T)},H,Z)}},loadSVGFromString:function(N,E,H,Z){var ot=new s.window.DOMParser,nt=ot.parseFromString(N.trim(),"text/xml");s.parseSVGDocument(nt.documentElement,function(dt,gt,Tt,pt){E(dt,gt,Tt,pt)},H,Z)}})}(i),t.ElementsParser=function(l,s,a,c,u,f){this.elements=l,this.callback=s,this.options=a,this.reviver=c,this.svgUid=a&&a.svgUid||0,this.parsingOptions=u,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=f},function(l){l.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},l.createObjects=function(){var s=this;this.elements.forEach(function(a,c){a.setAttribute("svgUid",s.svgUid),s.createObject(a,c)})},l.findTag=function(s){return t[t.util.string.capitalize(s.tagName.replace("svg:",""))]},l.createObject=function(s,a){var c=this.findTag(s);if(c&&c.fromElement)try{c.fromElement(s,this.createCallback(a,s),this.options)}catch(u){t.log(u)}else this.checkIfDone()},l.createCallback=function(s,a){var c=this;return function(u){var f;c.resolveGradient(u,a,"fill"),c.resolveGradient(u,a,"stroke"),u instanceof t.Image&&u._originalElement&&(f=u.parsePreserveAspectRatioAttribute(a)),u._removeTransformMatrix(f),c.resolveClipPath(u,a),c.reviver&&c.reviver(a,u),c.instances[s]=u,c.checkIfDone()}},l.extractPropertyDefinition=function(s,a,c){var u=s[a],f=this.regexUrl;if(f.test(u)){f.lastIndex=0;var h=f.exec(u)[1];return f.lastIndex=0,t[c][this.svgUid][h]}},l.resolveGradient=function(s,a,c){var u=this.extractPropertyDefinition(s,c,"gradientDefs");if(u){var f=a.getAttribute(c+"-opacity"),h=t.Gradient.fromElement(u,s,f,this.options);s.set(c,h)}},l.createClipPathCallback=function(s,a){return function(c){c._removeTransformMatrix(),c.fillRule=c.clipRule,a.push(c)}},l.resolveClipPath=function(s,a){var c=this.extractPropertyDefinition(s,"clipPath","clipPaths"),u,f,h,p,A,g;if(c){p=[],h=t.util.invertTransform(s.calcTransformMatrix());for(var m=c[0].parentNode,v=a;v.parentNode&&v.getAttribute("clip-path")!==s.clipPath;)v=v.parentNode;v.parentNode.appendChild(m);for(var y=0;y<c.length;y++)u=c[y],f=this.findTag(u),f.fromElement(u,this.createClipPathCallback(s,p),this.options);p.length===1?c=p[0]:c=new t.Group(p),A=t.util.multiplyTransformMatrices(h,c.calcTransformMatrix()),c.clipPath&&this.resolveClipPath(c,v);var g=t.util.qrDecompose(A);c.flipX=!1,c.flipY=!1,c.set("scaleX",g.scaleX),c.set("scaleY",g.scaleY),c.angle=g.angle,c.skewX=g.skewX,c.skewY=0,c.setPositionByOrigin({x:g.translateX,y:g.translateY},"center","center"),s.clipPath=c}else delete s.clipPath},l.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(l){var s=l.fabric||(l.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=a;function a(c,u){this.x=c,this.y=u}a.prototype={type:"point",constructor:a,add:function(c){return new a(this.x+c.x,this.y+c.y)},addEquals:function(c){return this.x+=c.x,this.y+=c.y,this},scalarAdd:function(c){return new a(this.x+c,this.y+c)},scalarAddEquals:function(c){return this.x+=c,this.y+=c,this},subtract:function(c){return new a(this.x-c.x,this.y-c.y)},subtractEquals:function(c){return this.x-=c.x,this.y-=c.y,this},scalarSubtract:function(c){return new a(this.x-c,this.y-c)},scalarSubtractEquals:function(c){return this.x-=c,this.y-=c,this},multiply:function(c){return new a(this.x*c,this.y*c)},multiplyEquals:function(c){return this.x*=c,this.y*=c,this},divide:function(c){return new a(this.x/c,this.y/c)},divideEquals:function(c){return this.x/=c,this.y/=c,this},eq:function(c){return this.x===c.x&&this.y===c.y},lt:function(c){return this.x<c.x&&this.y<c.y},lte:function(c){return this.x<=c.x&&this.y<=c.y},gt:function(c){return this.x>c.x&&this.y>c.y},gte:function(c){return this.x>=c.x&&this.y>=c.y},lerp:function(c,u){return typeof u>"u"&&(u=.5),u=Math.max(Math.min(1,u),0),new a(this.x+(c.x-this.x)*u,this.y+(c.y-this.y)*u)},distanceFrom:function(c){var u=this.x-c.x,f=this.y-c.y;return Math.sqrt(u*u+f*f)},midPointFrom:function(c){return this.lerp(c)},min:function(c){return new a(Math.min(this.x,c.x),Math.min(this.y,c.y))},max:function(c){return new a(Math.max(this.x,c.x),Math.max(this.y,c.y))},toString:function(){return this.x+","+this.y},setXY:function(c,u){return this.x=c,this.y=u,this},setX:function(c){return this.x=c,this},setY:function(c){return this.y=c,this},setFromPoint:function(c){return this.x=c.x,this.y=c.y,this},swap:function(c){var u=this.x,f=this.y;this.x=c.x,this.y=c.y,c.x=u,c.y=f},clone:function(){return new a(this.x,this.y)}}}(i),function(l){var s=l.fabric||(l.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function a(c){this.status=c,this.points=[]}s.Intersection=a,s.Intersection.prototype={constructor:a,appendPoint:function(c){return this.points.push(c),this},appendPoints:function(c){return this.points=this.points.concat(c),this}},s.Intersection.intersectLineLine=function(c,u,f,h){var p,A=(h.x-f.x)*(c.y-f.y)-(h.y-f.y)*(c.x-f.x),g=(u.x-c.x)*(c.y-f.y)-(u.y-c.y)*(c.x-f.x),m=(h.y-f.y)*(u.x-c.x)-(h.x-f.x)*(u.y-c.y);if(m!==0){var v=A/m,y=g/m;0<=v&&v<=1&&0<=y&&y<=1?(p=new a("Intersection"),p.appendPoint(new s.Point(c.x+v*(u.x-c.x),c.y+v*(u.y-c.y)))):p=new a}else A===0||g===0?p=new a("Coincident"):p=new a("Parallel");return p},s.Intersection.intersectLinePolygon=function(c,u,f){var h=new a,p=f.length,A,g,m,v;for(v=0;v<p;v++)A=f[v],g=f[(v+1)%p],m=a.intersectLineLine(c,u,A,g),h.appendPoints(m.points);return h.points.length>0&&(h.status="Intersection"),h},s.Intersection.intersectPolygonPolygon=function(c,u){var f=new a,h=c.length,p;for(p=0;p<h;p++){var A=c[p],g=c[(p+1)%h],m=a.intersectLinePolygon(A,g,u);f.appendPoints(m.points)}return f.points.length>0&&(f.status="Intersection"),f},s.Intersection.intersectPolygonRectangle=function(c,u,f){var h=u.min(f),p=u.max(f),A=new s.Point(p.x,h.y),g=new s.Point(h.x,p.y),m=a.intersectLinePolygon(h,A,c),v=a.intersectLinePolygon(A,p,c),y=a.intersectLinePolygon(p,g,c),w=a.intersectLinePolygon(g,h,c),x=new a;return x.appendPoints(m.points),x.appendPoints(v.points),x.appendPoints(y.points),x.appendPoints(w.points),x.points.length>0&&(x.status="Intersection"),x}}(i),function(l){var s=l.fabric||(l.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function a(u){u?this._tryParsingColor(u):this.setSource([0,0,0,1])}s.Color=a,s.Color.prototype={_tryParsingColor:function(u){var f;u in a.colorNameMap&&(u=a.colorNameMap[u]),u==="transparent"&&(f=[255,255,255,0]),f||(f=a.sourceFromHex(u)),f||(f=a.sourceFromRgb(u)),f||(f=a.sourceFromHsl(u)),f||(f=[0,0,0,1]),f&&this.setSource(f)},_rgbToHsl:function(u,f,h){u/=255,f/=255,h/=255;var p,A,g,m=s.util.array.max([u,f,h]),v=s.util.array.min([u,f,h]);if(g=(m+v)/2,m===v)p=A=0;else{var y=m-v;switch(A=g>.5?y/(2-m-v):y/(m+v),m){case u:p=(f-h)/y+(f<h?6:0);break;case f:p=(h-u)/y+2;break;case h:p=(u-f)/y+4;break}p/=6}return[Math.round(p*360),Math.round(A*100),Math.round(g*100)]},getSource:function(){return this._source},setSource:function(u){this._source=u},toRgb:function(){var u=this.getSource();return"rgb("+u[0]+","+u[1]+","+u[2]+")"},toRgba:function(){var u=this.getSource();return"rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]+")"},toHsl:function(){var u=this.getSource(),f=this._rgbToHsl(u[0],u[1],u[2]);return"hsl("+f[0]+","+f[1]+"%,"+f[2]+"%)"},toHsla:function(){var u=this.getSource(),f=this._rgbToHsl(u[0],u[1],u[2]);return"hsla("+f[0]+","+f[1]+"%,"+f[2]+"%,"+u[3]+")"},toHex:function(){var u=this.getSource(),f,h,p;return f=u[0].toString(16),f=f.length===1?"0"+f:f,h=u[1].toString(16),h=h.length===1?"0"+h:h,p=u[2].toString(16),p=p.length===1?"0"+p:p,f.toUpperCase()+h.toUpperCase()+p.toUpperCase()},toHexa:function(){var u=this.getSource(),f;return f=Math.round(u[3]*255),f=f.toString(16),f=f.length===1?"0"+f:f,this.toHex()+f.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(u){var f=this.getSource();return f[3]=u,this.setSource(f),this},toGrayscale:function(){var u=this.getSource(),f=parseInt((u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),10),h=u[3];return this.setSource([f,f,f,h]),this},toBlackWhite:function(u){var f=this.getSource(),h=(f[0]*.3+f[1]*.59+f[2]*.11).toFixed(0),p=f[3];return u=u||127,h=Number(h)<Number(u)?0:255,this.setSource([h,h,h,p]),this},overlayWith:function(u){u instanceof a||(u=new a(u));var f=[],h=this.getAlpha(),p=.5,A=this.getSource(),g=u.getSource(),m;for(m=0;m<3;m++)f.push(Math.round(A[m]*(1-p)+g[m]*p));return f[3]=h,this.setSource(f),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function c(u,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(f-u)*6*h:h<1/2?f:h<2/3?u+(f-u)*(2/3-h)*6:u}s.Color.fromRgb=function(u){return a.fromSource(a.sourceFromRgb(u))},s.Color.sourceFromRgb=function(u){var f=u.match(a.reRGBa);if(f){var h=parseInt(f[1],10)/(/%$/.test(f[1])?100:1)*(/%$/.test(f[1])?255:1),p=parseInt(f[2],10)/(/%$/.test(f[2])?100:1)*(/%$/.test(f[2])?255:1),A=parseInt(f[3],10)/(/%$/.test(f[3])?100:1)*(/%$/.test(f[3])?255:1);return[parseInt(h,10),parseInt(p,10),parseInt(A,10),f[4]?parseFloat(f[4]):1]}},s.Color.fromRgba=a.fromRgb,s.Color.fromHsl=function(u){return a.fromSource(a.sourceFromHsl(u))},s.Color.sourceFromHsl=function(u){var f=u.match(a.reHSLa);if(f){var h=(parseFloat(f[1])%360+360)%360/360,p=parseFloat(f[2])/(/%$/.test(f[2])?100:1),A=parseFloat(f[3])/(/%$/.test(f[3])?100:1),g,m,v;if(p===0)g=m=v=A;else{var y=A<=.5?A*(p+1):A+p-A*p,w=A*2-y;g=c(w,y,h+1/3),m=c(w,y,h),v=c(w,y,h-1/3)}return[Math.round(g*255),Math.round(m*255),Math.round(v*255),f[4]?parseFloat(f[4]):1]}},s.Color.fromHsla=a.fromHsl,s.Color.fromHex=function(u){return a.fromSource(a.sourceFromHex(u))},s.Color.sourceFromHex=function(u){if(u.match(a.reHex)){var f=u.slice(u.indexOf("#")+1),h=f.length===3||f.length===4,p=f.length===8||f.length===4,A=h?f.charAt(0)+f.charAt(0):f.substring(0,2),g=h?f.charAt(1)+f.charAt(1):f.substring(2,4),m=h?f.charAt(2)+f.charAt(2):f.substring(4,6),v=p?h?f.charAt(3)+f.charAt(3):f.substring(6,8):"FF";return[parseInt(A,16),parseInt(g,16),parseInt(m,16),parseFloat((parseInt(v,16)/255).toFixed(2))]}},s.Color.fromSource=function(u){var f=new a;return f.setSource(u),f}}(i),function(l){var s=l.fabric||(l.fabric={}),a=["e","se","s","sw","w","nw","n","ne","e"],c=["ns","nesw","ew","nwse"],u={},f="left",h="top",p="right",A="bottom",g="center",m={top:A,bottom:h,left:p,right:f,center:g},v=s.util.radiansToDegrees,y=Math.sign||function(pt){return(pt>0)-(pt<0)||+pt};function w(pt,T){var U=pt.angle+v(Math.atan2(T.y,T.x))+360;return Math.round(U%360/45)}function x(pt,T){var U=T.transform.target,ct=U.canvas,V=s.util.object.clone(T);V.target=U,ct&&ct.fire("object:"+pt,V),U.fire(pt,T)}function L(pt,T){var U=T.canvas,ct=U.uniScaleKey,V=pt[ct];return U.uniformScaling&&!V||!U.uniformScaling&&V}function F(pt){return pt.originX===g&&pt.originY===g}function M(pt,T,U){var ct=pt.lockScalingX,V=pt.lockScalingY;return!!(ct&&V||!T&&(ct||V)&&U||ct&&T==="x"||V&&T==="y")}function D(pt,T,U){var ct="not-allowed",V=L(pt,U),G="";if(T.x!==0&&T.y===0?G="x":T.x===0&&T.y!==0&&(G="y"),M(U,G,V))return ct;var tt=w(U,T);return a[tt]+"-resize"}function X(pt,T,U){var ct="not-allowed";if(T.x!==0&&U.lockSkewingY||T.y!==0&&U.lockSkewingX)return ct;var V=w(U,T)%4;return c[V]+"-resize"}function I(pt,T,U){return pt[U.canvas.altActionKey]?u.skewCursorStyleHandler(pt,T,U):u.scaleCursorStyleHandler(pt,T,U)}function O(pt,T,U){var ct=pt[U.canvas.altActionKey];if(T.x===0)return ct?"skewX":"scaleY";if(T.y===0)return ct?"skewY":"scaleX"}function W(pt,T,U){return U.lockRotation?"not-allowed":T.cursorStyle}function C(pt,T,U,ct){return{e:pt,transform:T,pointer:{x:U,y:ct}}}function Q(pt){return function(T,U,ct,V){var G=U.target,tt=G.getCenterPoint(),yt=G.translateToOriginPoint(tt,U.originX,U.originY),At=pt(T,U,ct,V);return G.setPositionByOrigin(yt,U.originX,U.originY),At}}function lt(pt,T){return function(U,ct,V,G){var tt=T(U,ct,V,G);return tt&&x(pt,C(U,ct,V,G)),tt}}function it(pt,T,U,ct,V){var G=pt.target,tt=G.controls[pt.corner],yt=G.canvas.getZoom(),At=G.padding/yt,st=G.toLocalPoint(new s.Point(ct,V),T,U);return st.x>=At&&(st.x-=At),st.x<=-At&&(st.x+=At),st.y>=At&&(st.y-=At),st.y<=At&&(st.y+=At),st.x-=tt.offsetX,st.y-=tt.offsetY,st}function et(pt){return pt.flipX!==pt.flipY}function B(pt,T,U,ct,V){if(pt[T]!==0){var G=pt._getTransformedDimensions()[ct],tt=V/G*pt[U];pt.set(U,tt)}}function K(pt,T,U,ct){var V=T.target,G=V._getTransformedDimensions(0,V.skewY),tt=it(T,T.originX,T.originY,U,ct),yt=Math.abs(tt.x*2)-G.x,At=V.skewX,st;yt<2?st=0:(st=v(Math.atan2(yt/V.scaleX,G.y/V.scaleY)),T.originX===f&&T.originY===A&&(st=-st),T.originX===p&&T.originY===h&&(st=-st),et(V)&&(st=-st));var _t=At!==st;if(_t){var Dt=V._getTransformedDimensions().y;V.set("skewX",st),B(V,"skewY","scaleY","y",Dt)}return _t}function z(pt,T,U,ct){var V=T.target,G=V._getTransformedDimensions(V.skewX,0),tt=it(T,T.originX,T.originY,U,ct),yt=Math.abs(tt.y*2)-G.y,At=V.skewY,st;yt<2?st=0:(st=v(Math.atan2(yt/V.scaleY,G.x/V.scaleX)),T.originX===f&&T.originY===A&&(st=-st),T.originX===p&&T.originY===h&&(st=-st),et(V)&&(st=-st));var _t=At!==st;if(_t){var Dt=V._getTransformedDimensions().x;V.set("skewY",st),B(V,"skewX","scaleX","x",Dt)}return _t}function S(pt,T,U,ct){var V=T.target,G=V.skewX,tt,yt=T.originY;if(V.lockSkewingX)return!1;if(G===0){var At=it(T,g,g,U,ct);At.x>0?tt=f:tt=p}else G>0&&(tt=yt===h?f:p),G<0&&(tt=yt===h?p:f),et(V)&&(tt=tt===f?p:f);T.originX=tt;var st=lt("skewing",Q(K));return st(pt,T,U,ct)}function j(pt,T,U,ct){var V=T.target,G=V.skewY,tt,yt=T.originX;if(V.lockSkewingY)return!1;if(G===0){var At=it(T,g,g,U,ct);At.y>0?tt=h:tt=A}else G>0&&(tt=yt===f?h:A),G<0&&(tt=yt===f?A:h),et(V)&&(tt=tt===h?A:h);T.originY=tt;var st=lt("skewing",Q(z));return st(pt,T,U,ct)}function N(pt,T,U,ct){var V=T,G=V.target,tt=G.translateToOriginPoint(G.getCenterPoint(),V.originX,V.originY);if(G.lockRotation)return!1;var yt=Math.atan2(V.ey-tt.y,V.ex-tt.x),At=Math.atan2(ct-tt.y,U-tt.x),st=v(At-yt+V.theta),_t=!0;if(G.snapAngle>0){var Dt=G.snapAngle,kt=G.snapThreshold||Dt,Nt=Math.ceil(st/Dt)*Dt,Xt=Math.floor(st/Dt)*Dt;Math.abs(st-Xt)<kt?st=Xt:Math.abs(st-Nt)<kt&&(st=Nt)}return st<0&&(st=360+st),st%=360,_t=G.angle!==st,G.angle=st,_t}function E(pt,T,U,ct,V){V=V||{};var G=T.target,tt=G.lockScalingX,yt=G.lockScalingY,At=V.by,st,_t,Dt,kt,Nt=L(pt,G),Xt=M(G,At,Nt),Ut,Wt,Jt=T.gestureScale;if(Xt)return!1;if(Jt)_t=T.scaleX*Jt,Dt=T.scaleY*Jt;else{if(st=it(T,T.originX,T.originY,U,ct),Ut=At!=="y"?y(st.x):1,Wt=At!=="x"?y(st.y):1,T.signX||(T.signX=Ut),T.signY||(T.signY=Wt),G.lockScalingFlip&&(T.signX!==Ut||T.signY!==Wt))return!1;if(kt=G._getTransformedDimensions(),Nt&&!At){var Ht=Math.abs(st.x)+Math.abs(st.y),ve=T.original,ne=Math.abs(kt.x*ve.scaleX/G.scaleX)+Math.abs(kt.y*ve.scaleY/G.scaleY),Yt=Ht/ne;_t=ve.scaleX*Yt,Dt=ve.scaleY*Yt}else _t=Math.abs(st.x*G.scaleX/kt.x),Dt=Math.abs(st.y*G.scaleY/kt.y);F(T)&&(_t*=2,Dt*=2),T.signX!==Ut&&At!=="y"&&(T.originX=m[T.originX],_t*=-1,T.signX=Ut),T.signY!==Wt&&At!=="x"&&(T.originY=m[T.originY],Dt*=-1,T.signY=Wt)}var ce=G.scaleX,Se=G.scaleY;return At?(At==="x"&&G.set("scaleX",_t),At==="y"&&G.set("scaleY",Dt)):(!tt&&G.set("scaleX",_t),!yt&&G.set("scaleY",Dt)),ce!==G.scaleX||Se!==G.scaleY}function H(pt,T,U,ct){return E(pt,T,U,ct)}function Z(pt,T,U,ct){return E(pt,T,U,ct,{by:"x"})}function ot(pt,T,U,ct){return E(pt,T,U,ct,{by:"y"})}function nt(pt,T,U,ct){return pt[T.target.canvas.altActionKey]?u.skewHandlerX(pt,T,U,ct):u.scalingY(pt,T,U,ct)}function dt(pt,T,U,ct){return pt[T.target.canvas.altActionKey]?u.skewHandlerY(pt,T,U,ct):u.scalingX(pt,T,U,ct)}function gt(pt,T,U,ct){var V=T.target,G=it(T,T.originX,T.originY,U,ct),tt=V.strokeWidth/(V.strokeUniform?V.scaleX:1),yt=F(T)?2:1,At=V.width,st=Math.abs(G.x*yt/V.scaleX)-tt;return V.set("width",Math.max(st,0)),At!==st}function Tt(pt,T,U,ct){var V=T.target,G=U-T.offsetX,tt=ct-T.offsetY,yt=!V.get("lockMovementX")&&V.left!==G,At=!V.get("lockMovementY")&&V.top!==tt;return yt&&V.set("left",G),At&&V.set("top",tt),(yt||At)&&x("moving",C(pt,T,U,ct)),yt||At}u.scaleCursorStyleHandler=D,u.skewCursorStyleHandler=X,u.scaleSkewCursorStyleHandler=I,u.rotationWithSnapping=lt("rotating",Q(N)),u.scalingEqually=lt("scaling",Q(H)),u.scalingX=lt("scaling",Q(Z)),u.scalingY=lt("scaling",Q(ot)),u.scalingYOrSkewingX=nt,u.scalingXOrSkewingY=dt,u.changeWidth=lt("resizing",Q(gt)),u.skewHandlerX=S,u.skewHandlerY=j,u.dragHandler=Tt,u.scaleOrSkewActionName=O,u.rotationStyleHandler=W,u.fireEvent=x,u.wrapWithFixedAnchor=Q,u.wrapWithFireEvent=lt,u.getLocalPoint=it,s.controlsUtils=u}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.degreesToRadians,c=s.controlsUtils;function u(h,p,A,g,m){g=g||{};var v=this.sizeX||g.cornerSize||m.cornerSize,y=this.sizeY||g.cornerSize||m.cornerSize,w=typeof g.transparentCorners<"u"?g.transparentCorners:m.transparentCorners,x=w?"stroke":"fill",L=!w&&(g.cornerStrokeColor||m.cornerStrokeColor),F=p,M=A,D;h.save(),h.fillStyle=g.cornerColor||m.cornerColor,h.strokeStyle=g.cornerStrokeColor||m.cornerStrokeColor,v>y?(D=v,h.scale(1,y/v),M=A*v/y):y>v?(D=y,h.scale(v/y,1),F=p*y/v):D=v,h.lineWidth=1,h.beginPath(),h.arc(F,M,D/2,0,2*Math.PI,!1),h[x](),L&&h.stroke(),h.restore()}function f(h,p,A,g,m){g=g||{};var v=this.sizeX||g.cornerSize||m.cornerSize,y=this.sizeY||g.cornerSize||m.cornerSize,w=typeof g.transparentCorners<"u"?g.transparentCorners:m.transparentCorners,x=w?"stroke":"fill",L=!w&&(g.cornerStrokeColor||m.cornerStrokeColor),F=v/2,M=y/2;h.save(),h.fillStyle=g.cornerColor||m.cornerColor,h.strokeStyle=g.cornerStrokeColor||m.cornerStrokeColor,h.lineWidth=1,h.translate(p,A),h.rotate(a(m.angle)),h[x+"Rect"](-F,-M,v,y),L&&h.strokeRect(-F,-M,v,y),h.restore()}c.renderCircleControl=u,c.renderSquareControl=f}(i),function(l){var s=l.fabric||(l.fabric={});function a(c){for(var u in c)this[u]=c[u]}s.Control=a,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(c,u){return u.cursorStyle},getActionName:function(c,u){return u.actionName},getVisibility:function(c,u){var f=c._controlsVisibility;return f&&typeof f[u]<"u"?f[u]:this.visible},setVisibility:function(c){this.visible=c},positionHandler:function(c,u){var f=s.util.transformPoint({x:this.x*c.x+this.offsetX,y:this.y*c.y+this.offsetY},u);return f},calcCornerCoords:function(c,u,f,h,p){var A,g,m,v,y=p?this.touchSizeX:this.sizeX,w=p?this.touchSizeY:this.sizeY;if(y&&w&&y!==w){var x=Math.atan2(w,y),L=Math.sqrt(y*y+w*w)/2,F=x-s.util.degreesToRadians(c),M=Math.PI/2-x-s.util.degreesToRadians(c);A=L*s.util.cos(F),g=L*s.util.sin(F),m=L*s.util.cos(M),v=L*s.util.sin(M)}else{var D=y&&w?y:u;L=D*.7071067812;var F=s.util.degreesToRadians(45-c);A=m=L*s.util.cos(F),g=v=L*s.util.sin(F)}return{tl:{x:f-v,y:h-m},tr:{x:f+A,y:h-g},bl:{x:f-A,y:h+g},br:{x:f+v,y:h+m}}},render:function(c,u,f,h,p){switch(h=h||{},h.cornerStyle||p.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,c,u,f,h,p);break;default:s.controlsUtils.renderSquareControl.call(this,c,u,f,h,p)}}}}(i),function(){function l(f,h){var p=f.getAttribute("style"),A=f.getAttribute("offset")||0,g,m,v,y;if(A=parseFloat(A)/(/%$/.test(A)?100:1),A=A<0?0:A>1?1:A,p){var w=p.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),y=w.length;y--;){var x=w[y].split(/\s*:\s*/),L=x[0].trim(),F=x[1].trim();L==="stop-color"?g=F:L==="stop-opacity"&&(v=F)}}return g||(g=f.getAttribute("stop-color")||"rgb(0,0,0)"),v||(v=f.getAttribute("stop-opacity")),g=new t.Color(g),m=g.getAlpha(),v=isNaN(parseFloat(v))?1:parseFloat(v),v*=m*h,{offset:A,color:g.toRgb(),opacity:v}}function s(f){return{x1:f.getAttribute("x1")||0,y1:f.getAttribute("y1")||0,x2:f.getAttribute("x2")||"100%",y2:f.getAttribute("y2")||0}}function a(f){return{x1:f.getAttribute("fx")||f.getAttribute("cx")||"50%",y1:f.getAttribute("fy")||f.getAttribute("cy")||"50%",r1:0,x2:f.getAttribute("cx")||"50%",y2:f.getAttribute("cy")||"50%",r2:f.getAttribute("r")||"50%"}}var c=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(f){f||(f={}),f.coords||(f.coords={});var h,p=this;Object.keys(f).forEach(function(A){p[A]=f[A]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,h={x1:f.coords.x1||0,y1:f.coords.y1||0,x2:f.coords.x2||0,y2:f.coords.y2||0},this.type==="radial"&&(h.r1=f.coords.r1||0,h.r2=f.coords.r2||0),this.coords=h,this.colorStops=f.colorStops.slice()},addColorStop:function(f){for(var h in f){var p=new t.Color(f[h]);this.colorStops.push({offset:parseFloat(h),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(f){var h={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,h,f),h},toSVG:function(f,m){var p=c(this.coords,!0),A,g,m=m||{},v,y,w=c(this.colorStops,!0),x=p.r1>p.r2,L=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),F=-this.offsetX,M=-this.offsetY,D=!!m.additionalTransform,X=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(Q,lt){return Q.offset-lt.offset}),X==="objectBoundingBox"?(F/=f.width,M/=f.height):(F+=f.width/2,M+=f.height/2),f.type==="path"&&this.gradientUnits!=="percentage"&&(F-=f.pathOffset.x,M-=f.pathOffset.y),L[4]-=F,L[5]-=M,y='id="SVGID_'+this.id+'" gradientUnits="'+X+'"',y+=' gradientTransform="'+(D?m.additionalTransform+" ":"")+t.util.matrixToSVG(L)+'" ',this.type==="linear"?v=["<linearGradient ",y,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,`">
`]:this.type==="radial"&&(v=["<radialGradient ",y,' cx="',x?p.x1:p.x2,'" cy="',x?p.y1:p.y2,'" r="',x?p.r1:p.r2,'" fx="',x?p.x2:p.x1,'" fy="',x?p.y2:p.y1,`">
`]),this.type==="radial"){if(x)for(w=w.concat(),w.reverse(),A=0,g=w.length;A<g;A++)w[A].offset=1-w[A].offset;var I=Math.min(p.r1,p.r2);if(I>0){var O=Math.max(p.r1,p.r2),W=I/O;for(A=0,g=w.length;A<g;A++)w[A].offset+=W*(1-w[A].offset)}}for(A=0,g=w.length;A<g;A++){var C=w[A];v.push("<stop ",'offset="',C.offset*100+"%",'" style="stop-color:',C.color,typeof C.opacity<"u"?";stop-opacity: "+C.opacity:";",`"/>
`)}return v.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),v.join("")},toLive:function(f){var h,p=t.util.object.clone(this.coords),A,g;if(this.type){for(this.type==="linear"?h=f.createLinearGradient(p.x1,p.y1,p.x2,p.y2):this.type==="radial"&&(h=f.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),A=0,g=this.colorStops.length;A<g;A++){var m=this.colorStops[A].color,v=this.colorStops[A].opacity,y=this.colorStops[A].offset;typeof v<"u"&&(m=new t.Color(m).setAlpha(v).toRgba()),h.addColorStop(y,m)}return h}}}),t.util.object.extend(t.Gradient,{fromElement:function(f,h,p,A){var g=parseFloat(p)/(/%$/.test(p)?100:1);g=g<0?0:g>1?1:g,isNaN(g)&&(g=1);var m=f.getElementsByTagName("stop"),v,y=f.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",w=f.getAttribute("gradientTransform")||"",x=[],L,F,M=0,D=0,X;for(f.nodeName==="linearGradient"||f.nodeName==="LINEARGRADIENT"?(v="linear",L=s(f)):(v="radial",L=a(f)),F=m.length;F--;)x.push(l(m[F],g));X=t.parseTransformAttribute(w),u(h,L,A,y),y==="pixels"&&(M=-h.left,D=-h.top);var I=new t.Gradient({id:f.getAttribute("id"),type:v,coords:L,colorStops:x,gradientUnits:y,gradientTransform:X,offsetX:M,offsetY:D});return I}});function u(f,h,p,A){var g,m;Object.keys(h).forEach(function(v){g=h[v],g==="Infinity"?m=1:g==="-Infinity"?m=0:(m=parseFloat(h[v],10),typeof g=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(g)&&(m*=.01,A==="pixels"&&((v==="x1"||v==="x2"||v==="r2")&&(m*=p.viewBoxWidth||p.width),(v==="y1"||v==="y2")&&(m*=p.viewBoxHeight||p.height)))),h[v]=m})}}(),function(){var l=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,a){if(s||(s={}),this.id=t.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){a&&a(this);return}else{var c=this;this.source=t.util.createImage(),t.util.loadImage(s.source,function(u,f){c.source=u,a&&a(c,f)},null,this.crossOrigin)}},toObject:function(s){var a=t.Object.NUM_FRACTION_DIGITS,c,u;return typeof this.source.src=="string"?c=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(c=this.source.toDataURL()),u={type:"pattern",source:c,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:l(this.offsetX,a),offsetY:l(this.offsetY,a),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,u,s),u},toSVG:function(s){var a=typeof this.source=="function"?this.source():this.source,c=a.width/s.width,u=a.height/s.height,f=this.offsetX/s.width,h=this.offsetY/s.height,p="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(u=1,h&&(u+=Math.abs(h))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(c=1,f&&(c+=Math.abs(f))),a.src?p=a.src:a.toDataURL&&(p=a.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+f+'" y="'+h+'" width="'+c+'" height="'+u+`">
<image x="0" y="0" width="`+a.width+'" height="'+a.height+'" xlink:href="'+p+`"></image>
</pattern>
`},setOptions:function(s){for(var a in s)this[a]=s[a]},toLive:function(s){var a=this.source;return!a||typeof a.src<"u"&&(!a.complete||a.naturalWidth===0||a.naturalHeight===0)?"":s.createPattern(a,this.repeat)}})}(),function(l){var s=l.fabric||(l.fabric={}),a=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(c){typeof c=="string"&&(c=this._parseShadow(c));for(var u in c)this[u]=c[u];this.id=s.Object.__uid++},_parseShadow:function(c){var u=c.trim(),f=s.Shadow.reOffsetsAndBlur.exec(u)||[],h=u.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:h.trim(),offsetX:parseFloat(f[1],10)||0,offsetY:parseFloat(f[2],10)||0,blur:parseFloat(f[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(c){var u=40,f=40,h=s.Object.NUM_FRACTION_DIGITS,p=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-c.angle)),A=20,g=new s.Color(this.color);return c.width&&c.height&&(u=a((Math.abs(p.x)+this.blur)/c.width,h)*100+A,f=a((Math.abs(p.y)+this.blur)/c.height,h)*100+A),c.flipX&&(p.x*=-1),c.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+f+'%" height="'+(100+2*f)+'%" x="-'+u+'%" width="'+(100+2*u)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+a(this.blur?this.blur/2:0,h)+`"></feGaussianBlur>
	<feOffset dx="`+a(p.x,h)+'" dy="'+a(p.y,h)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+g.toRgb()+'" flood-opacity="'+g.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var c={},u=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(f){this[f]!==u[f]&&(c[f]=this[f])},this),c}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(i),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var l=t.util.object.extend,s=t.util.getElementOffset,a=t.util.removeFromArray,c=t.util.toFixed,u=t.util.transformPoint,f=t.util.invertTransform,h=t.util.getNodeCanvas,p=t.util.createCanvasElement,A=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(g,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(g,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(g,m){var v=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(g),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,v),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,v),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,v),m.overlayColor&&this.setOverlayColor(m.overlayColor,v),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var g=t.devicePixelRatio;this.__initRetinaScaling(g,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(g,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(g,m,v){m.setAttribute("width",this.width*g),m.setAttribute("height",this.height*g),v.scale(g,g)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(g,m,v){return this.__setBgOverlayImage("overlayImage",g,m,v)},setBackgroundImage:function(g,m,v){return this.__setBgOverlayImage("backgroundImage",g,m,v)},setOverlayColor:function(g,m){return this.__setBgOverlayColor("overlayColor",g,m)},setBackgroundColor:function(g,m){return this.__setBgOverlayColor("backgroundColor",g,m)},__setBgOverlayImage:function(g,m,v,y){return typeof m=="string"?t.util.loadImage(m,function(w,x){if(w){var L=new t.Image(w,y);this[g]=L,L.canvas=this}v&&v(w,x)},this,y&&y.crossOrigin):(y&&m.setOptions(y),this[g]=m,m&&(m.canvas=this),v&&v(m,!1)),this},__setBgOverlayColor:function(g,m,v){return this[g]=m,this._initGradient(m,g),this._initPattern(m,g,v),this},_createCanvasElement:function(){var g=p();if(!g||(g.style||(g.style={}),typeof g.getContext>"u"))throw A;return g},_initOptions:function(g){var m=this.lowerCanvasEl;this._setOptions(g),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(g){g&&g.getContext?this.lowerCanvasEl=g:this.lowerCanvasEl=t.util.getById(g)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(g,m){return this.setDimensions({width:g},m)},setHeight:function(g,m){return this.setDimensions({height:g},m)},setDimensions:function(g,m){var v;m=m||{};for(var y in g)v=g[y],m.cssOnly||(this._setBackstoreDimension(y,g[y]),v+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(y,v);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(g,m){return this.lowerCanvasEl[g]=m,this.upperCanvasEl&&(this.upperCanvasEl[g]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[g]=m),this[g]=m,this},_setCssDimension:function(g,m){return this.lowerCanvasEl.style[g]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[g]=m),this.wrapperEl&&(this.wrapperEl.style[g]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(g){var m=this._activeObject,v=this.backgroundImage,y=this.overlayImage,w,x,L;for(this.viewportTransform=g,x=0,L=this._objects.length;x<L;x++)w=this._objects[x],w.group||w.setCoords(!0);return m&&m.setCoords(),v&&v.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(g,m){var v=g,y=this.viewportTransform.slice(0);g=u(g,f(this.viewportTransform)),y[0]=m,y[3]=m;var w=u(g,y);return y[4]+=v.x-w.x,y[5]+=v.y-w.y,this.setViewportTransform(y)},setZoom:function(g){return this.zoomToPoint(new t.Point(0,0),g),this},absolutePan:function(g){var m=this.viewportTransform.slice(0);return m[4]=-g.x,m[5]=-g.y,this.setViewportTransform(m)},relativePan:function(g){return this.absolutePan(new t.Point(-g.x-this.viewportTransform[4],-g.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(g){this.stateful&&g.setupState(),g._set("canvas",this),g.setCoords(),this.fire("object:added",{target:g}),g.fire("added")},_onObjectRemoved:function(g){this.fire("object:removed",{target:g}),g.fire("removed"),delete g.canvas},clearContext:function(g){return g.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var g=this.contextContainer;return this.renderCanvas(g,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var g={},m=this.width,v=this.height,y=f(this.viewportTransform);return g.tl=u({x:0,y:0},y),g.br=u({x:m,y:v},y),g.tr=new t.Point(g.br.x,g.tl.y),g.bl=new t.Point(g.tl.x,g.br.y),this.vptCoords=g,g},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(g,m){var v=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(g),t.util.setImageSmoothing(g,this.imageSmoothingEnabled),this.fire("before:render",{ctx:g}),this._renderBackground(g),g.save(),g.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._renderObjects(g,m),g.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(g)),this._renderOverlay(g),this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),this.fire("after:render",{ctx:g})},drawClipPathOnCanvas:function(g){var m=this.viewportTransform,v=this.clipPath;g.save(),g.transform(m[0],m[1],m[2],m[3],m[4],m[5]),g.globalCompositeOperation="destination-in",v.transform(g),g.scale(1/v.zoomX,1/v.zoomY),g.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),g.restore()},_renderObjects:function(g,m){var v,y;for(v=0,y=m.length;v<y;++v)m[v]&&m[v].render(g)},_renderBackgroundOrOverlay:function(g,m){var v=this[m+"Color"],y=this[m+"Image"],w=this.viewportTransform,x=this[m+"Vpt"];if(!(!v&&!y)){if(v){g.save(),g.beginPath(),g.moveTo(0,0),g.lineTo(this.width,0),g.lineTo(this.width,this.height),g.lineTo(0,this.height),g.closePath(),g.fillStyle=v.toLive?v.toLive(g,this):v,x&&g.transform(w[0],w[1],w[2],w[3],w[4],w[5]),g.transform(1,0,0,1,v.offsetX||0,v.offsetY||0);var L=v.gradientTransform||v.patternTransform;L&&g.transform(L[0],L[1],L[2],L[3],L[4],L[5]),g.fill(),g.restore()}if(y){g.save();var F=this.skipOffscreen;this.skipOffscreen=x,x&&g.transform(w[0],w[1],w[2],w[3],w[4],w[5]),y.render(g),this.skipOffscreen=F,g.restore()}}},_renderBackground:function(g){this._renderBackgroundOrOverlay(g,"background")},_renderOverlay:function(g){this._renderBackgroundOrOverlay(g,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(g){return this._centerObject(g,new t.Point(this.getCenterPoint().x,g.getCenterPoint().y))},centerObjectV:function(g){return this._centerObject(g,new t.Point(g.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(g){var m=this.getCenterPoint();return this._centerObject(g,m)},viewportCenterObject:function(g){var m=this.getVpCenter();return this._centerObject(g,m)},viewportCenterObjectH:function(g){var m=this.getVpCenter();return this._centerObject(g,new t.Point(m.x,g.getCenterPoint().y)),this},viewportCenterObjectV:function(g){var m=this.getVpCenter();return this._centerObject(g,new t.Point(g.getCenterPoint().x,m.y))},getVpCenter:function(){var g=this.getCenterPoint(),m=f(this.viewportTransform);return u(g,m)},_centerObject:function(g,m){return g.setPositionByOrigin(m,"center","center"),g.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(g){return this.toDatalessObject(g)},toObject:function(g){return this._toObjectMethod("toObject",g)},toDatalessObject:function(g){return this._toObjectMethod("toDatalessObject",g)},_toObjectMethod:function(g,m){var v=this.clipPath,y={version:t.version,objects:this._toObjects(g,m)};return v&&!v.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,g,m)),l(y,this.__serializeBgOverlay(g,m)),t.util.populateWithProperties(this,y,m),y},_toObjects:function(g,m){return this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){return this._toObject(v,g,m)},this)},_toObject:function(g,m,v){var y;this.includeDefaultValues||(y=g.includeDefaultValues,g.includeDefaultValues=!1);var w=g[m](v);return this.includeDefaultValues||(g.includeDefaultValues=y),w},__serializeBgOverlay:function(g,m){var v={},y=this.backgroundImage,w=this.overlayImage,x=this.backgroundColor,L=this.overlayColor;return x&&x.toObject?x.excludeFromExport||(v.background=x.toObject(m)):x&&(v.background=x),L&&L.toObject?L.excludeFromExport||(v.overlay=L.toObject(m)):L&&(v.overlay=L),y&&!y.excludeFromExport&&(v.backgroundImage=this._toObject(y,g,m)),w&&!w.excludeFromExport&&(v.overlayImage=this._toObject(w,g,m)),v},svgViewportTransformation:!0,toSVG:function(g,m){g||(g={}),g.reviver=m;var v=[];return this._setSVGPreamble(v,g),this._setSVGHeader(v,g),this.clipPath&&v.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(v,"background"),this._setSVGBgOverlayImage(v,"backgroundImage",m),this._setSVGObjects(v,m),this.clipPath&&v.push(`</g>
`),this._setSVGBgOverlayColor(v,"overlay"),this._setSVGBgOverlayImage(v,"overlayImage",m),v.push("</svg>"),v.join("")},_setSVGPreamble:function(g,m){m.suppressPreamble||g.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(g,m){var v=m.width||this.width,y=m.height||this.height,w,x='viewBox="0 0 '+this.width+" "+this.height+'" ',L=t.Object.NUM_FRACTION_DIGITS;m.viewBox?x='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(w=this.viewportTransform,x='viewBox="'+c(-w[4]/w[0],L)+" "+c(-w[5]/w[3],L)+" "+c(this.width/w[0],L)+" "+c(this.height/w[3],L)+'" '),g.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',v,'" ','height="',y,'" ',x,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(g){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(g.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var g=this,m=["background","overlay"].map(function(v){var y=g[v+"Color"];if(y&&y.toLive){var w=g[v+"Vpt"],x=g.viewportTransform,L={width:g.width/(w?x[0]:1),height:g.height/(w?x[3]:1)};return y.toSVG(L,{additionalTransform:w?t.util.matrixToSVG(x):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var g="",m={},v,y,w,x,L,F,M,D,X,I=t.fontPaths,O=[];for(this._objects.forEach(function C(Q){O.push(Q),Q._objects&&Q._objects.forEach(C)}),D=0,X=O.length;D<X;D++)if(v=O[D],y=v.fontFamily,!(v.type.indexOf("text")===-1||m[y]||!I[y])&&(m[y]=!0,!!v.styles)){w=v.styles;for(L in w){x=w[L];for(M in x)F=x[M],y=F.fontFamily,!m[y]&&I[y]&&(m[y]=!0)}}for(var W in m)g+=[`		@font-face {
`,"			font-family: '",W,`';
`,"			src: url('",I[W],`');
`,`		}
`].join("");return g&&(g=['	<style type="text/css">',`<![CDATA[
`,g,"]]>",`</style>
`].join("")),g},_setSVGObjects:function(g,m){var v,y,w,x=this._objects;for(y=0,w=x.length;y<w;y++)v=x[y],!v.excludeFromExport&&this._setSVGObject(g,v,m)},_setSVGObject:function(g,m,v){g.push(m.toSVG(v))},_setSVGBgOverlayImage:function(g,m,v){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&g.push(this[m].toSVG(v))},_setSVGBgOverlayColor:function(g,m){var v=this[m+"Color"],y=this.viewportTransform,w=this.width,x=this.height;if(v)if(v.toLive){var L=v.repeat,F=t.util.invertTransform(y),M=this[m+"Vpt"],D=M?t.util.matrixToSVG(F):"";g.push('<rect transform="'+D+" translate(",w/2,",",x/2,')"',' x="',v.offsetX-w/2,'" y="',v.offsetY-x/2,'" ','width="',L==="repeat-y"||L==="no-repeat"?v.source.width:w,'" height="',L==="repeat-x"||L==="no-repeat"?v.source.height:x,'" fill="url(#SVGID_'+v.id+')"',`></rect>
`)}else g.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',v,'"',`></rect>
`)},sendToBack:function(g){if(!g)return this;var m=this._activeObject,v,y,w;if(g===m&&g.type==="activeSelection")for(w=m._objects,v=w.length;v--;)y=w[v],a(this._objects,y),this._objects.unshift(y);else a(this._objects,g),this._objects.unshift(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(g){if(!g)return this;var m=this._activeObject,v,y,w;if(g===m&&g.type==="activeSelection")for(w=m._objects,v=0;v<w.length;v++)y=w[v],a(this._objects,y),this._objects.push(y);else a(this._objects,g),this._objects.push(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(g,m){if(!g)return this;var v=this._activeObject,y,w,x,L,F,M=0;if(g===v&&g.type==="activeSelection")for(F=v._objects,y=0;y<F.length;y++)w=F[y],x=this._objects.indexOf(w),x>0+M&&(L=x-1,a(this._objects,w),this._objects.splice(L,0,w)),M++;else x=this._objects.indexOf(g),x!==0&&(L=this._findNewLowerIndex(g,x,m),a(this._objects,g),this._objects.splice(L,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(g,m,v){var y,w;if(v)for(y=m,w=m-1;w>=0;--w){var x=g.intersectsWithObject(this._objects[w])||g.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(g);if(x){y=w;break}}else y=m-1;return y},bringForward:function(g,m){if(!g)return this;var v=this._activeObject,y,w,x,L,F,M=0;if(g===v&&g.type==="activeSelection")for(F=v._objects,y=F.length;y--;)w=F[y],x=this._objects.indexOf(w),x<this._objects.length-1-M&&(L=x+1,a(this._objects,w),this._objects.splice(L,0,w)),M++;else x=this._objects.indexOf(g),x!==this._objects.length-1&&(L=this._findNewUpperIndex(g,x,m),a(this._objects,g),this._objects.splice(L,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(g,m,v){var y,w,x;if(v)for(y=m,w=m+1,x=this._objects.length;w<x;++w){var L=g.intersectsWithObject(this._objects[w])||g.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(g);if(L){y=w;break}}else y=m+1;return y},moveTo:function(g,m){return a(this._objects,g),this._objects.splice(m,0,g),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(g){g.dispose&&g.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),l(t.StaticCanvas.prototype,t.Observable),l(t.StaticCanvas.prototype,t.Collection),l(t.StaticCanvas.prototype,t.DataURLExporter),l(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(g){var m=p();if(!m||!m.getContext)return null;var v=m.getContext("2d");if(!v)return null;switch(g){case"setLineDash":return typeof v.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var g=h(this.lowerCanvasEl);return g&&g.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(g){var m=h(this.lowerCanvasEl);return m&&m.createJPEGStream(g)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(l){l.strokeStyle=this.color,l.lineWidth=this.width,l.lineCap=this.strokeLineCap,l.miterLimit=this.strokeMiterLimit,l.lineJoin=this.strokeLineJoin,l.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(l){var s=this.canvas.viewportTransform;l.save(),l.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var l=this.canvas,s=this.shadow,a=l.contextTop,c=l.getZoom();l&&l._isRetinaScaling()&&(c*=t.devicePixelRatio),a.shadowColor=s.color,a.shadowBlur=s.blur*c,a.shadowOffsetX=s.offsetX*c,a.shadowOffsetY=s.offsetY*c}},needsFullRender:function(){var l=new t.Color(this.color);return l.getAlpha()<1||!!this.shadow},_resetShadow:function(){var l=this.canvas.contextTop;l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0},_isOutSideCanvas:function(l){return l.x<0||l.x>this.canvas.getWidth()||l.y<0||l.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(l){this.canvas=l,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(l,s,a){var c=s.midPointFrom(a);return l.quadraticCurveTo(s.x,s.y,c.x,c.y),c},onMouseDown:function(l,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(l),this._captureDrawingPath(l),this._render())},onMouseMove:function(l,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l))&&this._captureDrawingPath(l)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var a=this._points,c=a.length,u=this.canvas.contextTop;this._saveAndTransform(u),this.oldEnd&&(u.beginPath(),u.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(u,a[c-2],a[c-1],!0),u.stroke(),u.restore()}},onMouseUp:function(l){return this.canvas._isMainEvent(l.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(l){var s=new t.Point(l.x,l.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(l){return this._points.length>1&&l.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(l),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(l){var s=new t.Point(l.x,l.y);return this._addPoint(s)},_render:function(l){var s,a,c=this._points[0],u=this._points[1];if(l=l||this.canvas.contextTop,this._saveAndTransform(l),l.beginPath(),this._points.length===2&&c.x===u.x&&c.y===u.y){var f=this.width/1e3;c=new t.Point(c.x,c.y),u=new t.Point(u.x,u.y),c.x-=f,u.x+=f}for(l.moveTo(c.x,c.y),s=1,a=this._points.length;s<a;s++)this._drawSegment(l,c,u),c=this._points[s],u=this._points[s+1];l.lineTo(c.x,c.y),l.stroke(),l.restore()},convertPointsToSVGPath:function(l){var s=this.width/1e3;return t.util.getSmoothPathFromPoints(l,s)},_isEmptySVGPath:function(l){var s=t.util.joinPath(l);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(l){var s=new t.Path(l,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new t.Shadow(this.shadow)),s},decimatePoints:function(l,s){if(l.length<=2)return l;var a=this.canvas.getZoom(),c=Math.pow(s/a,2),u,f=l.length-1,h=l[0],p=[h],A;for(u=1;u<f-1;u++)A=Math.pow(h.x-l[u].x,2)+Math.pow(h.y-l[u].y,2),A>=c&&(h=l[u],p.push(h));return p.push(l[f]),p},_finalizeAndAddPath:function(){var l=this.canvas.contextTop;l.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var a=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.requestRenderAll(),a.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:a})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(l){this.canvas=l,this.points=[]},drawDot:function(l){var s=this.addPoint(l),a=this.canvas.contextTop;this._saveAndTransform(a),this.dot(a,s),a.restore()},dot:function(l,s){l.fillStyle=s.fill,l.beginPath(),l.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),l.closePath(),l.fill()},onMouseDown:function(l){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(l)},_render:function(){var l=this.canvas.contextTop,s,a,c=this.points;for(this._saveAndTransform(l),s=0,a=c.length;s<a;s++)this.dot(l,c[s]);l.restore()},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(l),this._render()):this.drawDot(l))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove,s,a;this.canvas.renderOnAddRemove=!1;var c=[];for(s=0,a=this.points.length;s<a;s++){var u=this.points[s],f=new t.Circle({radius:u.radius,left:u.x,top:u.y,originX:"center",originY:"center",fill:u.fill});this.shadow&&(f.shadow=new t.Shadow(this.shadow)),c.push(f)}var h=new t.Group(c);h.canvas=this.canvas,this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},addPoint:function(l){var s=new t.Point(l.x,l.y),a=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,c=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return s.radius=a,s.fill=c,this.points.push(s),s}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(l){this.canvas=l,this.sprayChunks=[]},onMouseDown:function(l){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(l),this.render(this.sprayChunkPoints)},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.addSprayChunk(l),this.render(this.sprayChunkPoints))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],a=0,c=this.sprayChunks.length;a<c;a++)for(var u=this.sprayChunks[a],f=0,h=u.length;f<h;f++){var p=new t.Rect({width:u[f].width,height:u[f].width,left:u[f].x+1,top:u[f].y+1,originX:"center",originY:"center",fill:this.color});s.push(p)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var A=new t.Group(s);this.shadow&&A.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:A}),this.canvas.add(A),this.canvas.fire("path:created",{path:A}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},_getOptimizedRects:function(l){var s={},a,c,u;for(c=0,u=l.length;c<u;c++)a=l[c].left+""+l[c].top,s[a]||(s[a]=l[c]);var f=[];for(a in s)f.push(s[a]);return f},render:function(l){var s=this.canvas.contextTop,a,c;for(s.fillStyle=this.color,this._saveAndTransform(s),a=0,c=l.length;a<c;a++){var u=l[a];typeof u.opacity<"u"&&(s.globalAlpha=u.opacity),s.fillRect(u.x,u.y,u.width,u.width)}s.restore()},_render:function(){var l=this.canvas.contextTop,s,a;for(l.fillStyle=this.color,this._saveAndTransform(l),s=0,a=this.sprayChunks.length;s<a;s++)this.render(this.sprayChunks[s]);l.restore()},addSprayChunk:function(l){this.sprayChunkPoints=[];var s,a,c,u=this.width/2,f;for(f=0;f<this.density;f++){s=t.util.getRandomInt(l.x-u,l.x+u),a=t.util.getRandomInt(l.y-u,l.y+u),this.dotWidthVariance?c=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):c=this.dotWidth;var h=new t.Point(s,a);h.width=c,this.randomOpacity&&(h.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(h)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var l=20,s=5,a=t.util.createCanvasElement(),c=a.getContext("2d");return a.width=a.height=l+s,c.fillStyle=this.color,c.beginPath(),c.arc(l/2,l/2,l/2,0,Math.PI*2,!1),c.closePath(),c.fill(),a},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(l){return l.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(l){this.callSuper("_setBrushStyles",l),l.strokeStyle=this.getPattern(l)},createPath:function(l){var s=this.callSuper("createPath",l),a=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-a.x,offsetY:-a.y}),s}}),function(){var l=t.util.getPointer,s=t.util.degreesToRadians,a=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(u,f){f||(f={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(u,f),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var u=this.getActiveObjects(),f,h,p;if(u.length>0&&!this.preserveObjectStacking){h=[],p=[];for(var A=0,g=this._objects.length;A<g;A++)f=this._objects[A],u.indexOf(f)===-1?h.push(f):p.push(f);u.length>1&&(this._activeObject._objects=p),h.push.apply(h,p)}else h=this._objects;return h},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var u=this.contextContainer;return this.renderCanvas(u,this._chooseObjectsToRender()),this},renderTopLayer:function(u){u.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(u),this.contextTopDirty=!0),u.restore()},renderTop:function(){var u=this.contextTop;return this.clearContext(u),this.renderTopLayer(u),this.fire("after:render"),this},_normalizePointer:function(u,f){var h=u.calcTransformMatrix(),p=t.util.invertTransform(h),A=this.restorePointerVpt(f);return t.util.transformPoint(A,p)},isTargetTransparent:function(u,f,h){if(u.shouldCache()&&u._cacheCanvas&&u!==this._activeObject){var p=this._normalizePointer(u,{x:f,y:h}),A=Math.max(u.cacheTranslationX+p.x*u.zoomX,0),g=Math.max(u.cacheTranslationY+p.y*u.zoomY,0),w=t.util.isTransparent(u._cacheContext,Math.round(A),Math.round(g),this.targetFindTolerance);return w}var m=this.contextCache,v=u.selectionBackgroundColor,y=this.viewportTransform;u.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),u.render(m),m.restore(),u.selectionBackgroundColor=v;var w=t.util.isTransparent(m,f,h,this.targetFindTolerance);return w},_isSelectionKeyPressed:function(u){var f=!1;return Array.isArray(this.selectionKey)?f=!!this.selectionKey.find(function(h){return u[h]===!0}):f=u[this.selectionKey],f},_shouldClearSelection:function(u,f){var h=this.getActiveObjects(),p=this._activeObject;return!f||f&&p&&h.length>1&&h.indexOf(f)===-1&&p!==f&&!this._isSelectionKeyPressed(u)||f&&!f.evented||f&&!f.selectable&&p&&p!==f},_shouldCenterTransform:function(u,f,h){if(u){var p;return f==="scale"||f==="scaleX"||f==="scaleY"||f==="resizing"?p=this.centeredScaling||u.centeredScaling:f==="rotate"&&(p=this.centeredRotation||u.centeredRotation),p?!h:h}},_getOriginFromCorner:function(u,f){var h={x:u.originX,y:u.originY};return f==="ml"||f==="tl"||f==="bl"?h.x="right":(f==="mr"||f==="tr"||f==="br")&&(h.x="left"),f==="tl"||f==="mt"||f==="tr"?h.y="bottom":(f==="bl"||f==="mb"||f==="br")&&(h.y="top"),h},_getActionFromCorner:function(u,f,h,p){if(!f||!u)return"drag";var A=p.controls[f];return A.getActionName(h,A,p)},_setupCurrentTransform:function(u,f,h){if(f){var p=this.getPointer(u),A=f.__corner,g=f.controls[A],m=h&&A?g.getActionHandler(u,f,g):t.controlsUtils.dragHandler,v=this._getActionFromCorner(h,A,u,f),y=this._getOriginFromCorner(f,A),w=u[this.centeredKey],x={target:f,action:v,actionHandler:m,corner:A,scaleX:f.scaleX,scaleY:f.scaleY,skewX:f.skewX,skewY:f.skewY,offsetX:p.x-f.left,offsetY:p.y-f.top,originX:y.x,originY:y.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:s(f.angle),width:f.width*f.scaleX,shiftKey:u.shiftKey,altKey:w,original:t.util.saveObjectTransform(f)};this._shouldCenterTransform(f,v,w)&&(x.originX="center",x.originY="center"),x.original.originX=y.x,x.original.originY=y.y,this._currentTransform=x,this._beforeTransform(u)}},setCursor:function(u){this.upperCanvasEl.style.cursor=u},_drawSelection:function(u){var f=this._groupSelector,h=new t.Point(f.ex,f.ey),p=t.util.transformPoint(h,this.viewportTransform),A=new t.Point(f.ex+f.left,f.ey+f.top),g=t.util.transformPoint(A,this.viewportTransform),m=Math.min(p.x,g.x),v=Math.min(p.y,g.y),y=Math.max(p.x,g.x),w=Math.max(p.y,g.y),x=this.selectionLineWidth/2;this.selectionColor&&(u.fillStyle=this.selectionColor,u.fillRect(m,v,y-m,w-v)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(u.lineWidth=this.selectionLineWidth,u.strokeStyle=this.selectionBorderColor,m+=x,v+=x,y-=x,w-=x,t.Object.prototype._setLineDash.call(this,u,this.selectionDashArray),u.strokeRect(m,v,y-m,w-v))},findTarget:function(u,f){if(!this.skipTargetFind){var h=!0,p=this.getPointer(u,h),A=this._activeObject,g=this.getActiveObjects(),m,v,y=a(u),w=g.length>1&&!f||g.length===1;if(this.targets=[],w&&A._findTargetCorner(p,y)||g.length>1&&!f&&A===this._searchPossibleTargets([A],p))return A;if(g.length===1&&A===this._searchPossibleTargets([A],p))if(this.preserveObjectStacking)m=A,v=this.targets,this.targets=[];else return A;var x=this._searchPossibleTargets(this._objects,p);return u[this.altSelectionKey]&&x&&m&&x!==m&&(x=m,this.targets=v),x}},_checkTarget:function(u,f,h){if(f&&f.visible&&f.evented&&f.containsPoint(u))if((this.perPixelTargetFind||f.perPixelTargetFind)&&!f.isEditing){var p=this.isTargetTransparent(f,h.x,h.y);if(!p)return!0}else return!0},_searchPossibleTargets:function(u,f){for(var h,p=u.length,A;p--;){var g=u[p],m=g.group?this._normalizePointer(g.group,f):f;if(this._checkTarget(m,g,f)){h=u[p],h.subTargetCheck&&h instanceof t.Group&&(A=this._searchPossibleTargets(h._objects,f),A&&this.targets.push(A));break}}return h},restorePointerVpt:function(u){return t.util.transformPoint(u,t.util.invertTransform(this.viewportTransform))},getPointer:function(u,f){if(this._absolutePointer&&!f)return this._absolutePointer;if(this._pointer&&f)return this._pointer;var h=l(u),p=this.upperCanvasEl,A=p.getBoundingClientRect(),g=A.width||0,m=A.height||0,v;(!g||!m)&&("top"in A&&"bottom"in A&&(m=Math.abs(A.top-A.bottom)),"right"in A&&"left"in A&&(g=Math.abs(A.right-A.left))),this.calcOffset(),h.x=h.x-this._offset.left,h.y=h.y-this._offset.top,f||(h=this.restorePointerVpt(h));var y=this.getRetinaScaling();return y!==1&&(h.x/=y,h.y/=y),g===0||m===0?v={width:1,height:1}:v={width:p.width/g,height:p.height/m},{x:h.x*v.width,y:h.y*v.height}},_createUpperCanvas:function(){var u=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),f=this.lowerCanvasEl,h=this.upperCanvasEl;h?h.className="":(h=this._createCanvasElement(),this.upperCanvasEl=h),t.util.addClass(h,"upper-canvas "+u),this.wrapperEl.appendChild(h),this._copyCanvasStyle(f,h),this._applyCanvasStyle(h),this.contextTop=h.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(u){var f=this.width||u.width,h=this.height||u.height;t.util.setStyle(u,{position:"absolute",width:f+"px",height:h+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),u.width=f,u.height=h,t.util.makeElementUnselectable(u)},_copyCanvasStyle:function(u,f){f.style.cssText=u.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var u=this._activeObject;return u?u.type==="activeSelection"&&u._objects?u._objects.slice(0):[u]:[]},_onObjectRemoved:function(u){u===this._activeObject&&(this.fire("before:selection:cleared",{target:u}),this._discardActiveObject(),this.fire("selection:cleared",{target:u}),u.fire("deselected")),u===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",u)},_fireSelectionEvents:function(u,f){var h=!1,p=this.getActiveObjects(),A=[],g=[];u.forEach(function(m){p.indexOf(m)===-1&&(h=!0,m.fire("deselected",{e:f,target:m}),g.push(m))}),p.forEach(function(m){u.indexOf(m)===-1&&(h=!0,m.fire("selected",{e:f,target:m}),A.push(m))}),u.length>0&&p.length>0?h&&this.fire("selection:updated",{e:f,selected:A,deselected:g}):p.length>0?this.fire("selection:created",{e:f,selected:A}):u.length>0&&this.fire("selection:cleared",{e:f,deselected:g})},setActiveObject:function(u,f){var h=this.getActiveObjects();return this._setActiveObject(u,f),this._fireSelectionEvents(h,f),this},_setActiveObject:function(u,f){return this._activeObject===u||!this._discardActiveObject(f,u)||u.onSelect({e:f})?!1:(this._activeObject=u,!0)},_discardActiveObject:function(u,f){var h=this._activeObject;if(h){if(h.onDeselect({e:u,object:f}))return!1;this._activeObject=null}return!0},discardActiveObject:function(u){var f=this.getActiveObjects(),h=this.getActiveObject();return f.length&&this.fire("before:selection:cleared",{target:h,e:u}),this._discardActiveObject(u),this._fireSelectionEvents(f,u),this},dispose:function(){var u=this.wrapperEl;return this.removeListeners(),u.removeChild(this.upperCanvasEl),u.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(f){t.util.cleanUpJsdomNode(this[f]),this[f]=void 0}).bind(this)),u.parentNode&&u.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(u){var f=this._activeObject;f&&f._renderControls(u)},_toObject:function(u,f,h){var p=this._realizeGroupTransformOnObject(u),A=this.callSuper("_toObject",u,f,h);return this._unwindGroupTransformOnObject(u,p),A},_realizeGroupTransformOnObject:function(u){if(u.group&&u.group.type==="activeSelection"&&this._activeObject===u.group){var f=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],h={};return f.forEach(function(p){h[p]=u[p]}),t.util.addTransformToObject(u,this._activeObject.calcOwnMatrix()),h}else return null},_unwindGroupTransformOnObject:function(u,f){f&&u.set(f)},_setSVGObject:function(u,f,h){var p=this._realizeGroupTransformOnObject(f);this.callSuper("_setSVGObject",u,f,h),this._unwindGroupTransformOnObject(f,p)},setViewportTransform:function(u){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,u)}});for(var c in t.StaticCanvas)c!=="prototype"&&(t.Canvas[c]=t.StaticCanvas[c])}(),function(){var l=t.util.addListener,s=t.util.removeListener,a=3,c=2,u=1,f={passive:!1};function h(p,A){return p.button&&p.button===A-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(l,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,A){var g=this.upperCanvasEl,m=this._getEventPrefix();p(t.window,"resize",this._onResize),p(g,m+"down",this._onMouseDown),p(g,m+"move",this._onMouseMove,f),p(g,m+"out",this._onMouseOut),p(g,m+"enter",this._onMouseEnter),p(g,"wheel",this._onMouseWheel),p(g,"contextmenu",this._onContextMenu),p(g,"dblclick",this._onDoubleClick),p(g,"dragover",this._onDragOver),p(g,"dragenter",this._onDragEnter),p(g,"dragleave",this._onDragLeave),p(g,"drop",this._onDrop),this.enablePointerEvents||p(g,"touchstart",this._onTouchStart,f),typeof eventjs<"u"&&A in eventjs&&(eventjs[A](g,"gesture",this._onGesture),eventjs[A](g,"drag",this._onDrag),eventjs[A](g,"orientation",this._onOrientationChange),eventjs[A](g,"shake",this._onShake),eventjs[A](g,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var p=this._getEventPrefix();s(t.document,p+"up",this._onMouseUp),s(t.document,"touchend",this._onTouchEnd,f),s(t.document,p+"move",this._onMouseMove,f),s(t.document,"touchmove",this._onMouseMove,f)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,A){this.__onTransformGesture&&this.__onTransformGesture(p,A)},_onDrag:function(p,A){this.__onDrag&&this.__onDrag(p,A)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var A=this._hoveredTarget;this.fire("mouse:out",{target:A,e:p}),this._hoveredTarget=null,A&&A.fire("mouseout",{e:p});var g=this;this._hoveredTargets.forEach(function(m){g.fire("mouse:out",{target:m,e:p}),m&&m.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,A){this.__onOrientationChange&&this.__onOrientationChange(p,A)},_onShake:function(p,A){this.__onShake&&this.__onShake(p,A)},_onLongPress:function(p,A){this.__onLongPress&&this.__onLongPress(p,A)},_onDragOver:function(p){p.preventDefault();var A=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(A,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var A=p.changedTouches;return A?A[0]&&A[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return p.isPrimary===!0?!0:p.isPrimary===!1?!1:p.type==="touchend"&&p.touches.length===0?!0:p.changedTouches?p.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(p){p.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var A=this.upperCanvasEl,g=this._getEventPrefix();l(t.document,"touchend",this._onTouchEnd,f),l(t.document,"touchmove",this._onMouseMove,f),s(A,g+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var A=this.upperCanvasEl,g=this._getEventPrefix();s(A,g+"move",this._onMouseMove,f),l(t.document,g+"up",this._onMouseUp),l(t.document,g+"move",this._onMouseMove,f)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var A=this._getEventPrefix();s(t.document,"touchend",this._onTouchEnd,f),s(t.document,"touchmove",this._onMouseMove,f);var g=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){l(g.upperCanvasEl,A+"down",g._onMouseDown),g._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var A=this.upperCanvasEl,g=this._getEventPrefix();this._isMainEvent(p)&&(s(t.document,g+"up",this._onMouseUp),s(t.document,g+"move",this._onMouseMove,f),l(A,g+"move",this._onMouseMove,f))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var A=this._activeObject;return!!A!=!!p||A&&p&&A!==p?!0:(A&&A.isEditing,!1)},__onMouseUp:function(p){var A,g=this._currentTransform,m=this._groupSelector,v=!1,y=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(p),A=this._target,this._handleEvent(p,"up:before"),h(p,a)){this.fireRightClick&&this._handleEvent(p,"up",a,y);return}if(h(p,c)){this.fireMiddleClick&&this._handleEvent(p,"up",c,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(p);return}if(this._isMainEvent(p)){if(g&&(this._finalizeCurrentTransform(p),v=g.actionPerformed),!y){var w=A===this._activeObject;this._maybeGroupObjects(p),v||(v=this._shouldRender(A)||!w&&A===this._activeObject)}var x,L;if(A){if(x=A._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p)),A.selectable&&A!==this._activeObject&&A.activeOn==="up")this.setActiveObject(A,p),v=!0;else{var F=A.controls[x],M=F&&F.getMouseUpHandler(p,A,F);M&&(L=this.getPointer(p),M(p,g,L.x,L.y))}A.isMoving=!1}if(g&&(g.target!==A||g.corner!==x)){var D=g.target&&g.target.controls[g.corner],X=D&&D.getMouseUpHandler(p,A,F);L=L||this.getPointer(p),X&&X(p,g,L.x,L.y)}this._setCursorFromEvent(p,A),this._handleEvent(p,"up",u,y),this._groupSelector=null,this._currentTransform=null,A&&(A.__corner=0),v?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(p,A){var g=this.findTarget(A),m=this.targets,v={e:A,target:g,subTargets:m};if(this.fire(p,v),g&&g.fire(p,v),!m)return g;for(var y=0;y<m.length;y++)m[y].fire(p,v);return g},_handleEvent:function(p,A,g,m){var v=this._target,y=this.targets||[],w={e:p,target:v,subTargets:y,button:g||u,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};A==="up"&&(w.currentTarget=this.findTarget(p),w.currentSubTargets=this.targets),this.fire("mouse:"+A,w),v&&v.fire("mouse"+A,w);for(var x=0;x<y.length;x++)y[x].fire("mouse"+A,w)},_finalizeCurrentTransform:function(p){var A=this._currentTransform,g=A.target,m={e:p,target:g,transform:A,action:A.action};g._scaling&&(g._scaling=!1),g.setCoords(),(A.actionPerformed||this.stateful&&g.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var A=this.getPointer(p);this.freeDrawingBrush.onMouseDown(A,{e:p,pointer:A}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var A=this.getPointer(p);this.freeDrawingBrush.onMouseMove(A,{e:p,pointer:A})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var A=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:A}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var A=this._target;if(h(p,a)){this.fireRightClick&&this._handleEvent(p,"down",a);return}if(h(p,c)){this.fireMiddleClick&&this._handleEvent(p,"down",c);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(p);return}if(this._isMainEvent(p)&&!this._currentTransform){var g=this._pointer;this._previousPointer=g;var m=this._shouldRender(A),v=this._shouldGroup(p,A);if(this._shouldClearSelection(p,A)?this.discardActiveObject(p):v&&(this._handleGrouping(p,A),A=this._activeObject),this.selection&&(!A||!A.selectable&&!A.isEditing&&A!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),A){var y=A===this._activeObject;A.selectable&&A.activeOn==="down"&&this.setActiveObject(A,p);var w=A._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p));if(A.__corner=w,A===this._activeObject&&(w||!v)){this._setupCurrentTransform(p,A,y);var x=A.controls[w],g=this.getPointer(p),L=x&&x.getMouseDownHandler(p,A,x);L&&L(p,this._currentTransform,g.x,g.y)}}this._handleEvent(p,"down"),(m||v)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var A=this._currentTransform;this.stateful&&A.target.saveState(),this.fire("before:transform",{e:p,transform:A})},__onMouseMove:function(p){this._handleEvent(p,"move:before"),this._cacheTransformEventData(p);var A,g;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(p);return}if(this._isMainEvent(p)){var m=this._groupSelector;m?(g=this._absolutePointer,m.left=g.x-m.ex,m.top=g.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(A=this.findTarget(p)||null,this._setCursorFromEvent(p,A),this._fireOverOutEvents(A,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,A){var g=this._hoveredTarget,m=this._hoveredTargets,v=this.targets,y=Math.max(m.length,v.length);this.fireSyntheticInOutEvents(p,A,{oldTarget:g,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var w=0;w<y;w++)this.fireSyntheticInOutEvents(v[w],A,{oldTarget:m[w],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,A){var g=this._draggedoverTarget,m=this._hoveredTargets,v=this.targets,y=Math.max(m.length,v.length);this.fireSyntheticInOutEvents(p,A,{oldTarget:g,evtOut:"dragleave",evtIn:"dragenter"});for(var w=0;w<y;w++)this.fireSyntheticInOutEvents(v[w],A,{oldTarget:m[w],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,A,g){var m,v,y=g.oldTarget,w,x,L=y!==p,F=g.canvasEvtIn,M=g.canvasEvtOut;L&&(m={e:A,target:p,previousTarget:y},v={e:A,target:y,nextTarget:p}),x=p&&L,w=y&&L,w&&(M&&this.fire(M,v),y.fire(g.evtOut,v)),x&&(F&&this.fire(F,m),p.fire(g.evtIn,m))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var A=this.getPointer(p),g=this._currentTransform;g.reset=!1,g.shiftKey=p.shiftKey,g.altKey=p[this.centeredKey],this._performTransformAction(p,g,A),g.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,A,g){var m=g.x,v=g.y,y=A.action,w=!1,x=A.actionHandler;x&&(w=x(p,A,m,v)),y==="drag"&&w&&(A.target.isMoving=!0,this.setCursor(A.target.moveCursor||this.moveCursor)),A.actionPerformed=A.actionPerformed||w},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(p,A){if(!A)return this.setCursor(this.defaultCursor),!1;var g=A.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,v=(!m||!m.contains(A))&&A._findTargetCorner(this.getPointer(p,!0));v?this.setCursor(this.getCornerCursor(v,A,p)):(A.subTargetCheck&&this.targets.concat().reverse().map(function(y){g=y.hoverCursor||g}),this.setCursor(g))},getCornerCursor:function(p,A,g){var m=A.controls[p];return m.cursorStyleHandler(g,m,A)}})}(),function(){var l=Math.min,s=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(a,c){var u=this._activeObject;return u&&this._isSelectionKeyPressed(a)&&c&&c.selectable&&this.selection&&(u!==c||u.type==="activeSelection")&&!c.onSelect({e:a})},_handleGrouping:function(a,c){var u=this._activeObject;u.__corner||c===u&&(c=this.findTarget(a,!0),!c||!c.selectable)||(u&&u.type==="activeSelection"?this._updateActiveSelection(c,a):this._createActiveSelection(c,a))},_updateActiveSelection:function(a,c){var u=this._activeObject,f=u._objects.slice(0);u.contains(a)?(u.removeWithUpdate(a),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat(),u.size()===1&&this._setActiveObject(u.item(0),c)):(u.addWithUpdate(a),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(f,c)},_createActiveSelection:function(a,c){var u=this.getActiveObjects(),f=this._createGroup(a);this._hoveredTarget=f,this._setActiveObject(f,c),this._fireSelectionEvents(u,c)},_createGroup:function(a){var c=this._objects,u=c.indexOf(this._activeObject)<c.indexOf(a),f=u?[this._activeObject,a]:[a,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(f,{canvas:this})},_groupSelectedObjects:function(a){var c=this._collectObjects(a),u;c.length===1?this.setActiveObject(c[0],a):c.length>1&&(u=new t.ActiveSelection(c.reverse(),{canvas:this}),this.setActiveObject(u,a))},_collectObjects:function(a){for(var c=[],u,f=this._groupSelector.ex,h=this._groupSelector.ey,p=f+this._groupSelector.left,A=h+this._groupSelector.top,g=new t.Point(l(f,p),l(h,A)),m=new t.Point(s(f,p),s(h,A)),v=!this.selectionFullyContained,y=f===p&&h===A,w=this._objects.length;w--&&(u=this._objects[w],!(!(!u||!u.selectable||!u.visible)&&(v&&u.intersectsWithRect(g,m,!0)||u.isContainedWithinRect(g,m,!0)||v&&u.containsPoint(g,null,!0)||v&&u.containsPoint(m,null,!0))&&(c.push(u),y))););return c.length>1&&(c=c.filter(function(x){return!x.onSelect({e:a})})),c},_maybeGroupObjects:function(a){this.selection&&this._groupSelector&&this._groupSelectedObjects(a),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(l){l||(l={});var s=l.format||"png",a=l.quality||1,c=(l.multiplier||1)*(l.enableRetinaScaling?this.getRetinaScaling():1),u=this.toCanvasElement(c,l);return t.util.toDataURL(u,s,a)},toCanvasElement:function(l,s){l=l||1,s=s||{};var a=(s.width||this.width)*l,c=(s.height||this.height)*l,u=this.getZoom(),f=this.width,h=this.height,p=u*l,A=this.viewportTransform,g=(A[4]-(s.left||0))*l,m=(A[5]-(s.top||0))*l,v=this.interactive,y=[p,0,0,p,g,m],w=this.enableRetinaScaling,x=t.util.createCanvasElement(),L=this.contextTop;return x.width=a,x.height=c,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=a,this.height=c,this.calcViewportBoundaries(),this.renderCanvas(x.getContext("2d"),this._objects),this.viewportTransform=A,this.width=f,this.height=h,this.calcViewportBoundaries(),this.interactive=v,this.enableRetinaScaling=w,this.contextTop=L,x}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(l,s,a){if(l){var c=typeof l=="string"?JSON.parse(l):t.util.object.clone(l),u=this,f=c.clipPath,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete c.clipPath,this._enlivenObjects(c.objects,function(p){u.clear(),u._setBgOverlay(c,function(){f?u._enlivenObjects([f],function(A){u.clipPath=A[0],u.__setupCanvas.call(u,c,p,h,s)}):u.__setupCanvas.call(u,c,p,h,s)})},a),this}},__setupCanvas:function(l,s,a,c){var u=this;s.forEach(function(f,h){u.insertAt(f,h)}),this.renderOnAddRemove=a,delete l.objects,delete l.backgroundImage,delete l.overlayImage,delete l.background,delete l.overlay,this._setOptions(l),this.renderAll(),c&&c()},_setBgOverlay:function(l,s){var a={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!l.backgroundImage&&!l.overlayImage&&!l.background&&!l.overlay){s&&s();return}var c=function(){a.backgroundImage&&a.overlayImage&&a.backgroundColor&&a.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",l.backgroundImage,a,c),this.__setBgOverlay("overlayImage",l.overlayImage,a,c),this.__setBgOverlay("backgroundColor",l.background,a,c),this.__setBgOverlay("overlayColor",l.overlay,a,c)},__setBgOverlay:function(l,s,a,c){var u=this;if(!s){a[l]=!0,c&&c();return}l==="backgroundImage"||l==="overlayImage"?t.util.enlivenObjects([s],function(f){u[l]=f[0],a[l]=!0,c&&c()}):this["set"+t.util.string.capitalize(l,!0)](s,function(){a[l]=!0,c&&c()})},_enlivenObjects:function(l,s,a){if(!l||l.length===0){s&&s([]);return}t.util.enlivenObjects(l,function(c){s&&s(c)},null,a)},_toDataURL:function(l,s){this.clone(function(a){s(a.toDataURL(l))})},_toDataURLWithMultiplier:function(l,s,a){this.clone(function(c){a(c.toDataURLWithMultiplier(l,s))})},clone:function(l,s){var a=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(c){c.loadFromJSON(a,function(){l&&l(c)})})},cloneWithoutData:function(l){var s=t.util.createCanvasElement();s.width=this.width,s.height=this.height;var a=new t.Canvas(s);this.backgroundImage?(a.setBackgroundImage(this.backgroundImage.src,function(){a.renderAll(),l&&l(a)}),a.backgroundImageOpacity=this.backgroundImageOpacity,a.backgroundImageStretch=this.backgroundImageStretch):l&&l(a)}}),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.util.object.clone,u=s.util.toFixed,f=s.util.string.capitalize,h=s.util.degreesToRadians,p=!s.isLikelyNode,A=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:p,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(g){g&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(g){var m=s.perfLimitSizeTotal,v=g.width,y=g.height,w=s.maxCacheSideLimit,x=s.minCacheSideLimit;if(v<=w&&y<=w&&v*y<=m)return v<x&&(g.width=x),y<x&&(g.height=x),g;var L=v/y,F=s.util.limitDimsByArea(L,m),M=s.util.capValue,D=M(x,F.x,w),X=M(x,F.y,w);return v>D&&(g.zoomX/=v/D,g.width=D,g.capped=!0),y>X&&(g.zoomY/=y/X,g.height=X,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),v=m.x*g.scaleX/this.scaleX,y=m.y*g.scaleY/this.scaleY;return{width:Math.ceil(v+A),height:Math.ceil(y+A),zoomX:g.scaleX,zoomY:g.scaleY,x:v,y}},_updateCacheCanvas:function(){var g=this.canvas;if(this.noScaleCache&&g&&g._currentTransform){var m=g._currentTransform.target,v=g._currentTransform.action;if(this===m&&v.slice&&v.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,w=this._limitCacheSize(this._getCacheCanvasDimensions()),x=w.width,L=w.height,F,M,D=w.zoomX,X=w.zoomY,I=x!==this.cacheWidth||L!==this.cacheHeight,O=this.zoomX!==D||this.zoomY!==X,W=I||O;return W?(I?(y.width=x,y.height=L):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),F=w.x/2,M=w.y/2,this.cacheTranslationX=Math.round(y.width/2-F)+F,this.cacheTranslationY=Math.round(y.height/2-M)+M,this.cacheWidth=x,this.cacheHeight=L,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(D,X),this.zoomX=D,this.zoomY=X,!0):!1},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,v=this.calcTransformMatrix(!m);g.transform(v[0],v[1],v[2],v[3],v[4],v[5])},toObject:function(g){var m=s.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:u(this.left,m),top:u(this.top,m),width:u(this.width,m),height:u(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:u(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:u(this.strokeMiterLimit,m),scaleX:u(this.scaleX,m),scaleY:u(this.scaleY,m),angle:u(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:u(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:u(this.skewX,m),skewY:u(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(v.clipPath=this.clipPath.toObject(g),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,v,g),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var m=s.util.getKlass(g.type).prototype,v=m.stateProperties;return v.forEach(function(y){y==="left"||y==="top"||(g[y]===m[y]&&delete g[y],Array.isArray(g[y])&&Array.isArray(m[y])&&g[y].length===0&&m[y].length===0&&delete g[y])}),g},toString:function(){return"#<fabric."+f(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var g=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(g.scaleX),scaleY:Math.abs(g.scaleY)}},getTotalObjectScaling:function(){var g=this.getObjectScaling(),m=g.scaleX,v=g.scaleY;if(this.canvas){var y=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();m*=y*w,v*=y*w}return{scaleX:m,scaleY:v}},getObjectOpacity:function(){var g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g},_set:function(g,m){var v=g==="scaleX"||g==="scaleY",y=this[g]!==m,w=!1;return v&&(m=this._constrainScale(m)),g==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):g==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):g==="shadow"&&m&&!(m instanceof s.Shadow)?m=new s.Shadow(m):g==="dirty"&&this.group&&this.group.set("dirty",m),this[g]=m,y&&(w=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(g)>-1?(this.dirty=!0,w&&this.group.set("dirty",!0)):w&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),g.restore())},renderCache:function(g){g=g||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,g.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(g,m){if(g.save(),m.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",m.absolutePositioned){var v=s.util.invertTransform(this.calcTransformMatrix());g.transform(v[0],v[1],v[2],v[3],v[4],v[5])}m.transform(g),g.scale(1/m.zoomX,1/m.zoomY),g.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),g.restore()},drawObject:function(g,m){var v=this.fill,y=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath),this.fill=v,this.stroke=y},_drawClipPath:function(g,m){m&&(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(g,m))},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!g){var m=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-v/2,m,v)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var m=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(g)}},_setOpacity:function(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity},_setStrokeStyles:function(g,m){var v=m.stroke;v&&(g.lineWidth=m.strokeWidth,g.lineCap=m.strokeLineCap,g.lineDashOffset=m.strokeDashOffset,g.lineJoin=m.strokeLineJoin,g.miterLimit=m.strokeMiterLimit,v.toLive?v.gradientUnits==="percentage"||v.gradientTransform||v.patternTransform?this._applyPatternForTransformedGradient(g,v):(g.strokeStyle=v.toLive(g,this),this._applyPatternGradientTransform(g,v)):g.strokeStyle=m.stroke)},_setFillStyles:function(g,m){var v=m.fill;v&&(v.toLive?(g.fillStyle=v.toLive(g,this),this._applyPatternGradientTransform(g,m.fill)):g.fillStyle=v)},_setClippingProperties:function(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"},_setLineDash:function(g,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),g.setLineDash(m))},_renderControls:function(g,m){var v=this.getViewportTransform(),y=this.calcTransformMatrix(),w,x,L;m=m||{},x=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,L=typeof m.hasControls<"u"?m.hasControls:this.hasControls,y=s.util.multiplyTransformMatrices(v,y),w=s.util.qrDecompose(y),g.save(),g.translate(w.translateX,w.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(w.angle-=180),g.rotate(h(this.group?w.angle:this.angle)),m.forActiveSelection||this.group?x&&this.drawBordersInGroup(g,w,m):x&&this.drawBorders(g,m),L&&this.drawControls(g,m),g.restore()},_setShadow:function(g){if(this.shadow){var m=this.shadow,v=this.canvas,y,w=v&&v.viewportTransform[0]||1,x=v&&v.viewportTransform[3]||1;m.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),v&&v._isRetinaScaling()&&(w*=s.devicePixelRatio,x*=s.devicePixelRatio),g.shadowColor=m.color,g.shadowBlur=m.blur*s.browserShadowBlurConstant*(w+x)*(y.scaleX+y.scaleY)/4,g.shadowOffsetX=m.offsetX*w*y.scaleX,g.shadowOffsetY=m.offsetY*x*y.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var v=m.gradientTransform||m.patternTransform,y=-this.width/2+m.offsetX||0,w=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,y,w):g.transform(1,0,0,1,y,w),v&&g.transform(v[0],v[1],v[2],v[3],v[4],v[5]),{offsetX:y,offsetY:w}},_renderPaintInOrder:function(g){this.paintFirst==="stroke"?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))},_render:function(){},_renderFill:function(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();g.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&g.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}},_applyPatternForTransformedGradient:function(g,m){var v=this._limitCacheSize(this._getCacheCanvasDimensions()),y=s.util.createCanvasElement(),w,x=this.canvas.getRetinaScaling(),L=v.x/this.scaleX/x,F=v.y/this.scaleY/x;y.width=Math.ceil(L),y.height=Math.ceil(F),w=y.getContext("2d"),w.beginPath(),w.moveTo(0,0),w.lineTo(L,0),w.lineTo(L,F),w.lineTo(0,F),w.closePath(),w.translate(L/2,F/2),w.scale(v.zoomX/this.scaleX/x,v.zoomY/this.scaleY/x),this._applyPatternGradientTransform(w,m),w.fillStyle=m.toLive(g),w.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(x*this.scaleX/v.zoomX,x*this.scaleY/v.zoomY),g.strokeStyle=w.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var g=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",g.scaleX),this.set("scaleY",g.scaleY),this.angle=g.angle,this.skewX=g.skewX,this.skewY=0}},_removeTransformMatrix:function(g){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=s.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,g&&(this.scaleX*=g.scaleX,this.scaleY*=g.scaleY,this.cropX=g.cropX,this.cropY=g.cropY,m.x+=g.offsetLeft,m.y+=g.offsetTop,this.width=g.width,this.height=g.height),this.setPositionByOrigin(m,"center","center")},clone:function(g,m){var v=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(v,g):s.Object._fromObject("Object",v,g)},cloneAsImage:function(g,m){var v=this.toCanvasElement(m);return g&&g(new s.Image(v)),this},toCanvasElement:function(g){g||(g={});var m=s.util,v=m.saveObjectTransform(this),y=this.group,w=this.shadow,x=Math.abs,L=(g.multiplier||1)*(g.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,g.withoutTransform&&m.resetObjectTransform(this),g.withoutShadow&&(this.shadow=null);var F=s.util.createCanvasElement(),M=this.getBoundingRect(!0,!0),D=this.shadow,X,I={x:0,y:0},O,W,C;D&&(O=D.blur,D.nonScaling?X={scaleX:1,scaleY:1}:X=this.getObjectScaling(),I.x=2*Math.round(x(D.offsetX)+O)*x(X.scaleX),I.y=2*Math.round(x(D.offsetY)+O)*x(X.scaleY)),W=M.width+I.x,C=M.height+I.y,F.width=Math.ceil(W),F.height=Math.ceil(C);var Q=new s.StaticCanvas(F,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});g.format==="jpeg"&&(Q.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(Q.width/2,Q.height/2),"center","center");var lt=this.canvas;Q.add(this);var it=Q.toCanvasElement(L||1,g);return this.shadow=w,this.set("canvas",lt),y&&(this.group=y),this.set(v).setCoords(),Q._objects=[],Q.dispose(),Q=null,it},toDataURL:function(g){return g||(g={}),s.util.toDataURL(this.toCanvasElement(g),g.format||"png",g.quality||1)},isType:function(g){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},rotate:function(g){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",g),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(g,m){m=m||this.canvas.getPointer(g);var v=new s.Point(m.x,m.y),y=this._getLeftTopCoords();return this.angle&&(v=s.util.rotatePoint(v,y,h(-this.angle))),{x:v.x-y.x,y:v.y-y.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),a(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(g,m,v,y){var w=s[g];m=c(m,!0),s.util.enlivenPatterns([m.fill,m.stroke],function(x){typeof x[0]<"u"&&(m.fill=x[0]),typeof x[1]<"u"&&(m.stroke=x[1]),s.util.enlivenObjectEnlivables(m,m,function(){var L=y?new w(m[y],m):new w(m);v&&v(L)})})},s.Object.__uid=0)}(i),function(){var l=t.util.degreesToRadians,s={left:-.5,center:0,right:.5},a={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(c,u,f,h,p){var A=c.x,g=c.y,m,v,y;return typeof u=="string"?u=s[u]:u-=.5,typeof h=="string"?h=s[h]:h-=.5,m=h-u,typeof f=="string"?f=a[f]:f-=.5,typeof p=="string"?p=a[p]:p-=.5,v=p-f,(m||v)&&(y=this._getTransformedDimensions(),A=c.x+m*y.x,g=c.y+v*y.y),new t.Point(A,g)},translateToCenterPoint:function(c,u,f){var h=this.translateToGivenOrigin(c,u,f,"center","center");return this.angle?t.util.rotatePoint(h,c,l(this.angle)):h},translateToOriginPoint:function(c,u,f){var h=this.translateToGivenOrigin(c,"center","center",u,f);return this.angle?t.util.rotatePoint(h,c,l(this.angle)):h},getCenterPoint:function(){var c=new t.Point(this.left,this.top);return this.translateToCenterPoint(c,this.originX,this.originY)},getPointByOrigin:function(c,u){var f=this.getCenterPoint();return this.translateToOriginPoint(f,c,u)},toLocalPoint:function(c,u,f){var h=this.getCenterPoint(),p,A;return typeof u<"u"&&typeof f<"u"?p=this.translateToGivenOrigin(h,"center","center",u,f):p=new t.Point(this.left,this.top),A=new t.Point(c.x,c.y),this.angle&&(A=t.util.rotatePoint(A,h,-l(this.angle))),A.subtractEquals(p)},setPositionByOrigin:function(c,u,f){var h=this.translateToCenterPoint(c,u,f),p=this.translateToOriginPoint(h,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(c){var u=l(this.angle),f=this.getScaledWidth(),h=t.util.cos(u)*f,p=t.util.sin(u)*f,A,g;typeof this.originX=="string"?A=s[this.originX]:A=this.originX-.5,typeof c=="string"?g=s[c]:g=c-.5,this.left+=h*(g-A),this.top+=p*(g-A),this.setCoords(),this.originX=c},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var c=this.getCenterPoint();this.originX="center",this.originY="center",this.left=c.x,this.top=c.y},_resetOrigin:function(){var c=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=c.x,this.top=c.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function l(f){return[new t.Point(f.tl.x,f.tl.y),new t.Point(f.tr.x,f.tr.y),new t.Point(f.br.x,f.br.y),new t.Point(f.bl.x,f.bl.y)]}var s=t.util,a=s.degreesToRadians,c=s.multiplyTransformMatrices,u=s.transformPoint;s.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(f,h){return h?f?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),f?this.aCoords:this.lineCoords)},getCoords:function(f,h){return l(this._getCoords(f,h))},intersectsWithRect:function(f,h,p,A){var g=this.getCoords(p,A),m=t.Intersection.intersectPolygonRectangle(g,f,h);return m.status==="Intersection"},intersectsWithObject:function(f,h,p){var A=t.Intersection.intersectPolygonPolygon(this.getCoords(h,p),f.getCoords(h,p));return A.status==="Intersection"||f.isContainedWithinObject(this,h,p)||this.isContainedWithinObject(f,h,p)},isContainedWithinObject:function(f,h,p){for(var A=this.getCoords(h,p),g=h?f.aCoords:f.lineCoords,m=0,v=f._getImageLines(g);m<4;m++)if(!f.containsPoint(A[m],v))return!1;return!0},isContainedWithinRect:function(f,h,p,A){var g=this.getBoundingRect(p,A);return g.left>=f.x&&g.left+g.width<=h.x&&g.top>=f.y&&g.top+g.height<=h.y},containsPoint:function(f,m,p,A){var g=this._getCoords(p,A),m=m||this._getImageLines(g),v=this._findCrossPoints(f,m);return v!==0&&v%2===1},isOnScreen:function(f){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br,A=this.getCoords(!0,f);return A.some(function(g){return g.x<=p.x&&g.x>=h.x&&g.y<=p.y&&g.y>=h.y})||this.intersectsWithRect(h,p,!0,f)?!0:this._containsCenterOfCanvas(h,p,f)},_containsCenterOfCanvas:function(f,h,p){var A={x:(f.x+h.x)/2,y:(f.y+h.y)/2};return!!this.containsPoint(A,null,!0,p)},isPartiallyOnScreen:function(f){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;if(this.intersectsWithRect(h,p,!0,f))return!0;var A=this.getCoords(!0,f).every(function(g){return(g.x>=p.x||g.x<=h.x)&&(g.y>=p.y||g.y<=h.y)});return A&&this._containsCenterOfCanvas(h,p,f)},_getImageLines:function(f){var h={topline:{o:f.tl,d:f.tr},rightline:{o:f.tr,d:f.br},bottomline:{o:f.br,d:f.bl},leftline:{o:f.bl,d:f.tl}};return h},_findCrossPoints:function(f,h){var p,A,g,m,v,y=0,w;for(var x in h)if(w=h[x],!(w.o.y<f.y&&w.d.y<f.y)&&!(w.o.y>=f.y&&w.d.y>=f.y)&&(w.o.x===w.d.x&&w.o.x>=f.x?v=w.o.x:(p=0,A=(w.d.y-w.o.y)/(w.d.x-w.o.x),g=f.y-p*f.x,m=w.o.y-A*w.o.x,v=-(g-m)/(p-A)),v>=f.x&&(y+=1),y===2))break;return y},getBoundingRect:function(f,h){var p=this.getCoords(f,h);return s.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(f){return Math.abs(f)<this.minScaleLimit?f<0?-this.minScaleLimit:this.minScaleLimit:f===0?1e-4:f},scale:function(f){return this._set("scaleX",f),this._set("scaleY",f),this.setCoords()},scaleToWidth:function(f,h){var p=this.getBoundingRect(h).width/this.getScaledWidth();return this.scale(f/this.width/p)},scaleToHeight:function(f,h){var p=this.getBoundingRect(h).height/this.getScaledHeight();return this.scale(f/this.height/p)},calcLineCoords:function(){var f=this.getViewportTransform(),h=this.padding,p=a(this.angle),A=s.cos(p),g=s.sin(p),m=A*h,v=g*h,y=m+v,w=m-v,x=this.calcACoords(),L={tl:u(x.tl,f),tr:u(x.tr,f),bl:u(x.bl,f),br:u(x.br,f)};return h&&(L.tl.x-=w,L.tl.y-=y,L.tr.x+=y,L.tr.y-=w,L.bl.x-=y,L.bl.y+=w,L.br.x+=w,L.br.y+=y),L},calcOCoords:function(){var f=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),p=this.getViewportTransform(),A=c(p,h),g=c(A,f),g=c(g,[1/p[0],0,0,1/p[3],0,0]),m=this._calculateCurrentDimensions(),v={};return this.forEachControl(function(y,w,x){v[w]=y.positionHandler(m,g,x)}),v},calcACoords:function(){var f=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),p=c(h,f),A=this._getTransformedDimensions(),g=A.x/2,m=A.y/2;return{tl:u({x:-g,y:-m},p),tr:u({x:g,y:-m},p),bl:u({x:-g,y:m},p),br:u({x:g,y:m},p)}},setCoords:function(f){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),f?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var f=this.getCenterPoint();return[1,0,0,1,f.x,f.y]},transformMatrixKey:function(f){var h="_",p="";return!f&&this.group&&(p=this.group.transformMatrixKey(f)+h),p+this.top+h+this.left+h+this.scaleX+h+this.scaleY+h+this.skewX+h+this.skewY+h+this.angle+h+this.originX+h+this.originY+h+this.width+h+this.height+h+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(f){var h=this.calcOwnMatrix();if(f||!this.group)return h;var p=this.transformMatrixKey(f),A=this.matrixCache||(this.matrixCache={});return A.key===p?A.value:(this.group&&(h=c(this.group.calcTransformMatrix(!1),h)),A.key=p,A.value=h,h)},calcOwnMatrix:function(){var f=this.transformMatrixKey(!0),h=this.ownMatrixCache||(this.ownMatrixCache={});if(h.key===f)return h.value;var p=this._calcTranslateMatrix(),A={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return h.key=f,h.value=s.composeMatrix(A),h.value},_getNonTransformedDimensions:function(){var f=this.strokeWidth,h=this.width+f,p=this.height+f;return{x:h,y:p}},_getTransformedDimensions:function(f,h){typeof f>"u"&&(f=this.skewX),typeof h>"u"&&(h=this.skewY);var p,A,g,m=f===0&&h===0;if(this.strokeUniform?(A=this.width,g=this.height):(p=this._getNonTransformedDimensions(),A=p.x,g=p.y),m)return this._finalizeDimensions(A*this.scaleX,g*this.scaleY);var v=s.sizeAfterTransform(A,g,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:f,skewY:h});return this._finalizeDimensions(v.x,v.y)},_finalizeDimensions:function(f,h){return this.strokeUniform?{x:f+this.strokeWidth,y:h+this.strokeWidth}:{x:f,y:h}},_calculateCurrentDimensions:function(){var f=this.getViewportTransform(),h=this._getTransformedDimensions(),p=u(h,f,!0);return p.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(l){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,l):this.canvas&&this.canvas.sendBackwards(this,l),this},bringForward:function(l){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,l):this.canvas&&this.canvas.bringForward(this,l),this},moveTo:function(l){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,l):this.canvas&&this.canvas.moveTo(this,l),this}}),function(){function l(a,c){if(c){if(c.toLive)return a+": url(#SVGID_"+c.id+"); ";var u=new t.Color(c),f=a+": "+u.toRgb()+"; ",h=u.getAlpha();return h!==1&&(f+=a+"-opacity: "+h.toString()+"; "),f}else return a+": none; "}var s=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(a){var c=this.fillRule?this.fillRule:"nonzero",u=this.strokeWidth?this.strokeWidth:"0",f=this.strokeDashArray?this.strokeDashArray.join(" "):"none",h=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",A=this.strokeLineJoin?this.strokeLineJoin:"miter",g=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",v=this.visible?"":" visibility: hidden;",y=a?"":this.getSvgFilter(),w=l("fill",this.fill),x=l("stroke",this.stroke);return[x,"stroke-width: ",u,"; ","stroke-dasharray: ",f,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",h,"; ","stroke-linejoin: ",A,"; ","stroke-miterlimit: ",g,"; ",w,"fill-rule: ",c,"; ","opacity: ",m,";",y,v].join("")},getSvgSpanStyles:function(a,c){var u="; ",h=a.fontFamily?"font-family: "+(a.fontFamily.indexOf("'")===-1&&a.fontFamily.indexOf('"')===-1?"'"+a.fontFamily+"'":a.fontFamily)+u:"",f=a.strokeWidth?"stroke-width: "+a.strokeWidth+u:"",h=h,p=a.fontSize?"font-size: "+a.fontSize+"px"+u:"",A=a.fontStyle?"font-style: "+a.fontStyle+u:"",g=a.fontWeight?"font-weight: "+a.fontWeight+u:"",m=a.fill?l("fill",a.fill):"",v=a.stroke?l("stroke",a.stroke):"",y=this.getSvgTextDecoration(a),w=a.deltaY?"baseline-shift: "+-a.deltaY+"; ":"";return y&&(y="text-decoration: "+y+u),[v,f,h,p,A,g,y,m,w,c?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(a){return["overline","underline","line-through"].filter(function(c){return a[c.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(a,c){var u=a?this.calcTransformMatrix():this.calcOwnMatrix(),f='transform="'+t.util.matrixToSVG(u);return f+(c||"")+'" '},_setSVGBg:function(a){if(this.backgroundColor){var c=t.Object.NUM_FRACTION_DIGITS;a.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,c),'" y="',s(-this.height/2,c),'" width="',s(this.width,c),'" height="',s(this.height,c),`"></rect>
`)}},toSVG:function(a){return this._createBaseSVGMarkup(this._toSVG(a),{reviver:a})},toClipPathSVG:function(a){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(a),{reviver:a})},_createBaseClipPathSVGMarkup:function(a,c){c=c||{};var u=c.reviver,f=c.additionalTransform||"",h=[this.getSvgTransform(!0,f),this.getSvgCommons()].join(""),p=a.indexOf("COMMON_PARTS");return a[p]=h,u?u(a.join("")):a.join("")},_createBaseSVGMarkup:function(a,c){c=c||{};var u=c.noStyle,f=c.reviver,h=u?"":'style="'+this.getSvgStyles()+'" ',p=c.withShadow?'style="'+this.getSvgFilter()+'" ':"",A=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=A&&A.absolutePositioned,v=this.stroke,y=this.fill,w=this.shadow,x,L=[],F,M=a.indexOf("COMMON_PARTS"),D=c.additionalTransform;return A&&(A.clipPathId="CLIPPATH_"+t.Object.__uid++,F='<clipPath id="'+A.clipPathId+`" >
`+A.toClipPathSVG(f)+`</clipPath>
`),m&&L.push("<g ",p,this.getSvgCommons(),` >
`),L.push("<g ",this.getSvgTransform(!1),m?"":p+this.getSvgCommons(),` >
`),x=[h,g,u?"":this.addPaintOrder()," ",D?'transform="'+D+'" ':""].join(""),a[M]=x,y&&y.toLive&&L.push(y.toSVG(this)),v&&v.toLive&&L.push(v.toSVG(this)),w&&L.push(w.toSVG(this)),A&&L.push(F),L.push(a.join("")),L.push(`</g>
`),m&&L.push(`</g>
`),f?f(L.join("")):L.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var l=t.util.object.extend,s="stateProperties";function a(u,f,h){var p={},A=!0;h.forEach(function(g){p[g]=u[g]}),l(u[f],p,A)}function c(u,f,h){if(u===f)return!0;if(Array.isArray(u)){if(!Array.isArray(f)||u.length!==f.length)return!1;for(var p=0,A=u.length;p<A;p++)if(!c(u[p],f[p]))return!1;return!0}else if(u&&typeof u=="object"){var g=Object.keys(u),m;if(!f||typeof f!="object"||!h&&g.length!==Object.keys(f).length)return!1;for(var p=0,A=g.length;p<A;p++)if(m=g[p],!(m==="canvas"||m==="group")&&!c(u[m],f[m]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(u){u=u||s;var f="_"+u;return Object.keys(this[f]).length<this[u].length?!0:!c(this[f],this,!0)},saveState:function(u){var f=u&&u.propertySet||s,h="_"+f;return this[h]?(a(this,h,this[f]),u&&u.stateProperties&&a(this,h,u.stateProperties),this):this.setupState(u)},setupState:function(u){u=u||{};var f=u.propertySet||s;return u.propertySet=f,this["_"+f]={},this.saveState(u),this}})}(),function(){var l=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(s,a){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var c=s.x,u=s.y,f,h,p=Object.keys(this.oCoords),A=p.length-1,g;for(this.__corner=0;A>=0;A--)if(g=p[A],!!this.isControlVisible(g)&&(h=this._getImageLines(a?this.oCoords[g].touchCorner:this.oCoords[g].corner),f=this._findCrossPoints({x:c,y:u},h),f!==0&&f%2===1))return this.__corner=g,g;return!1},forEachControl:function(s){for(var a in this.controls)s(this.controls[a],a,this)},_setCornerCoords:function(){var s=this.oCoords;for(var a in s){var c=this.controls[a];s[a].corner=c.calcCornerCoords(this.angle,this.cornerSize,s[a].x,s[a].y,!1),s[a].touchCorner=c.calcCornerCoords(this.angle,this.touchCornerSize,s[a].x,s[a].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var a=this.getCenterPoint(),c=this._calculateCurrentDimensions(),u=this.canvas.viewportTransform;return s.translate(a.x,a.y),s.scale(1/u[0],1/u[3]),s.rotate(l(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-c.x/2,-c.y/2,c.x,c.y),s.restore(),this},drawBorders:function(s,a){a=a||{};var c=this._calculateCurrentDimensions(),u=this.borderScaleFactor,f=c.x+u,h=c.y+u,p=typeof a.hasControls<"u"?a.hasControls:this.hasControls,A=!1;return s.save(),s.strokeStyle=a.borderColor||this.borderColor,this._setLineDash(s,a.borderDashArray||this.borderDashArray),s.strokeRect(-f/2,-h/2,f,h),p&&(s.beginPath(),this.forEachControl(function(g,m,v){g.withConnection&&g.getVisibility(v,m)&&(A=!0,s.moveTo(g.x*f,g.y*h),s.lineTo(g.x*f+g.offsetX,g.y*h+g.offsetY))}),A&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,a,c){c=c||{};var u=t.util.sizeAfterTransform(this.width,this.height,a),f=this.strokeWidth,h=this.strokeUniform,p=this.borderScaleFactor,A=u.x+f*(h?this.canvas.getZoom():a.scaleX)+p,g=u.y+f*(h?this.canvas.getZoom():a.scaleY)+p;return s.save(),this._setLineDash(s,c.borderDashArray||this.borderDashArray),s.strokeStyle=c.borderColor||this.borderColor,s.strokeRect(-A/2,-g/2,A,g),s.restore(),this},drawControls:function(s,a){a=a||{},s.save();var c=1,u,f;return this.canvas&&(c=this.canvas.getRetinaScaling()),s.setTransform(c,0,0,c,0,0),s.strokeStyle=s.fillStyle=a.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=a.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,a.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(u=this.group.calcTransformMatrix()),this.forEachControl(function(h,p,A){f=A.oCoords[p],h.getVisibility(A,p)&&(u&&(f=t.util.transformPoint(f,u)),h.render(s,f.x,f.y,a,A))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,a){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=a,this},setControlsVisibility:function(s){s||(s={});for(var a in s)this.setControlVisible(a,s[a]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(l,s){s=s||{};var a=function(){},c=s.onComplete||a,u=s.onChange||a,f=this;return t.util.animate({target:this,startValue:l.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(h){l.set("left",h),f.requestRenderAll(),u()},onComplete:function(){l.setCoords(),c()}})},fxCenterObjectV:function(l,s){s=s||{};var a=function(){},c=s.onComplete||a,u=s.onChange||a,f=this;return t.util.animate({target:this,startValue:l.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(h){l.set("top",h),f.requestRenderAll(),u()},onComplete:function(){l.setCoords(),c()}})},fxRemove:function(l,s){s=s||{};var a=function(){},c=s.onComplete||a,u=s.onChange||a,f=this;return t.util.animate({target:this,startValue:l.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(h){l.set("opacity",h),f.requestRenderAll(),u()},onComplete:function(){f.remove(l),c()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var l=[],s,a,c=[];for(s in arguments[0])l.push(s);for(var u=0,f=l.length;u<f;u++)s=l[u],a=u!==f-1,c.push(this._animate(s,arguments[0][s],arguments[1],a));return c}else return this._animate.apply(this,arguments)},_animate:function(l,s,a,c){var u=this,f;s=s.toString(),a?a=t.util.object.clone(a):a={},~l.indexOf(".")&&(f=l.split("."));var h=u.colorProperties.indexOf(l)>-1||f&&u.colorProperties.indexOf(f[1])>-1,p=f?this.get(f[0])[f[1]]:this.get(l);"from"in a||(a.from=p),h||(~s.indexOf("=")?s=p+parseFloat(s.replace("=","")):s=parseFloat(s));var A={target:this,startValue:a.from,endValue:s,byValue:a.by,easing:a.easing,duration:a.duration,abort:a.abort&&function(g,m,v){return a.abort.call(u,g,m,v)},onChange:function(g,m,v){f?u[f[0]][f[1]]=g:u.set(l,g),!c&&a.onChange&&a.onChange(g,m,v)},onComplete:function(g,m,v){c||(u.setCoords(),a.onComplete&&a.onComplete(g,m,v))}};return h?t.util.animateColor(A.startValue,A.endValue,A.duration,A):t.util.animate(A)}}),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.util.object.clone,u={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(h,p){h||(h=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",h[0]),this.set("y1",h[1]),this.set("x2",h[2]),this.set("y2",h[3]),this._setWidthHeight(p)},_setWidthHeight:function(h){h||(h={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in h?h.left:this._getLeftToOriginX(),this.top="top"in h?h.top:this._getTopToOriginY()},_set:function(h,p){return this.callSuper("_set",h,p),typeof u[h]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:f({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:f({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(h){h.beginPath();var p=this.calcLinePoints();h.moveTo(p.x1,p.y1),h.lineTo(p.x2,p.y2),h.lineWidth=this.strokeWidth;var A=h.strokeStyle;h.strokeStyle=this.stroke||h.fillStyle,this.stroke&&this._renderStroke(h),h.strokeStyle=A},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(h){return a(this.callSuper("toObject",h),this.calcLinePoints())},_getNonTransformedDimensions:function(){var h=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(h.y-=this.strokeWidth),this.height===0&&(h.x-=this.strokeWidth)),h},calcLinePoints:function(){var h=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1,A=h*this.width*.5,g=p*this.height*.5,m=h*this.width*-.5,v=p*this.height*-.5;return{x1:A,x2:m,y1:g,y2:v}},_toSVG:function(){var h=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(h,p,A){A=A||{};var g=s.parseAttributes(h,s.Line.ATTRIBUTE_NAMES),m=[g.x1||0,g.y1||0,g.x2||0,g.y2||0];p(new s.Line(m,a(g,A)))},s.Line.fromObject=function(h,p){function A(m){delete m.points,p&&p(m)}var g=c(h,!0);g.points=[h.x1,h.y1,h.x2,h.y2],s.Object._fromObject("Line",g,A,"points")};function f(h,p){var A=h.origin,g=h.axis1,m=h.axis2,v=h.dimension,y=p.nearest,w=p.center,x=p.farthest;return function(){switch(this.get(A)){case y:return Math.min(this.get(g),this.get(m));case w:return Math.min(this.get(g),this.get(m))+.5*this.get(v);case x:return Math.max(this.get(g),this.get(m))}}}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(u,f){return this.callSuper("_set",u,f),u==="radius"&&this.setRadius(f),this},toObject:function(u){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(u))},_toSVG:function(){var u,f=0,h=0,p=(this.endAngle-this.startAngle)%360;if(p===0)u=["<circle ","COMMON_PARTS",'cx="'+f+'" cy="'+h+'" ','r="',this.radius,`" />
`];else{var A=a(this.startAngle),g=a(this.endAngle),m=this.radius,v=s.util.cos(A)*m,y=s.util.sin(A)*m,w=s.util.cos(g)*m,x=s.util.sin(g)*m,L=p>180?"1":"0";u=['<path d="M '+v+" "+y," A "+m+" "+m," 0 ",+L+" 1"," "+w+" "+x,'" ',"COMMON_PARTS",` />
`]}return u},_render:function(u){u.beginPath(),u.arc(0,0,this.radius,a(this.startAngle),a(this.endAngle),!1),this._renderPaintInOrder(u)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(u){return this.radius=u,this.set("width",u*2).set("height",u*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(u,f){var h=s.parseAttributes(u,s.Circle.ATTRIBUTE_NAMES);if(!c(h))throw new Error("value of `r` attribute is required and can not be negative");h.left=(h.left||0)-h.radius,h.top=(h.top||0)-h.radius,f(new s.Circle(h))};function c(u){return"radius"in u&&u.radius>=0}s.Circle.fromObject=function(u,f){s.Object._fromObject("Circle",u,f)}}(i),function(l){var s=l.fabric||(l.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(a){var c=this.width/2,u=this.height/2;a.beginPath(),a.moveTo(-c,u),a.lineTo(0,-u),a.lineTo(c,u),a.closePath(),this._renderPaintInOrder(a)},_toSVG:function(){var a=this.width/2,c=this.height/2,u=[-a+" "+c,"0 "+-c,a+" "+c].join(",");return["<polygon ","COMMON_PARTS",'points="',u,'" />']}}),s.Triangle.fromObject=function(a,c){return s.Object._fromObject("Triangle",a,c)}}(i),function(l){var s=l.fabric||(l.fabric={}),a=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(c){this.callSuper("initialize",c),this.set("rx",c&&c.rx||0),this.set("ry",c&&c.ry||0)},_set:function(c,u){switch(this.callSuper("_set",c,u),c){case"rx":this.rx=u,this.set("width",u*2);break;case"ry":this.ry=u,this.set("height",u*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(c){return this.callSuper("toObject",["rx","ry"].concat(c))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(c){c.beginPath(),c.save(),c.transform(1,0,0,this.ry/this.rx,0,0),c.arc(0,0,this.rx,0,a,!1),c.restore(),this._renderPaintInOrder(c)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(c,u){var f=s.parseAttributes(c,s.Ellipse.ATTRIBUTE_NAMES);f.left=(f.left||0)-f.rx,f.top=(f.top||0)-f.ry,u(new s.Ellipse(f))},s.Ellipse.fromObject=function(c,u){s.Object._fromObject("Ellipse",c,u)}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(c){this.callSuper("initialize",c),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(c){var u=this.rx?Math.min(this.rx,this.width/2):0,f=this.ry?Math.min(this.ry,this.height/2):0,h=this.width,p=this.height,A=-this.width/2,g=-this.height/2,m=u!==0||f!==0,v=1-.5522847498;c.beginPath(),c.moveTo(A+u,g),c.lineTo(A+h-u,g),m&&c.bezierCurveTo(A+h-v*u,g,A+h,g+v*f,A+h,g+f),c.lineTo(A+h,g+p-f),m&&c.bezierCurveTo(A+h,g+p-v*f,A+h-v*u,g+p,A+h-u,g+p),c.lineTo(A+u,g+p),m&&c.bezierCurveTo(A+v*u,g+p,A,g+p-v*f,A,g+p-f),c.lineTo(A,g+f),m&&c.bezierCurveTo(A,g+v*f,A+v*u,g,A+u,g),c.closePath(),this._renderPaintInOrder(c)},toObject:function(c){return this.callSuper("toObject",["rx","ry"].concat(c))},_toSVG:function(){var c=-this.width/2,u=-this.height/2;return["<rect ","COMMON_PARTS",'x="',c,'" y="',u,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(c,u,f){if(!c)return u(null);f=f||{};var h=s.parseAttributes(c,s.Rect.ATTRIBUTE_NAMES);h.left=h.left||0,h.top=h.top||0,h.height=h.height||0,h.width=h.width||0;var p=new s.Rect(a(f?s.util.object.clone(f):{},h));p.visible=p.visible&&p.width>0&&p.height>0,u(p)},s.Rect.fromObject=function(c,u){return s.Object._fromObject("Rect",c,u)}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.util.array.min,u=s.util.array.max,f=s.util.toFixed,h=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(p,A){A=A||{},this.points=p||[],this.callSuper("initialize",A),this._setPositionDimensions(A)},_projectStrokeOnPoints:function(){return h(this.points,this,!0)},_setPositionDimensions:function(p){var A=this._calcDimensions(p),g,m=this.exactBoundingBox?this.strokeWidth:0;this.width=A.width-m,this.height=A.height-m,p.fromSVG||(g=this.translateToGivenOrigin({x:A.left-this.strokeWidth/2+m/2,y:A.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?A.left:g.x),typeof p.top>"u"&&(this.top=p.fromSVG?A.top:g.y),this.pathOffset={x:A.left+this.width/2+m/2,y:A.top+this.height/2+m/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,A=c(p,"x")||0,g=c(p,"y")||0,m=u(p,"x")||0,v=u(p,"y")||0,y=m-A,w=v-g;return{left:A,top:g,width:y,height:w}},toObject:function(p){return a(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],A=this.pathOffset.x,g=this.pathOffset.y,m=s.Object.NUM_FRACTION_DIGITS,v=0,y=this.points.length;v<y;v++)p.push(f(this.points[v].x-A,m),",",f(this.points[v].y-g,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),`" />
`]},commonRender:function(p){var A,g=this.points.length,m=this.pathOffset.x,v=this.pathOffset.y;if(!g||isNaN(this.points[g-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-m,this.points[0].y-v);for(var y=0;y<g;y++)A=this.points[y],p.lineTo(A.x-m,A.y-v);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(p){return function(A,g,m){if(!A)return g(null);m||(m={});var v=s.parsePointsAttribute(A.getAttribute("points")),y=s.parseAttributes(A,s[p].ATTRIBUTE_NAMES);y.fromSVG=!0,g(new s[p](v,a(y,m)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(p,A){return s.Object._fromObject("Polyline",p,A,"points")}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return a(this.points,this)},_render:function(c){this.commonRender(c)&&(c.closePath(),this._renderPaintInOrder(c))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(c,u){s.Object._fromObject("Polygon",c,u,"points")}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.array.min,c=s.util.array.max,u=s.util.object.extend,f=s.util.object.clone,h=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(p,A){A=f(A||{}),delete A.path,this.callSuper("initialize",A),this._setPath(p||[],A)},_setPath:function(p,A){this.path=s.util.makePathSimpler(Array.isArray(p)?p:s.util.parsePath(p)),s.Polyline.prototype._setPositionDimensions.call(this,A||{})},_renderPathCommands:function(p){var A,g=0,m=0,v=0,y=0,w=0,x=0,L=-this.pathOffset.x,F=-this.pathOffset.y;p.beginPath();for(var M=0,D=this.path.length;M<D;++M)switch(A=this.path[M],A[0]){case"L":v=A[1],y=A[2],p.lineTo(v+L,y+F);break;case"M":v=A[1],y=A[2],g=v,m=y,p.moveTo(v+L,y+F);break;case"C":v=A[5],y=A[6],w=A[3],x=A[4],p.bezierCurveTo(A[1]+L,A[2]+F,w+L,x+F,v+L,y+F);break;case"Q":p.quadraticCurveTo(A[1]+L,A[2]+F,A[3]+L,A[4]+F),v=A[3],y=A[4],w=A[1],x=A[2];break;case"z":case"Z":v=g,y=m,p.closePath();break}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return u(this.callSuper("toObject",p),{path:this.path.map(function(A){return A.slice()})})},toDatalessObject:function(p){var A=this.toObject(["sourcePath"].concat(p));return A.sourcePath&&delete A.path,A},_toSVG:function(){var p=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',p,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var p=s.Object.NUM_FRACTION_DIGITS;return" translate("+h(-this.pathOffset.x,p)+", "+h(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var A=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:A})},toSVG:function(p){var A=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:A})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var p=[],A=[],g,m=0,v=0,y=0,w=0,x,L=0,F=this.path.length;L<F;++L){switch(g=this.path[L],g[0]){case"L":y=g[1],w=g[2],x=[];break;case"M":y=g[1],w=g[2],m=y,v=w,x=[];break;case"C":x=s.util.getBoundsOfCurve(y,w,g[1],g[2],g[3],g[4],g[5],g[6]),y=g[5],w=g[6];break;case"Q":x=s.util.getBoundsOfCurve(y,w,g[1],g[2],g[1],g[2],g[3],g[4]),y=g[3],w=g[4];break;case"z":case"Z":y=m,w=v;break}x.forEach(function(C){p.push(C.x),A.push(C.y)}),p.push(y),A.push(w)}var M=a(p)||0,D=a(A)||0,X=c(p)||0,I=c(A)||0,O=X-M,W=I-D;return{left:M,top:D,width:O,height:W}}}),s.Path.fromObject=function(p,A){if(typeof p.sourcePath=="string"){var g=p.sourcePath;s.loadSVGFromURL(g,function(m){var v=m[0];v.setOptions(p),p.clipPath?s.util.enlivenObjects([p.clipPath],function(y){v.clipPath=y[0],A&&A(v)}):A&&A(v)})}else s.Object._fromObject("Path",p,A,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(p,A,g){var m=s.parseAttributes(p,s.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,A(new s.Path(m.d,u(m,g)))}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.array.min,c=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(u,f,h){f=f||{},this._objects=[],h&&this.callSuper("initialize",f),this._objects=u||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(h)this._updateObjectsACoords();else{var A=f&&f.centerPoint;f.originX!==void 0&&(this.originX=f.originX),f.originY!==void 0&&(this.originY=f.originY),A||this._calcBounds(),this._updateObjectsCoords(A),delete f.centerPoint,this.callSuper("initialize",f)}this.setCoords()},_updateObjectsACoords:function(){for(var u=!0,f=this._objects.length;f--;)this._objects[f].setCoords(u)},_updateObjectsCoords:function(f){for(var f=f||this.getCenterPoint(),h=this._objects.length;h--;)this._updateObjectCoords(this._objects[h],f)},_updateObjectCoords:function(u,f){var h=u.left,p=u.top,A=!0;u.set({left:h-f.x,top:p-f.y}),u.group=this,u.setCoords(A)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(u){var f=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),u&&(f&&s.util.removeTransformFromObject(u,this.group.calcTransformMatrix()),this._objects.push(u),u.group=this,u._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,f?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(u){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(u),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(u){this.dirty=!0,u.group=this,u._set("canvas",this.canvas)},_onObjectRemoved:function(u){this.dirty=!0,delete u.group},_set:function(u,f){var h=this._objects.length;if(this.useSetOnGroup)for(;h--;)this._objects[h].setOnGroup(u,f);if(u==="canvas")for(;h--;)this._objects[h]._set(u,f);s.Object.prototype._set.call(this,u,f)},toObject:function(u){var f=this.includeDefaultValues,h=this._objects.filter(function(A){return!A.excludeFromExport}).map(function(A){var g=A.includeDefaultValues;A.includeDefaultValues=f;var m=A.toObject(u);return A.includeDefaultValues=g,m}),p=s.Object.prototype.toObject.call(this,u);return p.objects=h,p},toDatalessObject:function(u){var f,h=this.sourcePath;if(h)f=h;else{var p=this.includeDefaultValues;f=this._objects.map(function(g){var m=g.includeDefaultValues;g.includeDefaultValues=p;var v=g.toDatalessObject(u);return g.includeDefaultValues=m,v})}var A=s.Object.prototype.toDatalessObject.call(this,u);return A.objects=f,A},render:function(u){this._transformDone=!0,this.callSuper("render",u),this._transformDone=!1},shouldCache:function(){var u=s.Object.prototype.shouldCache.call(this);if(u){for(var f=0,h=this._objects.length;f<h;f++)if(this._objects[f].willDrawShadow())return this.ownCaching=!1,!1}return u},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var u=0,f=this._objects.length;u<f;u++)if(this._objects[u].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(u){for(var f=0,h=this._objects.length;f<h;f++)this._objects[f].render(u);this._drawClipPath(u,this.clipPath)},isCacheDirty:function(u){if(this.callSuper("isCacheDirty",u))return!0;if(!this.statefullCache)return!1;for(var f=0,h=this._objects.length;f<h;f++)if(this._objects[f].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,A=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-A/2,p,A)}return!0}return!1},_restoreObjectsState:function(){var u=this.calcOwnMatrix();return this._objects.forEach(function(f){s.util.addTransformToObject(f,u),delete f.group,f.setCoords()}),this},destroy:function(){return this._objects.forEach(function(u){u.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(u){u.dispose&&u.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var u=this._objects,f=this.canvas;this._objects=[];var h=this.toObject();delete h.objects;var p=new s.ActiveSelection([]);return p.set(h),p.type="activeSelection",f.remove(this),u.forEach(function(A){A.group=p,A.dirty=!0,f.add(A)}),p.canvas=f,p._objects=u,f._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var u=!0;return this.forEachObject(function(f){f.setCoords(u)}),this},_calcBounds:function(u){for(var f=[],h=[],p,A,g,m=["tr","br","bl","tl"],v=0,y=this._objects.length,w,x=m.length;v<y;++v){for(p=this._objects[v],g=p.calcACoords(),w=0;w<x;w++)A=m[w],f.push(g[A].x),h.push(g[A].y);p.aCoords=g}this._getBounds(f,h,u)},_getBounds:function(u,f,h){var p=new s.Point(a(u),a(f)),A=new s.Point(c(u),c(f)),g=p.y||0,m=p.x||0,v=A.x-p.x||0,y=A.y-p.y||0;this.width=v,this.height=y,h||this.setPositionByOrigin({x:m,y:g},"left","top")},_toSVG:function(u){for(var f=["<g ","COMMON_PARTS",` >
`],h=0,p=this._objects.length;h<p;h++)f.push("		",this._objects[h].toSVG(u));return f.push(`</g>
`),f},getSvgStyles:function(){var u=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",f=this.visible?"":" visibility: hidden;";return[u,this.getSvgFilter(),f].join("")},toClipPathSVG:function(u){for(var f=[],h=0,p=this._objects.length;h<p;h++)f.push("	",this._objects[h].toClipPathSVG(u));return this._createBaseClipPathSVGMarkup(f,{reviver:u})}}),s.Group.fromObject=function(u,f){var h=u.objects,p=s.util.object.clone(u,!0);if(delete p.objects,typeof h=="string"){s.loadSVGFromURL(h,function(A){var g=s.util.groupSVGElements(A,u,h),m=p.clipPath;delete p.clipPath,g.set(p),m?s.util.enlivenObjects([m],function(v){g.clipPath=v[0],f&&f(g)}):f&&f(g)});return}s.util.enlivenObjects(h,function(A){s.util.enlivenObjectEnlivables(u,p,function(){f&&f(new s.Group(A,p,!0))})})})}(i),function(l){var s=l.fabric||(l.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(a,c){c=c||{},this._objects=a||[];for(var u=this._objects.length;u--;)this._objects[u].group=this;c.originX&&(this.originX=c.originX),c.originY&&(this.originY=c.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,c),this.setCoords()},toGroup:function(){var a=this._objects.concat();this._objects=[];var c=s.Object.prototype.toObject.call(this),u=new s.Group([]);if(delete c.type,u.set(c),a.forEach(function(h){h.canvas.remove(h),h.group=u}),u._objects=a,!this.canvas)return u;var f=this.canvas;return f.add(u),f._activeObject=u,u.setCoords(),u},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(a,c,u){a.save(),a.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,u=u||{},typeof u.hasControls>"u"&&(u.hasControls=!1),u.forActiveSelection=!0;for(var f=0,h=this._objects.length;f<h;f++)this._objects[f]._renderControls(a,u);this.callSuper("_renderControls",a,c),a.restore()}}),s.ActiveSelection.fromObject=function(a,c){s.util.enlivenObjects(a.objects,function(u){delete a.objects,c&&c(new s.ActiveSelection(u,a,!0))})})}(i),function(l){var s=t.util.object.extend;if(l.fabric||(l.fabric={}),l.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(a,c){c||(c={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",c),this._initElement(a,c)},getElement:function(){return this._element||{}},setElement:function(a,c){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=a,this._originalElement=a,this._initConfig(c),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(a){var c=t.filterBackend;c&&c.evictCachesForKey&&c.evictCachesForKey(a)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(a){t.util.cleanUpJsdomNode(this[a]),this[a]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var a=this.getElement();return{width:a.naturalWidth||a.width,height:a.naturalHeight||a.height}},_stroke:function(a){if(!(!this.stroke||this.strokeWidth===0)){var c=this.width/2,u=this.height/2;a.beginPath(),a.moveTo(-c,-u),a.lineTo(c,-u),a.lineTo(c,u),a.lineTo(-c,u),a.lineTo(-c,-u),a.closePath()}},toObject:function(a){var c=[];this.filters.forEach(function(f){f&&c.push(f.toObject())});var u=s(this.callSuper("toObject",["cropX","cropY"].concat(a)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:c});return this.resizeFilter&&(u.resizeFilter=this.resizeFilter.toObject()),u},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var a=[],c=[],u,f=this._element,h=-this.width/2,p=-this.height/2,A="",g="";if(!f)return[];if(this.hasCrop()){var m=t.Object.__uid++;a.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+h+'" y="'+p+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),A=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(g='" image-rendering="optimizeSpeed'),c.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',h-this.cropX,'" y="',p-this.cropY,'" width="',f.width||f.naturalWidth,'" height="',f.height||f.height,g,'"',A,`></image>
`),this.stroke||this.strokeDashArray){var v=this.fill;this.fill=null,u=["	<rect ",'x="',h,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=v}return this.paintFirst!=="fill"?a=a.concat(u,c):a=a.concat(c,u),a},getSrc:function(a){var c=a?this._element:this._originalElement;return c?c.toDataURL?c.toDataURL():this.srcFromAttribute?c.getAttribute("src"):c.src:this.src||""},setSrc:function(a,c,u){return t.util.loadImage(a,function(f,h){this.setElement(f,u),this._setWidthHeight(),c&&c(this,h)},this,u&&u.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var a=this.resizeFilter,c=this.minimumScaleTrigger,u=this.getTotalObjectScaling(),f=u.scaleX,h=u.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!a||f>c&&h>c){this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=f,this._lastScaleY=h;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var A=t.util.createCanvasElement(),g=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=p.width,v=p.height;A.width=m,A.height=v,this._element=A,this._lastScaleX=a.scaleX=f,this._lastScaleY=a.scaleY=h,t.filterBackend.applyFilters([a],p,m,v,this._element,g),this._filterScalingX=A.width/this._originalElement.width,this._filterScalingY=A.height/this._originalElement.height},applyFilters:function(a){if(a=a||this.filters||[],a=a.filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),a.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var c=this._originalElement,u=c.naturalWidth||c.width,f=c.naturalHeight||c.height;if(this._element===this._originalElement){var h=t.util.createCanvasElement();h.width=u,h.height=f,this._element=h,this._filteredEl=h}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,u,f),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(a,this._originalElement,u,f,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(a){t.util.setImageSmoothing(a,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(a),this._renderPaintInOrder(a)},drawCacheOnCanvas:function(a){t.util.setImageSmoothing(a,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,a)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(a){var c=this._element;if(c){var u=this._filterScalingX,f=this._filterScalingY,h=this.width,p=this.height,A=Math.min,g=Math.max,m=g(this.cropX,0),v=g(this.cropY,0),y=c.naturalWidth||c.width,w=c.naturalHeight||c.height,x=m*u,L=v*f,F=A(h*u,y-x),M=A(p*f,w-L),D=-h/2,X=-p/2,I=A(h,y/u-m),O=A(p,w/f-v);c&&a.drawImage(c,x,L,F,M,D,X,I,O)}},_needsResize:function(){var a=this.getTotalObjectScaling();return a.scaleX!==this._lastScaleX||a.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(a,c){this.setElement(t.util.getById(a),c),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(a){a||(a={}),this.setOptions(a),this._setWidthHeight(a)},_initFilters:function(a,c){a&&a.length?t.util.enlivenObjects(a,function(u){c&&c(u)},"fabric.Image.filters"):c&&c()},_setWidthHeight:function(a){a||(a={});var c=this.getElement();this.width=a.width||c.naturalWidth||c.width||0,this.height=a.height||c.naturalHeight||c.height||0},parsePreserveAspectRatioAttribute:function(){var a=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),c=this._element.width,u=this._element.height,f=1,h=1,p=0,A=0,g=0,m=0,v,y=this.width,w=this.height,x={width:y,height:w};return a&&(a.alignX!=="none"||a.alignY!=="none")?(a.meetOrSlice==="meet"&&(f=h=t.util.findScaleToFit(this._element,x),v=(y-c*f)/2,a.alignX==="Min"&&(p=-v),a.alignX==="Max"&&(p=v),v=(w-u*h)/2,a.alignY==="Min"&&(A=-v),a.alignY==="Max"&&(A=v)),a.meetOrSlice==="slice"&&(f=h=t.util.findScaleToCover(this._element,x),v=c-y/f,a.alignX==="Mid"&&(g=v/2),a.alignX==="Max"&&(g=v),v=u-w/h,a.alignY==="Mid"&&(m=v/2),a.alignY==="Max"&&(m=v),c=y/f,u=w/h)):(f=y/c,h=w/u),{width:c,height:u,scaleX:f,scaleY:h,offsetLeft:p,offsetTop:A,cropX:g,cropY:m}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(a,c){var u=t.util.object.clone(a);t.util.loadImage(u.src,function(f,h){if(h){c&&c(null,!0);return}t.Image.prototype._initFilters.call(u,u.filters,function(p){u.filters=p||[],t.Image.prototype._initFilters.call(u,[u.resizeFilter],function(A){u.resizeFilter=A[0],t.util.enlivenObjectEnlivables(u,u,function(){var g=new t.Image(f,u);c(g,!1)})})})},null,u.crossOrigin)},t.Image.fromURL=function(a,c,u){t.util.loadImage(a,function(f,h){c&&c(new t.Image(f,u),h)},null,u&&u.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(a,c,u){var f=t.parseAttributes(a,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(f["xlink:href"],c,s(u?t.util.object.clone(u):{},f))}}(i),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var l=this.angle%360;return l>0?Math.round((l-1)/90)*90:Math.round(l/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(l){l=l||{};var s=function(){},a=l.onComplete||s,c=l.onChange||s,u=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(f){u.rotate(f),c()},onComplete:function(){u.setCoords(),a()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(l){return l.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(l){return l.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function l(a,c){var u="precision "+c+` float;
void main(){}`,f=a.createShader(a.FRAGMENT_SHADER);return a.shaderSource(f,u),a.compileShader(f),!!a.getShaderParameter(f,a.COMPILE_STATUS)}t.isWebglSupported=function(a){if(t.isLikelyNode)return!1;a=a||t.WebglFilterBackend.prototype.tileSize;var c=document.createElement("canvas"),u=c.getContext("webgl")||c.getContext("experimental-webgl"),f=!1;if(u){t.maxTextureSize=u.getParameter(u.MAX_TEXTURE_SIZE),f=t.maxTextureSize>=a;for(var h=["highp","mediump","lowp"],p=0;p<3;p++)if(l(u,h[p])){t.webGlPrecision=h[p];break}}return this.isSupported=f,f},t.WebglFilterBackend=s;function s(a){a&&a.tileSize&&(this.tileSize=a.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(a,c){this.dispose(),this.createWebGLCanvas(a,c),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(a,c)},chooseFastestCopyGLTo2DMethod:function(a,c){var u=typeof window.performance<"u",f;try{new ImageData(1,1),f=!0}catch{f=!1}var h=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(u&&f&&h&&p){var A=t.util.createCanvasElement(),g=new ArrayBuffer(a*c*4);if(t.forceGLPutImageData){this.imageBuffer=g,this.copyGLTo2D=d;return}var m={imageBuffer:g,destinationWidth:a,destinationHeight:c,targetCanvas:A},v,y,w;A.width=a,A.height=c,v=window.performance.now(),o.call(m,this.gl,m),y=window.performance.now()-v,v=window.performance.now(),d.call(m,this.gl,m),w=window.performance.now()-v,y>w?(this.imageBuffer=g,this.copyGLTo2D=d):this.copyGLTo2D=o}},createWebGLCanvas:function(a,c){var u=t.util.createCanvasElement();u.width=a,u.height=c;var f={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},h=u.getContext("webgl",f);h||(h=u.getContext("experimental-webgl",f)),h&&(h.clearColor(0,0,0,0),this.canvas=u,this.gl=h)},applyFilters:function(a,c,u,f,h,p){var A=this.gl,g;p&&(g=this.getCachedTexture(p,c));var m={originalWidth:c.width||c.originalWidth,originalHeight:c.height||c.originalHeight,sourceWidth:u,sourceHeight:f,destinationWidth:u,destinationHeight:f,context:A,sourceTexture:this.createTexture(A,u,f,!g&&c),targetTexture:this.createTexture(A,u,f),originalTexture:g||this.createTexture(A,u,f,!g&&c),passes:a.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:h},v=A.createFramebuffer();return A.bindFramebuffer(A.FRAMEBUFFER,v),a.forEach(function(y){y&&y.applyTo(m)}),n(m),this.copyGLTo2D(A,m),A.bindTexture(A.TEXTURE_2D,null),A.deleteTexture(m.sourceTexture),A.deleteTexture(m.targetTexture),A.deleteFramebuffer(v),h.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(a,c,u,f,h){var p=a.createTexture();return a.bindTexture(a.TEXTURE_2D,p),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,h||a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,h||a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),f?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,f):a.texImage2D(a.TEXTURE_2D,0,a.RGBA,c,u,0,a.RGBA,a.UNSIGNED_BYTE,null),p},getCachedTexture:function(a,c){if(this.textureCache[a])return this.textureCache[a];var u=this.createTexture(this.gl,c.width,c.height,c);return this.textureCache[a]=u,u},evictCachesForKey:function(a){this.textureCache[a]&&(this.gl.deleteTexture(this.textureCache[a]),delete this.textureCache[a])},copyGLTo2D:o,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var a=this.gl,c={renderer:"",vendor:""};if(!a)return c;var u=a.getExtension("WEBGL_debug_renderer_info");if(u){var f=a.getParameter(u.UNMASKED_RENDERER_WEBGL),h=a.getParameter(u.UNMASKED_VENDOR_WEBGL);f&&(c.renderer=f.toLowerCase()),h&&(c.vendor=h.toLowerCase())}return this.gpuInfo=c,c}}}();function n(l){var s=l.targetCanvas,a=s.width,c=s.height,u=l.destinationWidth,f=l.destinationHeight;(a!==u||c!==f)&&(s.width=u,s.height=f)}function o(l,s){var a=l.canvas,c=s.targetCanvas,u=c.getContext("2d");u.translate(0,c.height),u.scale(1,-1);var f=a.height-c.height;u.drawImage(a,0,f,c.width,c.height,0,0,c.width,c.height)}function d(l,s){var a=s.targetCanvas,c=a.getContext("2d"),u=s.destinationWidth,f=s.destinationHeight,h=u*f*4,p=new Uint8Array(this.imageBuffer,0,h),A=new Uint8ClampedArray(this.imageBuffer,0,h);l.readPixels(0,0,u,f,l.RGBA,l.UNSIGNED_BYTE,p);var g=new ImageData(A,u,f);c.putImageData(g,0,0)}(function(){var l=function(){};t.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:l,dispose:l,clearWebGLCaches:l,resources:{},applyFilters:function(a,c,u,f,h){var p=h.getContext("2d");p.drawImage(c,0,0,u,f);var A=p.getImageData(0,0,u,f),g=p.getImageData(0,0,u,f),m={sourceWidth:u,sourceHeight:f,imageData:A,originalEl:c,originalImageData:g,canvasEl:h,ctx:p,filterBackend:this};return a.forEach(function(v){v.applyTo(m)}),(m.imageData.width!==u||m.imageData.height!==f)&&(h.width=m.imageData.width,h.height=m.imageData.height),p.putImageData(m.imageData,0,0),m}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(l){l&&this.setOptions(l)},setOptions:function(l){for(var s in l)this[s]=l[s]},createProgram:function(l,s,a){s=s||this.fragmentSource,a=a||this.vertexSource,t.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var c=l.createShader(l.VERTEX_SHADER);if(l.shaderSource(c,a),l.compileShader(c),!l.getShaderParameter(c,l.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+l.getShaderInfoLog(c));var u=l.createShader(l.FRAGMENT_SHADER);if(l.shaderSource(u,s),l.compileShader(u),!l.getShaderParameter(u,l.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+l.getShaderInfoLog(u));var f=l.createProgram();if(l.attachShader(f,c),l.attachShader(f,u),l.linkProgram(f),!l.getProgramParameter(f,l.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+l.getProgramInfoLog(f));var h=this.getAttributeLocations(l,f),p=this.getUniformLocations(l,f)||{};return p.uStepW=l.getUniformLocation(f,"uStepW"),p.uStepH=l.getUniformLocation(f,"uStepH"),{program:f,attributeLocations:h,uniformLocations:p}},getAttributeLocations:function(l,s){return{aPosition:l.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(l,s,a){var c=s.aPosition,u=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,u),l.enableVertexAttribArray(c),l.vertexAttribPointer(c,2,l.FLOAT,!1,0,0),l.bufferData(l.ARRAY_BUFFER,a,l.STATIC_DRAW)},_setupFrameBuffer:function(l){var s=l.context,a,c;l.passes>1?(a=l.destinationWidth,c=l.destinationHeight,(l.sourceWidth!==a||l.sourceHeight!==c)&&(s.deleteTexture(l.targetTexture),l.targetTexture=l.filterBackend.createTexture(s,a,c)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,l.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(l){l.passes--,l.pass++;var s=l.targetTexture;l.targetTexture=l.sourceTexture,l.sourceTexture=s},isNeutralState:function(){var l=this.mainParameter,s=t.Image.filters[this.type].prototype;if(l)if(Array.isArray(s[l])){for(var a=s[l].length;a--;)if(this[l][a]!==s[l][a])return!1;return!0}else return s[l]===this[l];else return!1},applyTo:function(l){l.webgl?(this._setupFrameBuffer(l),this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},retrieveShader:function(l){return l.programCache.hasOwnProperty(this.type)||(l.programCache[this.type]=this.createProgram(l.context)),l.programCache[this.type]},applyToWebGL:function(l){var s=l.context,a=this.retrieveShader(l);l.pass===0&&l.originalTexture?s.bindTexture(s.TEXTURE_2D,l.originalTexture):s.bindTexture(s.TEXTURE_2D,l.sourceTexture),s.useProgram(a.program),this.sendAttributeData(s,a.attributeLocations,l.aPosition),s.uniform1f(a.uniformLocations.uStepW,1/l.sourceWidth),s.uniform1f(a.uniformLocations.uStepH,1/l.sourceHeight),this.sendUniformData(s,a.uniformLocations),s.viewport(0,0,l.destinationWidth,l.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(l,s,a){l.activeTexture(a),l.bindTexture(l.TEXTURE_2D,s),l.activeTexture(l.TEXTURE0)},unbindAdditionalTexture:function(l,s){l.activeTexture(s),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(l){this[this.mainParameter]=l},sendUniformData:function(){},createHelpLayer:function(l){if(!l.helpLayer){var s=document.createElement("canvas");s.width=l.sourceWidth,s.height=l.sourceHeight,l.helpLayer=s}},toObject:function(){var l={type:this.type},s=this.mainParameter;return s&&(l[s]=this[s]),l},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(l,s){var a=new t.Image.filters[l.type](l);return s&&s(a),a},function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.ColorMatrix=c(a.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(u){this.callSuper("initialize",u),this.matrix=this.matrix.slice(0)},applyTo2d:function(u){var f=u.imageData,h=f.data,p=h.length,A=this.matrix,g,m,v,y,w,x=this.colorsOnly;for(w=0;w<p;w+=4)g=h[w],m=h[w+1],v=h[w+2],x?(h[w]=g*A[0]+m*A[1]+v*A[2]+A[4]*255,h[w+1]=g*A[5]+m*A[6]+v*A[7]+A[9]*255,h[w+2]=g*A[10]+m*A[11]+v*A[12]+A[14]*255):(y=h[w+3],h[w]=g*A[0]+m*A[1]+v*A[2]+y*A[3]+A[4]*255,h[w+1]=g*A[5]+m*A[6]+v*A[7]+y*A[8]+A[9]*255,h[w+2]=g*A[10]+m*A[11]+v*A[12]+y*A[13]+A[14]*255,h[w+3]=g*A[15]+m*A[16]+v*A[17]+y*A[18]+A[19]*255)},getUniformLocations:function(u,f){return{uColorMatrix:u.getUniformLocation(f,"uColorMatrix"),uConstants:u.getUniformLocation(f,"uConstants")}},sendUniformData:function(u,f){var h=this.matrix,p=[h[0],h[1],h[2],h[3],h[5],h[6],h[7],h[8],h[10],h[11],h[12],h[13],h[15],h[16],h[17],h[18]],A=[h[4],h[9],h[14],h[19]];u.uniformMatrix4fv(f.uColorMatrix,!1,p),u.uniform4fv(f.uConstants,A)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Brightness=c(a.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(u){if(this.brightness!==0){var f=u.imageData,h=f.data,p,A=h.length,g=Math.round(this.brightness*255);for(p=0;p<A;p+=4)h[p]=h[p]+g,h[p+1]=h[p+1]+g,h[p+2]=h[p+2]+g}},getUniformLocations:function(u,f){return{uBrightness:u.getUniformLocation(f,"uBrightness")}},sendUniformData:function(u,f){u.uniform1f(f.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.Image.filters,u=s.util.createClass;c.Convolute=u(c.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(f){var h=Math.sqrt(this.matrix.length),p=this.type+"_"+h+"_"+(this.opaque?1:0),A=this.fragmentSource[p];return f.programCache.hasOwnProperty(p)||(f.programCache[p]=this.createProgram(f.context,A)),f.programCache[p]},applyTo2d:function(f){var h=f.imageData,p=h.data,A=this.matrix,g=Math.round(Math.sqrt(A.length)),m=Math.floor(g/2),v=h.width,y=h.height,w=f.ctx.createImageData(v,y),x=w.data,L=this.opaque?1:0,F,M,D,X,I,O,W,C,Q,lt,it,et,B;for(it=0;it<y;it++)for(lt=0;lt<v;lt++){for(I=(it*v+lt)*4,F=0,M=0,D=0,X=0,B=0;B<g;B++)for(et=0;et<g;et++)W=it+B-m,O=lt+et-m,!(W<0||W>=y||O<0||O>=v)&&(C=(W*v+O)*4,Q=A[B*g+et],F+=p[C]*Q,M+=p[C+1]*Q,D+=p[C+2]*Q,L||(X+=p[C+3]*Q));x[I]=F,x[I+1]=M,x[I+2]=D,L?x[I+3]=p[I+3]:x[I+3]=X}f.imageData=w},getUniformLocations:function(f,h){return{uMatrix:f.getUniformLocation(h,"uMatrix"),uOpaque:f.getUniformLocation(h,"uOpaque"),uHalfSize:f.getUniformLocation(h,"uHalfSize"),uSize:f.getUniformLocation(h,"uSize")}},sendUniformData:function(f,h){f.uniform1fv(h.uMatrix,this.matrix)},toObject:function(){return a(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Grayscale=c(a.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(u){var f=u.imageData,h=f.data,p,A=h.length,g,m=this.mode;for(p=0;p<A;p+=4)m==="average"?g=(h[p]+h[p+1]+h[p+2])/3:m==="lightness"?g=(Math.min(h[p],h[p+1],h[p+2])+Math.max(h[p],h[p+1],h[p+2]))/2:m==="luminosity"&&(g=.21*h[p]+.72*h[p+1]+.07*h[p+2]),h[p]=g,h[p+1]=g,h[p+2]=g},retrieveShader:function(u){var f=this.type+"_"+this.mode;if(!u.programCache.hasOwnProperty(f)){var h=this.fragmentSource[this.mode];u.programCache[f]=this.createProgram(u.context,h)}return u.programCache[f]},getUniformLocations:function(u,f){return{uMode:u.getUniformLocation(f,"uMode")}},sendUniformData:function(u,f){var h=1;u.uniform1i(f.uMode,h)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Invert=c(a.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(u){var f=u.imageData,h=f.data,p,A=h.length;for(p=0;p<A;p+=4)h[p]=255-h[p],h[p+1]=255-h[p+1],h[p+2]=255-h[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(u,f){return{uInvert:u.getUniformLocation(f,"uInvert")}},sendUniformData:function(u,f){u.uniform1i(f.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.Image.filters,u=s.util.createClass;c.Noise=u(c.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(f){if(this.noise!==0){var h=f.imageData,p=h.data,A,g=p.length,m=this.noise,v;for(A=0,g=p.length;A<g;A+=4)v=(.5-Math.random())*m,p[A]+=v,p[A+1]+=v,p[A+2]+=v}},getUniformLocations:function(f,h){return{uNoise:f.getUniformLocation(h,"uNoise"),uSeed:f.getUniformLocation(h,"uSeed")}},sendUniformData:function(f,h){f.uniform1f(h.uNoise,this.noise/255),f.uniform1f(h.uSeed,Math.random())},toObject:function(){return a(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Pixelate=c(a.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(u){var f=u.imageData,h=f.data,p=f.height,A=f.width,g,m,v,y,w,x,L,F,M,D,X;for(m=0;m<p;m+=this.blocksize)for(v=0;v<A;v+=this.blocksize)for(g=m*4*A+v*4,y=h[g],w=h[g+1],x=h[g+2],L=h[g+3],D=Math.min(m+this.blocksize,p),X=Math.min(v+this.blocksize,A),F=m;F<D;F++)for(M=v;M<X;M++)g=F*4*A+M*4,h[g]=y,h[g+1]=w,h[g+2]=x,h[g+3]=L},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(u,f){return{uBlocksize:u.getUniformLocation(f,"uBlocksize"),uStepW:u.getUniformLocation(f,"uStepW"),uStepH:u.getUniformLocation(f,"uStepH")}},sendUniformData:function(u,f){u.uniform1f(f.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.extend,c=s.Image.filters,u=s.util.createClass;c.RemoveColor=u(c.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(f){var h=f.imageData,p=h.data,A,g=this.distance*255,m,v,y,w=new s.Color(this.color).getSource(),x=[w[0]-g,w[1]-g,w[2]-g],L=[w[0]+g,w[1]+g,w[2]+g];for(A=0;A<p.length;A+=4)m=p[A],v=p[A+1],y=p[A+2],m>x[0]&&v>x[1]&&y>x[2]&&m<L[0]&&v<L[1]&&y<L[2]&&(p[A+3]=0)},getUniformLocations:function(f,h){return{uLow:f.getUniformLocation(h,"uLow"),uHigh:f.getUniformLocation(h,"uHigh")}},sendUniformData:function(f,h){var p=new s.Color(this.color).getSource(),A=parseFloat(this.distance),g=[0+p[0]/255-A,0+p[1]/255-A,0+p[2]/255-A,1],m=[p[0]/255+A,p[1]/255+A,p[2]/255+A,1];f.uniform4fv(h.uLow,g),f.uniform4fv(h.uHigh,m)},toObject:function(){return a(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass,u={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var f in u)a[f]=c(a.ColorMatrix,{type:f,matrix:u[f],mainParameter:!1,colorsOnly:!0}),s.Image.filters[f].fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric,a=s.Image.filters,c=s.util.createClass;a.BlendColor=c(a.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(u){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[u]+`}
}`},retrieveShader:function(u){var f=this.type+"_"+this.mode,h;return u.programCache.hasOwnProperty(f)||(h=this.buildSource(this.mode),u.programCache[f]=this.createProgram(u.context,h)),u.programCache[f]},applyTo2d:function(u){var f=u.imageData,h=f.data,p=h.length,A,g,m,v,y,w,x,L=1-this.alpha;x=new s.Color(this.color).getSource(),A=x[0]*this.alpha,g=x[1]*this.alpha,m=x[2]*this.alpha;for(var F=0;F<p;F+=4)switch(v=h[F],y=h[F+1],w=h[F+2],this.mode){case"multiply":h[F]=v*A/255,h[F+1]=y*g/255,h[F+2]=w*m/255;break;case"screen":h[F]=255-(255-v)*(255-A)/255,h[F+1]=255-(255-y)*(255-g)/255,h[F+2]=255-(255-w)*(255-m)/255;break;case"add":h[F]=v+A,h[F+1]=y+g,h[F+2]=w+m;break;case"diff":case"difference":h[F]=Math.abs(v-A),h[F+1]=Math.abs(y-g),h[F+2]=Math.abs(w-m);break;case"subtract":h[F]=v-A,h[F+1]=y-g,h[F+2]=w-m;break;case"darken":h[F]=Math.min(v,A),h[F+1]=Math.min(y,g),h[F+2]=Math.min(w,m);break;case"lighten":h[F]=Math.max(v,A),h[F+1]=Math.max(y,g),h[F+2]=Math.max(w,m);break;case"overlay":h[F]=A<128?2*v*A/255:255-2*(255-v)*(255-A)/255,h[F+1]=g<128?2*y*g/255:255-2*(255-y)*(255-g)/255,h[F+2]=m<128?2*w*m/255:255-2*(255-w)*(255-m)/255;break;case"exclusion":h[F]=A+v-2*A*v/255,h[F+1]=g+y-2*g*y/255,h[F+2]=m+w-2*m*w/255;break;case"tint":h[F]=A+v*L,h[F+1]=g+y*L,h[F+2]=m+w*L}},getUniformLocations:function(u,f){return{uColor:u.getUniformLocation(f,"uColor")}},sendUniformData:function(u,f){var h=new s.Color(this.color).getSource();h[0]=this.alpha*h[0]/255,h[1]=this.alpha*h[1]/255,h[2]=this.alpha*h[2]/255,h[3]=this.alpha,u.uniform4fv(f.uColor,h)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric,a=s.Image.filters,c=s.util.createClass;a.BlendImage=c(a.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(u){var f=this.type+"_"+this.mode,h=this.fragmentSource[this.mode];return u.programCache.hasOwnProperty(f)||(u.programCache[f]=this.createProgram(u.context,h)),u.programCache[f]},applyToWebGL:function(u){var f=u.context,h=this.createTexture(u.filterBackend,this.image);this.bindAdditionalTexture(f,h,f.TEXTURE1),this.callSuper("applyToWebGL",u),this.unbindAdditionalTexture(f,f.TEXTURE1)},createTexture:function(u,f){return u.getCachedTexture(f.cacheKey,f._element)},calculateMatrix:function(){var u=this.image,f=u._element.width,h=u._element.height;return[1/u.scaleX,0,0,0,1/u.scaleY,0,-u.left/f,-u.top/h,1]},applyTo2d:function(u){var f=u.imageData,h=u.filterBackend.resources,p=f.data,A=p.length,g=f.width,m=f.height,v,y,w,x,L,F,M,D,X,I,O=this.image,W;h.blendImage||(h.blendImage=s.util.createCanvasElement()),X=h.blendImage,I=X.getContext("2d"),X.width!==g||X.height!==m?(X.width=g,X.height=m):I.clearRect(0,0,g,m),I.setTransform(O.scaleX,0,0,O.scaleY,O.left,O.top),I.drawImage(O._element,0,0,g,m),W=I.getImageData(0,0,g,m).data;for(var C=0;C<A;C+=4)switch(L=p[C],F=p[C+1],M=p[C+2],D=p[C+3],v=W[C],y=W[C+1],w=W[C+2],x=W[C+3],this.mode){case"multiply":p[C]=L*v/255,p[C+1]=F*y/255,p[C+2]=M*w/255,p[C+3]=D*x/255;break;case"mask":p[C+3]=x;break}},getUniformLocations:function(u,f){return{uTransformMatrix:u.getUniformLocation(f,"uTransformMatrix"),uImage:u.getUniformLocation(f,"uImage")}},sendUniformData:function(u,f){var h=this.calculateMatrix();u.uniform1i(f.uImage,1),u.uniformMatrix3fv(f.uTransformMatrix,!1,h)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(u,f){s.Image.fromObject(u.image,function(h){var p=s.util.object.clone(u);p.image=h,f(new s.Image.filters.BlendImage(p))})}}(i),function(l){var s=l.fabric||(l.fabric={}),a=Math.pow,c=Math.floor,u=Math.sqrt,f=Math.abs,h=Math.round,p=Math.sin,A=Math.ceil,g=s.Image.filters,m=s.util.createClass;g.Resize=m(g.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(v,y){return{uDelta:v.getUniformLocation(y,"uDelta"),uTaps:v.getUniformLocation(y,"uTaps")}},sendUniformData:function(v,y){v.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),v.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(v){var y=this.getFilterWindow(),w=this.type+"_"+y;if(!v.programCache.hasOwnProperty(w)){var x=this.generateShader(y);v.programCache[w]=this.createProgram(v.context,x)}return v.programCache[w]},getFilterWindow:function(){var v=this.tempScale;return Math.ceil(this.lanczosLobes/v)},getTaps:function(){for(var v=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,w=this.getFilterWindow(),x=new Array(w),L=1;L<=w;L++)x[L-1]=v(L*y);return x},generateShader:function(x){for(var y=new Array(x),w=this.fragmentSourceTOP,x,L=1;L<=x;L++)y[L-1]=L+".0 * uDelta";return w+="uniform float uTaps["+x+`];
`,w+=`void main() {
`,w+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,w+=`  float sum = 1.0;
`,y.forEach(function(F,M){w+="  color += texture2D(uTexture, vTexCoord + "+F+") * uTaps["+M+`];
`,w+="  color += texture2D(uTexture, vTexCoord - "+F+") * uTaps["+M+`];
`,w+="  sum += 2.0 * uTaps["+M+`];
`}),w+=`  gl_FragColor = color / sum;
`,w+="}",w},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(v){v.webgl?(v.passes++,this.width=v.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=v.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),v.destinationWidth=this.dW,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceWidth=v.destinationWidth,this.height=v.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),v.destinationHeight=this.dH,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceHeight=v.destinationHeight):this.applyTo2d(v)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(v){return function(y){if(y>=v||y<=-v)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var w=y/v;return p(y)/y*p(w)/w}},applyTo2d:function(v){var y=v.imageData,w=this.scaleX,x=this.scaleY;this.rcpScaleX=1/w,this.rcpScaleY=1/x;var L=y.width,F=y.height,M=h(L*w),D=h(F*x),X;this.resizeType==="sliceHack"?X=this.sliceByTwo(v,L,F,M,D):this.resizeType==="hermite"?X=this.hermiteFastResize(v,L,F,M,D):this.resizeType==="bilinear"?X=this.bilinearFiltering(v,L,F,M,D):this.resizeType==="lanczos"&&(X=this.lanczosResize(v,L,F,M,D)),v.imageData=X},sliceByTwo:function(v,y,w,x,L){var F=v.imageData,M=.5,D=!1,X=!1,I=y*M,O=w*M,W=s.filterBackend.resources,C,Q,lt=0,it=0,et=y,B=0;for(W.sliceByTwo||(W.sliceByTwo=document.createElement("canvas")),C=W.sliceByTwo,(C.width<y*1.5||C.height<w)&&(C.width=y*1.5,C.height=w),Q=C.getContext("2d"),Q.clearRect(0,0,y*1.5,w),Q.putImageData(F,0,0),x=c(x),L=c(L);!D||!X;)y=I,w=O,x<c(I*M)?I=c(I*M):(I=x,D=!0),L<c(O*M)?O=c(O*M):(O=L,X=!0),Q.drawImage(C,lt,it,y,w,et,B,I,O),lt=et,it=B,B+=O;return Q.getImageData(lt,it,x,L)},lanczosResize:function(v,y,w,x,L){function F(z){var S,j,N,E,H,Z,ot,nt,dt,gt,Tt;for(B.x=(z+.5)*O,K.x=c(B.x),S=0;S<L;S++){for(B.y=(S+.5)*W,K.y=c(B.y),H=0,Z=0,ot=0,nt=0,dt=0,j=K.x-lt;j<=K.x+lt;j++)if(!(j<0||j>=y)){gt=c(1e3*f(j-B.x)),et[gt]||(et[gt]={});for(var pt=K.y-it;pt<=K.y+it;pt++)pt<0||pt>=w||(Tt=c(1e3*f(pt-B.y)),et[gt][Tt]||(et[gt][Tt]=I(u(a(gt*C,2)+a(Tt*Q,2))/1e3)),N=et[gt][Tt],N>0&&(E=(pt*y+j)*4,H+=N,Z+=N*M[E],ot+=N*M[E+1],nt+=N*M[E+2],dt+=N*M[E+3]))}E=(S*x+z)*4,X[E]=Z/H,X[E+1]=ot/H,X[E+2]=nt/H,X[E+3]=dt/H}return++z<x?F(z):D}var M=v.imageData.data,D=v.ctx.createImageData(x,L),X=D.data,I=this.lanczosCreate(this.lanczosLobes),O=this.rcpScaleX,W=this.rcpScaleY,C=2/this.rcpScaleX,Q=2/this.rcpScaleY,lt=A(O*this.lanczosLobes/2),it=A(W*this.lanczosLobes/2),et={},B={},K={};return F(0)},bilinearFiltering:function(v,y,w,x,L){var F,M,D,X,I,O,W,C,Q,lt,it,et,B=0,K,z=this.rcpScaleX,S=this.rcpScaleY,j=4*(y-1),N=v.imageData,E=N.data,H=v.ctx.createImageData(x,L),Z=H.data;for(W=0;W<L;W++)for(C=0;C<x;C++)for(I=c(z*C),O=c(S*W),Q=z*C-I,lt=S*W-O,K=4*(O*y+I),it=0;it<4;it++)F=E[K+it],M=E[K+4+it],D=E[K+j+it],X=E[K+j+4+it],et=F*(1-Q)*(1-lt)+M*Q*(1-lt)+D*lt*(1-Q)+X*Q*lt,Z[B++]=et;return H},hermiteFastResize:function(v,y,w,x,L){for(var F=this.rcpScaleX,M=this.rcpScaleY,D=A(F/2),X=A(M/2),I=v.imageData,O=I.data,W=v.ctx.createImageData(x,L),C=W.data,Q=0;Q<L;Q++)for(var lt=0;lt<x;lt++){for(var it=(lt+Q*x)*4,et=0,B=0,K=0,z=0,S=0,j=0,N=0,E=(Q+.5)*M,H=c(Q*M);H<(Q+1)*M;H++)for(var Z=f(E-(H+.5))/X,ot=(lt+.5)*F,nt=Z*Z,dt=c(lt*F);dt<(lt+1)*F;dt++){var gt=f(ot-(dt+.5))/D,Tt=u(nt+gt*gt);Tt>1&&Tt<-1||(et=2*Tt*Tt*Tt-3*Tt*Tt+1,et>0&&(gt=4*(dt+H*y),N+=et*O[gt+3],K+=et,O[gt+3]<255&&(et=et*O[gt+3]/250),z+=et*O[gt],S+=et*O[gt+1],j+=et*O[gt+2],B+=et))}C[it]=z/B,C[it+1]=S/B,C[it+2]=j/B,C[it+3]=N/K}return W},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Contrast=c(a.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(u){if(this.contrast!==0){var f=u.imageData,h,A,p=f.data,A=p.length,g=Math.floor(this.contrast*255),m=259*(g+255)/(255*(259-g));for(h=0;h<A;h+=4)p[h]=m*(p[h]-128)+128,p[h+1]=m*(p[h+1]-128)+128,p[h+2]=m*(p[h+2]-128)+128}},getUniformLocations:function(u,f){return{uContrast:u.getUniformLocation(f,"uContrast")}},sendUniformData:function(u,f){u.uniform1f(f.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Saturation=c(a.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(u){if(this.saturation!==0){var f=u.imageData,h=f.data,p=h.length,A=-this.saturation,g,m;for(g=0;g<p;g+=4)m=Math.max(h[g],h[g+1],h[g+2]),h[g]+=m!==h[g]?(m-h[g])*A:0,h[g+1]+=m!==h[g+1]?(m-h[g+1])*A:0,h[g+2]+=m!==h[g+2]?(m-h[g+2])*A:0}},getUniformLocations:function(u,f){return{uSaturation:u.getUniformLocation(f,"uSaturation")}},sendUniformData:function(u,f){u.uniform1f(f.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Vibrance=c(a.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(u){if(this.vibrance!==0){var f=u.imageData,h=f.data,p=h.length,A=-this.vibrance,g,m,v,y;for(g=0;g<p;g+=4)m=Math.max(h[g],h[g+1],h[g+2]),v=(h[g]+h[g+1]+h[g+2])/3,y=Math.abs(m-v)*2/255*A,h[g]+=m!==h[g]?(m-h[g])*y:0,h[g+1]+=m!==h[g+1]?(m-h[g+1])*y:0,h[g+2]+=m!==h[g+2]?(m-h[g+2])*y:0}},getUniformLocations:function(u,f){return{uVibrance:u.getUniformLocation(f,"uVibrance")}},sendUniformData:function(u,f){u.uniform1f(f.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Blur=c(a.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(u){u.webgl?(this.aspectRatio=u.sourceWidth/u.sourceHeight,u.passes++,this._setupFrameBuffer(u),this.horizontal=!0,this.applyToWebGL(u),this._swapTextures(u),this._setupFrameBuffer(u),this.horizontal=!1,this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},applyTo2d:function(u){u.imageData=this.simpleBlur(u)},simpleBlur:function(u){var f=u.filterBackend.resources,h,p,A=u.imageData.width,g=u.imageData.height;f.blurLayer1||(f.blurLayer1=s.util.createCanvasElement(),f.blurLayer2=s.util.createCanvasElement()),h=f.blurLayer1,p=f.blurLayer2,(h.width!==A||h.height!==g)&&(p.width=h.width=A,p.height=h.height=g);var m=h.getContext("2d"),v=p.getContext("2d"),y=15,w,x,L,F,M=this.blur*.06*.5;for(m.putImageData(u.imageData,0,0),v.clearRect(0,0,A,g),F=-y;F<=y;F++)w=(Math.random()-.5)/4,x=F/y,L=M*x*A+w,v.globalAlpha=1-Math.abs(x),v.drawImage(h,L,w),m.drawImage(p,0,0),v.globalAlpha=1,v.clearRect(0,0,p.width,p.height);for(F=-y;F<=y;F++)w=(Math.random()-.5)/4,x=F/y,L=M*x*g+w,v.globalAlpha=1-Math.abs(x),v.drawImage(h,w,L),m.drawImage(p,0,0),v.globalAlpha=1,v.clearRect(0,0,p.width,p.height);u.ctx.drawImage(h,0,0);var D=u.ctx.getImageData(0,0,h.width,h.height);return m.globalAlpha=1,m.clearRect(0,0,h.width,h.height),D},getUniformLocations:function(u,f){return{delta:u.getUniformLocation(f,"uDelta")}},sendUniformData:function(u,f){var h=this.chooseRightDelta();u.uniform2fv(f.delta,h)},chooseRightDelta:function(){var u=1,f=[0,0],h;return this.horizontal?this.aspectRatio>1&&(u=1/this.aspectRatio):this.aspectRatio<1&&(u=this.aspectRatio),h=u*this.blur*.12,this.horizontal?f[0]=h:f[1]=h,f}}),a.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Gamma=c(a.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(u){this.gamma=[1,1,1],a.BaseFilter.prototype.initialize.call(this,u)},applyTo2d:function(u){var f=u.imageData,h=f.data,p=this.gamma,A=h.length,g=1/p[0],m=1/p[1],v=1/p[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,A=256;y<A;y++)this.rVals[y]=Math.pow(y/255,g)*255,this.gVals[y]=Math.pow(y/255,m)*255,this.bVals[y]=Math.pow(y/255,v)*255;for(y=0,A=h.length;y<A;y+=4)h[y]=this.rVals[h[y]],h[y+1]=this.gVals[h[y+1]],h[y+2]=this.bVals[h[y+2]]},getUniformLocations:function(u,f){return{uGamma:u.getUniformLocation(f,"uGamma")}},sendUniformData:function(u,f){u.uniform3fv(f.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.Composed=c(a.BaseFilter,{type:"Composed",subFilters:[],initialize:function(u){this.callSuper("initialize",u),this.subFilters=this.subFilters.slice(0)},applyTo:function(u){u.passes+=this.subFilters.length-1,this.subFilters.forEach(function(f){f.applyTo(u)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(u){return u.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(u){return!u.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(u,f){var h=u.subFilters||[],p=h.map(function(g){return new s.Image.filters[g.type](g)}),A=new s.Image.filters.Composed({subFilters:p});return f&&f(A),A}}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.Image.filters,c=s.util.createClass;a.HueRotation=c(a.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var u=this.rotation*Math.PI,f=s.util.cos(u),h=s.util.sin(u),p=1/3,A=Math.sqrt(p)*h,g=1-f;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=f+g/3,this.matrix[1]=p*g-A,this.matrix[2]=p*g+A,this.matrix[5]=p*g+A,this.matrix[6]=f+p*g,this.matrix[7]=p*g-A,this.matrix[10]=p*g-A,this.matrix[11]=p*g+A,this.matrix[12]=f+p*g},isNeutralState:function(u){return this.calculateMatrix(),a.BaseFilter.prototype.isNeutralState.call(this,u)},applyTo:function(u){this.calculateMatrix(),a.BaseFilter.prototype.applyTo.call(this,u)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(i),function(l){var s=l.fabric||(l.fabric={}),a=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var c="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(c),cacheProperties:s.Object.prototype.cacheProperties.concat(c),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(u,f){this.styles=f?f.styles||{}:{},this.text=u,this.__skipDimension=!0,this.callSuper("initialize",f),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var u=this.path;u&&(u.segmentsInfo=s.util.getPathSegmentsInfo(u.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var u=this._splitTextIntoLines(this.text);return this.textLines=u.lines,this._textLines=u.graphemeLines,this._unwrappedTextLines=u._unwrappedLines,this._text=u.graphemeText,u},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var u=this.getHeightOfLine(0)*1.1;this.width=this.path.width+u,this.height=this.path.height+u}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var u,f,h,p,A,g,m,v=0,y=this._textLines.length;v<y;v++)if(!(this.textAlign!=="justify"&&(v===y-1||this.isEndOfWrapping(v)))&&(p=0,A=this._textLines[v],f=this.getLineWidth(v),f<this.width&&(m=this.textLines[v].match(this._reSpacesAndTabs)))){h=m.length,u=(this.width-f)/h;for(var w=0,x=A.length;w<=x;w++)g=this.__charBounds[v][w],this._reSpaceAndTab.test(A[w])?(g.width+=u,g.kernedWidth+=u,g.left+=p,p+=u):g.left+=p}},isEndOfWrapping:function(u){return u===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var u=this.callSuper("_getCacheCanvasDimensions"),f=this.fontSize;return u.width+=f*u.zoomX,u.height+=f*u.zoomY,u},_render:function(u){var f=this.path;f&&!f.isNotVisible()&&f._render(u),this._setTextStyles(u),this._renderTextLinesBackground(u),this._renderTextDecoration(u,"underline"),this._renderText(u),this._renderTextDecoration(u,"overline"),this._renderTextDecoration(u,"linethrough")},_renderText:function(u){this.paintFirst==="stroke"?(this._renderTextStroke(u),this._renderTextFill(u)):(this._renderTextFill(u),this._renderTextStroke(u))},_setTextStyles:function(u,f,h){if(u.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":u.textBaseline="middle";break;case"ascender":u.textBaseline="top";break;case"descender":u.textBaseline="bottom";break}u.font=this._getFontDeclaration(f,h)},calcTextWidth:function(){for(var u=this.getLineWidth(0),f=1,h=this._textLines.length;f<h;f++){var p=this.getLineWidth(f);p>u&&(u=p)}return u},_renderTextLine:function(u,f,h,p,A,g){this._renderChars(u,f,h,p,A,g)},_renderTextLinesBackground:function(u){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var f,h,p=u.fillStyle,A,g,m=this._getLeftOffset(),v=this._getTopOffset(),y=0,w=0,x,L,F=this.path,M,D=0,X=this._textLines.length;D<X;D++){if(f=this.getHeightOfLine(D),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",D)){v+=f;continue}A=this._textLines[D],h=this._getLineLeftOffset(D),w=0,y=0,g=this.getValueOfPropertyAt(D,0,"textBackgroundColor");for(var I=0,O=A.length;I<O;I++)x=this.__charBounds[D][I],L=this.getValueOfPropertyAt(D,I,"textBackgroundColor"),F?(u.save(),u.translate(x.renderLeft,x.renderTop),u.rotate(x.angle),u.fillStyle=L,L&&u.fillRect(-x.width/2,-f/this.lineHeight*(1-this._fontSizeFraction),x.width,f/this.lineHeight),u.restore()):L!==g?(M=m+h+y,this.direction==="rtl"&&(M=this.width-M-w),u.fillStyle=g,g&&u.fillRect(M,v,w,f/this.lineHeight),y=x.left,w=x.width,g=L):w+=x.kernedWidth;L&&!F&&(M=m+h+y,this.direction==="rtl"&&(M=this.width-M-w),u.fillStyle=L,u.fillRect(M,v,w,f/this.lineHeight)),v+=f}u.fillStyle=p,this._removeShadow(u)}},getFontCache:function(u){var f=u.fontFamily.toLowerCase();s.charWidthsCache[f]||(s.charWidthsCache[f]={});var h=s.charWidthsCache[f],p=u.fontStyle.toLowerCase()+"_"+(u.fontWeight+"").toLowerCase();return h[p]||(h[p]={}),h[p]},_measureChar:function(u,f,h,p){var A=this.getFontCache(f),g=this._getFontDeclaration(f),m=this._getFontDeclaration(p),v=h+u,y=g===m,w,x,L,F=f.fontSize/this.CACHE_FONT_SIZE,M;if(h&&A[h]!==void 0&&(L=A[h]),A[u]!==void 0&&(M=w=A[u]),y&&A[v]!==void 0&&(x=A[v],M=x-L),w===void 0||L===void 0||x===void 0){var D=this.getMeasuringContext();this._setTextStyles(D,f,!0)}return w===void 0&&(M=w=D.measureText(u).width,A[u]=w),L===void 0&&y&&h&&(L=D.measureText(h).width,A[h]=L),y&&x===void 0&&(x=D.measureText(v).width,A[v]=x,M=x-L),{width:w*F,kernedWidth:M*F}},getHeightOfChar:function(u,f){return this.getValueOfPropertyAt(u,f,"fontSize")},measureLine:function(u){var f=this._measureLine(u);return this.charSpacing!==0&&(f.width-=this._getWidthOfCharSpacing()),f.width<0&&(f.width=0),f},_measureLine:function(u){var f=0,h,p,A=this._textLines[u],g,m,v=0,y=new Array(A.length),w=0,x,L,F=this.path,M=this.pathSide==="right";for(this.__charBounds[u]=y,h=0;h<A.length;h++)p=A[h],m=this._getGraphemeBox(p,u,h,g),y[h]=m,f+=m.kernedWidth,g=p;if(y[h]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},F){switch(L=F.segmentsInfo[F.segmentsInfo.length-1].length,x=s.util.getPointOnPath(F.path,0,F.segmentsInfo),x.x+=F.pathOffset.x,x.y+=F.pathOffset.y,this.textAlign){case"left":w=M?L-f:0;break;case"center":w=(L-f)/2;break;case"right":w=M?0:L-f;break}for(w+=this.pathStartOffset*(M?-1:1),h=M?A.length-1:0;M?h>=0:h<A.length;M?h--:h++)m=y[h],w>L?w%=L:w<0&&(w+=L),this._setGraphemeOnPath(w,m,x),w+=m.kernedWidth}return{width:f,numOfSpaces:v}},_setGraphemeOnPath:function(u,f,h){var p=u+f.kernedWidth/2,A=this.path,g=s.util.getPointOnPath(A.path,p,A.segmentsInfo);f.renderLeft=g.x-h.x,f.renderTop=g.y-h.y,f.angle=g.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(u,f,h,p,A){var g=this.getCompleteStyleDeclaration(f,h),m=p?this.getCompleteStyleDeclaration(f,h-1):{},v=this._measureChar(u,g,p,m),y=v.kernedWidth,w=v.width,x;this.charSpacing!==0&&(x=this._getWidthOfCharSpacing(),w+=x,y+=x);var L={width:w,left:0,height:g.fontSize,kernedWidth:y,deltaY:g.deltaY};if(h>0&&!A){var F=this.__charBounds[f][h-1];L.left=F.left+F.width+v.kernedWidth-v.width}return L},getHeightOfLine:function(u){if(this.__lineHeights[u])return this.__lineHeights[u];for(var f=this._textLines[u],h=this.getHeightOfChar(u,0),p=1,A=f.length;p<A;p++)h=Math.max(this.getHeightOfChar(u,p),h);return this.__lineHeights[u]=h*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var u,f=0,h=0,p=this._textLines.length;h<p;h++)u=this.getHeightOfLine(h),f+=h===p-1?u/this.lineHeight:u;return f},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(u,f){u.save();for(var h=0,p=this._getLeftOffset(),A=this._getTopOffset(),g=0,m=this._textLines.length;g<m;g++){var v=this.getHeightOfLine(g),y=v/this.lineHeight,w=this._getLineLeftOffset(g);this._renderTextLine(f,u,this._textLines[g],p+w,A+h+y,g),h+=v}u.restore()},_renderTextFill:function(u){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(u,"fillText")},_renderTextStroke:function(u){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(u),u.save(),this._setLineDash(u,this.strokeDashArray),u.beginPath(),this._renderTextCommon(u,"strokeText"),u.closePath(),u.restore())},_renderChars:function(u,f,h,p,A,g){var m=this.getHeightOfLine(g),v=this.textAlign.indexOf("justify")!==-1,y,w,x="",L,F=0,M,D=this.path,X=!v&&this.charSpacing===0&&this.isEmptyStyles(g)&&!D,I=this.direction==="ltr",O=this.direction==="ltr"?1:-1,W,C=f.canvas.getAttribute("dir");if(f.save(),C!==this.direction&&(f.canvas.setAttribute("dir",I?"ltr":"rtl"),f.direction=I?"ltr":"rtl",f.textAlign=I?"left":"right"),A-=m*this._fontSizeFraction/this.lineHeight,X){this._renderChar(u,f,g,0,h.join(""),p,A,m),f.restore();return}for(var Q=0,lt=h.length-1;Q<=lt;Q++)M=Q===lt||this.charSpacing||D,x+=h[Q],L=this.__charBounds[g][Q],F===0?(p+=O*(L.kernedWidth-L.width),F+=L.width):F+=L.kernedWidth,v&&!M&&this._reSpaceAndTab.test(h[Q])&&(M=!0),M||(y=y||this.getCompleteStyleDeclaration(g,Q),w=this.getCompleteStyleDeclaration(g,Q+1),M=s.util.hasStyleChanged(y,w,!1)),M&&(D?(f.save(),f.translate(L.renderLeft,L.renderTop),f.rotate(L.angle),this._renderChar(u,f,g,Q,x,-F/2,0,m),f.restore()):(W=p,this._renderChar(u,f,g,Q,x,W,A,m)),x="",y=w,p+=O*F,F=0);f.restore()},_applyPatternGradientTransformText:function(u){var f=s.util.createCanvasElement(),h,p=this.width+this.strokeWidth,A=this.height+this.strokeWidth;return f.width=p,f.height=A,h=f.getContext("2d"),h.beginPath(),h.moveTo(0,0),h.lineTo(p,0),h.lineTo(p,A),h.lineTo(0,A),h.closePath(),h.translate(p/2,A/2),h.fillStyle=u.toLive(h),this._applyPatternGradientTransform(h,u),h.fill(),h.createPattern(f,"no-repeat")},handleFiller:function(u,f,h){var p,A;return h.toLive?h.gradientUnits==="percentage"||h.gradientTransform||h.patternTransform?(p=-this.width/2,A=-this.height/2,u.translate(p,A),u[f]=this._applyPatternGradientTransformText(h),{offsetX:p,offsetY:A}):(u[f]=h.toLive(u,this),this._applyPatternGradientTransform(u,h)):(u[f]=h,{offsetX:0,offsetY:0})},_setStrokeStyles:function(u,f){return u.lineWidth=f.strokeWidth,u.lineCap=this.strokeLineCap,u.lineDashOffset=this.strokeDashOffset,u.lineJoin=this.strokeLineJoin,u.miterLimit=this.strokeMiterLimit,this.handleFiller(u,"strokeStyle",f.stroke)},_setFillStyles:function(u,f){return this.handleFiller(u,"fillStyle",f.fill)},_renderChar:function(u,f,h,p,A,g,m){var v=this._getStyleDeclaration(h,p),y=this.getCompleteStyleDeclaration(h,p),w=u==="fillText"&&y.fill,x=u==="strokeText"&&y.stroke&&y.strokeWidth,L,F;!x&&!w||(f.save(),w&&(L=this._setFillStyles(f,y)),x&&(F=this._setStrokeStyles(f,y)),f.font=this._getFontDeclaration(y),v&&v.textBackgroundColor&&this._removeShadow(f),v&&v.deltaY&&(m+=v.deltaY),w&&f.fillText(A,g-L.offsetX,m-L.offsetY),x&&f.strokeText(A,g-F.offsetX,m-F.offsetY),f.restore())},setSuperscript:function(u,f){return this._setScript(u,f,this.superscript)},setSubscript:function(u,f){return this._setScript(u,f,this.subscript)},_setScript:function(u,f,h){var p=this.get2DCursorLocation(u,!0),A=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY"),m={fontSize:A*h.size,deltaY:g+A*h.baseline};return this.setSelectionStyles(m,u,f),this},_getLineLeftOffset:function(u){var f=this.getLineWidth(u),h=this.width-f,p=this.textAlign,A=this.direction,m,g=0,m=this.isEndOfWrapping(u);return p==="justify"||p==="justify-center"&&!m||p==="justify-right"&&!m||p==="justify-left"&&!m?0:(p==="center"&&(g=h/2),p==="right"&&(g=h),p==="justify-center"&&(g=h/2),p==="justify-right"&&(g=h),A==="rtl"&&(g-=h),g)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var u=this._forceClearCache;return u||(u=this.hasStateChanged("_dimensionAffectingProps")),u&&(this.dirty=!0,this._forceClearCache=!1),u},getLineWidth:function(u){if(this.__lineWidths[u]!==void 0)return this.__lineWidths[u];var f=this.measureLine(u),h=f.width;return this.__lineWidths[u]=h,h},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(u,f,h){var p=this._getStyleDeclaration(u,f);return p&&typeof p[h]<"u"?p[h]:this[h]},_renderTextDecoration:function(u,f){if(!(!this[f]&&!this.styleHas(f))){u.save(),(f==="overline"||f==="linethrough")&&this._removeShadow(u);for(var h,p,A,g,m,v,y,w,x=this._getLeftOffset(),L=this._getTopOffset(),F,M,D,X,I,O,W,C,Q=this.path,lt=this._getWidthOfCharSpacing(),it=this.offsets[f],et=0,B=this._textLines.length;et<B;et++){if(h=this.getHeightOfLine(et),!this[f]&&!this.styleHas(f,et)){L+=h;continue}y=this._textLines[et],O=h/this.lineHeight,g=this._getLineLeftOffset(et),M=0,D=0,w=this.getValueOfPropertyAt(et,0,f),C=this.getValueOfPropertyAt(et,0,"fill"),F=L+O*(1-this._fontSizeFraction),p=this.getHeightOfChar(et,0),m=this.getValueOfPropertyAt(et,0,"deltaY");for(var K=0,z=y.length;K<z;K++)if(X=this.__charBounds[et][K],I=this.getValueOfPropertyAt(et,K,f),W=this.getValueOfPropertyAt(et,K,"fill"),A=this.getHeightOfChar(et,K),v=this.getValueOfPropertyAt(et,K,"deltaY"),Q&&I&&W)u.save(),u.fillStyle=C,u.translate(X.renderLeft,X.renderTop),u.rotate(X.angle),u.fillRect(-X.kernedWidth/2,it*A+v,X.kernedWidth,this.fontSize/15),u.restore();else if((I!==w||W!==C||A!==p||v!==m)&&D>0){var S=x+g+M;this.direction==="rtl"&&(S=this.width-S-D),w&&C&&(u.fillStyle=C,u.fillRect(S,F+it*p+m,D,this.fontSize/15)),M=X.left,D=X.width,w=I,C=W,p=A,m=v}else D+=X.kernedWidth;var S=x+g+M;this.direction==="rtl"&&(S=this.width-S-D),u.fillStyle=W,I&&W&&u.fillRect(S,F+it*p+m,D-lt,this.fontSize/15),L+=h}u.restore()}},_getFontDeclaration:function(u,f){var h=u||this,p=this.fontFamily,A=s.Text.genericFonts.indexOf(p.toLowerCase())>-1,g=p===void 0||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||A?h.fontFamily:'"'+h.fontFamily+'"';return[s.isLikelyNode?h.fontWeight:h.fontStyle,s.isLikelyNode?h.fontStyle:h.fontWeight,f?this.CACHE_FONT_SIZE+"px":h.fontSize+"px",g].join(" ")},render:function(u){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",u)))},_splitTextIntoLines:function(u){for(var f=u.split(this._reNewline),h=new Array(f.length),p=[`
`],A=[],g=0;g<f.length;g++)h[g]=s.util.string.graphemeSplit(f[g]),A=A.concat(h[g],p);return A.pop(),{_unwrappedLines:h,lines:f,graphemeText:A,graphemeLines:h}},toObject:function(u){var f=c.concat(u),h=this.callSuper("toObject",f);return h.styles=s.util.stylesToArray(this.styles,this.text),h.path&&(h.path=this.path.toObject()),h},set:function(u,f){this.callSuper("set",u,f);var h=!1,p=!1;if(typeof u=="object")for(var A in u)A==="path"&&this.setPathInfo(),h=h||this._dimensionAffectingProps.indexOf(A)!==-1,p=p||A==="path";else h=this._dimensionAffectingProps.indexOf(u)!==-1,p=u==="path";return p&&this.setPathInfo(),h&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(u,f,h){if(!u)return f(null);var p=s.parseAttributes(u,s.Text.ATTRIBUTE_NAMES),A=p.textAnchor||"left";if(h=s.util.object.extend(h?a(h):{},p),h.top=h.top||0,h.left=h.left||0,p.textDecoration){var g=p.textDecoration;g.indexOf("underline")!==-1&&(h.underline=!0),g.indexOf("overline")!==-1&&(h.overline=!0),g.indexOf("line-through")!==-1&&(h.linethrough=!0),delete h.textDecoration}"dx"in p&&(h.left+=p.dx),"dy"in p&&(h.top+=p.dy),"fontSize"in h||(h.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in u?m=u.textContent:"firstChild"in u&&u.firstChild!==null&&"data"in u.firstChild&&u.firstChild.data!==null&&(m=u.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var v=h.strokeWidth;h.strokeWidth=0;var y=new s.Text(m,h),w=y.getScaledHeight()/y.height,x=(y.height+y.strokeWidth)*y.lineHeight-y.height,L=x*w,F=y.getScaledHeight()+L,M=0;A==="center"&&(M=y.getScaledWidth()/2),A==="right"&&(M=y.getScaledWidth()),y.set({left:y.left-M,top:y.top-(F-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof v<"u"?v:1}),f(y)},s.Text.fromObject=function(u,f){var h=a(u),p=u.path;return delete h.path,s.Object._fromObject("Text",h,function(A){A.styles=s.util.stylesFromArray(u.styles,u.text),p?s.Object._fromObject("Path",p,function(g){A.set("path",g),f(A)},"path"):f(A)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(i),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(l){if(!this.styles||typeof l<"u"&&!this.styles[l])return!0;var s=typeof l>"u"?this.styles:{line:this.styles[l]};for(var a in s)for(var c in s[a])for(var u in s[a][c])return!1;return!0},styleHas:function(l,s){if(!this.styles||!l||l===""||typeof s<"u"&&!this.styles[s])return!1;var a=typeof s>"u"?this.styles:{0:this.styles[s]};for(var c in a)for(var u in a[c])if(typeof a[c][u][l]<"u")return!0;return!1},cleanStyle:function(l){if(!this.styles||!l||l==="")return!1;var s=this.styles,a=0,c,u,f=!0,h=0,p;for(var A in s){c=0;for(var g in s[A]){var p=s[A][g],m=p.hasOwnProperty(l);a++,m?(u?p[l]!==u&&(f=!1):u=p[l],p[l]===this[l]&&delete p[l]):f=!1,Object.keys(p).length!==0?c++:delete s[A][g]}c===0&&delete s[A]}for(var v=0;v<this._textLines.length;v++)h+=this._textLines[v].length;f&&a===h&&(this[l]=u,this.removeStyle(l))},removeStyle:function(l){if(!(!this.styles||!l||l==="")){var s=this.styles,a,c,u;for(c in s){a=s[c];for(u in a)delete a[u][l],Object.keys(a[u]).length===0&&delete a[u];Object.keys(a).length===0&&delete s[c]}}},_extendStyles:function(l,s){var a=this.get2DCursorLocation(l);this._getLineStyle(a.lineIndex)||this._setLineStyle(a.lineIndex),this._getStyleDeclaration(a.lineIndex,a.charIndex)||this._setStyleDeclaration(a.lineIndex,a.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(a.lineIndex,a.charIndex),s)},get2DCursorLocation:function(l,s){typeof l>"u"&&(l=this.selectionStart);for(var a=s?this._unwrappedTextLines:this._textLines,c=a.length,u=0;u<c;u++){if(l<=a[u].length)return{lineIndex:u,charIndex:l};l-=a[u].length+this.missingNewlineOffset(u,s)}return{lineIndex:u-1,charIndex:a[u-1].length<l?a[u-1].length:l}},getSelectionStyles:function(l,s,a){typeof l>"u"&&(l=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||l);for(var c=[],u=l;u<s;u++)c.push(this.getStyleAtPosition(u,a));return c},getStyleAtPosition:function(l,s){var a=this.get2DCursorLocation(l),c=s?this.getCompleteStyleDeclaration(a.lineIndex,a.charIndex):this._getStyleDeclaration(a.lineIndex,a.charIndex);return c||{}},setSelectionStyles:function(l,s,a){typeof s>"u"&&(s=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||s);for(var c=s;c<a;c++)this._extendStyles(c,l);return this._forceClearCache=!0,this},_getStyleDeclaration:function(l,s){var a=this.styles&&this.styles[l];return a?a[s]:null},getCompleteStyleDeclaration:function(l,s){for(var a=this._getStyleDeclaration(l,s)||{},c={},u,f=0;f<this._styleProperties.length;f++)u=this._styleProperties[f],c[u]=typeof a[u]>"u"?this[u]:a[u];return c},_setStyleDeclaration:function(l,s,a){this.styles[l][s]=a},_deleteStyleDeclaration:function(l,s){delete this.styles[l][s]},_getLineStyle:function(l){return!!this.styles[l]},_setLineStyle:function(l){this.styles[l]={}},_deleteLineStyle:function(l){delete this.styles[l]}})}(),function(){function l(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,a){this.callSuper("initialize",s,a),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,a){this[s]!==a&&(this._fireSelectionChanged(),this[s]=a),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this.canvas.contextTop,c=this.canvas.viewportTransform;a.save(),a.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this.transform(a),this._clearTextArea(a),s||a.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),a=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,a):this.renderSelection(s,a),a.restore()}},_clearTextArea:function(s){var a=this.width+4,c=this.height+4;s.clearRect(-a/2,-c/2,a,c)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var a=this._getLeftOffset(),c=this._getTopOffset(),u=this._getCursorBoundariesOffsets(s);return{left:a,top:c,leftOffset:u.left,topOffset:u.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var a,c,u,f=0,h=0,p,A=this.get2DCursorLocation(s);u=A.charIndex,c=A.lineIndex;for(var g=0;g<c;g++)f+=this.getHeightOfLine(g);a=this._getLineLeftOffset(c);var m=this.__charBounds[c][u];return m&&(h=m.left),this.charSpacing!==0&&u===this._textLines[c].length&&(h-=this._getWidthOfCharSpacing()),p={top:f,left:a+(h>0?h:0)},this.direction==="rtl"&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(s,a){var c=this.get2DCursorLocation(),u=c.lineIndex,f=c.charIndex>0?c.charIndex-1:0,h=this.getValueOfPropertyAt(u,f,"fontSize"),p=this.scaleX*this.canvas.getZoom(),A=this.cursorWidth/p,g=s.topOffset,m=this.getValueOfPropertyAt(u,f,"deltaY");g+=(1-this._fontSizeFraction)*this.getHeightOfLine(u)/this.lineHeight-h*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,a),a.fillStyle=this.cursorColor||this.getValueOfPropertyAt(u,f,"fill"),a.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,a.fillRect(s.left+s.leftOffset-A/2,g+s.top+m,A,h)},renderSelection:function(s,a){for(var c=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,u=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,f=this.textAlign.indexOf("justify")!==-1,h=this.get2DCursorLocation(c),p=this.get2DCursorLocation(u),A=h.lineIndex,g=p.lineIndex,m=h.charIndex<0?0:h.charIndex,v=p.charIndex<0?0:p.charIndex,y=A;y<=g;y++){var w=this._getLineLeftOffset(y)||0,x=this.getHeightOfLine(y),L=0,F=0,M=0;if(y===A&&(F=this.__charBounds[A][m].left),y>=A&&y<g)M=f&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===g)if(v===0)M=this.__charBounds[g][v].left;else{var D=this._getWidthOfCharSpacing();M=this.__charBounds[g][v-1].left+this.__charBounds[g][v-1].width-D}L=x,(this.lineHeight<1||y===g&&this.lineHeight>1)&&(x/=this.lineHeight);var X=s.left+w+F,I=M-F,O=x,W=0;this.inCompositionMode?(a.fillStyle=this.compositionColor||"black",O=1,W=x):a.fillStyle=this.selectionColor,this.direction==="rtl"&&(X=this.width-X-I),a.fillRect(X,s.top+s.topOffset+W,I,O),s.topOffset+=L}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),a=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c:a}}}),t.IText.fromObject=function(s,a){var c=t.util.stylesFromArray(s.styles,s.text),u=Object.assign({},s,{styles:c});if(delete u.path,l(u),u.styles)for(var f in u.styles)for(var h in u.styles[f])l(u.styles[f][h]);t.Object._fromObject("IText",u,function(p){s.path?t.Object._fromObject("Path",s.path,function(A){p.set("path",A),a(p)},"path"):a(p)},"text")}}(),function(){var l=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var a=s.canvas;a&&(a._hasITextHandlers||(a._hasITextHandlers=!0,s._initCanvasHandlers(a)),a._iTextInstances=a._iTextInstances||[],a._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var a=s.canvas;a&&(a._iTextInstances=a._iTextInstances||[],t.util.removeFromArray(a._iTextInstances,s),a._iTextInstances.length===0&&(a._hasITextHandlers=!1,s._removeCanvasHandlers(a)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(a){a.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,a,c,u){var f;return f={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",a,{duration:c,onComplete:function(){f.isAborted||s[u]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return f.isAborted}}),f},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var a=this,c=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){a._tick()},c)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,a=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&a&&a.clearContext(a.contextTop||a.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var a=0,c=s-1;if(this._reSpace.test(this._text[c]))for(;this._reSpace.test(this._text[c]);)a++,c--;for(;/\S/.test(this._text[c])&&c>-1;)a++,c--;return s-a},findWordBoundaryRight:function(s){var a=0,c=s;if(this._reSpace.test(this._text[c]))for(;this._reSpace.test(this._text[c]);)a++,c++;for(;/\S/.test(this._text[c])&&c<this._text.length;)a++,c++;return s+a},findLineBoundaryLeft:function(s){for(var a=0,c=s-1;!/\n/.test(this._text[c])&&c>-1;)a++,c--;return s-a},findLineBoundaryRight:function(s){for(var a=0,c=s;!/\n/.test(this._text[c])&&c<this._text.length;)a++,c++;return s+a},searchWordBoundary:function(s,a){for(var c=this._text,u=this._reSpace.test(c[s])?s-1:s,f=c[u],h=t.reNonWord;!h.test(f)&&u>0&&u<c.length;)u+=a,f=c[u];return h.test(f)&&(u+=a===1?0:1),u},selectWord:function(s){s=s||this.selectionStart;var a=this.searchWordBoundary(s,-1),c=this.searchWordBoundary(s,1);this.selectionStart=a,this.selectionEnd=c,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var a=this.findLineBoundaryLeft(s),c=this.findLineBoundaryRight(s);return this.selectionStart=a,this.selectionEnd=c,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(a){a.selected=!1,a.isEditing&&a.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var a=this.getSelectionStartFromPointer(s.e),c=this.selectionStart,u=this.selectionEnd;(a!==this.__selectionStartOnMouseDown||c===u)&&(c===a||u===a)||(a>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=a):(this.selectionStart=a,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==c||this.selectionEnd!==u)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,a,c){var u=c.slice(0,s),f=t.util.string.graphemeSplit(u).length;if(s===a)return{selectionStart:f,selectionEnd:f};var h=c.slice(s,a),p=t.util.string.graphemeSplit(h).length;return{selectionStart:f,selectionEnd:f+p}},fromGraphemeToStringSelection:function(s,a,c){var u=c.slice(0,s),f=u.join("").length;if(s===a)return{selectionStart:f,selectionEnd:f};var h=c.slice(s,a),p=h.join("").length;return{selectionStart:f,selectionEnd:f+p}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,a=this._getCursorBoundaries(s),c=this.get2DCursorLocation(s),u=c.lineIndex,f=c.charIndex,h=this.getValueOfPropertyAt(u,f,"fontSize")*this.lineHeight,p=a.leftOffset,A=this.calcTransformMatrix(),g={x:a.left+p,y:a.top+a.topOffset+h},m=this.canvas.getRetinaScaling(),v=this.canvas.upperCanvasEl,y=v.width/m,w=v.height/m,x=y-h,L=w-h,F=v.clientWidth/y,M=v.clientHeight/w;return g=t.util.transformPoint(g,A),g=t.util.transformPoint(g,this.canvas.viewportTransform),g.x*=F,g.y*=M,g.x<0&&(g.x=0),g.x>x&&(g.x=x),g.y<0&&(g.y=0),g.y>L&&(g.y=L),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:g.x+"px",top:g.y+"px",fontSize:h+"px",charHeight:h}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,a=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,a&&(a.blur&&a.blur(),a.parentNode&&a.parentNode.removeChild(a)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,a){var c=this.get2DCursorLocation(s,!0),u=this.get2DCursorLocation(a,!0),f=c.lineIndex,h=c.charIndex,p=u.lineIndex,A=u.charIndex,g,m;if(f!==p){if(this.styles[f])for(g=h;g<this._unwrappedTextLines[f].length;g++)delete this.styles[f][g];if(this.styles[p])for(g=A;g<this._unwrappedTextLines[p].length;g++)m=this.styles[p][g],m&&(this.styles[f]||(this.styles[f]={}),this.styles[f][h+g-A]=m);for(g=f+1;g<=p;g++)delete this.styles[g];this.shiftLineStyles(p,f-p)}else if(this.styles[f]){m=this.styles[f];var v=A-h,y,w;for(g=h;g<A;g++)delete m[g];for(w in this.styles[f])y=parseInt(w,10),y>=A&&(m[y-v]=m[w],delete m[w])}},shiftLineStyles:function(s,a){var c=l(this.styles);for(var u in this.styles){var f=parseInt(u,10);f>s&&(this.styles[f+a]=c[f],c[f-a]||delete this.styles[f])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,a,c,u){var f,h={},p=!1,A=this._unwrappedTextLines[s].length,g=A===a;c||(c=1),this.shiftLineStyles(s,c),this.styles[s]&&(f=this.styles[s][a===0?a:a-1]);for(var m in this.styles[s]){var v=parseInt(m,10);v>=a&&(p=!0,h[v-a]=this.styles[s][m],g&&a===0||delete this.styles[s][m])}var y=!1;for(p&&!g&&(this.styles[s+c]=h,y=!0),(y||A>a)&&c--;c>0;)u&&u[c-1]?this.styles[s+c]={0:l(u[c-1])}:f?this.styles[s+c]={0:l(f)}:delete this.styles[s+c],c--;this._forceClearCache=!0},insertCharStyleObject:function(s,a,c,u){this.styles||(this.styles={});var f=this.styles[s],h=f?l(f):{};c||(c=1);for(var p in h){var A=parseInt(p,10);A>=a&&(f[A+c]=h[A],h[A-c]||delete f[A])}if(this._forceClearCache=!0,u){for(;c--;)Object.keys(u[c]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][a+c]=l(u[c]));return}if(f)for(var g=f[a?a-1:1];g&&c--;)this.styles[s][a+c]=l(g)},insertNewStyleBlock:function(s,a,c){for(var u=this.get2DCursorLocation(a,!0),f=[0],h=0,p=0;p<s.length;p++)s[p]===`
`?(h++,f[h]=0):f[h]++;f[0]>0&&(this.insertCharStyleObject(u.lineIndex,u.charIndex,f[0],c),c=c&&c.slice(f[0]+1)),h&&this.insertNewlineStyleObject(u.lineIndex,u.charIndex+f[0],h);for(var p=1;p<h;p++)f[p]>0?this.insertCharStyleObject(u.lineIndex+p,0,f[p],c):c&&this.styles[u.lineIndex+p]&&c[0]&&(this.styles[u.lineIndex+p][0]=c[0]),c=c&&c.slice(f[p]+1);f[p]>0&&this.insertCharStyleObject(u.lineIndex+p,0,f[p],c)},setSelectionStartEndWithShift:function(s,a,c){c<=s?(a===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=c):c>s&&c<a?this._selectionDirection==="right"?this.selectionEnd=c:this.selectionStart=c:(a===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=a),this.selectionEnd=c)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(l){if(this.canvas){this.__newClickTime=+new Date;var s=l.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",l),this._stopEvent(l.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(l){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===l.x&&this.__lastPointer.y===l.y},_stopEvent:function(l){l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(l){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(l.e))},tripleClickHandler:function(l){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(l.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(l.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(l){if(this.__isMousedown=!1,!(!this.editable||this.group||l.transform&&l.transform.actionPerformed||l.e.button&&l.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(l.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(l){var s=this.getSelectionStartFromPointer(l),a=this.selectionStart,c=this.selectionEnd;l.shiftKey?this.setSelectionStartEndWithShift(a,c,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(l){for(var s=this.getLocalPointer(l),a=0,c=0,u=0,f=0,h=0,p,A,g=0,m=this._textLines.length;g<m&&u<=s.y;g++)u+=this.getHeightOfLine(g)*this.scaleY,h=g,g>0&&(f+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));p=this._getLineLeftOffset(h),c=p*this.scaleX,A=this._textLines[h],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+c);for(var v=0,y=A.length;v<y&&(a=c,c+=this.__charBounds[h][v].kernedWidth*this.scaleX,c<=s.x);v++)f++;return this._getNewSelectionStartFromOffset(s,a,c,f,y)},_getNewSelectionStartFromOffset:function(l,s,a,c,u){var f=l.x-s,h=a-l.x,p=h>f||h<0?0:1,A=c+p;return this.flipX&&(A=u-A),A>this._text.length&&(A=this._text.length),A}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var l=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+l.top+"; left: "+l.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+l.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(l){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(l.keyCode in s)this[s[l.keyCode]](l);else if(l.keyCode in this.ctrlKeysMapDown&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapDown[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),l.keyCode>=33&&l.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(l){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(l.keyCode in this.ctrlKeysMapUp&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapUp[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(l){var s=this.fromPaste;if(this.fromPaste=!1,l&&l.stopPropagation(),!!this.isEditing){var a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,u=a.length,f,h,p=u-c,A=this.selectionStart,g=this.selectionEnd,m=A!==g,v,y,w;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),L=A>x.selectionStart;m?(f=this._text.slice(A,g),p+=g-A):u<c&&(L?f=this._text.slice(g+p,g):f=this._text.slice(A,A-p)),h=a.slice(x.selectionEnd-p,x.selectionEnd),f&&f.length&&(h.length&&(v=this.getSelectionStyles(A,A+1,!1),v=h.map(function(){return v[0]})),m?(y=A,w=g):L?(y=g-f.length,w=g):(y=g,w=g+f.length),this.removeStyleFromTo(y,w)),h.length&&(s&&h.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(v=t.copiedTextStyle),this.insertNewStyleBlock(h,A,v)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(l){this.compositionStart=l.target.selectionStart,this.compositionEnd=l.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(l){return l&&l.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(l,s){var a=this._getLineLeftOffset(l),c;return s>0&&(c=this.__charBounds[l][s-1],a+=c.left+c.width),a},getDownCursorOffset:function(l,s){var a=this._getSelectionForOffset(l,s),c=this.get2DCursorLocation(a),u=c.lineIndex;if(u===this._textLines.length-1||l.metaKey||l.keyCode===34)return this._text.length-a;var f=c.charIndex,h=this._getWidthBeforeCursor(u,f),p=this._getIndexOnLine(u+1,h),A=this._textLines[u].slice(f);return A.length+p+1+this.missingNewlineOffset(u)},_getSelectionForOffset:function(l,s){return l.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(l,s){var a=this._getSelectionForOffset(l,s),c=this.get2DCursorLocation(a),u=c.lineIndex;if(u===0||l.metaKey||l.keyCode===33)return-a;var f=c.charIndex,h=this._getWidthBeforeCursor(u,f),p=this._getIndexOnLine(u-1,h),A=this._textLines[u].slice(0,f),g=this.missingNewlineOffset(u-1);return-this._textLines[u-1].length+p-A.length+(1-g)},_getIndexOnLine:function(l,s){for(var a=this._textLines[l],c=this._getLineLeftOffset(l),u=c,f=0,h,p,A=0,g=a.length;A<g;A++)if(h=this.__charBounds[l][A].width,u+=h,u>s){p=!0;var m=u-h,v=u,y=Math.abs(m-s),w=Math.abs(v-s);f=w<y?A:A-1;break}return p||(f=a.length-1),f},moveCursorDown:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",l)},moveCursorUp:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",l)},_moveCursorUpOrDown:function(l,s){var a="get"+l+"CursorOffset",c=this[a](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(c):this.moveCursorWithoutShift(c),c!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(l){var s=this._selectionDirection==="left"?this.selectionStart+l:this.selectionEnd+l;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),l!==0},moveCursorWithoutShift:function(l){return l<0?(this.selectionStart+=l,this.selectionEnd=this.selectionStart):(this.selectionEnd+=l,this.selectionStart=this.selectionEnd),l!==0},moveCursorLeft:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",l)},_move:function(l,s,a){var c;if(l.altKey)c=this["findWordBoundary"+a](this[s]);else if(l.metaKey||l.keyCode===35||l.keyCode===36)c=this["findLineBoundary"+a](this[s]);else return this[s]+=a==="Left"?-1:1,!0;if(typeof c<"u"&&this[s]!==c)return this[s]=c,!0},_moveLeft:function(l,s){return this._move(l,s,"Left")},_moveRight:function(l,s){return this._move(l,s,"Right")},moveCursorLeftWithoutShift:function(l){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(l,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(l){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(l,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(l,"selectionStart")},moveCursorRight:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",l)},_moveCursorLeftOrRight:function(l,s){var a="moveCursor"+l+"With";this._currentCursorOpacity=1,s.shiftKey?a+="Shift":a+="outShift",this[a](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(l){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(l,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(l,"selectionEnd")},moveCursorRightWithoutShift:function(l){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(l,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(l,s){typeof s>"u"&&(s=l+1),this.removeStyleFromTo(l,s),this._text.splice(l,s-l),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(l,s,a,c){typeof c>"u"&&(c=a),c>a&&this.removeStyleFromTo(a,c);var u=t.util.string.graphemeSplit(l);this.insertNewStyleBlock(u,a,s),this._text=[].concat(this._text.slice(0,a),u,this._text.slice(c)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var l=t.util.toFixed,s=t.util.radiansToDegrees,a=t.util.calcRotateMatrix,c=t.util.transformPoint,u=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var f=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(f.textTop,f.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(f){var h=this._createBaseSVGMarkup(this._toSVG(),{reviver:f,noStyle:!0,withShadow:!0}),p=this.path;return p?h+p._createBaseSVGMarkup(p._toSVG(),{reviver:f,withShadow:!0}):h},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(f){var h=!0,p=this.getSvgTextDecoration(this);return[f.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",p?'text-decoration="'+p+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",f.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(f,h){var p=[],A=[],g=f,m;this._setSVGBg(A);for(var v=0,y=this._textLines.length;v<y;v++)m=this._getLineLeftOffset(v),(this.textBackgroundColor||this.styleHas("textBackgroundColor",v))&&this._setSVGTextLineBg(A,v,h+m,g),this._setSVGTextLineText(p,v,h+m,g),g+=this.getHeightOfLine(v);return{textSpans:p,textBgRects:A}},_createTextCharSpan:function(f,h,p,A,g){var m=f!==f.trim()||f.match(u),v=this.getSvgSpanStyles(h,m),y=v?'style="'+v+'"':"",w=h.deltaY,x="",L=t.Object.NUM_FRACTION_DIGITS,F="";if(w&&(x=' dy="'+l(w,L)+'" '),g.renderLeft!==void 0){var M=g.angle;F=' rotate="'+l(s(M),t.Object.NUM_FRACTION_DIGITS)+'" ';var D=g.width/2,X=a({angle:s(M)});X[4]=g.renderLeft,X[5]=g.renderTop;var I=c({x:-D,y:0},X);p=I.x,A=I.y}return['<tspan x="',l(p,L),'" y="',l(A,L),'" ',x,y,F,">",t.util.string.escapeXml(f),"</tspan>"].join("")},_setSVGTextLineText:function(f,h,p,A){var g=this.getHeightOfLine(h),m=this.textAlign.indexOf("justify")!==-1,v,y,w="",x,L,F=0,M=this._textLines[h],D;A+=g*(1-this._fontSizeFraction)/this.lineHeight;for(var X=0,I=M.length-1;X<=I;X++)D=X===I||this.charSpacing||this.path,w+=M[X],x=this.__charBounds[h][X],F===0?(p+=x.kernedWidth-x.width,F+=x.width):F+=x.kernedWidth,m&&!D&&this._reSpaceAndTab.test(M[X])&&(D=!0),D||(v=v||this.getCompleteStyleDeclaration(h,X),y=this.getCompleteStyleDeclaration(h,X+1),D=t.util.hasStyleChanged(v,y,!0)),D&&(L=this._getStyleDeclaration(h,X)||{},f.push(this._createTextCharSpan(w,L,p,A,x)),w="",v=y,p+=F,F=0)},_pushTextBgRect:function(f,h,p,A,g,m){var v=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(h),' x="',l(p,v),'" y="',l(A,v),'" width="',l(g,v),'" height="',l(m,v),`"></rect>
`)},_setSVGTextLineBg:function(f,h,p,A){for(var g=this._textLines[h],m=this.getHeightOfLine(h)/this.lineHeight,v=0,y=0,w,x,L=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),F=0,M=g.length;F<M;F++)w=this.__charBounds[h][F],x=this.getValueOfPropertyAt(h,F,"textBackgroundColor"),x!==L?(L&&this._pushTextBgRect(f,L,p+y,A,v,m),y=w.left,v=w.width,L=x):v+=w.kernedWidth;x&&this._pushTextBgRect(f,x,p+y,A,v,m)},_getFillAttributes:function(f){var h=f&&typeof f=="string"?new t.Color(f):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+f+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(f){for(var h=0,p=0,A=0;A<f;A++)h+=this.getHeightOfLine(A);return p=this.getHeightOfLine(A),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*p/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(f){var h=t.Object.prototype.getSvgStyles.call(this,f);return h+" white-space: pre;"}})}(),function(l){var s=l.fabric||(l.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(a){for(var c=0,u=0,f=0,h={},p=0;p<a.graphemeLines.length;p++)a.graphemeText[f]===`
`&&p>0?(u=0,f++,c++):!this.splitByGrapheme&&this._reSpaceAndTab.test(a.graphemeText[f])&&p>0&&(u++,f++),h[p]={line:c,offset:u},f+=a.graphemeLines[p].length,u+=a.graphemeLines[p].length;return h},styleHas:function(a,c){if(this._styleMap&&!this.isWrapping){var u=this._styleMap[c];u&&(c=u.line)}return s.Text.prototype.styleHas.call(this,a,c)},isEmptyStyles:function(a){if(!this.styles)return!0;var c=0,u=a+1,f,h,p=!1,A=this._styleMap[a],g=this._styleMap[a+1];A&&(a=A.line,c=A.offset),g&&(u=g.line,p=u===a,f=g.offset),h=typeof a>"u"?this.styles:{line:this.styles[a]};for(var m in h)for(var v in h[m])if(v>=c&&(!p||v<f))for(var y in h[m][v])return!1;return!0},_getStyleDeclaration:function(a,c){if(this._styleMap&&!this.isWrapping){var u=this._styleMap[a];if(!u)return null;a=u.line,c=u.offset+c}return this.callSuper("_getStyleDeclaration",a,c)},_setStyleDeclaration:function(a,c,u){var f=this._styleMap[a];a=f.line,c=f.offset+c,this.styles[a][c]=u},_deleteStyleDeclaration:function(a,c){var u=this._styleMap[a];a=u.line,c=u.offset+c,delete this.styles[a][c]},_getLineStyle:function(a){var c=this._styleMap[a];return!!this.styles[c.line]},_setLineStyle:function(a){var c=this._styleMap[a];this.styles[c.line]={}},_wrapText:function(a,c){var u=[],f;for(this.isWrapping=!0,f=0;f<a.length;f++)u=u.concat(this._wrapLine(a[f],f,c));return this.isWrapping=!1,u},_measureWord:function(a,c,u){var f=0,h,p=!0;u=u||0;for(var A=0,g=a.length;A<g;A++){var m=this._getGraphemeBox(a[A],c,A+u,h,p);f+=m.kernedWidth,h=a[A]}return f},_wrapLine:function(a,c,u,X){var h=0,p=this.splitByGrapheme,A=[],g=[],m=p?s.util.string.graphemeSplit(a):a.split(this._wordJoiners),v="",y=0,w=p?"":" ",x=0,L=0,F=0,M=!0,D=this._getWidthOfCharSpacing(),X=X||0;m.length===0&&m.push([]),u-=X;for(var I=0;I<m.length;I++)v=p?m[I]:s.util.string.graphemeSplit(m[I]),x=this._measureWord(v,c,y),y+=v.length,h+=L+x-D,h>u&&!M?(A.push(g),g=[],h=x,M=!0):h+=D,!M&&!p&&g.push(w),g=g.concat(v),L=p?0:this._measureWord([w],c,y),y++,M=!1,x>F&&(F=x);return I&&A.push(g),F+X>this.dynamicMinWidth&&(this.dynamicMinWidth=F-D+X),A},isEndOfWrapping:function(a){return!this._styleMap[a+1]||this._styleMap[a+1].line!==this._styleMap[a].line},missingNewlineOffset:function(a,c){return this.splitByGrapheme&&!c?this.isEndOfWrapping(a)?1:0:1},_splitTextIntoLines:function(a){for(var c=s.Text.prototype._splitTextIntoLines.call(this,a),u=this._wrapText(c.lines,this.width),f=new Array(u.length),h=0;h<u.length;h++)f[h]=u[h].join("");return c.lines=f,c.graphemeLines=u,c},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var a={};for(var c in this._styleMap)this._textLines[c]&&(a[this._styleMap[c].line]=1);for(var c in this.styles)a[c]||delete this.styles[c]},toObject:function(a){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(a))}}),s.Textbox.fromObject=function(a,c){var u=s.util.stylesFromArray(a.styles,a.text),f=Object.assign({},a,{styles:u});return delete f.path,s.Object._fromObject("Textbox",f,function(h){a.path?s.Object._fromObject("Path",a.path,function(p){h.set("path",p),c(h)},"path"):c(h)},"text")}}(i),function(){var l=t.controlsUtils,s=l.scaleSkewCursorStyleHandler,a=l.scaleCursorStyleHandler,c=l.scalingEqually,u=l.scalingYOrSkewingX,f=l.scalingXOrSkewingY,h=l.scaleOrSkewActionName,p=t.Object.prototype.controls;if(p.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:f,getActionName:h}),p.mr=new t.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:f,getActionName:h}),p.mb=new t.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:u,getActionName:h}),p.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:u,getActionName:h}),p.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:a,actionHandler:c}),p.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:a,actionHandler:c}),p.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:a,actionHandler:c}),p.br=new t.Control({x:.5,y:.5,cursorStyleHandler:a,actionHandler:c}),p.mtr=new t.Control({x:0,y:-.5,actionHandler:l.rotationWithSnapping,cursorStyleHandler:l.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var A=t.Textbox.prototype.controls={};A.mtr=p.mtr,A.tr=p.tr,A.br=p.br,A.tl=p.tl,A.bl=p.bl,A.mt=p.mt,A.mb=p.mb,A.mr=new t.Control({x:.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),A.ml=new t.Control({x:-.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()})(KS);var $S=Object.defineProperty,JS=Object.defineProperties,ZS=Object.getOwnPropertyDescriptors,xm=Object.getOwnPropertySymbols,t3=Object.prototype.hasOwnProperty,e3=Object.prototype.propertyIsEnumerable,Cm=(i,t,e)=>t in i?$S(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,pi=(i,t)=>{for(var e in t||(t={}))t3.call(t,e)&&Cm(i,e,t[e]);if(xm)for(var e of xm(t))e3.call(t,e)&&Cm(i,e,t[e]);return i},wi=(i,t)=>JS(i,ZS(t)),Sm=(i,t,e)=>new Promise((r,n)=>{var o=s=>{try{l(e.next(s))}catch(a){n(a)}},d=s=>{try{l(e.throw(s))}catch(a){n(a)}},l=s=>s.done?r(s.value):Promise.resolve(s.value).then(o,d);l((e=e.apply(i,t)).next())}),O2={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function i3(){if(Tm)return Kl;Tm=1;var i=vy,t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,n=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function d(l,s,a){var c,u={},f=null,h=null;a!==void 0&&(f=""+a),s.key!==void 0&&(f=""+s.key),s.ref!==void 0&&(h=s.ref);for(c in s)r.call(s,c)&&!o.hasOwnProperty(c)&&(u[c]=s[c]);if(l&&l.defaultProps)for(c in s=l.defaultProps,s)u[c]===void 0&&(u[c]=s[c]);return{$$typeof:t,type:l,key:f,ref:h,props:u,_owner:n.current}}return Kl.Fragment=e,Kl.jsx=d,Kl.jsxs=d,Kl}O2.exports=i3();var Qt=O2.exports;function v4(i){return Qt.jsxs("svg",wi(pi({width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none"},i),{children:[Qt.jsx("path",{d:"M5.32497 43.4996L13.81 43.4998L44.9227 12.3871L36.4374 3.90186L5.32471 35.0146L5.32497 43.4996Z",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M27.9521 12.3872L36.4374 20.8725",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function y4(i){return Qt.jsxs("svg",wi(pi({width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none"},i),{children:[Qt.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5.91406H28V13.9141H43V21.9141H5V13.9141H20V5.91406Z",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M8 40H40V22H8V40Z",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M16 39.8976V33.9141",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M24 39.8977V33.8977",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M32 39.8976V33.9141",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M12 40H36",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function b4(i){return Qt.jsxs("svg",wi(pi({width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none"},i),{children:[Qt.jsx("path",{d:"M4 42H44",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M31 4L7 28L13 34H21L41 14L31 4Z",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function w4(i){return Qt.jsxs("svg",wi(pi({width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none"},i),{children:[Qt.jsx("path",{d:"M20.1005 8.1005L24.3431 12.3431M30 4V10V4ZM39.8995 8.1005L35.6569 12.3431L39.8995 8.1005ZM44 18H38H44ZM39.8995 27.8995L35.6569 23.6569L39.8995 27.8995ZM30 32V26V32ZM20.1005 27.8995L24.3431 23.6569L20.1005 27.8995ZM16 18H22H16Z",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M29.5856 18.4143L5.54395 42.4559",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function _4(i){return Qt.jsxs("svg",wi(pi({width:"1em",height:"1em",viewBox:"0 0 48 48",fill:"none"},i),{children:[Qt.jsx("path",{d:"M6 44L6 25H12V17H36V25H42V44H6Z",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinejoin:"round"}),Qt.jsx("path",{d:"M17 17V8L31 4V17",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"})]}))}function x4(i){return Qt.jsxs("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},i),{children:[Qt.jsx("path",{fill:"currentColor",d:"M12 2A10 10 0 1 0 22 12A10 10 0 0 0 12 2Zm0 18a8 8 0 1 1 8-8A8 8 0 0 1 12 20Z",opacity:".5"}),Qt.jsx("path",{fill:"currentColor",d:"M20 12h2A10 10 0 0 0 12 2V4A8 8 0 0 1 20 12Z",children:Qt.jsx("animateTransform",{attributeName:"transform",dur:"1s",from:"0 12 12",repeatCount:"indefinite",to:"360 12 12",type:"rotate"})})]}))}function C4(i){return Qt.jsx("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},i),{children:Qt.jsx("path",{fill:"currentColor",d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 0 0 0 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8"})}))}function r3(i){return Qt.jsxs("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},i),{children:[Qt.jsx("path",{fill:"currentColor",d:"M864 144H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16m-52 268H612V212h200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16m-52 268H212V612h200zm52-668H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16m-52 268H212V212h200zm452 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16m-52 268H612V612h200z"}),Qt.jsx("path",{fill:"currentColor",fillOpacity:".15",d:"M212 212h200v200H212zm400 0h200v200H612zM212 612h200v200H212zm400 0h200v200H612z"})]}))}function n3(i){return Qt.jsx("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},i),{children:Qt.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.1.1 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.12.12 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.1.1 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926L224.297 857.629c-.04.041-.06.052-.083.059a.12.12 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.1.1 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512L166.371 224.297c-.041-.04-.052-.06-.059-.083a.12.12 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.1.1 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.12.12 0 0 1 .07 0Z"})}))}function S4(i){return Qt.jsx("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},i),{children:Qt.jsx("path",{fill:"currentColor",d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9m67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32"})}))}function s3(i){return Qt.jsx("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},i),{children:Qt.jsx("path",{fill:"currentColor",d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281l360-281.1c3.8-3 6.1-7.7 6.1-12.6"})}))}function a3(i){return Qt.jsx("svg",wi(pi({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},i),{children:Qt.jsx("path",{fill:"currentColor",d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1l-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4"})}))}const o3="ppt_tooltip-module__trigger--CH8X6",l3="ppt_tooltip-module__tooltip--mEmui",c3="ppt_tooltip-module__fadeIn--FBpBZ",h3="ppt_tooltip-module__content--XTMMc",u3="ppt_tooltip-module__arrow--Kjrs-",f3="ppt_tooltip-module__top--aJgqd",d3="ppt_tooltip-module__topLeft--XpQrT",p3="ppt_tooltip-module__topRight--e7emN",g3="ppt_tooltip-module__bottom--Fphkt",A3="ppt_tooltip-module__bottomLeft--zBmh3",m3="ppt_tooltip-module__bottomRight--82Kk8",v3="ppt_tooltip-module__left--v1cm9",y3="ppt_tooltip-module__leftTop--eXWZ6",b3="ppt_tooltip-module__leftBottom--k3IbG",w3="ppt_tooltip-module__right--Ra-On",_3="ppt_tooltip-module__rightTop--E7fQs",x3="ppt_tooltip-module__rightBottom--aP2Ew",C3="ppt_tooltip-module__withArrow--ZjAXM",Ba={trigger:o3,tooltip:l3,fadeIn:c3,content:h3,arrow:u3,top:f3,topLeft:d3,topRight:p3,bottom:g3,bottomLeft:A3,bottomRight:m3,left:v3,leftTop:y3,leftBottom:b3,right:w3,rightTop:_3,rightBottom:x3,withArrow:C3},Nd=({title:i,children:t,placement:e="top",trigger:r="hover",arrow:n=!0,delay:o=0,className:d="",style:l,disabled:s=!1})=>{const[a,c]=we.useState(!1),[u,f]=we.useState({top:0,left:0}),h=we.useRef(null),p=we.useRef(null),A=we.useRef(null),g=()=>{if(!h.current||!p.current)return;const M=h.current.getBoundingClientRect(),D=p.current.getBoundingClientRect();let X=0,I=0;const O=12;switch(e){case"top":X=M.top-D.height-O-5,I=M.left+M.width/2-D.width/2-4;break;case"topLeft":X=M.top-D.height-O-5,I=M.left;break;case"topRight":X=M.top-D.height-O-5,I=M.right-D.width;break;case"bottom":X=M.bottom+O,I=M.left+M.width/2-D.width/2;break;case"bottomLeft":X=M.bottom+O,I=M.left;break;case"bottomRight":X=M.bottom+O,I=M.right-D.width;break;case"left":X=M.top+M.height/2-D.height/2,I=M.left-D.width-O;break;case"leftTop":X=M.top,I=M.left-D.width-O;break;case"leftBottom":X=M.bottom-D.height,I=M.left-D.width-O;break;case"right":X=M.top+M.height/2-D.height/2,I=M.right+O;break;case"rightTop":X=M.top,I=M.right+O;break;case"rightBottom":X=M.bottom-D.height,I=M.right+O;break}f({top:Math.round(X),left:Math.round(I)})},m=()=>{s||(o>0?A.current=window.setTimeout(()=>{c(!0),setTimeout(g,0)},o):(c(!0),setTimeout(g,0)))},v=()=>{A.current&&(clearTimeout(A.current),A.current=null),c(!1)},y=()=>{r==="hover"&&m()},w=()=>{r==="hover"&&v()},x=()=>{r==="click"&&(c(!a),a||setTimeout(g,0))},L=()=>{r==="focus"&&m()},F=()=>{r==="focus"&&v()};return we.useEffect(()=>{if(a&&r==="click"){const M=D=>{h.current&&!h.current.contains(D.target)&&c(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}}},[a,r]),we.useEffect(()=>()=>{A.current&&clearTimeout(A.current)},[]),Qt.jsxs(Qt.Fragment,{children:[Qt.jsx("div",{ref:h,className:`${Ba.trigger} ${d}`,style:l,onMouseEnter:y,onMouseLeave:w,onClick:x,onFocus:L,onBlur:F,children:t}),a&&i&&Qt.jsxs("div",{ref:p,className:`${Ba.tooltip} ${Ba[e]} ${n?Ba.withArrow:""}`,style:{top:u.top,left:u.left},children:[Qt.jsx("div",{className:Ba.content,children:i}),n&&Qt.jsx("div",{className:`${Ba.arrow} ${Ba[e]}`})]})]})};var Br=(i=>(i.H1="h1_custom",i.H2="h2_custom",i.H3="h3_custom",i.H4="h4_custom",i.H5="h5_custom",i.P="p_custom",i))(Br||{}),Je=(i=>(i.End="end",i.Content="content",i.Transition="transition",i.Contents="contents",i.Cover="cover",i.ContentsZero="contents-0",i.ContentsFive="contents-5",i.ContentsSix="contents-6",i.ContentsSeven="contents-7",i.ContentsEight="contents-8",i.ContentsOne="contents-1",i.ContentsTwo="contents-2",i.ContentsThree="contents-3",i.ContentsFour="contents-4",i))(Je||{});const S3={0:"contents-0",1:"contents-1",2:"contents-2",3:"contents-3",4:"contents-4",5:"contents-5",6:"contents-6",7:"contents-7",8:"contents-8"},T4={width:800,height:450},T3=["data","id","linkId","selectable","__persistentBorder","__persistentBorderColor","__persistentBorderWidth"];function k3(i){return i.type==="image"&&typeof i.src=="string"}function L3(i){return i.type==="path"&&Array.isArray(i.path)}function P3(i){return["textbox","text","i-text"].includes(i.type||"")&&typeof i.text=="string"}const No=800,Bo=450;function O3(i=[],t={x:0,y:0}){try{return i.map(e=>{if(!Array.isArray(e)||e.length===0)return"";const[r,...n]=e,o=n.map((d,l)=>l%2===0?d-t.x:d-t.y);return[r,...o].join(" ")}).join(" ")}catch{return""}}function km(i){if(!i)return"rgba(0,0,0,1)";if(i.startsWith("rgba"))return i;if(i.startsWith("#")){let t=i.slice(1);t.length===3&&(t=t.split("").map(l=>l+l).join(""));let e=0,r=0,n=0,o=255;t.length===6?(e=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),n=parseInt(t.slice(4,6),16)):t.length===8&&(e=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),n=parseInt(t.slice(4,6),16),o=parseInt(t.slice(6,8),16));const d=+(o/255).toFixed(3);return`rgba(${e},${r},${n},${d})`}return i}function Lm(i){var t,e;const r=i.angle||0,n=(t=i.scaleX)!=null?t:1,o=(e=i.scaleY)!=null?e:1,d=(i.width||0)*n,l=(i.height||0)*o,s=i.originX||"center",a=i.originY||"center",c=i.left||0,u=i.top||0;let f=0,h=0;s==="left"?f=d/2:s==="right"&&(f=-d/2),a==="top"?h=l/2:a==="bottom"&&(h=-l/2);const p=r*Math.PI/180,A=Math.cos(p),g=Math.sin(p),m=c+f*A-h*g-d/2,v=u+f*g+h*A-l/2;return{left:m,top:v,width:d,height:l,angle:r}}class D3{static httpToBase64(t){return Sm(this,null,function*(){const e=yield(yield fetch(t)).blob();return new Promise((r,n)=>{const o=new FileReader;o.onloadend=()=>r(o.result),o.onerror=n,o.readAsDataURL(e)})})}static isBase64Image(t){return/^data:image\/[a-zA-Z]+;base64,/.test(t)}static exportPpt(t){return Sm(this,null,function*(){var e,r,n,o,d;const l=new QS;for(const s of t){const{objects:a}=s;if(!a||!Array.isArray(a))return;const c=l.addSlide({});for(const u of a){const f=Lm(u);if(k3(u)){const h={x:`${(f.left||0)/No*100}%`,y:`${(f.top||0)/Bo*100}%`,w:`${(f.width||100)/No*100}%`,h:`${(f.height||100)/Bo*100}%`},{src:p}=u;if(!p)return;let A=p;this.isBase64Image(p)||(A=yield this.httpToBase64(p)),c.addImage(wi(pi({data:A},h),{transparency:Math.max(0,Math.min(100,(1-Number((e=u==null?void 0:u.opacity)!=null?e:1))*100)),rotate:f.angle,flipH:u.flipX||!1,flipV:u.flipY||!1}))}if(P3(u)){const h=((u==null?void 0:u.fontSize)||16)*.9;c.addText(u.text||"",{isTextBox:!0,x:`${(f.left||0)/No*100}%`,y:`${(f.top||0)/Bo*100}%`,w:`${(f.width||100)/No*100}%`,h:`${(f.height||100)/Bo*100}%`,fontSize:h,fontFace:u.fontFamily||"Arial",color:u.fill||"#000000",bold:u.fontWeight==="bold"||typeof u.fontWeight=="number"&&u.fontWeight>=600,italic:u.fontStyle==="italic"||u.fontStyle==="oblique",underline:u.underline?{style:"sng",color:u.fill||"#000000"}:void 0,align:u.textAlign||"left",valign:"middle",lineSpacing:u.lineHeight?u.lineHeight*((u==null?void 0:u.fontSize)||12):void 0,strike:u.linethrough?"sngStrike":void 0,subscript:u.subscript?!0:void 0,superscript:u.superscript?!0:void 0,wrap:!0,margin:[0,0,0,0],autoFit:!1,rotate:f.angle,flipH:u.flipX||!1,flipV:u.flipY||!1,highlight:(r=u.textBackgroundColor)!=null?r:void 0,transparency:Math.max(0,Math.min(100,(1-Number((n=u==null?void 0:u.opacity)!=null?n:1))*100))})}if(L3(u)){const h=Lm(u),p=(u==null?void 0:u.pathOffset)||{x:0,y:0},A=O3(u.path,p),g=km(typeof(u==null?void 0:u.stroke)=="string"?u.stroke:void 0)||"rgba(0,0,0,1)",m=((u==null?void 0:u.strokeWidth)||0)*1.5,v=km(typeof(u==null?void 0:u.fill)=="string"?u.fill:void 0)||"none",y=(u==null?void 0:u.strokeLineCap)||"butt",w=(u==null?void 0:u.strokeLineJoin)||"miter",x=u==null?void 0:u.strokeDashArray,L=typeof u.opacity=="number"?u.opacity:1,F=x&&x.length?` stroke-dasharray="${x.join(" ")}"`:"",M=u.width||0,D=u.height||0,X=u.scaleX===0?0:M*(((o=u.scaleX)!=null?o:1)||1),I=u.scaleY===0?0:D*(((d=u.scaleY)!=null?d:1)||1),O=m/2,W=M+m,C=D+m,Q=-O,lt=-O,it=`<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="${X+m}" height="${I+m}" viewBox="${Q} ${lt} ${W} ${C}">
  <path d="${A}" fill="${v}" stroke="${g}" stroke-width="${m}" stroke-linecap="${y}" stroke-linejoin="${w}"${F} opacity="${L}" vector-effect="non-scaling-stroke" />
</svg>`;c.addImage({data:`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(it)))}`,x:`${(h.left-m/4)/No*100}%`,y:`${(h.top-m/4)/Bo*100}%`,w:`${(X+m)/No*100}%`,h:`${(I+m)/Bo*100}%`,rotate:h.angle,line:{type:"none"}})}}}l.writeFile({fileName:"index.pptx",compression:!0})})}}const D2=(i,t)=>{if(i<=0)return null;const e=S3[i],r=t.get(e);if(r&&r.length>0)return{temp:r,title:e};{const n=D2(i-1,t);if(n&&n.temp&&n.temp.length>0)return{temp:n.temp,title:n.title}}return null},E3=(i,t)=>{const e=[];return i.forEach(r=>{let n=[];const o=Id();let d=r.type;if(r.type===Je.Content){const c=r.data.items.length;c===1&&(d=Je.ContentsOne),c===2&&(d=Je.ContentsTwo),c===3&&(d=Je.ContentsThree),c===4&&(d=Je.ContentsFour)}let l=t.get(d);if(r.type===Je.Content&&(!l||Array.isArray(l)&&l.length<=0)){const c=r.data.items.length,u=D2(c,t);u&&(l=u.temp,d=u.title)}if(!l||l.length<=0)return;const s=Math.floor(Math.random()*l.length),a=l[s];if(a){if(r.type===Je.Cover||r.type===Je.End)try{n=JSON.parse(a).objects.map(c=>{if(c.type==="textbox"){if("text"in c&&(c==null?void 0:c.data)===Br.H1)return wi(pi({},c),{text:r.data.title});if("text"in c&&(c==null?void 0:c.data)===Br.P)return wi(pi({},c),{text:r.data.text})}return c}).filter(c=>!(c.type==="textbox"&&!c.text))}catch{return}else if(r.type===Je.Contents){let c;try{c=JSON.parse(a).objects}catch{return}const u=c.filter(p=>p.type==="textbox"&&"text"in p&&p.data===Br.H2),f=Math.min(r.data.items.length,u.length);let h=0;n=c.map(p=>{if(p.type==="textbox"&&"text"in p&&p.data===Br.H2){if(h>=f)return null;const A=wi(pi({},p),{text:`${h+1}. ${r.data.items[h]}`});return h++,A}return p}).filter(p=>!(p===null||p.type==="textbox"&&!p.text))}else if(r.type===Je.Transition)try{n=JSON.parse(a).objects.map(c=>{if(c.type==="textbox"){if("text"in c&&c.data===Br.H1)return wi(pi({},c),{text:r.data.title});if("text"in c&&c.data===Br.P)return wi(pi({},c),{text:r.data.text})}return c}).filter(c=>!(c.type==="textbox"&&!c.text))}catch{return}else if(r.type===Je.Content){let c;try{c=JSON.parse(a).objects}catch{return}const u={},f=[],h=[];c.forEach(w=>{w&&w.id&&(u[w.id]=w),(w==null?void 0:w.type)==="textbox"&&w.data===Br.H2&&f.push(w),(w==null?void 0:w.type)==="textbox"&&w.data===Br.P&&h.push(w)});const p=new Set,A=[];f.forEach(w=>{let x=null;w.linkId&&u[w.linkId]&&u[w.linkId].data===Br.P?(x=u[w.linkId],p.add(x.id)):(x=h.find(L=>!p.has(L.id)&&L.linkId===w.id)||null,x&&p.add(x.id)),A.push({h2:w,p:x})}),h.forEach(w=>{p.has(w.id)||A.push({h2:null,p:w})});const g=r.data.items,m=Math.min(g.length,A.length),v=new Map,y=new Map;for(let w=0;w<m;w++){const x=A[w];x.h2&&v.set(x.h2.id,w),x.p&&y.set(x.p.id,w)}n=c.map(w=>{var x,L;if((w==null?void 0:w.type)==="textbox"){if(w.data===Br.H2){const F=v.get(w.id);return F===void 0?null:wi(pi({},w),{text:((x=g[F])==null?void 0:x.title)||""})}if(w.data===Br.P){const F=y.get(w.id);return F===void 0?null:wi(pi({},w),{text:((L=g[F])==null?void 0:L.text)||""})}if(w.data===Br.H1)return wi(pi({},w),{text:r.data.title||""})}return w}).filter(w=>w!==null)}n.length>0&&e.push({objects:n,id:o,title:d})}}),e},M3=(i,t)=>{try{const e=JSON.parse(i),r=JSON.parse(t),n=new Map([[Je.Cover,[]],[Je.ContentsZero,[]],[Je.ContentsFive,[]],[Je.ContentsSix,[]],[Je.ContentsSeven,[]],[Je.ContentsEight,[]],[Je.ContentsFour,[]],[Je.ContentsOne,[]],[Je.ContentsThree,[]],[Je.ContentsTwo,[]],[Je.Transition,[]],[Je.Contents,[]],[Je.End,[]]]);e.forEach(d=>{var l;d&&d.title&&n!=null&&n.has(d.title)&&((l=n==null?void 0:n.get(d.title))==null||l.push(JSON.stringify(d)))});const o=E3(r,n);return JSON.stringify(o)}catch{return""}},$l=(i,t,e,r={})=>{const{enable:n=!0,capture:o=!1,passive:d=!1,once:l=!1}=r,s=we.useRef(t),a=we.useRef();return s.current=t,we.useEffect(()=>{if(!n)return;const c=typeof e=="function"?e():e;a.current=c;const u=c||document,f=p=>{s.current(p)},h={capture:o,once:l};return d&&"passive"in h&&(h.passive=d),u.addEventListener(i,f,h),()=>{u.removeEventListener(i,f,h)}},[i,n,o,d,l,e]),()=>{if(!a.current)return;const c=a.current||document,u=h=>{s.current(h)},f={capture:o,once:l};d&&"passive"in f&&(f.passive=d),c.removeEventListener(i,u,f)}},F3="ppt_ppt-module__container--54Lff",N3="ppt_ppt-module__fadeOut--r7NAh",B3="ppt_ppt-module__canvasContainer--y8N1O",I3="ppt_ppt-module__bottomTrigger--GFurN",R3="ppt_ppt-module__controlsBar--u-zhe",j3="ppt_ppt-module__controlButton--xi0Id",z3="ppt_ppt-module__rightButton--oLuEU",U3="ppt_ppt-module__counter--9pTO7",W3="ppt_ppt-module__divider--QnGP-",X3="ppt_ppt-module__iconGroup--FXWFn",G3="ppt_ppt-module__editButton--DAOIh",H3="ppt_ppt-module__editIcon--m-Yjg",br={container:F3,fadeOut:N3,canvasContainer:B3,bottomTrigger:I3,controlsBar:R3,controlButton:j3,rightButton:z3,counter:U3,divider:W3,iconGroup:X3,editButton:G3,editIcon:H3},V3=we.lazy(()=>Un(()=>import("./index-DcM4GHAI-75c542c2.js"),["assets/index-DcM4GHAI-75c542c2.js","assets/index-626914f7.js","assets/index-e511f767.css","assets/index.esm-0b9baea5.js","assets/canvas-0ce26167.js","assets/index-383ddd63.js"])),Y3=we.lazy(()=>Un(()=>import("./index-G0wM5_PG-c1f3f0bd.js"),["assets/index-G0wM5_PG-c1f3f0bd.js","assets/index-626914f7.js","assets/index-e511f767.css","assets/index.esm-0b9baea5.js","assets/canvas-0ce26167.js","assets/index-383ddd63.js"])),q3=we.lazy(()=>Un(()=>import("./index-gWOb5ocu-215533d3.js"),["assets/index-gWOb5ocu-215533d3.js","assets/index-626914f7.js","assets/index-e511f767.css","assets/index.esm-0b9baea5.js","assets/canvas-0ce26167.js","assets/index-383ddd63.js"])),Q3=we.lazy(()=>Un(()=>import("./CanvasWithOverflow-M3fs7VC5-71601e12.js"),["assets/CanvasWithOverflow-M3fs7VC5-71601e12.js","assets/index-626914f7.js","assets/index-e511f767.css","assets/canvas-0ce26167.js","assets/index.esm-0b9baea5.js","assets/index-383ddd63.js"])),k4=({isOpen:i,onClose:t,pptList:e,apiRef:r})=>{var n;const o=we.useRef(null),d=we.useRef(null),[l,s]=we.useState([]),[a,c]=we.useState(""),[u,f]=we.useState(!1),[h,p]=we.useState({mode:"",color:"#000000"}),A=(n=l.findIndex(C=>C.id===a))!=null?n:0,[g,m]=we.useState(""),v=C=>{const Q=l.find(lt=>lt.id===C);Q!=null&&Q.id&&(c(Q.id),m(""))},y=(C={})=>{var Q,lt;const it=(Q=C.mode)!=null?Q:h.mode,et=(lt=C.color)!=null?lt:h.color;if(it===h.mode&&et===h.color){m(""),p({mode:"",color:et});return}m("draw"),p({mode:it,color:et})},[w,x]=we.useState(!0),L=we.useRef(null),F=(C=1200)=>{L.current&&window.clearTimeout(L.current),L.current=window.setTimeout(()=>x(!1),C)},M=()=>{try{const C=JSON.parse(e);s(C),D3.exportPpt(C)}catch{}};we.useEffect(()=>{var C,Q;if(i){f(!0),x(!0),F(2e3);const lt=setTimeout(()=>{d.current&&d.current.focus()},100);try{const it=JSON.parse(e);s(it),c((Q=(C=it[0])==null?void 0:C.id)!=null?Q:"")}catch{}return()=>{L.current&&window.clearTimeout(L.current),clearTimeout(lt)}}else d.current?(d.current.classList.add(br.fadeOut),setTimeout(()=>{f(!1)},200)):f(!1)},[i,e]);const D=()=>{document.fullscreenElement||t==null||t()};$l("fullscreenchange",D,()=>document,{enable:i}),$l("webkitfullscreenchange",D,()=>document,{enable:i}),$l("mozfullscreenchange",D,()=>document,{enable:i}),$l("MSFullscreenChange",D,()=>document,{enable:i});const X=C=>{if(i)switch(C.key){case"Escape":g!==""&&(C.preventDefault(),C.stopPropagation(),m(""));break;case"ArrowLeft":case"ArrowUp":W("pre");break;case"ArrowRight":case"ArrowDown":case" ":C.preventDefault(),W("next");break}};$l("keydown",C=>X(C),()=>document,{capture:!0,enable:i});const I=()=>{if(!o.current)return;const C=o.current;if(!C||!C.getContext())return;const Q=l.find(it=>it.id===a);if(!Q)return;const lt=pi({title:Q.title,id:Q.id},C.toJSON(T3));s(it=>{const et=it.findIndex(B=>B.id===Q.id);if(et!==-1){const B=[...it];return B[et]=lt,B}return it})},O=we.useMemo(()=>Qt.jsx(V3,{canvas:o.current,onSave:I,mode:g,brushValue:h,onBrushChange:y,onModeChange:m}),[h,g,I]),W=C=>{var Q,lt;C==="pre"?A>0&&c((Q=l[A-1].id)!=null?Q:""):A<l.length-1&&c((lt=l[A+1].id)!=null?lt:"")};return we.useEffect(()=>{if(r)return r.current={exportPpt:M,replacePptText:M3},()=>{r.current=null}},[r]),u?Qt.jsx(we.Suspense,{fallback:Qt.jsx(q3,{}),children:Qt.jsxs("div",{tabIndex:0,ref:d,className:br.container,children:[Qt.jsxs("div",{className:br.canvasContainer,children:[Qt.jsx(Q3,{isTemplate:!1,isPreview:!0,handleSave:I,canvasList:l,ref:o,currentCanvasId:a}),Qt.jsx("div",{onMouseEnter:()=>{L.current&&window.clearTimeout(L.current),x(!0)},onMouseLeave:()=>F(800),className:br.bottomTrigger,style:{background:"transparent"}})]}),Qt.jsxs("div",{onMouseEnter:()=>{L.current&&window.clearTimeout(L.current),x(!0)},onMouseLeave:()=>F(800),style:{opacity:w?1:0},className:br.controlsBar,children:[Qt.jsx("button",{onClick:()=>W("pre"),disabled:A<=0,className:br.controlButton,"aria-label":"",children:Qt.jsx(s3,{})}),Qt.jsxs("div",{className:br.counter,children:[(A+1).toString().padStart(2,"0")," of"," ",l.length.toString().padStart(2,"0")]}),Qt.jsx("button",{onClick:()=>W("next"),disabled:A>=l.length-1,className:br.rightButton,"aria-label":"",children:Qt.jsx(a3,{})}),Qt.jsx("div",{className:br.divider}),Qt.jsxs("div",{className:br.iconGroup,children:[Qt.jsx(Nd,{title:"",placement:"top",trigger:"hover",children:Qt.jsx("div",{onClick:()=>m("all"),className:br.editButton,children:Qt.jsx(r3,{className:br.editIcon})})}),Qt.jsx(Nd,{title:"",placement:"top",trigger:"hover",children:O}),Qt.jsx(Nd,{title:"",placement:"top",trigger:"hover",children:Qt.jsx("div",{onClick:()=>{m(""),t==null||t()},className:br.editButton,children:Qt.jsx(n3,{className:br.editIcon})})})]})]}),g==="all"&&Qt.jsx(Y3,{setMode:m,data:l,activeId:a||void 0,onSelect:v})]})}):null};(function(){try{if(typeof document<"u"){var i=document.createElement("style");i.id="ppt-preview-styles",i.appendChild(document.createTextNode(".ppt_tooltip-module__trigger--CH8X6{display:inline-block}.ppt_tooltip-module__tooltip--mEmui{position:fixed;z-index:1000;max-width:250px;word-wrap:break-word;opacity:1;animation:ppt_tooltip-module__fadeIn--FBpBZ .2s ease-in-out forwards;box-sizing:border-box}.ppt_tooltip-module__content--XTMMc{background-color:#505050e6;color:#fff;padding:6px 8px;border-radius:6px;font-size:12px;line-height:1.4;box-shadow:0 2px 8px #00000026;box-sizing:border-box}.ppt_tooltip-module__arrow--Kjrs-{position:absolute;width:0;height:0}@keyframes ppt_tooltip-module__fadeIn--FBpBZ{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}.ppt_tooltip-module__top--aJgqd .ppt_tooltip-module__arrow--Kjrs-{bottom:-6px;left:50%;transform:translate(-50%);border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(80,80,80,.9)}.ppt_tooltip-module__topLeft--XpQrT .ppt_tooltip-module__arrow--Kjrs-{bottom:-6px;left:12px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(80,80,80,.9)}.ppt_tooltip-module__topRight--e7emN .ppt_tooltip-module__arrow--Kjrs-{bottom:-6px;right:12px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(80,80,80,.9)}.ppt_tooltip-module__bottom--Fphkt{transform-origin:top center}.ppt_tooltip-module__bottom--Fphkt .ppt_tooltip-module__arrow--Kjrs-{top:-4px;left:50%;transform:translate(-50%);border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__bottomLeft--zBmh3{transform-origin:top left}.ppt_tooltip-module__bottomLeft--zBmh3 .ppt_tooltip-module__arrow--Kjrs-{top:-4px;left:12px;border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__bottomRight--82Kk8{transform-origin:top right}.ppt_tooltip-module__bottomRight--82Kk8 .ppt_tooltip-module__arrow--Kjrs-{top:-4px;right:12px;border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__left--v1cm9{transform-origin:right center}.ppt_tooltip-module__left--v1cm9 .ppt_tooltip-module__arrow--Kjrs-{right:-4px;top:50%;transform:translateY(-50%);border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__leftTop--eXWZ6{transform-origin:right top}.ppt_tooltip-module__leftTop--eXWZ6 .ppt_tooltip-module__arrow--Kjrs-{right:-4px;top:12px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__leftBottom--k3IbG{transform-origin:right bottom}.ppt_tooltip-module__leftBottom--k3IbG .ppt_tooltip-module__arrow--Kjrs-{right:-4px;bottom:12px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-left:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__right--Ra-On{transform-origin:left center}.ppt_tooltip-module__right--Ra-On .ppt_tooltip-module__arrow--Kjrs-{left:-4px;top:50%;transform:translateY(-50%);border-top:4px solid transparent;border-bottom:4px solid transparent;border-right:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__rightTop--E7fQs{transform-origin:left top}.ppt_tooltip-module__rightTop--E7fQs .ppt_tooltip-module__arrow--Kjrs-{left:-4px;top:12px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-right:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__rightBottom--aP2Ew{transform-origin:left bottom}.ppt_tooltip-module__rightBottom--aP2Ew .ppt_tooltip-module__arrow--Kjrs-{left:-4px;bottom:12px;border-top:4px solid transparent;border-bottom:4px solid transparent;border-right:4px solid rgba(80,80,80,.9)}.ppt_tooltip-module__tooltip--mEmui:not(.ppt_tooltip-module__withArrow--ZjAXM) .ppt_tooltip-module__content--XTMMc{margin:0}.ppt_ppt-module__container--54Lff{position:fixed;inset:0;z-index:9999;background-color:#000;opacity:0;animation:ppt_ppt-module__fadeIn--gOv8d .2s ease-in-out forwards}@keyframes ppt_ppt-module__fadeIn--gOv8d{0%{opacity:0}to{opacity:1}}.ppt_ppt-module__container--54Lff.ppt_ppt-module__fadeOut--r7NAh{animation:ppt_ppt-module__fadeOut--r7NAh .2s ease-in-out forwards}@keyframes ppt_ppt-module__fadeOut--r7NAh{0%{opacity:1}to{opacity:0}}.ppt_ppt-module__canvasContainer--y8N1O{position:relative;display:flex;height:100%;width:100%;align-items:center;justify-content:center}.ppt_ppt-module__bottomTrigger--GFurN{pointer-events:none;position:absolute;bottom:0;left:0;right:0;height:6rem;background:transparent}.ppt_ppt-module__controlsBar--u-zhe{pointer-events:auto;position:absolute;bottom:1rem;left:1rem;z-index:10;display:flex;align-items:center;gap:.5rem;border-radius:.375rem;padding:.25rem .5rem;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;background:#505050e6;transition:opacity .18s ease}.ppt_ppt-module__controlButton--xi0Id{border-radius:.25rem;padding:.25rem;color:#ffffffe6;transition:color .2s ease;background:none;border:none;cursor:pointer}.ppt_ppt-module__controlButton--xi0Id:hover{color:#fff}.ppt_ppt-module__controlButton--xi0Id:disabled{opacity:.4}.ppt_ppt-module__rightButton--oLuEU{border-radius:.25rem;padding:.25rem;color:#ffffffe6;transition:color .2s ease;background:none;border:none;cursor:pointer}.ppt_ppt-module__rightButton--oLuEU:hover{color:#fff}.ppt_ppt-module__rightButton--oLuEU:disabled{opacity:.4}.ppt_ppt-module__counter--9pTO7{user-select:none;font-size:.75rem;letter-spacing:.05em;color:#ffffffe6}.ppt_ppt-module__divider--QnGP-{margin-left:1px;margin-right:1px;height:1rem;width:1px;background-color:#fff3}.ppt_ppt-module__iconGroup--FXWFn{display:flex;align-items:center;justify-content:flex-start;gap:.25rem}.ppt_ppt-module__iconButton--lpwI3{cursor:pointer;border-radius:.375rem;padding:.25rem;color:#ffffffe6;transition:color .2s ease;background:none;border:none;display:flex;align-items:center;justify-content:center}.ppt_ppt-module__iconButton--lpwI3:hover{color:#fff}.ppt_ppt-module__icon--eVy3H{font-size:.875rem;line-height:1.25rem}.ppt_ppt-module__editButton--DAOIh{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;border-radius:.375rem;color:#fff;cursor:pointer;transition:all .2s ease;border:none;&:hover{background-color:#505050}}.ppt_ppt-module__editIcon--m-Yjg{width:1.25rem;height:1.25rem}.ppt_brush-module__editButton--yQa0O{display:flex;align-items:center;justify-content:center;width:2rem;height:2rem;border-radius:.375rem;color:#fff;cursor:pointer;transition:all .2s ease;border:none;&:hover{background-color:#505050}}.ppt_brush-module__editIcon--gmN-W{width:1.25rem;height:1.25rem}.ppt_brush-module__container--EaSyy{position:fixed;width:200px;border-radius:.375rem;background-color:#505050;padding:.375rem;color:#fff;z-index:1001;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.ppt_brush-module__toolList--51t2c{list-style:none;padding:0;margin:0}.ppt_brush-module__toolItem--EqpSw{display:flex;cursor:pointer;align-items:center;gap:.625rem;padding:.5rem;border-radius:.25rem;transition:background-color .2s ease}.ppt_brush-module__toolItem--EqpSw:hover{background-color:#ffffff1a}.ppt_brush-module__toolItem--EqpSw[data-active=true]{background-color:#fff3}.ppt_brush-module__toolIcon--2HGiV{width:18px;user-select:none;text-align:center}.ppt_brush-module__toolLabel--HOY-6{flex:1;font-size:.875rem}.ppt_brush-module__activeIndicator--CPDb5{height:.5rem;width:.5rem;border-radius:50%;background-color:#ffffffe6}.ppt_brush-module__colorGrid--mwrRZ{margin-top:.375rem;display:grid;grid-template-columns:repeat(10,1fr)}.ppt_brush-module__colorButton---vwT8{height:.875rem;width:.875rem;border-radius:.125rem;border:none;cursor:pointer;transition:all .2s ease}.ppt_brush-module__colorButton---vwT8.ppt_brush-module__white--mTubY{border:1px solid rgba(0,0,0,.2)}.ppt_brush-module__colorButton---vwT8.ppt_brush-module__active--CI1-w{box-shadow:0 0 0 2px #fff}.ppt_brush-module__colorButton---vwT8:not(.ppt_brush-module__active--CI1-w){box-shadow:none}.ppt_allPreview-module__previewContainer--ooBd8{position:absolute;inset:0;z-index:100;background-color:#000000e6;padding:1rem;.ppt_allPreview-module__content--K--iB{position:relative;z-index:1;margin-left:auto;margin-right:auto;margin-top:1rem;margin-bottom:1rem;height:calc(100% - 2rem);max-width:1536px;overflow:auto;border-radius:.375rem;padding:.75rem}.ppt_allPreview-module__close--5ZkzB{margin-top:.75rem;margin-bottom:.75rem;display:flex;width:3rem;height:3rem;cursor:pointer;align-items:center;justify-content:center;border-radius:.125rem;&:hover{background-color:#ffffff1a}}.ppt_allPreview-module__preview---obOi{display:grid;width:fit-content;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem;.ppt_allPreview-module__previewButton--jc6so{position:relative;display:block;width:240px;flex-shrink:0;overflow:hidden;border-width:1px;cursor:pointer;&:hover{border:1px solid var(--primary);transform:scale(1.05);box-shadow:0 8px 25px #0000004d;transition:all .2s ease}}.ppt_allPreview-module__previewIndex--tXaJY{position:absolute;bottom:.25rem;right:.25rem;border-radius:.25rem;background-color:#00000080;padding-left:.25rem;padding-right:.25rem;font-size:10px;color:#ffffffe6}}}@media (min-width: 640px){.ppt_allPreview-module__previewContainer--ooBd8 .ppt_allPreview-module__preview---obOi{grid-template-columns:repeat(2,minmax(0,1fr));gap:1.25rem}}@media (min-width: 768px){.ppt_allPreview-module__previewContainer--ooBd8 .ppt_allPreview-module__preview---obOi{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1024px){.ppt_allPreview-module__previewContainer--ooBd8 .ppt_allPreview-module__preview---obOi{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1280px){.ppt_allPreview-module__previewContainer--ooBd8 .ppt_allPreview-module__preview---obOi{grid-template-columns:repeat(5,minmax(0,1fr))}}@media (min-width: 1536px){.ppt_allPreview-module__previewContainer--ooBd8 .ppt_allPreview-module__preview---obOi{grid-template-columns:repeat(6,minmax(0,1fr))}}")),document.head.appendChild(i)}}catch{}})();class Pc extends ta{constructor(e,r={},n){super([],{selectable:!0,evented:!0,left:r.x||0,top:r.y||0,originX:"left",originY:"top",subTargetCheck:!0,excludeFromExport:!1,objectCaching:!1});Te(this,"tableData");Te(this,"tableOptions");Te(this,"cellObjects");Te(this,"textObjects");Te(this,"currentEditingCell",null);Te(this,"boundsCacheValid",!1);this.tableData=e,this.tableOptions={x:0,y:0,w:300,h:200,colW:100,rowH:50,align:"left",fontFace:"Arial",fontSize:12,color:"#000000",fill:"#ffffff",border:{type:"solid",pt:1,color:"#000000"},margin:8,...r},this.cellObjects=[],this.textObjects=[],this.createTable(),n&&(n.add(this),n.renderAll(),this.setupGroupEventListeners(),n.on("mouse:down",o=>{var c;if(!this.currentEditingCell)return;const d=(c=this.textObjects[this.currentEditingCell.rowIndex])==null?void 0:c[this.currentEditingCell.colIndex];if(!(d instanceof qi))return;const l=o.target,s=o.subTargets||[];!(l===d||s.includes(d))&&d.isEditing&&(d.exitEditing(),this.currentEditingCell=null)}),n.on("mouse:down",o=>{var l;if(this.currentEditingCell)return;const d=(l=o.e)==null?void 0:l.target;d&&this.getObjects().includes(d)&&(n.setActiveObject(this),this.syncSelectionBounds(),n.requestRenderAll())}))}get type(){return"FabricTable"}createTable(){var M,D,X,I,O,W,C,Q,lt,it;this.getObjects().forEach(et=>{this.remove(et)}),this.cellObjects=[],this.textObjects=[],this.boundsCacheValid=!1;const{tableData:e,tableOptions:r}=this,{w:n,colW:o,rowH:d,fontFace:l,fontSize:s,color:a,border:c,margin:u}=r;if(!e||e.length===0)return;const f=e.length,h=e[0].length,p=Array.isArray(o)?o:new Array(h).fill(o||n/h),A=Array.isArray(d)?d[0]:d||50,g=Array.isArray(d)?d:new Array(f).fill(A);let m=0;const v=[];for(let et=0;et<f;et++){const B=e[et],K=g[et]||g[0];let z=0;this.cellObjects[et]=[],this.textObjects[et]=[];for(let S=0;S<h;S++){const j=B[S],N=p[S]||p[0],E=new qs({left:z,top:m,width:N,height:K,fill:((M=j.options)==null?void 0:M.fill)||r.fill||"#ffffff",stroke:(c==null?void 0:c.color)||"#000000",strokeWidth:(c==null?void 0:c.pt)||1,selectable:!1,evented:!0,hoverCursor:"pointer"});E.cellRowIndex=et,E.cellColIndex=S,E.cellType="cellRect";const H=Array.isArray((D=j.options)==null?void 0:D.margin)?j.options.margin[0]:((X=j.options)==null?void 0:X.margin)!==void 0?Number(j.options.margin):u!==void 0?Array.isArray(u)?u[0]:Number(u):2,Z=new qi(j.text,{backgroundColor:"pink",left:z+H,top:m+H,width:N-H*2,height:K-H*2,fontFamily:((I=j.options)==null?void 0:I.fontFace)||l||"Arial",fontSize:((O=j.options)==null?void 0:O.fontSize)||s||12,fill:((W=j.options)==null?void 0:W.color)||a||"#000000",textAlign:((C=j.options)==null?void 0:C.align)||"left",selectable:!0,evented:!0,editable:!0,splitByGrapheme:!0,hasControls:!1,hasBorders:!1,hoverCursor:"text"});Z.on("mousedown",ot=>{Z.isEditing||this.handleCellClick(et,S,ot)}),Z.on("mousedblclick",ot=>{Z.isEditing||this.handleCellClick(et,S,ot)}),this.canvas&&(Z.canvas=this.canvas),Z.on("changed",()=>{this.adjustRowHeight(et)}),this.cellObjects[et][S]=E,this.textObjects[et][S]=Z,v.push(E,Z),z+=N}m+=K}const y=p.reduce((et,B)=>et+B,0),w=g.reduce((et,B)=>et+B,0);this.set("width",y),this.set("height",w);const x=y/2,L=w/2;v.forEach(et=>{et.set({left:(et.left??0)-x,top:(et.top??0)-L}),this.add(et)});let F=0;for(let et=0;et<f;et++){const B=g[et]||g[0],K=this.cellObjects[et].length;for(let z=0;z<K;z++){const S=this.textObjects[et][z],j=e[et][z];if(S){const N=Array.isArray((Q=j.options)==null?void 0:Q.margin)?j.options.margin[0]:((lt=j.options)==null?void 0:lt.margin)!==void 0?Number(j.options.margin):u!==void 0?Array.isArray(u)?u[0]:Number(u):4,E=F-L,H=S.height||S.calcTextHeight()||S.fontSize||12,Z=((it=j.options)==null?void 0:it.valign)||"top";let ot=E+N;switch(Z){case"top":ot=E+N;break;case"middle":ot=E+(B-H)/2;break;case"bottom":ot=E+B-H-N;break}S.set("top",ot)}}F+=B}this.syncSelectionBounds()}setVerticalAlignment(e,r,n,o){const d=e.top??0,l=d-o;let s=d;const a=e.height||e.calcTextHeight()||e.fontSize||12;switch(r){case"top":break;case"middle":s=l+(n-a)/2;break;case"bottom":s=l+n-a-o;break}s!==d&&e.set("top",s)}updateCellText(e,r,n){var o;this.textObjects[e]&&this.textObjects[e][r]&&(this.textObjects[e][r].set("text",n),this.tableData[e][r].text=n,(o=this.canvas)==null||o.renderAll())}handleCellClick(e,r,n){var o;if(this.textObjects[e]&&this.textObjects[e][r]){const d=this.textObjects[e][r];if(this.currentEditingCell&&(this.currentEditingCell.rowIndex!==e||this.currentEditingCell.colIndex!==r)){const l=(o=this.textObjects[this.currentEditingCell.rowIndex])==null?void 0:o[this.currentEditingCell.colIndex];l&&l instanceof qi&&l.exitEditing()}if(this.canvas){if(d instanceof qi){d.canvas=this.canvas,this.canvas.setActiveObject(d),d.enterEditing(),this.canvas.requestRenderAll(),setTimeout(()=>{const c=d.hiddenTextarea;c&&c.focus()},10),this.currentEditingCell={rowIndex:e,colIndex:r};const l=()=>{setTimeout(()=>{this.adjustRowHeightDuringEdit(e,r)},10)},s=()=>{this.adjustRowHeightDuringEdit(e,r)};d.on("changed",s),d.on("editing:entered",l);const a=()=>{d.off("editing:exited",a),d.off("changed",s),d.off("editing:entered",l),this.currentEditingCell=null,this.canvas&&(this.canvas.setActiveObject(this),this.canvas.renderAll())};d.on("editing:exited",a)}this.canvas.renderAll()}}}positionCursorFromEvent(e,r){}adjustRowHeightDuringEdit(e,r){var c,u;if(!this.textObjects[e]||!this.textObjects[e][r])return;const n=this.textObjects[e][r],o=this.tableOptions.margin,d=Array.isArray(o)?o[0]:o!==void 0?Number(o):4;n.set("dirty",!0);const l=n.calcTextHeight()||n.height||0;if(l===0)return;const s=Math.ceil(l+d*2+5),a=((u=(c=this.cellObjects[e])==null?void 0:c[r])==null?void 0:u.height)||0;if(s>a){const f=s;this.boundsCacheValid=!1,this.applyRowHeightDelta(e,f)}}repositionAllRowsAndTexts(){var d,l,s;const e=Array.isArray(this.tableOptions.rowH)?this.tableOptions.rowH:new Array(this.tableData.length).fill(this.tableOptions.rowH||50),r=e.reduce((a,c)=>a+c,0),n=r/2;let o=0;for(let a=0;a<this.tableData.length;a++){const c=e[a],u=this.cellObjects[a].length;for(let f=0;f<u;f++){const h=this.cellObjects[a][f],p=this.textObjects[a][f],A=this.tableData[a][f];if(h){const g=o-n;h.set({top:g,height:c}),h.setCoords()}if(p&&h){const g=this.tableOptions.margin,m=Array.isArray((d=A.options)==null?void 0:d.margin)?A.options.margin[0]:((l=A.options)==null?void 0:l.margin)!==void 0?Number(A.options.margin):g!==void 0?Array.isArray(g)?g[0]:Number(g):4,v=o-n,y=p.height||p.calcTextHeight()||p.fontSize||12;let w=v+m;switch(((s=A.options)==null?void 0:s.valign)||"top"){case"top":w=v+m;break;case"middle":w=v+(c-y)/2;break;case"bottom":w=v+c-y-m;break}p.set("top",w)}}o+=c}this.set("height",r),this.setCoords()}applyRowHeightDelta(e,r){var c,u,f,h,p,A,g;const n=((u=(c=this.cellObjects[e])==null?void 0:c[0])==null?void 0:u.height)||0,o=r-n;if(o<=0)return;const d=this.tableData.length,l=this.tableOptions.margin,s=this.cellObjects[e].length;for(let m=0;m<s;m++){const v=this.cellObjects[e][m],y=this.textObjects[e][m];if(v&&(v.set("height",r),v.setCoords()),y){const w=this.tableData[e][m],x=Array.isArray((f=w.options)==null?void 0:f.margin)?w.options.margin[0]:((h=w.options)==null?void 0:h.margin)!==void 0?Number(w.options.margin):Array.isArray(l)?l[0]:l??4,L=((p=this.cellObjects[e][m])==null?void 0:p.top)??0,F=y.height||y.calcTextHeight()||y.fontSize||12;let M=L+x;switch(((A=w.options)==null?void 0:A.valign)||"top"){case"middle":M=L+(r-F)/2;break;case"bottom":M=L+r-F-x;break}y.set("top",M),y.setCoords()}}for(let m=e+1;m<d;m++){const v=this.cellObjects[m].length;for(let y=0;y<v;y++){const w=this.cellObjects[m][y],x=this.textObjects[m][y];w&&(w.set("top",(w.top??0)+o),w.setCoords()),x&&(x.set("top",(x.top??0)+o),x.setCoords())}}Array.isArray(this.tableOptions.rowH)?this.tableOptions.rowH[e]=r:typeof this.tableOptions.rowH=="number"&&(this.tableOptions.rowH=new Array(this.tableData.length).fill(this.tableOptions.rowH),this.tableOptions.rowH[e]=r);const a=(Array.isArray(this.tableOptions.rowH)?this.tableOptions.rowH:new Array(this.tableData.length).fill(this.tableOptions.rowH||50)).reduce((m,v)=>m+v,0);this.set("height",a),this.syncSelectionBounds(),(g=this.canvas)==null||g.renderAll()}adjustRowHeight(e){var a,c;if(!this.textObjects[e])return;const r=this.textObjects[e];let n=0;const o=this.tableOptions.margin,d=Array.isArray(o)?o[0]:o!==void 0?Number(o):4;if(r.forEach(u=>{if(u){const f=u.height||u.calcTextHeight()||0;n=Math.max(n,f)}}),n===0)return;const l=n+d*2,s=((c=(a=this.cellObjects[e])==null?void 0:a[0])==null?void 0:c.height)||0;l>s&&(this.boundsCacheValid=!1,this.applyRowHeightDelta(e,l))}syncSelectionBounds(){var a;if(this.boundsCacheValid)return;const r=(Array.isArray(this.tableOptions.rowH)?this.tableOptions.rowH:new Array(this.tableData.length).fill(this.tableOptions.rowH||50)).reduce((c,u)=>c+u,0),o=(Array.isArray(this.tableOptions.colW)?this.tableOptions.colW:new Array(((a=this.tableData[0])==null?void 0:a.length)||0).fill(this.tableOptions.colW||100)).reduce((c,u)=>c+u,0),d=this.width||0,l=this.height||0;if(Math.abs(d-o)<1&&Math.abs(l-r)<1){this.boundsCacheValid=!0;return}this.set({width:o,height:r});const s=this;typeof s._calcBounds=="function"&&s._calcBounds(),typeof s._updateObjectsCoords=="function"&&s._updateObjectsCoords(),this.setCoords(),s.dirty=!0,this.boundsCacheValid=!0}setupGroupEventListeners(){this.on("mousedown",e=>{var n,o,d;if(this.currentEditingCell)return;const r=e.target;r&&r instanceof qi||((n=this.canvas)==null?void 0:n.getActiveObject())!==this&&((o=this.canvas)==null||o.setActiveObject(this),this.syncSelectionBounds(),(d=this.canvas)==null||d.requestRenderAll())}),this.on("selected",()=>{var e;this.syncSelectionBounds(),(e=this.canvas)==null||e.requestRenderAll()})}getCellText(e,r){return this.textObjects[e]&&this.textObjects[e][r]&&this.textObjects[e][r].text||""}addRow(e,r){const n=r!==void 0?r:this.tableData.length;this.tableData.splice(n,0,e),this.recreateTable()}removeRow(e){e>=0&&e<this.tableData.length&&(this.tableData.splice(e,1),this.recreateTable())}addColumn(e,r){const n=r!==void 0?r:this.tableData[0].length;this.tableData.forEach((o,d)=>{o.splice(n,0,e[d]||{text:""})}),this.recreateTable()}removeColumn(e){e>=0&&e<this.tableData[0].length&&(this.tableData.forEach(r=>{r.splice(e,1)}),this.recreateTable())}deleteTable(){this.cellObjects=[],this.textObjects=[],this.getObjects().forEach(e=>{e.canvas&&e.canvas.remove(e)}),this.canvas&&this.canvas.remove(this)}recreateTable(){var e;this.createTable(),this.syncSelectionBounds(),(e=this.canvas)==null||e.renderAll()}exportData(){return{tableData:this.tableData,tableOptions:this.tableOptions}}toObject(e=[]){const n=[...["data","tableData","tableOptions"],...e];return super.toObject(n)}static fromData(e,r){return new Pc(e.tableData,e.tableOptions,r)}}Pc.fromObject=async(i,t)=>{const{tableData:e,tableOptions:r,data:n}=i;if(n==="FabricTable"&&e&&r){const o=JSON.parse(JSON.stringify(e)),d=JSON.parse(JSON.stringify(r)),l=new Pc(o,d);for(const s in i)if(s!=="tableData"&&s!=="tableOptions"&&s!=="data"&&s!=="objects")try{l[s]=i[s]}catch{}return setTimeout(()=>{l.initializeAfterDeserialization()},0),t&&t(l),l}return t&&t(null),null};Vt.setClass(Pc,"FabricTable");const nf=({children:i,componentType:t,canvas:e,pptSliceType:r})=>{const[{isDragging:n},o]=zy(()=>({type:"components",item:u=>{const f=u.getClientOffset();return{type:"component",componentType:t,clientOffset:f}},end:(u,f)=>{if(!f.didDrop())return;const h=f.getDropResult();if(!u||!e||!h)return;const{x:p,y:A}=h;switch(t){case"H1":const g={fontSize:40,left:p,top:A};let m="";r===Pi.Cover&&(g.fontSize=72,m=""),r===Pi.Transition&&(m=""),(r===Pi.ContentsOne||r===Pi.ContentsTwo||r===Pi.ContentsThree||r===Pi.ContentsFour||r===Pi.Content)&&(g.fontSize=32,m=""),Va.addTitle(m,e,g);break;case"Text":Va.addText("",e,{left:p,top:A});break;case"Contents":Va.addSubtitle("",e,{left:p,top:A,fontSize:32,width:250});break;case"Content":Va.addContent({text:"",title:"",canvas:e,options:{left:p,top:A+40,width:250},titleOptions:{left:p,top:A,width:250}});break}},collect:u=>({isDragging:u.isDragging()})}),[t,e,r]),l=(()=>{if(!e)return;const f=e.toJSON(["data","selectable","id","linkId"]).objects,h=[],p=[];return f.forEach(A=>{const{data:g}=A;g===Bn.H2||(g===Bn.H1?h.push(A):g===Bn.P&&p.push(A))}),r===Pi.Cover?t==="H1"?h.length<1:t==="Text"?p.length<1:!0:r===Pi.Contents?!0:r===Pi.Transition?t==="H1"?h.length<1:t==="Text"?p.length<1:!0:r===Pi.Content?t==="H1"?h.length<1:!0:r===Pi.End?t==="H1"?h.length<1:t==="Text"?p.length<1:!0:!1})(),s=n?.6:1,a=n?"scale(1.05)":"scale(1)",c=l?"auto":"none";return ti.jsx("div",{ref:l?o:void 0,style:{opacity:s,transform:a,transition:"all 0.2s ease-in-out",filter:l?void 0:"grayscale(1)",pointerEvents:c,cursor:l?"move":"not-allowed"},className:"cursor-move",children:i})},Ia=({canvas:i,pptSliceType:t})=>ti.jsx(nf,{componentType:"H1",canvas:i,pptSliceType:t,children:ti.jsxs("div",{className:"group relative flex h-14 w-24 cursor-move items-center justify-center rounded-md border-2 border-blue-200 bg-gradient-to-br from-blue-50 to-blue-100 p-3 shadow-sm transition-all duration-200 hover:scale-105 hover:border-blue-300 hover:shadow-md",children:[ti.jsxs("div",{className:"text-center",children:[ti.jsx("div",{className:"text-lg font-bold text-blue-700",children:"H1"}),ti.jsx("div",{className:"text-xs text-blue-500",children:""})]}),ti.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-md bg-blue-400 opacity-0 transition-opacity group-hover:opacity-100"})]})}),Bd=({canvas:i,pptSliceType:t})=>ti.jsx(nf,{componentType:"Text",canvas:i,pptSliceType:t,children:ti.jsxs("div",{className:"group relative flex h-14 w-24 cursor-move items-center justify-center rounded-md border-2 border-green-200 bg-gradient-to-br from-green-50 to-green-100 p-3 shadow-sm transition-all duration-200 hover:scale-105 hover:border-green-300 hover:shadow-md",children:[ti.jsxs("div",{className:"text-center",children:[ti.jsx("div",{className:"text-lg font-bold text-green-700",children:"Text"}),ti.jsx("div",{className:"text-xs text-green-500",children:""})]}),ti.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-md bg-green-400 opacity-0 transition-opacity group-hover:opacity-100"})]})}),K3=({canvas:i,pptSliceType:t})=>ti.jsx(nf,{componentType:"Contents",canvas:i,pptSliceType:t,children:ti.jsxs("div",{className:"group relative flex h-14 w-24 cursor-move items-center justify-center rounded-md border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-purple-100 p-3 shadow-sm transition-all duration-200 hover:scale-105 hover:border-purple-300 hover:shadow-md",children:[ti.jsxs("div",{className:"text-center",children:[ti.jsx("div",{className:"text-lg font-bold text-purple-700",children:"Contents"}),ti.jsx("div",{className:"text-xs text-purple-500",children:""})]}),ti.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-md bg-purple-400 opacity-0 transition-opacity group-hover:opacity-100"})]})}),eu=({canvas:i,pptSliceType:t})=>ti.jsx(nf,{componentType:"Content",canvas:i,pptSliceType:t,children:ti.jsxs("div",{className:"group relative flex h-14 w-36 cursor-move items-center justify-center rounded-md border-2 border-orange-200 bg-gradient-to-br from-orange-50 to-orange-100 p-3 shadow-sm transition-all duration-200 hover:scale-105 hover:border-orange-300 hover:shadow-md",children:[ti.jsxs("div",{className:"text-center",children:[ti.jsx("div",{className:"text-lg font-bold text-orange-700",children:"+"}),ti.jsx("div",{className:"text-xs text-orange-500",children:""})]}),ti.jsx("div",{className:"absolute -right-1 -top-1 h-3 w-3 rounded-md bg-orange-400 opacity-0 transition-opacity group-hover:opacity-100"})]})}),L4={[Pi.Cover]:[Ia,Bd],[Pi.End]:[Ia,Bd],[Pi.Contents]:[K3],[Pi.Transition]:[Ia,Bd],[Pi.Content]:[Ia,eu],[Pi.ContentsTwo]:[Ia,eu],[Pi.ContentsThree]:[Ia,eu],[Pi.ContentsFour]:[Ia,eu]};export{L4 as C,b4 as D,cr as E,Pc as F,bs as H,R0 as I,$s as J,qi as N,QS as P,Va as T,y4 as V,w4 as W,T4 as X,x4 as Y,k4 as Z,gc as a,Cy as b,xy as c,nr as d,wr as e,re as f,jp as g,ta as h,r0 as i,g4 as j,d4 as k,qs as l,Qt as m,jr as n,Ot as o,v4 as p,_4 as q,i4 as r,i0 as s,KS as t,kp as u,C4 as v,Dy as w,p4 as x,S4 as z};
